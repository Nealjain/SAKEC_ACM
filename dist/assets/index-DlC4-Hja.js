function F2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function z2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var B2={exports:{}},Pf={},V2={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku=Symbol.for("react.element"),zR=Symbol.for("react.portal"),BR=Symbol.for("react.fragment"),VR=Symbol.for("react.strict_mode"),$R=Symbol.for("react.profiler"),HR=Symbol.for("react.provider"),GR=Symbol.for("react.context"),WR=Symbol.for("react.forward_ref"),qR=Symbol.for("react.suspense"),XR=Symbol.for("react.memo"),KR=Symbol.for("react.lazy"),mb=Symbol.iterator;function YR(t){return t===null||typeof t!="object"?null:(t=mb&&t[mb]||t["@@iterator"],typeof t=="function"?t:null)}var $2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,G2={};function Ol(t,e,n){this.props=t,this.context=e,this.refs=G2,this.updater=n||$2}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W2(){}W2.prototype=Ol.prototype;function Hx(t,e,n){this.props=t,this.context=e,this.refs=G2,this.updater=n||$2}var Gx=Hx.prototype=new W2;Gx.constructor=Hx;H2(Gx,Ol.prototype);Gx.isPureReactComponent=!0;var gb=Array.isArray,q2=Object.prototype.hasOwnProperty,Wx={current:null},X2={key:!0,ref:!0,__self:!0,__source:!0};function K2(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)q2.call(e,r)&&!X2.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ku,type:t,key:i,ref:a,props:s,_owner:Wx.current}}function ZR(t,e){return{$$typeof:ku,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qx(t){return typeof t=="object"&&t!==null&&t.$$typeof===ku}function JR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xb=/\/+/g;function Mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JR(""+t.key):e.toString(36)}function fh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ku:case zR:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Mp(a,0):r,gb(s)?(n="",t!=null&&(n=t.replace(xb,"$&/")+"/"),fh(s,e,n,"",function(u){return u})):s!=null&&(qx(s)&&(s=ZR(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xb,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",gb(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Mp(i,l);a+=fh(i,e,n,c,s)}else if(c=YR(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Mp(i,l++),a+=fh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function td(t,e,n){if(t==null)return t;var r=[],s=0;return fh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},ph={transition:null},ej={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:ph,ReactCurrentOwner:Wx};function Y2(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:td,forEach:function(t,e,n){td(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return td(t,function(){e++}),e},toArray:function(t){return td(t,function(e){return e})||[]},only:function(t){if(!qx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=Ol;ot.Fragment=BR;ot.Profiler=$R;ot.PureComponent=Hx;ot.StrictMode=VR;ot.Suspense=qR;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ej;ot.act=Y2;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=H2({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Wx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)q2.call(e,c)&&!X2.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ku,type:t.type,key:s,ref:i,props:r,_owner:a}};ot.createContext=function(t){return t={$$typeof:GR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HR,_context:t},t.Consumer=t};ot.createElement=K2;ot.createFactory=function(t){var e=K2.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:WR,render:t}};ot.isValidElement=qx;ot.lazy=function(t){return{$$typeof:KR,_payload:{_status:-1,_result:t},_init:QR}};ot.memo=function(t,e){return{$$typeof:XR,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=ph.transition;ph.transition={};try{t()}finally{ph.transition=e}};ot.unstable_act=Y2;ot.useCallback=function(t,e){return Xn.current.useCallback(t,e)};ot.useContext=function(t){return Xn.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};ot.useEffect=function(t,e){return Xn.current.useEffect(t,e)};ot.useId=function(){return Xn.current.useId()};ot.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return Xn.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};ot.useRef=function(t){return Xn.current.useRef(t)};ot.useState=function(t){return Xn.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return Xn.current.useTransition()};ot.version="18.3.1";V2.exports=ot;var _=V2.exports;const Ke=z2(_),kf=F2({__proto__:null,default:Ke},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=_,nj=Symbol.for("react.element"),rj=Symbol.for("react.fragment"),sj=Object.prototype.hasOwnProperty,ij=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aj={key:!0,ref:!0,__self:!0,__source:!0};function Z2(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)sj.call(e,r)&&!aj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:nj,type:t,key:i,ref:a,props:s,_owner:ij.current}}Pf.Fragment=rj;Pf.jsx=Z2;Pf.jsxs=Z2;B2.exports=Pf;var o=B2.exports,f0={},J2={exports:{}},Er={},Q2={exports:{}},eE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,V){var K=I.length;I.push(V);e:for(;0<K;){var se=K-1>>>1,de=I[se];if(0<s(de,V))I[se]=V,I[K]=de,K=se;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var V=I[0],K=I.pop();if(K!==V){I[0]=K;e:for(var se=0,de=I.length,Ee=de>>>1;se<Ee;){var qe=2*(se+1)-1,it=I[qe],ne=qe+1,re=I[ne];if(0>s(it,K))ne<de&&0>s(re,it)?(I[se]=re,I[ne]=K,se=ne):(I[se]=it,I[qe]=K,se=qe);else if(ne<de&&0>s(re,K))I[se]=re,I[ne]=K,se=ne;else break e}}return V}function s(I,V){var K=I.sortIndex-V.sortIndex;return K!==0?K:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(I){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=I)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function w(I){if(m=!1,b(I),!x)if(n(c)!==null)x=!0,Z(S);else{var V=n(u);V!==null&&B(w,V.startTime-I)}}function S(I,V){x=!1,m&&(m=!1,g(A),A=-1),p=!0;var K=f;try{for(b(V),h=n(c);h!==null&&(!(h.expirationTime>V)||I&&!j());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var de=se(h.expirationTime<=V);V=t.unstable_now(),typeof de=="function"?h.callback=de:h===n(c)&&r(c),b(V)}else r(c);h=n(c)}if(h!==null)var Ee=!0;else{var qe=n(u);qe!==null&&B(w,qe.startTime-V),Ee=!1}return Ee}finally{h=null,f=K,p=!1}}var N=!1,M=null,A=-1,T=5,C=-1;function j(){return!(t.unstable_now()-C<T)}function D(){if(M!==null){var I=t.unstable_now();C=I;var V=!0;try{V=M(!0,I)}finally{V?z():(N=!1,M=null)}}else N=!1}var z;if(typeof y=="function")z=function(){y(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=D,z=function(){$.postMessage(null)}}else z=function(){v(D,0)};function Z(I){M=I,N||(N=!0,z())}function B(I,V){A=v(function(){I(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,Z(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var K=f;f=V;try{return I()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=f;f=I;try{return V()}finally{f=K}},t.unstable_scheduleCallback=function(I,V,K){var se=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?se+K:se):K=se,I){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=K+de,I={id:d++,callback:V,priorityLevel:I,startTime:K,expirationTime:de,sortIndex:-1},K>se?(I.sortIndex=K,e(u,I),n(c)===null&&I===n(u)&&(m?(g(A),A=-1):m=!0,B(w,K-se))):(I.sortIndex=de,e(c,I),x||p||(x=!0,Z(S))),I},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(I){var V=f;return function(){var K=f;f=V;try{return I.apply(this,arguments)}finally{f=K}}}})(eE);Q2.exports=eE;var oj=Q2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj=_,_r=oj;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tE=new Set,Yc={};function no(t,e){vl(t,e),vl(t+"Capture",e)}function vl(t,e){for(Yc[t]=e,t=0;t<e.length;t++)tE.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p0=Object.prototype.hasOwnProperty,cj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vb={},yb={};function uj(t){return p0.call(yb,t)?!0:p0.call(vb,t)?!1:cj.test(t)?yb[t]=!0:(vb[t]=!0,!1)}function dj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hj(t,e,n,r){if(e===null||typeof e>"u"||dj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new Kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new Kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new Kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new Kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new Kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new Kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new Kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new Kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new Kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xx=/[\-:]([a-z])/g;function Kx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xx,Kx);jn[e]=new Kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xx,Kx);jn[e]=new Kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xx,Kx);jn[e]=new Kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yx(t,e,n,r){var s=jn.hasOwnProperty(e)?jn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hj(e,n,s,r)&&(n=null),r||s===null?uj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ci=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nd=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Zx=Symbol.for("react.strict_mode"),m0=Symbol.for("react.profiler"),nE=Symbol.for("react.provider"),rE=Symbol.for("react.context"),Jx=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),Qx=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),sE=Symbol.for("react.offscreen"),bb=Symbol.iterator;function tc(t){return t===null||typeof t!="object"?null:(t=bb&&t[bb]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,Ap;function _c(t){if(Ap===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ap=e&&e[1]||""}return`
`+Ap+t}var Rp=!1;function jp(t,e){if(!t||Rp)return"";Rp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Rp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_c(t):""}function fj(t){switch(t.tag){case 5:return _c(t.type);case 16:return _c("Lazy");case 13:return _c("Suspense");case 19:return _c("SuspenseList");case 0:case 2:case 15:return t=jp(t.type,!1),t;case 11:return t=jp(t.type.render,!1),t;case 1:return t=jp(t.type,!0),t;default:return""}}function v0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case zo:return"Portal";case m0:return"Profiler";case Zx:return"StrictMode";case g0:return"Suspense";case x0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rE:return(t.displayName||"Context")+".Consumer";case nE:return(t._context.displayName||"Context")+".Provider";case Jx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qx:return e=t.displayName||null,e!==null?e:v0(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return v0(t(e))}catch{}}return null}function pj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v0(e);case 8:return e===Zx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mj(t){var e=iE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rd(t){t._valueTracker||(t._valueTracker=mj(t))}function aE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function y0(t,e){var n=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _b(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oE(t,e){e=e.checked,e!=null&&Yx(t,"checked",e,!1)}function b0(t,e){oE(t,e);var n=Yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_0(t,e.type,n):e.hasOwnProperty("defaultValue")&&_0(t,e.type,Yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _0(t,e,n){(e!=="number"||Oh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wc=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function w0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(wc(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yi(n)}}function lE(t,e){var n=Yi(e.value),r=Yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Eb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sd,uE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sd=sd||document.createElement("div"),sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gj=["Webkit","ms","Moz","O"];Object.keys(Rc).forEach(function(t){gj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rc[e]=Rc[t]})});function dE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rc.hasOwnProperty(t)&&Rc[t]?(""+e).trim():e+"px"}function hE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xj=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function E0(t,e){if(e){if(xj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function C0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=null;function ev(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var T0=null,ol=null,ll=null;function Cb(t){if(t=Lu(t)){if(typeof T0!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Uf(e),T0(t.stateNode,t.type,e))}}function fE(t){ol?ll?ll.push(t):ll=[t]:ol=t}function pE(){if(ol){var t=ol,e=ll;if(ll=ol=null,Cb(t),e)for(t=0;t<e.length;t++)Cb(e[t])}}function mE(t,e){return t(e)}function gE(){}var Pp=!1;function xE(t,e,n){if(Pp)return t(e,n);Pp=!0;try{return mE(t,e,n)}finally{Pp=!1,(ol!==null||ll!==null)&&(gE(),pE())}}function Jc(t,e){var n=t.stateNode;if(n===null)return null;var r=Uf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var M0=!1;if(ti)try{var nc={};Object.defineProperty(nc,"passive",{get:function(){M0=!0}}),window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{M0=!1}function vj(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var jc=!1,Uh=null,Fh=!1,A0=null,yj={onError:function(t){jc=!0,Uh=t}};function bj(t,e,n,r,s,i,a,l,c){jc=!1,Uh=null,vj.apply(yj,arguments)}function _j(t,e,n,r,s,i,a,l,c){if(bj.apply(this,arguments),jc){if(jc){var u=Uh;jc=!1,Uh=null}else throw Error(ce(198));Fh||(Fh=!0,A0=u)}}function ro(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nb(t){if(ro(t)!==t)throw Error(ce(188))}function wj(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nb(s),t;if(i===r)return Nb(s),e;i=i.sibling}throw Error(ce(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function yE(t){return t=wj(t),t!==null?bE(t):null}function bE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bE(t);if(e!==null)return e;t=t.sibling}return null}var _E=_r.unstable_scheduleCallback,Tb=_r.unstable_cancelCallback,Sj=_r.unstable_shouldYield,Ej=_r.unstable_requestPaint,Jt=_r.unstable_now,Cj=_r.unstable_getCurrentPriorityLevel,tv=_r.unstable_ImmediatePriority,wE=_r.unstable_UserBlockingPriority,zh=_r.unstable_NormalPriority,Nj=_r.unstable_LowPriority,SE=_r.unstable_IdlePriority,Df=null,_s=null;function Tj(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(Df,t,void 0,(t.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:Rj,Mj=Math.log,Aj=Math.LN2;function Rj(t){return t>>>=0,t===0?32:31-(Mj(t)/Aj|0)|0}var id=64,ad=4194304;function Sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Sc(l):(i&=a,i!==0&&(r=Sc(i)))}else a=n&~s,a!==0?r=Sc(a):i!==0&&(r=Sc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-os(e),s=1<<n,r|=t[n],e&=~s;return r}function jj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-os(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=jj(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function R0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EE(){var t=id;return id<<=1,!(id&4194240)&&(id=64),t}function kp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-os(e),t[e]=n}function kj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-os(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function nv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-os(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mt=0;function CE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NE,rv,TE,ME,AE,j0=!1,od=[],Oi=null,Ui=null,Fi=null,Qc=new Map,eu=new Map,Mi=[],Dj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mb(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function rc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lu(e),e!==null&&rv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ij(t,e,n,r,s){switch(e){case"focusin":return Oi=rc(Oi,t,e,n,r,s),!0;case"dragenter":return Ui=rc(Ui,t,e,n,r,s),!0;case"mouseover":return Fi=rc(Fi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qc.set(i,rc(Qc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,eu.set(i,rc(eu.get(i)||null,t,e,n,r,s)),!0}return!1}function RE(t){var e=Da(t.target);if(e!==null){var n=ro(e);if(n!==null){if(e=n.tag,e===13){if(e=vE(n),e!==null){t.blockedOn=e,AE(t.priority,function(){TE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=P0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);N0=r,n.target.dispatchEvent(r),N0=null}else return e=Lu(n),e!==null&&rv(e),t.blockedOn=n,!1;e.shift()}return!0}function Ab(t,e,n){mh(t)&&n.delete(e)}function Lj(){j0=!1,Oi!==null&&mh(Oi)&&(Oi=null),Ui!==null&&mh(Ui)&&(Ui=null),Fi!==null&&mh(Fi)&&(Fi=null),Qc.forEach(Ab),eu.forEach(Ab)}function sc(t,e){t.blockedOn===e&&(t.blockedOn=null,j0||(j0=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,Lj)))}function tu(t){function e(s){return sc(s,t)}if(0<od.length){sc(od[0],t);for(var n=1;n<od.length;n++){var r=od[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&sc(Oi,t),Ui!==null&&sc(Ui,t),Fi!==null&&sc(Fi,t),Qc.forEach(e),eu.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)RE(n),n.blockedOn===null&&Mi.shift()}var cl=ci.ReactCurrentBatchConfig,Vh=!0;function Oj(t,e,n,r){var s=mt,i=cl.transition;cl.transition=null;try{mt=1,sv(t,e,n,r)}finally{mt=s,cl.transition=i}}function Uj(t,e,n,r){var s=mt,i=cl.transition;cl.transition=null;try{mt=4,sv(t,e,n,r)}finally{mt=s,cl.transition=i}}function sv(t,e,n,r){if(Vh){var s=P0(t,e,n,r);if(s===null)$p(t,e,r,$h,n),Mb(t,r);else if(Ij(s,t,e,n,r))r.stopPropagation();else if(Mb(t,r),e&4&&-1<Dj.indexOf(t)){for(;s!==null;){var i=Lu(s);if(i!==null&&NE(i),i=P0(t,e,n,r),i===null&&$p(t,e,r,$h,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $p(t,e,r,null,n)}}var $h=null;function P0(t,e,n,r){if($h=null,t=ev(r),t=Da(t),t!==null)if(e=ro(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $h=t,null}function jE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cj()){case tv:return 1;case wE:return 4;case zh:case Nj:return 16;case SE:return 536870912;default:return 16}default:return 16}}var ki=null,iv=null,gh=null;function PE(){if(gh)return gh;var t,e=iv,n=e.length,r,s="value"in ki?ki.value:ki.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return gh=s.slice(t,1<r?1-r:void 0)}function xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ld(){return!0}function Rb(){return!1}function Cr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ld:Rb,this.isPropagationStopped=Rb,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ld)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ld)},persist:function(){},isPersistent:ld}),e}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},av=Cr(Ul),Iu=Vt({},Ul,{view:0,detail:0}),Fj=Cr(Iu),Dp,Ip,ic,If=Vt({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ic&&(ic&&t.type==="mousemove"?(Dp=t.screenX-ic.screenX,Ip=t.screenY-ic.screenY):Ip=Dp=0,ic=t),Dp)},movementY:function(t){return"movementY"in t?t.movementY:Ip}}),jb=Cr(If),zj=Vt({},If,{dataTransfer:0}),Bj=Cr(zj),Vj=Vt({},Iu,{relatedTarget:0}),Lp=Cr(Vj),$j=Vt({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),Hj=Cr($j),Gj=Vt({},Ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wj=Cr(Gj),qj=Vt({},Ul,{data:0}),Pb=Cr(qj),Xj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yj[t])?!!e[t]:!1}function ov(){return Zj}var Jj=Vt({},Iu,{key:function(t){if(t.key){var e=Xj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(t){return t.type==="keypress"?xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qj=Cr(Jj),eP=Vt({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kb=Cr(eP),tP=Vt({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),nP=Cr(tP),rP=Vt({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),sP=Cr(rP),iP=Vt({},If,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aP=Cr(iP),oP=[9,13,27,32],lv=ti&&"CompositionEvent"in window,Pc=null;ti&&"documentMode"in document&&(Pc=document.documentMode);var lP=ti&&"TextEvent"in window&&!Pc,kE=ti&&(!lv||Pc&&8<Pc&&11>=Pc),Db=" ",Ib=!1;function DE(t,e){switch(t){case"keyup":return oP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vo=!1;function cP(t,e){switch(t){case"compositionend":return IE(e);case"keypress":return e.which!==32?null:(Ib=!0,Db);case"textInput":return t=e.data,t===Db&&Ib?null:t;default:return null}}function uP(t,e){if(Vo)return t==="compositionend"||!lv&&DE(t,e)?(t=PE(),gh=iv=ki=null,Vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kE&&e.locale!=="ko"?null:e.data;default:return null}}var dP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dP[t.type]:e==="textarea"}function LE(t,e,n,r){fE(r),e=Hh(e,"onChange"),0<e.length&&(n=new av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kc=null,nu=null;function hP(t){qE(t,0)}function Lf(t){var e=Go(t);if(aE(e))return t}function fP(t,e){if(t==="change")return e}var OE=!1;if(ti){var Op;if(ti){var Up="oninput"in document;if(!Up){var Ob=document.createElement("div");Ob.setAttribute("oninput","return;"),Up=typeof Ob.oninput=="function"}Op=Up}else Op=!1;OE=Op&&(!document.documentMode||9<document.documentMode)}function Ub(){kc&&(kc.detachEvent("onpropertychange",UE),nu=kc=null)}function UE(t){if(t.propertyName==="value"&&Lf(nu)){var e=[];LE(e,nu,t,ev(t)),xE(hP,e)}}function pP(t,e,n){t==="focusin"?(Ub(),kc=e,nu=n,kc.attachEvent("onpropertychange",UE)):t==="focusout"&&Ub()}function mP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lf(nu)}function gP(t,e){if(t==="click")return Lf(e)}function xP(t,e){if(t==="input"||t==="change")return Lf(e)}function vP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cs=typeof Object.is=="function"?Object.is:vP;function ru(t,e){if(cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!p0.call(e,s)||!cs(t[s],e[s]))return!1}return!0}function Fb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zb(t,e){var n=Fb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fb(n)}}function FE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zE(){for(var t=window,e=Oh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oh(t.document)}return e}function cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yP(t){var e=zE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FE(n.ownerDocument.documentElement,n)){if(r!==null&&cv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zb(n,i);var a=zb(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bP=ti&&"documentMode"in document&&11>=document.documentMode,$o=null,k0=null,Dc=null,D0=!1;function Bb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D0||$o==null||$o!==Oh(r)||(r=$o,"selectionStart"in r&&cv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dc&&ru(Dc,r)||(Dc=r,r=Hh(k0,"onSelect"),0<r.length&&(e=new av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$o)))}function cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ho={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},Fp={},BE={};ti&&(BE=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Of(t){if(Fp[t])return Fp[t];if(!Ho[t])return t;var e=Ho[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BE)return Fp[t]=e[n];return t}var VE=Of("animationend"),$E=Of("animationiteration"),HE=Of("animationstart"),GE=Of("transitionend"),WE=new Map,Vb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(t,e){WE.set(t,e),no(e,[t])}for(var zp=0;zp<Vb.length;zp++){var Bp=Vb[zp],_P=Bp.toLowerCase(),wP=Bp[0].toUpperCase()+Bp.slice(1);ta(_P,"on"+wP)}ta(VE,"onAnimationEnd");ta($E,"onAnimationIteration");ta(HE,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(GE,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function $b(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_j(r,e,void 0,t),t.currentTarget=null}function qE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;$b(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;$b(s,l,u),i=c}}}if(Fh)throw t=A0,Fh=!1,A0=null,t}function At(t,e){var n=e[F0];n===void 0&&(n=e[F0]=new Set);var r=t+"__bubble";n.has(r)||(XE(e,t,2,!1),n.add(r))}function Vp(t,e,n){var r=0;e&&(r|=4),XE(n,t,r,e)}var ud="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[ud]){t[ud]=!0,tE.forEach(function(n){n!=="selectionchange"&&(SP.has(n)||Vp(n,!1,t),Vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ud]||(e[ud]=!0,Vp("selectionchange",!1,e))}}function XE(t,e,n,r){switch(jE(e)){case 1:var s=Oj;break;case 4:s=Uj;break;default:s=sv}n=s.bind(null,e,n,t),s=void 0,!M0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $p(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Da(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}xE(function(){var u=i,d=ev(n),h=[];e:{var f=WE.get(t);if(f!==void 0){var p=av,x=t;switch(t){case"keypress":if(xh(n)===0)break e;case"keydown":case"keyup":p=Qj;break;case"focusin":x="focus",p=Lp;break;case"focusout":x="blur",p=Lp;break;case"beforeblur":case"afterblur":p=Lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nP;break;case VE:case $E:case HE:p=Hj;break;case GE:p=sP;break;case"scroll":p=Fj;break;case"wheel":p=aP;break;case"copy":case"cut":case"paste":p=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kb}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,g!==null&&(w=Jc(y,g),w!=null&&m.push(iu(y,w,b)))),v)break;y=y.return}0<m.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==N0&&(x=n.relatedTarget||n.fromElement)&&(Da(x)||x[ni]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Da(x):null,x!==null&&(v=ro(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=jb,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=kb,w="onPointerLeave",g="onPointerEnter",y="pointer"),v=p==null?f:Go(p),b=x==null?f:Go(x),f=new m(w,y+"leave",p,n,d),f.target=v,f.relatedTarget=b,w=null,Da(d)===u&&(m=new m(g,y+"enter",x,n,d),m.target=b,m.relatedTarget=v,w=m),v=w,p&&x)t:{for(m=p,g=x,y=0,b=m;b;b=ho(b))y++;for(b=0,w=g;w;w=ho(w))b++;for(;0<y-b;)m=ho(m),y--;for(;0<b-y;)g=ho(g),b--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=ho(m),g=ho(g)}m=null}else m=null;p!==null&&Hb(h,f,p,m,!1),x!==null&&v!==null&&Hb(h,v,x,m,!0)}}e:{if(f=u?Go(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=fP;else if(Lb(f))if(OE)S=xP;else{S=mP;var N=pP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=gP);if(S&&(S=S(t,u))){LE(h,S,n,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&_0(f,"number",f.value)}switch(N=u?Go(u):window,t){case"focusin":(Lb(N)||N.contentEditable==="true")&&($o=N,k0=u,Dc=null);break;case"focusout":Dc=k0=$o=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,Bb(h,n,d);break;case"selectionchange":if(bP)break;case"keydown":case"keyup":Bb(h,n,d)}var M;if(lv)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Vo?DE(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(kE&&n.locale!=="ko"&&(Vo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Vo&&(M=PE()):(ki=d,iv="value"in ki?ki.value:ki.textContent,Vo=!0)),N=Hh(u,A),0<N.length&&(A=new Pb(A,t,null,n,d),h.push({event:A,listeners:N}),M?A.data=M:(M=IE(n),M!==null&&(A.data=M)))),(M=lP?cP(t,n):uP(t,n))&&(u=Hh(u,"onBeforeInput"),0<u.length&&(d=new Pb("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}qE(h,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jc(t,n),i!=null&&r.unshift(iu(t,i,s)),i=Jc(t,e),i!=null&&r.push(iu(t,i,s))),t=t.return}return r}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hb(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Jc(n,i),c!=null&&a.unshift(iu(n,c,l))):s||(c=Jc(n,i),c!=null&&a.push(iu(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var EP=/\r\n?/g,CP=/\u0000|\uFFFD/g;function Gb(t){return(typeof t=="string"?t:""+t).replace(EP,`
`).replace(CP,"")}function dd(t,e,n){if(e=Gb(e),Gb(t)!==e&&n)throw Error(ce(425))}function Gh(){}var I0=null,L0=null;function O0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U0=typeof setTimeout=="function"?setTimeout:void 0,NP=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,TP=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb<"u"?function(t){return Wb.resolve(null).then(t).catch(MP)}:U0;function MP(t){setTimeout(function(){throw t})}function Hp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tu(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),vs="__reactFiber$"+Fl,au="__reactProps$"+Fl,ni="__reactContainer$"+Fl,F0="__reactEvents$"+Fl,AP="__reactListeners$"+Fl,RP="__reactHandles$"+Fl;function Da(t){var e=t[vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qb(t);t!==null;){if(n=t[vs])return n;t=qb(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){return t=t[vs]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Uf(t){return t[au]||null}var z0=[],Wo=-1;function na(t){return{current:t}}function jt(t){0>Wo||(t.current=z0[Wo],z0[Wo]=null,Wo--)}function Ct(t,e){Wo++,z0[Wo]=t.current,t.current=e}var Zi={},zn=na(Zi),nr=na(!1),Ha=Zi;function yl(t,e){var n=t.type.contextTypes;if(!n)return Zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rr(t){return t=t.childContextTypes,t!=null}function Wh(){jt(nr),jt(zn)}function Xb(t,e,n){if(zn.current!==Zi)throw Error(ce(168));Ct(zn,e),Ct(nr,n)}function KE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ce(108,pj(t)||"Unknown",s));return Vt({},n,r)}function qh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Ha=zn.current,Ct(zn,t),Ct(nr,nr.current),!0}function Kb(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=KE(t,e,Ha),r.__reactInternalMemoizedMergedChildContext=t,jt(nr),jt(zn),Ct(zn,t)):jt(nr),Ct(nr,n)}var $s=null,Ff=!1,Gp=!1;function YE(t){$s===null?$s=[t]:$s.push(t)}function jP(t){Ff=!0,YE(t)}function ra(){if(!Gp&&$s!==null){Gp=!0;var t=0,e=mt;try{var n=$s;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$s=null,Ff=!1}catch(s){throw $s!==null&&($s=$s.slice(t+1)),_E(tv,ra),s}finally{mt=e,Gp=!1}}return null}var qo=[],Xo=0,Xh=null,Kh=0,Pr=[],kr=0,Ga=null,Gs=1,Ws="";function Sa(t,e){qo[Xo++]=Kh,qo[Xo++]=Xh,Xh=t,Kh=e}function ZE(t,e,n){Pr[kr++]=Gs,Pr[kr++]=Ws,Pr[kr++]=Ga,Ga=t;var r=Gs;t=Ws;var s=32-os(r)-1;r&=~(1<<s),n+=1;var i=32-os(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Gs=1<<32-os(e)+s|n<<s|r,Ws=i+t}else Gs=1<<i|n<<s|r,Ws=t}function uv(t){t.return!==null&&(Sa(t,1),ZE(t,1,0))}function dv(t){for(;t===Xh;)Xh=qo[--Xo],qo[Xo]=null,Kh=qo[--Xo],qo[Xo]=null;for(;t===Ga;)Ga=Pr[--kr],Pr[kr]=null,Ws=Pr[--kr],Pr[kr]=null,Gs=Pr[--kr],Pr[kr]=null}var yr=null,vr=null,kt=!1,ns=null;function JE(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yr=t,vr=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yr=t,vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ga!==null?{id:Gs,overflow:Ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yr=t,vr=null,!0):!1;default:return!1}}function B0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function V0(t){if(kt){var e=vr;if(e){var n=e;if(!Yb(t,e)){if(B0(t))throw Error(ce(418));e=zi(n.nextSibling);var r=yr;e&&Yb(t,e)?JE(r,n):(t.flags=t.flags&-4097|2,kt=!1,yr=t)}}else{if(B0(t))throw Error(ce(418));t.flags=t.flags&-4097|2,kt=!1,yr=t}}}function Zb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yr=t}function hd(t){if(t!==yr)return!1;if(!kt)return Zb(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!O0(t.type,t.memoizedProps)),e&&(e=vr)){if(B0(t))throw QE(),Error(ce(418));for(;e;)JE(t,e),e=zi(e.nextSibling)}if(Zb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vr=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vr=null}}else vr=yr?zi(t.stateNode.nextSibling):null;return!0}function QE(){for(var t=vr;t;)t=zi(t.nextSibling)}function bl(){vr=yr=null,kt=!1}function hv(t){ns===null?ns=[t]:ns.push(t)}var PP=ci.ReactCurrentBatchConfig;function ac(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function fd(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jb(t){var e=t._init;return e(t._payload)}function e3(t){function e(g,y){if(t){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Hi(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,y,b,w){return y===null||y.tag!==6?(y=Jp(b,g.mode,w),y.return=g,y):(y=s(y,b),y.return=g,y)}function c(g,y,b,w){var S=b.type;return S===Bo?d(g,y,b.props.children,w,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ni&&Jb(S)===y.type)?(w=s(y,b.props),w.ref=ac(g,y,b),w.return=g,w):(w=Eh(b.type,b.key,b.props,null,g.mode,w),w.ref=ac(g,y,b),w.return=g,w)}function u(g,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Qp(b,g.mode,w),y.return=g,y):(y=s(y,b.children||[]),y.return=g,y)}function d(g,y,b,w,S){return y===null||y.tag!==7?(y=Va(b,g.mode,w,S),y.return=g,y):(y=s(y,b),y.return=g,y)}function h(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jp(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nd:return b=Eh(y.type,y.key,y.props,null,g.mode,b),b.ref=ac(g,null,y),b.return=g,b;case zo:return y=Qp(y,g.mode,b),y.return=g,y;case Ni:var w=y._init;return h(g,w(y._payload),b)}if(wc(y)||tc(y))return y=Va(y,g.mode,b,null),y.return=g,y;fd(g,y)}return null}function f(g,y,b,w){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(g,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nd:return b.key===S?c(g,y,b,w):null;case zo:return b.key===S?u(g,y,b,w):null;case Ni:return S=b._init,f(g,y,S(b._payload),w)}if(wc(b)||tc(b))return S!==null?null:d(g,y,b,w,null);fd(g,b)}return null}function p(g,y,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(b)||null,l(y,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nd:return g=g.get(w.key===null?b:w.key)||null,c(y,g,w,S);case zo:return g=g.get(w.key===null?b:w.key)||null,u(y,g,w,S);case Ni:var N=w._init;return p(g,y,b,N(w._payload),S)}if(wc(w)||tc(w))return g=g.get(b)||null,d(y,g,w,S,null);fd(y,w)}return null}function x(g,y,b,w){for(var S=null,N=null,M=y,A=y=0,T=null;M!==null&&A<b.length;A++){M.index>A?(T=M,M=null):T=M.sibling;var C=f(g,M,b[A],w);if(C===null){M===null&&(M=T);break}t&&M&&C.alternate===null&&e(g,M),y=i(C,y,A),N===null?S=C:N.sibling=C,N=C,M=T}if(A===b.length)return n(g,M),kt&&Sa(g,A),S;if(M===null){for(;A<b.length;A++)M=h(g,b[A],w),M!==null&&(y=i(M,y,A),N===null?S=M:N.sibling=M,N=M);return kt&&Sa(g,A),S}for(M=r(g,M);A<b.length;A++)T=p(M,g,A,b[A],w),T!==null&&(t&&T.alternate!==null&&M.delete(T.key===null?A:T.key),y=i(T,y,A),N===null?S=T:N.sibling=T,N=T);return t&&M.forEach(function(j){return e(g,j)}),kt&&Sa(g,A),S}function m(g,y,b,w){var S=tc(b);if(typeof S!="function")throw Error(ce(150));if(b=S.call(b),b==null)throw Error(ce(151));for(var N=S=null,M=y,A=y=0,T=null,C=b.next();M!==null&&!C.done;A++,C=b.next()){M.index>A?(T=M,M=null):T=M.sibling;var j=f(g,M,C.value,w);if(j===null){M===null&&(M=T);break}t&&M&&j.alternate===null&&e(g,M),y=i(j,y,A),N===null?S=j:N.sibling=j,N=j,M=T}if(C.done)return n(g,M),kt&&Sa(g,A),S;if(M===null){for(;!C.done;A++,C=b.next())C=h(g,C.value,w),C!==null&&(y=i(C,y,A),N===null?S=C:N.sibling=C,N=C);return kt&&Sa(g,A),S}for(M=r(g,M);!C.done;A++,C=b.next())C=p(M,g,A,C.value,w),C!==null&&(t&&C.alternate!==null&&M.delete(C.key===null?A:C.key),y=i(C,y,A),N===null?S=C:N.sibling=C,N=C);return t&&M.forEach(function(D){return e(g,D)}),kt&&Sa(g,A),S}function v(g,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Bo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case nd:e:{for(var S=b.key,N=y;N!==null;){if(N.key===S){if(S=b.type,S===Bo){if(N.tag===7){n(g,N.sibling),y=s(N,b.props.children),y.return=g,g=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ni&&Jb(S)===N.type){n(g,N.sibling),y=s(N,b.props),y.ref=ac(g,N,b),y.return=g,g=y;break e}n(g,N);break}else e(g,N);N=N.sibling}b.type===Bo?(y=Va(b.props.children,g.mode,w,b.key),y.return=g,g=y):(w=Eh(b.type,b.key,b.props,null,g.mode,w),w.ref=ac(g,y,b),w.return=g,g=w)}return a(g);case zo:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(g,y.sibling),y=s(y,b.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Qp(b,g.mode,w),y.return=g,g=y}return a(g);case Ni:return N=b._init,v(g,y,N(b._payload),w)}if(wc(b))return x(g,y,b,w);if(tc(b))return m(g,y,b,w);fd(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,b),y.return=g,g=y):(n(g,y),y=Jp(b,g.mode,w),y.return=g,g=y),a(g)):n(g,y)}return v}var _l=e3(!0),t3=e3(!1),Yh=na(null),Zh=null,Ko=null,fv=null;function pv(){fv=Ko=Zh=null}function mv(t){var e=Yh.current;jt(Yh),t._currentValue=e}function $0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ul(t,e){Zh=t,fv=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(fv!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(Zh===null)throw Error(ce(308));Ko=t,Zh.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var Ia=null;function gv(t){Ia===null?Ia=[t]:Ia.push(t)}function n3(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ri(t,r)}function ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function xv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ri(t,n)}return s=r.interleaved,s===null?(e.next=e,gv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ri(t,n)}function vh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nv(t,n)}}function Qb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jh(t,e,n,r){var s=t.updateQueue;Ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,m=l;switch(f=e,p=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=Vt({},h,f);break e;case 2:Ti=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qa|=a,t.lanes=a,t.memoizedState=h}}function e_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ce(191,s));s.call(r)}}}var Ou={},ws=na(Ou),ou=na(Ou),lu=na(Ou);function La(t){if(t===Ou)throw Error(ce(174));return t}function vv(t,e){switch(Ct(lu,e),Ct(ou,t),Ct(ws,Ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:S0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=S0(e,t)}jt(ws),Ct(ws,e)}function wl(){jt(ws),jt(ou),jt(lu)}function s3(t){La(lu.current);var e=La(ws.current),n=S0(e,t.type);e!==n&&(Ct(ou,t),Ct(ws,n))}function yv(t){ou.current===t&&(jt(ws),jt(ou))}var Ft=na(0);function Qh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wp=[];function bv(){for(var t=0;t<Wp.length;t++)Wp[t]._workInProgressVersionPrimary=null;Wp.length=0}var yh=ci.ReactCurrentDispatcher,qp=ci.ReactCurrentBatchConfig,Wa=0,Bt=null,mn=null,Sn=null,ef=!1,Ic=!1,cu=0,kP=0;function Pn(){throw Error(ce(321))}function _v(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cs(t[n],e[n]))return!1;return!0}function wv(t,e,n,r,s,i){if(Wa=i,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yh.current=t===null||t.memoizedState===null?OP:UP,t=n(r,s),Ic){i=0;do{if(Ic=!1,cu=0,25<=i)throw Error(ce(301));i+=1,Sn=mn=null,e.updateQueue=null,yh.current=FP,t=n(r,s)}while(Ic)}if(yh.current=tf,e=mn!==null&&mn.next!==null,Wa=0,Sn=mn=Bt=null,ef=!1,e)throw Error(ce(300));return t}function Sv(){var t=cu!==0;return cu=0,t}function ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Bt.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function zr(){if(mn===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=Sn===null?Bt.memoizedState:Sn.next;if(e!==null)Sn=e,mn=t;else{if(t===null)throw Error(ce(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},Sn===null?Bt.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function uu(t,e){return typeof e=="function"?e(t):e}function Xp(t){var e=zr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=mn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Wa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,Bt.lanes|=d,qa|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,cs(r,e.memoizedState)||(tr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Bt.lanes|=i,qa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kp(t){var e=zr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);cs(i,e.memoizedState)||(tr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function i3(){}function a3(t,e){var n=Bt,r=zr(),s=e(),i=!cs(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,Ev(c3.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Sn!==null&&Sn.memoizedState.tag&1){if(n.flags|=2048,du(9,l3.bind(null,n,r,s,e),void 0,null),Cn===null)throw Error(ce(349));Wa&30||o3(n,e,s)}return s}function o3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function l3(t,e,n,r){e.value=n,e.getSnapshot=r,u3(e)&&d3(t)}function c3(t,e,n){return n(function(){u3(e)&&d3(t)})}function u3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cs(t,n)}catch{return!0}}function d3(t){var e=ri(t,1);e!==null&&ls(e,t,1,-1)}function t_(t){var e=ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=LP.bind(null,Bt,t),[e.memoizedState,t]}function du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h3(){return zr().memoizedState}function bh(t,e,n,r){var s=ps();Bt.flags|=t,s.memoizedState=du(1|e,n,void 0,r===void 0?null:r)}function zf(t,e,n,r){var s=zr();r=r===void 0?null:r;var i=void 0;if(mn!==null){var a=mn.memoizedState;if(i=a.destroy,r!==null&&_v(r,a.deps)){s.memoizedState=du(e,n,i,r);return}}Bt.flags|=t,s.memoizedState=du(1|e,n,i,r)}function n_(t,e){return bh(8390656,8,t,e)}function Ev(t,e){return zf(2048,8,t,e)}function f3(t,e){return zf(4,2,t,e)}function p3(t,e){return zf(4,4,t,e)}function m3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g3(t,e,n){return n=n!=null?n.concat([t]):null,zf(4,4,m3.bind(null,e,t),n)}function Cv(){}function x3(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v3(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_v(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y3(t,e,n){return Wa&21?(cs(n,e)||(n=EE(),Bt.lanes|=n,qa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function DP(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{mt=n,qp.transition=r}}function b3(){return zr().memoizedState}function IP(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_3(t))w3(e,n);else if(n=n3(t,e,n,r),n!==null){var s=Wn();ls(n,t,r,s),S3(n,e,r)}}function LP(t,e,n){var r=$i(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_3(t))w3(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,cs(l,a)){var c=e.interleaved;c===null?(s.next=s,gv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=n3(t,e,s,r),n!==null&&(s=Wn(),ls(n,t,r,s),S3(n,e,r))}}function _3(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function w3(t,e){Ic=ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nv(t,n)}}var tf={readContext:Fr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},OP={readContext:Fr,useCallback:function(t,e){return ps().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:n_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bh(4194308,4,m3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return bh(4,2,t,e)},useMemo:function(t,e){var n=ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IP.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=ps();return t={current:t},e.memoizedState=t},useState:t_,useDebugValue:Cv,useDeferredValue:function(t){return ps().memoizedState=t},useTransition:function(){var t=t_(!1),e=t[0];return t=DP.bind(null,t[1]),ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bt,s=ps();if(kt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Cn===null)throw Error(ce(349));Wa&30||o3(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,n_(c3.bind(null,r,i,t),[t]),r.flags|=2048,du(9,l3.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ps(),e=Cn.identifierPrefix;if(kt){var n=Ws,r=Gs;n=(r&~(1<<32-os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UP={readContext:Fr,useCallback:x3,useContext:Fr,useEffect:Ev,useImperativeHandle:g3,useInsertionEffect:f3,useLayoutEffect:p3,useMemo:v3,useReducer:Xp,useRef:h3,useState:function(){return Xp(uu)},useDebugValue:Cv,useDeferredValue:function(t){var e=zr();return y3(e,mn.memoizedState,t)},useTransition:function(){var t=Xp(uu)[0],e=zr().memoizedState;return[t,e]},useMutableSource:i3,useSyncExternalStore:a3,useId:b3,unstable_isNewReconciler:!1},FP={readContext:Fr,useCallback:x3,useContext:Fr,useEffect:Ev,useImperativeHandle:g3,useInsertionEffect:f3,useLayoutEffect:p3,useMemo:v3,useReducer:Kp,useRef:h3,useState:function(){return Kp(uu)},useDebugValue:Cv,useDeferredValue:function(t){var e=zr();return mn===null?e.memoizedState=t:y3(e,mn.memoizedState,t)},useTransition:function(){var t=Kp(uu)[0],e=zr().memoizedState;return[t,e]},useMutableSource:i3,useSyncExternalStore:a3,useId:b3,unstable_isNewReconciler:!1};function Jr(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function H0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bf={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wn(),s=$i(t),i=Ks(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bi(t,i,s),e!==null&&(ls(e,t,s,r),vh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wn(),s=$i(t),i=Ks(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bi(t,i,s),e!==null&&(ls(e,t,s,r),vh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),r=$i(t),s=Ks(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bi(t,s,r),e!==null&&(ls(e,t,r,n),vh(e,t,r))}};function r_(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!ru(n,r)||!ru(s,i):!0}function E3(t,e,n){var r=!1,s=Zi,i=e.contextType;return typeof i=="object"&&i!==null?i=Fr(i):(s=rr(e)?Ha:zn.current,r=e.contextTypes,i=(r=r!=null)?yl(t,s):Zi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function s_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bf.enqueueReplaceState(e,e.state,null)}function G0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fr(i):(i=rr(e)?Ha:zn.current,s.context=yl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(H0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bf.enqueueReplaceState(s,s.state,null),Jh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sl(t,e){try{var n="",r=e;do n+=fj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function W0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zP=typeof WeakMap=="function"?WeakMap:Map;function C3(t,e,n){n=Ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rf||(rf=!0,ng=r),W0(t,e)},n}function N3(t,e,n){n=Ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){W0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){W0(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function i_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ek.bind(null,t,e,n),e.then(t,t))}function a_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function o_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ks(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var BP=ci.ReactCurrentOwner,tr=!1;function Hn(t,e,n,r){e.child=t===null?t3(e,null,n,r):_l(e,t.child,n,r)}function l_(t,e,n,r,s){n=n.render;var i=e.ref;return ul(e,s),r=wv(t,e,n,r,i,s),n=Sv(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,si(t,e,s)):(kt&&n&&uv(e),e.flags|=1,Hn(t,e,r,s),e.child)}function c_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!kv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,T3(t,e,i,r,s)):(t=Eh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ru,n(a,r)&&t.ref===e.ref)return si(t,e,s)}return e.flags|=1,t=Hi(i,r),t.ref=e.ref,t.return=e,e.child=t}function T3(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ru(i,r)&&t.ref===e.ref)if(tr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,si(t,e,s)}return q0(t,e,n,r,s)}function M3(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Zo,fr),fr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(Zo,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ct(Zo,fr),fr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ct(Zo,fr),fr|=r;return Hn(t,e,s,n),e.child}function A3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function q0(t,e,n,r,s){var i=rr(n)?Ha:zn.current;return i=yl(e,i),ul(e,s),n=wv(t,e,n,r,i,s),r=Sv(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,si(t,e,s)):(kt&&r&&uv(e),e.flags|=1,Hn(t,e,n,s),e.child)}function u_(t,e,n,r,s){if(rr(n)){var i=!0;qh(e)}else i=!1;if(ul(e,s),e.stateNode===null)_h(t,e),E3(e,n,r),G0(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fr(u):(u=rr(n)?Ha:zn.current,u=yl(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&s_(e,a,r,u),Ti=!1;var f=e.memoizedState;a.state=f,Jh(e,r,a,s),c=e.memoizedState,l!==r||f!==c||nr.current||Ti?(typeof d=="function"&&(H0(e,n,d,r),c=e.memoizedState),(l=Ti||r_(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,r3(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Jr(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fr(c):(c=rr(n)?Ha:zn.current,c=yl(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&s_(e,a,r,c),Ti=!1,f=e.memoizedState,a.state=f,Jh(e,r,a,s);var x=e.memoizedState;l!==h||f!==x||nr.current||Ti?(typeof p=="function"&&(H0(e,n,p,r),x=e.memoizedState),(u=Ti||r_(e,n,u,r,f,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return X0(t,e,n,r,i,s)}function X0(t,e,n,r,s,i){A3(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Kb(e,n,!1),si(t,e,i);r=e.stateNode,BP.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=_l(e,t.child,null,i),e.child=_l(e,null,l,i)):Hn(t,e,l,i),e.memoizedState=r.state,s&&Kb(e,n,!0),e.child}function R3(t){var e=t.stateNode;e.pendingContext?Xb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xb(t,e.context,!1),vv(t,e.containerInfo)}function d_(t,e,n,r,s){return bl(),hv(s),e.flags|=256,Hn(t,e,n,r),e.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function Y0(t){return{baseLanes:t,cachePool:null,transitions:null}}function j3(t,e,n){var r=e.pendingProps,s=Ft.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ct(Ft,s&1),t===null)return V0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Hf(a,r,0,null),t=Va(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Y0(n),e.memoizedState=K0,t):Nv(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return VP(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Hi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Hi(l,i):(i=Va(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Y0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=K0,r}return i=t.child,t=i.sibling,r=Hi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nv(t,e){return e=Hf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pd(t,e,n,r){return r!==null&&hv(r),_l(e,t.child,null,n),t=Nv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VP(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Yp(Error(ce(422))),pd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hf({mode:"visible",children:r.children},s,0,null),i=Va(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_l(e,t.child,null,a),e.child.memoizedState=Y0(a),e.memoizedState=K0,i);if(!(e.mode&1))return pd(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ce(419)),r=Yp(i,r,void 0),pd(t,e,a,r)}if(l=(a&t.childLanes)!==0,tr||l){if(r=Cn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ri(t,s),ls(r,t,s,-1))}return Pv(),r=Yp(Error(ce(421))),pd(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vr=zi(s.nextSibling),yr=e,kt=!0,ns=null,t!==null&&(Pr[kr++]=Gs,Pr[kr++]=Ws,Pr[kr++]=Ga,Gs=t.id,Ws=t.overflow,Ga=e),e=Nv(e,r.children),e.flags|=4096,e)}function h_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$0(t.return,e,n)}function Zp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function P3(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Hn(t,e,r.children,n),r=Ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,n,e);else if(t.tag===19)h_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(Ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zp(e,!0,n,null,i);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=Hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $P(t,e,n){switch(e.tag){case 3:R3(e),bl();break;case 5:s3(e);break;case 1:rr(e.type)&&qh(e);break;case 4:vv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ct(Yh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ct(Ft,Ft.current&1),e.flags|=128,null):n&e.child.childLanes?j3(t,e,n):(Ct(Ft,Ft.current&1),t=si(t,e,n),t!==null?t.sibling:null);Ct(Ft,Ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P3(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ct(Ft,Ft.current),r)break;return null;case 22:case 23:return e.lanes=0,M3(t,e,n)}return si(t,e,n)}var k3,Z0,D3,I3;k3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Z0=function(){};D3=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,La(ws.current);var i=null;switch(n){case"input":s=y0(t,s),r=y0(t,r),i=[];break;case"select":s=Vt({},s,{value:void 0}),r=Vt({},r,{value:void 0}),i=[];break;case"textarea":s=w0(t,s),r=w0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gh)}E0(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&At("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};I3=function(t,e,n,r){n!==r&&(e.flags|=4)};function oc(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HP(t,e,n){var r=e.pendingProps;switch(dv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return rr(e.type)&&Wh(),kn(e),null;case 3:return r=e.stateNode,wl(),jt(nr),jt(zn),bv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ns!==null&&(ig(ns),ns=null))),Z0(t,e),kn(e),null;case 5:yv(e);var s=La(lu.current);if(n=e.type,t!==null&&e.stateNode!=null)D3(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return kn(e),null}if(t=La(ws.current),hd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vs]=e,r[au]=i,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<Ec.length;s++)At(Ec[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":_b(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":Sb(r,i),At("invalid",r)}E0(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&dd(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&dd(r.textContent,l,t),s=["children",""+l]):Yc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&At("scroll",r)}switch(n){case"input":rd(r),wb(r,i,!0);break;case"textarea":rd(r),Eb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[vs]=e,t[au]=r,k3(t,e,!1,!1),e.stateNode=t;e:{switch(a=C0(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ec.length;s++)At(Ec[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":_b(t,r),s=y0(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Vt({},r,{value:void 0}),At("invalid",t);break;case"textarea":Sb(t,r),s=w0(t,r),At("invalid",t);break;default:s=r}E0(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?hE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zc(t,c):typeof c=="number"&&Zc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&At("scroll",t):c!=null&&Yx(t,i,c,a))}switch(n){case"input":rd(t),wb(t,r,!1);break;case"textarea":rd(t),Eb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)I3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=La(lu.current),La(ws.current),hd(e)){if(r=e.stateNode,n=e.memoizedProps,r[vs]=e,(i=r.nodeValue!==n)&&(t=yr,t!==null))switch(t.tag){case 3:dd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vs]=e,e.stateNode=r}return kn(e),null;case 13:if(jt(Ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&vr!==null&&e.mode&1&&!(e.flags&128))QE(),bl(),e.flags|=98560,i=!1;else if(i=hd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[vs]=e}else bl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),i=!1}else ns!==null&&(ig(ns),ns=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?gn===0&&(gn=3):Pv())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return wl(),Z0(t,e),t===null&&su(e.stateNode.containerInfo),kn(e),null;case 10:return mv(e.type._context),kn(e),null;case 17:return rr(e.type)&&Wh(),kn(e),null;case 19:if(jt(Ft),i=e.memoizedState,i===null)return kn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)oc(i,!1);else{if(gn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Qh(t),a!==null){for(e.flags|=128,oc(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ct(Ft,Ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&Jt()>El&&(e.flags|=128,r=!0,oc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!kt)return kn(e),null}else 2*Jt()-i.renderingStartTime>El&&n!==1073741824&&(e.flags|=128,r=!0,oc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Jt(),e.sibling=null,n=Ft.current,Ct(Ft,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return jv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function GP(t,e){switch(dv(e),e.tag){case 1:return rr(e.type)&&Wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wl(),jt(nr),jt(zn),bv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yv(e),null;case 13:if(jt(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));bl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jt(Ft),null;case 4:return wl(),null;case 10:return mv(e.type._context),null;case 22:case 23:return jv(),null;case 24:return null;default:return null}}var md=!1,On=!1,WP=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Yo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xt(t,e,r)}else n.current=null}function J0(t,e,n){try{n()}catch(r){Xt(t,e,r)}}var f_=!1;function qP(t,e){if(I0=Vh,t=zE(),cv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(L0={focusedElem:t,selectionRange:n},Vh=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,v=x.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Jr(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(w){Xt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return x=f_,f_=!1,x}function Lc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&J0(e,n,i)}s=s.next}while(s!==r)}}function Vf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Q0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L3(t){var e=t.alternate;e!==null&&(t.alternate=null,L3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vs],delete e[au],delete e[F0],delete e[AP],delete e[RP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O3(t){return t.tag===5||t.tag===3||t.tag===4}function p_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gh));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Tn=null,es=!1;function fi(t,e,n){for(n=n.child;n!==null;)U3(t,e,n),n=n.sibling}function U3(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(Df,n)}catch{}switch(n.tag){case 5:On||Yo(n,e);case 6:var r=Tn,s=es;Tn=null,fi(t,e,n),Tn=r,es=s,Tn!==null&&(es?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(es?(t=Tn,n=n.stateNode,t.nodeType===8?Hp(t.parentNode,n):t.nodeType===1&&Hp(t,n),tu(t)):Hp(Tn,n.stateNode));break;case 4:r=Tn,s=es,Tn=n.stateNode.containerInfo,es=!0,fi(t,e,n),Tn=r,es=s;break;case 0:case 11:case 14:case 15:if(!On&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&J0(n,e,a),s=s.next}while(s!==r)}fi(t,e,n);break;case 1:if(!On&&(Yo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xt(n,e,l)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?(On=(r=On)||n.memoizedState!==null,fi(t,e,n),On=r):fi(t,e,n);break;default:fi(t,e,n)}}function m_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WP),e.forEach(function(r){var s=nk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Tn=l.stateNode,es=!1;break e;case 3:Tn=l.stateNode.containerInfo,es=!0;break e;case 4:Tn=l.stateNode.containerInfo,es=!0;break e}l=l.return}if(Tn===null)throw Error(ce(160));U3(i,a,s),Tn=null,es=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)F3(e,t),e=e.sibling}function F3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wr(e,t),hs(t),r&4){try{Lc(3,t,t.return),Vf(3,t)}catch(m){Xt(t,t.return,m)}try{Lc(5,t,t.return)}catch(m){Xt(t,t.return,m)}}break;case 1:Wr(e,t),hs(t),r&512&&n!==null&&Yo(n,n.return);break;case 5:if(Wr(e,t),hs(t),r&512&&n!==null&&Yo(n,n.return),t.flags&32){var s=t.stateNode;try{Zc(s,"")}catch(m){Xt(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&oE(s,i),C0(l,a);var u=C0(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?hE(s,h):d==="dangerouslySetInnerHTML"?uE(s,h):d==="children"?Zc(s,h):Yx(s,d,h,u)}switch(l){case"input":b0(s,i);break;case"textarea":lE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?al(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?al(s,!!i.multiple,i.defaultValue,!0):al(s,!!i.multiple,i.multiple?[]:"",!1))}s[au]=i}catch(m){Xt(t,t.return,m)}}break;case 6:if(Wr(e,t),hs(t),r&4){if(t.stateNode===null)throw Error(ce(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Xt(t,t.return,m)}}break;case 3:if(Wr(e,t),hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(m){Xt(t,t.return,m)}break;case 4:Wr(e,t),hs(t);break;case 13:Wr(e,t),hs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Av=Jt())),r&4&&m_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(On=(u=On)||d,Wr(e,t),On=u):Wr(e,t),hs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Se=t,d=t.child;d!==null;){for(h=Se=d;Se!==null;){switch(f=Se,p=f.child,f.tag){case 0:case 11:case 14:case 15:Lc(4,f,f.return);break;case 1:Yo(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(m){Xt(r,n,m)}}break;case 5:Yo(f,f.return);break;case 22:if(f.memoizedState!==null){x_(h);continue}}p!==null?(p.return=f,Se=p):x_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dE("display",a))}catch(m){Xt(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Xt(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wr(e,t),hs(t),r&4&&m_(t);break;case 21:break;default:Wr(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(O3(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zc(s,""),r.flags&=-33);var i=p_(t);tg(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=p_(t);eg(t,l,a);break;default:throw Error(ce(161))}}catch(c){Xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XP(t,e,n){Se=t,z3(t)}function z3(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||md;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||On;l=md;var u=On;if(md=a,(On=c)&&!u)for(Se=s;Se!==null;)a=Se,c=a.child,a.tag===22&&a.memoizedState!==null?v_(s):c!==null?(c.return=a,Se=c):v_(s);for(;i!==null;)Se=i,z3(i),i=i.sibling;Se=s,md=l,On=u}g_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):g_(t)}}function g_(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:On||Vf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!On)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&e_(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}e_(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&tu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}On||e.flags&512&&Q0(e)}catch(f){Xt(e,e.return,f)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function x_(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function v_(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vf(4,e)}catch(c){Xt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Xt(e,s,c)}}var i=e.return;try{Q0(e)}catch(c){Xt(e,i,c)}break;case 5:var a=e.return;try{Q0(e)}catch(c){Xt(e,a,c)}}}catch(c){Xt(e,e.return,c)}if(e===t){Se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Se=l;break}Se=e.return}}var KP=Math.ceil,nf=ci.ReactCurrentDispatcher,Tv=ci.ReactCurrentOwner,Ur=ci.ReactCurrentBatchConfig,dt=0,Cn=null,on=null,Rn=0,fr=0,Zo=na(0),gn=0,hu=null,qa=0,$f=0,Mv=0,Oc=null,er=null,Av=0,El=1/0,Bs=null,rf=!1,ng=null,Vi=null,gd=!1,Di=null,sf=0,Uc=0,rg=null,wh=-1,Sh=0;function Wn(){return dt&6?Jt():wh!==-1?wh:wh=Jt()}function $i(t){return t.mode&1?dt&2&&Rn!==0?Rn&-Rn:PP.transition!==null?(Sh===0&&(Sh=EE()),Sh):(t=mt,t!==0||(t=window.event,t=t===void 0?16:jE(t.type)),t):1}function ls(t,e,n,r){if(50<Uc)throw Uc=0,rg=null,Error(ce(185));Du(t,n,r),(!(dt&2)||t!==Cn)&&(t===Cn&&(!(dt&2)&&($f|=n),gn===4&&Ai(t,Rn)),sr(t,r),n===1&&dt===0&&!(e.mode&1)&&(El=Jt()+500,Ff&&ra()))}function sr(t,e){var n=t.callbackNode;Pj(t,e);var r=Bh(t,t===Cn?Rn:0);if(r===0)n!==null&&Tb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tb(n),e===1)t.tag===0?jP(y_.bind(null,t)):YE(y_.bind(null,t)),TP(function(){!(dt&6)&&ra()}),n=null;else{switch(CE(r)){case 1:n=tv;break;case 4:n=wE;break;case 16:n=zh;break;case 536870912:n=SE;break;default:n=zh}n=X3(n,B3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B3(t,e){if(wh=-1,Sh=0,dt&6)throw Error(ce(327));var n=t.callbackNode;if(dl()&&t.callbackNode!==n)return null;var r=Bh(t,t===Cn?Rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=af(t,r);else{e=r;var s=dt;dt|=2;var i=$3();(Cn!==t||Rn!==e)&&(Bs=null,El=Jt()+500,Ba(t,e));do try{JP();break}catch(l){V3(t,l)}while(!0);pv(),nf.current=i,dt=s,on!==null?e=0:(Cn=null,Rn=0,e=gn)}if(e!==0){if(e===2&&(s=R0(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=hu,Ba(t,0),Ai(t,r),sr(t,Jt()),n;if(e===6)Ai(t,r);else{if(s=t.current.alternate,!(r&30)&&!YP(s)&&(e=af(t,r),e===2&&(i=R0(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=hu,Ba(t,0),Ai(t,r),sr(t,Jt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Ea(t,er,Bs);break;case 3:if(Ai(t,r),(r&130023424)===r&&(e=Av+500-Jt(),10<e)){if(Bh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Wn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=U0(Ea.bind(null,t,er,Bs),e);break}Ea(t,er,Bs);break;case 4:if(Ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-os(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KP(r/1960))-r,10<r){t.timeoutHandle=U0(Ea.bind(null,t,er,Bs),r);break}Ea(t,er,Bs);break;case 5:Ea(t,er,Bs);break;default:throw Error(ce(329))}}}return sr(t,Jt()),t.callbackNode===n?B3.bind(null,t):null}function sg(t,e){var n=Oc;return t.current.memoizedState.isDehydrated&&(Ba(t,e).flags|=256),t=af(t,e),t!==2&&(e=er,er=n,e!==null&&ig(e)),t}function ig(t){er===null?er=t:er.push.apply(er,t)}function YP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!cs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~Mv,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-os(e),r=1<<n;t[n]=-1,e&=~r}}function y_(t){if(dt&6)throw Error(ce(327));dl();var e=Bh(t,0);if(!(e&1))return sr(t,Jt()),null;var n=af(t,e);if(t.tag!==0&&n===2){var r=R0(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=hu,Ba(t,0),Ai(t,e),sr(t,Jt()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ea(t,er,Bs),sr(t,Jt()),null}function Rv(t,e){var n=dt;dt|=1;try{return t(e)}finally{dt=n,dt===0&&(El=Jt()+500,Ff&&ra())}}function Xa(t){Di!==null&&Di.tag===0&&!(dt&6)&&dl();var e=dt;dt|=1;var n=Ur.transition,r=mt;try{if(Ur.transition=null,mt=1,t)return t()}finally{mt=r,Ur.transition=n,dt=e,!(dt&6)&&ra()}}function jv(){fr=Zo.current,jt(Zo)}function Ba(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NP(n)),on!==null)for(n=on.return;n!==null;){var r=n;switch(dv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wh();break;case 3:wl(),jt(nr),jt(zn),bv();break;case 5:yv(r);break;case 4:wl();break;case 13:jt(Ft);break;case 19:jt(Ft);break;case 10:mv(r.type._context);break;case 22:case 23:jv()}n=n.return}if(Cn=t,on=t=Hi(t.current,null),Rn=fr=e,gn=0,hu=null,Mv=$f=qa=0,er=Oc=null,Ia!==null){for(e=0;e<Ia.length;e++)if(n=Ia[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ia=null}return t}function V3(t,e){do{var n=on;try{if(pv(),yh.current=tf,ef){for(var r=Bt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ef=!1}if(Wa=0,Sn=mn=Bt=null,Ic=!1,cu=0,Tv.current=null,n===null||n.return===null){gn=1,hu=e,on=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Rn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=a_(a);if(p!==null){p.flags&=-257,o_(p,a,l,i,e),p.mode&1&&i_(i,u,e),e=p,c=u;var x=e.updateQueue;if(x===null){var m=new Set;m.add(c),e.updateQueue=m}else x.add(c);break e}else{if(!(e&1)){i_(i,u,e),Pv();break e}c=Error(ce(426))}}else if(kt&&l.mode&1){var v=a_(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),o_(v,a,l,i,e),hv(Sl(c,l));break e}}i=c=Sl(c,l),gn!==4&&(gn=2),Oc===null?Oc=[i]:Oc.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=C3(i,c,e);Qb(i,g);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vi===null||!Vi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=N3(i,l,e);Qb(i,w);break e}}i=i.return}while(i!==null)}G3(n)}catch(S){e=S,on===n&&n!==null&&(on=n=n.return);continue}break}while(!0)}function $3(){var t=nf.current;return nf.current=tf,t===null?tf:t}function Pv(){(gn===0||gn===3||gn===2)&&(gn=4),Cn===null||!(qa&268435455)&&!($f&268435455)||Ai(Cn,Rn)}function af(t,e){var n=dt;dt|=2;var r=$3();(Cn!==t||Rn!==e)&&(Bs=null,Ba(t,e));do try{ZP();break}catch(s){V3(t,s)}while(!0);if(pv(),dt=n,nf.current=r,on!==null)throw Error(ce(261));return Cn=null,Rn=0,gn}function ZP(){for(;on!==null;)H3(on)}function JP(){for(;on!==null&&!Sj();)H3(on)}function H3(t){var e=q3(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?G3(t):on=e,Tv.current=null}function G3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GP(n,e),n!==null){n.flags&=32767,on=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gn=6,on=null;return}}else if(n=HP(n,e,fr),n!==null){on=n;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);gn===0&&(gn=5)}function Ea(t,e,n){var r=mt,s=Ur.transition;try{Ur.transition=null,mt=1,QP(t,e,n,r)}finally{Ur.transition=s,mt=r}return null}function QP(t,e,n,r){do dl();while(Di!==null);if(dt&6)throw Error(ce(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kj(t,i),t===Cn&&(on=Cn=null,Rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gd||(gd=!0,X3(zh,function(){return dl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ur.transition,Ur.transition=null;var a=mt;mt=1;var l=dt;dt|=4,Tv.current=null,qP(t,n),F3(n,t),yP(L0),Vh=!!I0,L0=I0=null,t.current=n,XP(n),Ej(),dt=l,mt=a,Ur.transition=i}else t.current=n;if(gd&&(gd=!1,Di=t,sf=s),i=t.pendingLanes,i===0&&(Vi=null),Tj(n.stateNode),sr(t,Jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rf)throw rf=!1,t=ng,ng=null,t;return sf&1&&t.tag!==0&&dl(),i=t.pendingLanes,i&1?t===rg?Uc++:(Uc=0,rg=t):Uc=0,ra(),null}function dl(){if(Di!==null){var t=CE(sf),e=Ur.transition,n=mt;try{if(Ur.transition=null,mt=16>t?16:t,Di===null)var r=!1;else{if(t=Di,Di=null,sf=0,dt&6)throw Error(ce(331));var s=dt;for(dt|=4,Se=t.current;Se!==null;){var i=Se,a=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Se=u;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:Lc(8,d,i)}var h=d.child;if(h!==null)h.return=d,Se=h;else for(;Se!==null;){d=Se;var f=d.sibling,p=d.return;if(L3(d),d===u){Se=null;break}if(f!==null){f.return=p,Se=f;break}Se=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Se=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Se=a;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Se=g;break e}Se=i.return}}var y=t.current;for(Se=y;Se!==null;){a=Se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Se=b;else e:for(a=y;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vf(9,l)}}catch(S){Xt(l,l.return,S)}if(l===a){Se=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Se=w;break e}Se=l.return}}if(dt=s,ra(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(Df,t)}catch{}r=!0}return r}finally{mt=n,Ur.transition=e}}return!1}function b_(t,e,n){e=Sl(n,e),e=C3(t,e,1),t=Bi(t,e,1),e=Wn(),t!==null&&(Du(t,1,e),sr(t,e))}function Xt(t,e,n){if(t.tag===3)b_(t,t,n);else for(;e!==null;){if(e.tag===3){b_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=Sl(n,t),t=N3(e,t,1),e=Bi(e,t,1),t=Wn(),e!==null&&(Du(e,1,t),sr(e,t));break}}e=e.return}}function ek(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wn(),t.pingedLanes|=t.suspendedLanes&n,Cn===t&&(Rn&n)===n&&(gn===4||gn===3&&(Rn&130023424)===Rn&&500>Jt()-Av?Ba(t,0):Mv|=n),sr(t,e)}function W3(t,e){e===0&&(t.mode&1?(e=ad,ad<<=1,!(ad&130023424)&&(ad=4194304)):e=1);var n=Wn();t=ri(t,e),t!==null&&(Du(t,e,n),sr(t,n))}function tk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W3(t,n)}function nk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),W3(t,n)}var q3;q3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,$P(t,e,n);tr=!!(t.flags&131072)}else tr=!1,kt&&e.flags&1048576&&ZE(e,Kh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_h(t,e),t=e.pendingProps;var s=yl(e,zn.current);ul(e,n),s=wv(null,e,r,t,s,n);var i=Sv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rr(r)?(i=!0,qh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xv(e),s.updater=Bf,e.stateNode=s,s._reactInternals=e,G0(e,r,t,n),e=X0(null,e,r,!0,i,n)):(e.tag=0,kt&&i&&uv(e),Hn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_h(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=sk(r),t=Jr(r,t),s){case 0:e=q0(null,e,r,t,n);break e;case 1:e=u_(null,e,r,t,n);break e;case 11:e=l_(null,e,r,t,n);break e;case 14:e=c_(null,e,r,Jr(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jr(r,s),q0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jr(r,s),u_(t,e,r,s,n);case 3:e:{if(R3(e),t===null)throw Error(ce(387));r=e.pendingProps,i=e.memoizedState,s=i.element,r3(t,e),Jh(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sl(Error(ce(423)),e),e=d_(t,e,r,n,s);break e}else if(r!==s){s=Sl(Error(ce(424)),e),e=d_(t,e,r,n,s);break e}else for(vr=zi(e.stateNode.containerInfo.firstChild),yr=e,kt=!0,ns=null,n=t3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bl(),r===s){e=si(t,e,n);break e}Hn(t,e,r,n)}e=e.child}return e;case 5:return s3(e),t===null&&V0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,O0(r,s)?a=null:i!==null&&O0(r,i)&&(e.flags|=32),A3(t,e),Hn(t,e,a,n),e.child;case 6:return t===null&&V0(e),null;case 13:return j3(t,e,n);case 4:return vv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):Hn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jr(r,s),l_(t,e,r,s,n);case 7:return Hn(t,e,e.pendingProps,n),e.child;case 8:return Hn(t,e,e.pendingProps.children,n),e.child;case 12:return Hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ct(Yh,r._currentValue),r._currentValue=a,i!==null)if(cs(i.value,a)){if(i.children===s.children&&!nr.current){e=si(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ks(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),$0(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ce(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$0(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Hn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ul(e,n),s=Fr(s),r=r(s),e.flags|=1,Hn(t,e,r,n),e.child;case 14:return r=e.type,s=Jr(r,e.pendingProps),s=Jr(r.type,s),c_(t,e,r,s,n);case 15:return T3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jr(r,s),_h(t,e),e.tag=1,rr(r)?(t=!0,qh(e)):t=!1,ul(e,n),E3(e,r,s),G0(e,r,s,n),X0(null,e,r,!0,t,n);case 19:return P3(t,e,n);case 22:return M3(t,e,n)}throw Error(ce(156,e.tag))};function X3(t,e){return _E(t,e)}function rk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,r){return new rk(t,e,n,r)}function kv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sk(t){if(typeof t=="function")return kv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jx)return 11;if(t===Qx)return 14}return 2}function Hi(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Eh(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")kv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bo:return Va(n.children,s,i,e);case Zx:a=8,s|=8;break;case m0:return t=Lr(12,n,e,s|2),t.elementType=m0,t.lanes=i,t;case g0:return t=Lr(13,n,e,s),t.elementType=g0,t.lanes=i,t;case x0:return t=Lr(19,n,e,s),t.elementType=x0,t.lanes=i,t;case sE:return Hf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nE:a=10;break e;case rE:a=9;break e;case Jx:a=11;break e;case Qx:a=14;break e;case Ni:a=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Lr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Va(t,e,n,r){return t=Lr(7,t,r,e),t.lanes=n,t}function Hf(t,e,n,r){return t=Lr(22,t,r,e),t.elementType=sE,t.lanes=n,t.stateNode={isHidden:!1},t}function Jp(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function Qp(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ik(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Dv(t,e,n,r,s,i,a,l,c){return t=new ik(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xv(i),t}function ak(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function K3(t){if(!t)return Zi;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(rr(n))return KE(t,n,e)}return e}function Y3(t,e,n,r,s,i,a,l,c){return t=Dv(n,r,!0,t,s,i,a,l,c),t.context=K3(null),n=t.current,r=Wn(),s=$i(n),i=Ks(r,s),i.callback=e??null,Bi(n,i,s),t.current.lanes=s,Du(t,s,r),sr(t,r),t}function Gf(t,e,n,r){var s=e.current,i=Wn(),a=$i(s);return n=K3(n),e.context===null?e.context=n:e.pendingContext=n,e=Ks(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(s,e,a),t!==null&&(ls(t,s,a,i),vh(t,s,a)),a}function of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function __(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iv(t,e){__(t,e),(t=t.alternate)&&__(t,e)}function ok(){return null}var Z3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lv(t){this._internalRoot=t}Wf.prototype.render=Lv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Gf(t,e,null,null)};Wf.prototype.unmount=Lv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xa(function(){Gf(null,t,null,null)}),e[ni]=null}};function Wf(t){this._internalRoot=t}Wf.prototype.unstable_scheduleHydration=function(t){if(t){var e=ME();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&RE(t)}};function Ov(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function w_(){}function lk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=of(a);i.call(u)}}var a=Y3(e,r,t,0,null,!1,!1,"",w_);return t._reactRootContainer=a,t[ni]=a.current,su(t.nodeType===8?t.parentNode:t),Xa(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=of(c);l.call(u)}}var c=Dv(t,0,!1,null,null,!1,!1,"",w_);return t._reactRootContainer=c,t[ni]=c.current,su(t.nodeType===8?t.parentNode:t),Xa(function(){Gf(e,c,n,r)}),c}function Xf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=of(a);l.call(c)}}Gf(e,a,t,s)}else a=lk(n,e,t,s,r);return of(a)}NE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sc(e.pendingLanes);n!==0&&(nv(e,n|1),sr(e,Jt()),!(dt&6)&&(El=Jt()+500,ra()))}break;case 13:Xa(function(){var r=ri(t,1);if(r!==null){var s=Wn();ls(r,t,1,s)}}),Iv(t,1)}};rv=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var n=Wn();ls(e,t,134217728,n)}Iv(t,134217728)}};TE=function(t){if(t.tag===13){var e=$i(t),n=ri(t,e);if(n!==null){var r=Wn();ls(n,t,e,r)}Iv(t,e)}};ME=function(){return mt};AE=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};T0=function(t,e,n){switch(e){case"input":if(b0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uf(r);if(!s)throw Error(ce(90));aE(r),b0(r,s)}}}break;case"textarea":lE(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};mE=Rv;gE=Xa;var ck={usingClientEntryPoint:!1,Events:[Lu,Go,Uf,fE,pE,Rv]},lc={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uk={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yE(t),t===null?null:t.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||ok,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Df=xd.inject(uk),_s=xd}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;Er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(e))throw Error(ce(200));return ak(t,e,null,n)};Er.createRoot=function(t,e){if(!Ov(t))throw Error(ce(299));var n=!1,r="",s=Z3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Dv(t,1,!1,null,null,n,!1,r,s),t[ni]=e.current,su(t.nodeType===8?t.parentNode:t),new Lv(e)};Er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=yE(e),t=t===null?null:t.stateNode,t};Er.flushSync=function(t){return Xa(t)};Er.hydrate=function(t,e,n){if(!qf(e))throw Error(ce(200));return Xf(null,t,e,!0,n)};Er.hydrateRoot=function(t,e,n){if(!Ov(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Z3;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Y3(e,null,t,1,n??null,s,!1,i,a),t[ni]=e.current,su(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wf(e)};Er.render=function(t,e,n){if(!qf(e))throw Error(ce(200));return Xf(null,t,e,!1,n)};Er.unmountComponentAtNode=function(t){if(!qf(t))throw Error(ce(40));return t._reactRootContainer?(Xa(function(){Xf(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};Er.unstable_batchedUpdates=Rv;Er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qf(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Xf(t,e,n,!1,r)};Er.version="18.3.1-next-f1338f8080-20240426";function J3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J3)}catch(t){console.error(t)}}J3(),J2.exports=Er;var Uv=J2.exports;const dk=z2(Uv);var S_=Uv;f0.createRoot=S_.createRoot,f0.hydrateRoot=S_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}var Ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ii||(Ii={}));const E_="popstate";function hk(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return ag("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:lf(s)}return pk(e,n,null,t)}function cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fk(){return Math.random().toString(36).substr(2,8)}function C_(t,e){return{usr:t.state,key:t.key,idx:e}}function ag(t,e,n,r){return n===void 0&&(n=null),fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zl(e):e,{state:n,key:e&&e.key||r||fk()})}function lf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pk(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Ii.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(fu({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Ii.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:g})}function f(v,g){l=Ii.Push;let y=ag(m.location,v,g);u=d()+1;let b=C_(y,u),w=m.createHref(y);try{a.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,g){l=Ii.Replace;let y=ag(m.location,v,g);u=d();let b=C_(y,u),w=m.createHref(y);a.replaceState(b,"",w),i&&c&&c({action:l,location:m.location,delta:0})}function x(v){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:lf(v);return y=y.replace(/ $/,"%20"),cn(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return l},get location(){return t(s,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(E_,h),c=v,()=>{s.removeEventListener(E_,h),c=null}},createHref(v){return e(s,v)},createURL:x,encodeLocation(v){let g=x(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(v){return a.go(v)}};return m}var N_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(N_||(N_={}));function mk(t,e,n){return n===void 0&&(n="/"),gk(t,e,n)}function gk(t,e,n,r){let s=typeof e=="string"?zl(e):e,i=zv(s.pathname||"/",n);if(i==null)return null;let a=Q3(t);xk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Ak(i);l=Nk(a[c],u)}return l}function Q3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(cn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gi([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(cn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q3(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Ek(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of eC(i.path))s(i,a,c)}),e}function eC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=eC(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function xk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ck(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vk=/^:[\w-]+$/,yk=3,bk=2,_k=1,wk=10,Sk=-2,T_=t=>t==="*";function Ek(t,e){let n=t.split("/"),r=n.length;return n.some(T_)&&(r+=Sk),e&&(r+=bk),n.filter(s=>!T_(s)).reduce((s,i)=>s+(vk.test(i)?yk:i===""?_k:wk),r)}function Ck(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Nk(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Tk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Gi([i,h.pathname]),pathnameBase:Dk(Gi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Gi([i,h.pathnameBase]))}return a}function Tk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Mk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[h]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Mk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Ak(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Rk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jk=t=>Rk.test(t);function Pk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?zl(t):t,i;if(n)if(jk(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Fv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=M_(n.substring(1),"/"):i=M_(n,e)}else i=e;return{pathname:i,search:Ik(r),hash:Lk(s)}}function M_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function em(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tC(t,e){let n=kk(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=zl(t):(s=fu({},t),cn(!s.pathname||!s.pathname.includes("?"),em("?","pathname","search",s)),cn(!s.pathname||!s.pathname.includes("#"),em("#","pathname","hash",s)),cn(!s.search||!s.search.includes("#"),em("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Pk(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gi=t=>t.join("/").replace(/\/\/+/g,"/"),Dk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ik=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Lk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ok(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rC=["post","put","patch","delete"];new Set(rC);const Uk=["get",...rC];new Set(Uk);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}const Bv=_.createContext(null),Fk=_.createContext(null),so=_.createContext(null),Kf=_.createContext(null),sa=_.createContext({outlet:null,matches:[],isDataRoute:!1}),sC=_.createContext(null);function zk(t,e){let{relative:n}=e===void 0?{}:e;Uu()||cn(!1);let{basename:r,navigator:s}=_.useContext(so),{hash:i,pathname:a,search:l}=aC(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Gi([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Uu(){return _.useContext(Kf)!=null}function ui(){return Uu()||cn(!1),_.useContext(Kf).location}function iC(t){_.useContext(so).static||_.useLayoutEffect(t)}function ia(){let{isDataRoute:t}=_.useContext(sa);return t?Qk():Bk()}function Bk(){Uu()||cn(!1);let t=_.useContext(Bv),{basename:e,future:n,navigator:r}=_.useContext(so),{matches:s}=_.useContext(sa),{pathname:i}=ui(),a=JSON.stringify(tC(s,n.v7_relativeSplatPath)),l=_.useRef(!1);return iC(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=nC(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}function Yf(){let{matches:t}=_.useContext(sa),e=t[t.length-1];return e?e.params:{}}function aC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(so),{matches:s}=_.useContext(sa),{pathname:i}=ui(),a=JSON.stringify(tC(s,r.v7_relativeSplatPath));return _.useMemo(()=>nC(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function Vk(t,e){return $k(t,e)}function $k(t,e,n,r){Uu()||cn(!1);let{navigator:s}=_.useContext(so),{matches:i}=_.useContext(sa),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ui(),d;if(e){var h;let v=typeof e=="string"?zl(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||cn(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=mk(t,{pathname:p}),m=Xk(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Gi([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Gi([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&m?_.createElement(Kf.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ii.Pop}},m):m}function Hk(){let t=Jk(),e=Ok(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}const Gk=_.createElement(Hk,null);class Wk extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(sa.Provider,{value:this.props.routeContext},_.createElement(sC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qk(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(Bv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(sa.Provider,{value:e},r)}function Xk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||cn(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,x=!1,m=null,v=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||Gk,c&&(u<0&&f===0?(e5("route-fallback"),x=!0,v=null):u===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),y=()=>{let b;return p?b=m:x?b=v:h.route.Component?b=_.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,_.createElement(qk,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(Wk,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var oC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oC||{}),lC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lC||{});function Kk(t){let e=_.useContext(Bv);return e||cn(!1),e}function Yk(t){let e=_.useContext(Fk);return e||cn(!1),e}function Zk(t){let e=_.useContext(sa);return e||cn(!1),e}function cC(t){let e=Zk(),n=e.matches[e.matches.length-1];return n.route.id||cn(!1),n.route.id}function Jk(){var t;let e=_.useContext(sC),n=Yk(),r=cC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Qk(){let{router:t}=Kk(oC.UseNavigateStable),e=cC(lC.UseNavigateStable),n=_.useRef(!1);return iC(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,pu({fromRouteId:e},i)))},[t,e])}const A_={};function e5(t,e,n){A_[t]||(A_[t]=!0)}function t5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bn(t){cn(!1)}function n5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ii.Pop,navigator:i,static:a=!1,future:l}=t;Uu()&&cn(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:a,future:pu({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=zl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,m=_.useMemo(()=>{let v=zv(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:x},navigationType:s}},[c,d,h,f,p,x,s]);return m==null?null:_.createElement(so.Provider,{value:u},_.createElement(Kf.Provider,{children:n,value:m}))}function R_(t){let{children:e,location:n}=t;return Vk(og(e),n)}new Promise(()=>{});function og(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,og(r.props.children,i));return}r.type!==bn&&cn(!1),!r.props.index||!r.props.children||cn(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=og(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function r5(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function s5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i5(t,e){return t.button===0&&(!e||e==="_self")&&!s5(t)}function cg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function a5(t,e){let n=cg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const o5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l5="6";try{window.__reactRouterVersion=l5}catch{}const c5="startTransition",j_=kf[c5];function u5(t){let{basename:e,children:n,future:r,window:s}=t,i=_.useRef();i.current==null&&(i.current=hk({window:s,v5Compat:!0}));let a=i.current,[l,c]=_.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=_.useCallback(h=>{u&&j_?j_(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>t5(r),[r]),_.createElement(n5,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const d5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=r5(e,o5),{basename:p}=_.useContext(so),x,m=!1;if(typeof u=="string"&&h5.test(u)&&(x=u,d5))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=zv(w.pathname,p);w.origin===b.origin&&S!=null?u=S+w.search+w.hash:m=!0}catch{}let v=zk(u,{relative:s}),g=f5(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||g(b)}return _.createElement("a",lg({},f,{href:x||v,onClick:m||i?r:y,ref:n,target:c}))});var P_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P_||(P_={}));var k_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(k_||(k_={}));function f5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=ia(),u=ui(),d=aC(t,{relative:a});return _.useCallback(h=>{if(i5(h,n)){h.preventDefault();let f=r!==void 0?r:lf(u)===lf(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}function p5(t){let e=_.useRef(cg(t)),n=_.useRef(!1),r=ui(),s=_.useMemo(()=>a5(r.search,n.current?null:e.current),[r.search]),i=ia(),a=_.useCallback((l,c)=>{const u=cg(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}const Vv=_.createContext({});function Bl(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zf=_.createContext(null),Vl=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class m5 extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function g5({children:t,isPresent:e}){const n=_.useId(),r=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=_.useContext(Vl);return _.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(m5,{isPresent:e,childRef:r,sizeRef:s,children:_.cloneElement(t,{ref:r})})}const x5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=Bl(v5),c=_.useId(),u=_.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=_.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return _.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),_.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(g5,{isPresent:n,children:t})),o.jsx(Zf.Provider,{value:d,children:t})};function v5(){return new Map}function uC(t=!0){const e=_.useContext(Zf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=_.useId();_.useEffect(()=>{t&&s(i)},[t]);const a=_.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const vd=t=>t.key||"";function D_(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const $v=typeof window<"u",Fu=$v?_.useLayoutEffect:_.useEffect,io=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=uC(a),u=_.useMemo(()=>D_(t),[t]),d=a&&!l?[]:u.map(vd),h=_.useRef(!0),f=_.useRef(u),p=Bl(()=>new Map),[x,m]=_.useState(u),[v,g]=_.useState(u);Fu(()=>{h.current=!1,f.current=u;for(let w=0;w<v.length;w++){const S=vd(v[w]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[v,d.length,d.join("-")]);const y=[];if(u!==x){let w=[...u];for(let S=0;S<v.length;S++){const N=v[S],M=vd(N);d.includes(M)||(w.splice(S,0,N),y.push(N))}i==="wait"&&y.length&&(w=y),g(D_(w)),m(u);return}const{forceRender:b}=_.useContext(Vv);return o.jsx(o.Fragment,{children:v.map(w=>{const S=vd(w),N=a&&!l?!1:u===v||d.includes(S),M=()=>{if(p.has(S))p.set(S,!0);else return;let A=!0;p.forEach(T=>{T||(A=!1)}),A&&(b==null||b(),g(f.current),a&&(c==null||c()),r&&r())};return o.jsx(x5,{isPresent:N,initial:!h.current||n?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:N?void 0:M,children:w},S)})})},qn=t=>t;let y5=qn,dC=qn;function Hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ka=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ys=t=>t*1e3,Zs=t=>t/1e3,b5={useManualTiming:!1};function _5(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const yd=["read","resolveKeyframes","update","preRender","render","postRender"],w5=40;function hC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=yd.reduce((g,y)=>(g[y]=_5(i),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,p=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,w5),1),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},x=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:yd.reduce((g,y)=>{const b=a[y];return g[y]=(w,S=!1,N=!1)=>(n||x(),b.schedule(w,S,N)),g},{}),cancel:g=>{for(let y=0;y<yd.length;y++)a[yd[y]].cancel(g)},state:s,steps:a}}const{schedule:ut,cancel:Br,state:pn,steps:tm}=hC(typeof requestAnimationFrame<"u"?requestAnimationFrame:qn,!0),fC=_.createContext({strict:!1}),I_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cl={};for(const t in I_)Cl[t]={isEnabled:e=>I_[t].some(n=>!!e[n])};function S5(t){for(const e in t)Cl[e]={...Cl[e],...t[e]}}const E5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||E5.has(t)}let pC=t=>!cf(t);function C5(t){t&&(pC=e=>e.startsWith("on")?!cf(e):t(e))}try{C5(require("@emotion/is-prop-valid").default)}catch{}function N5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(pC(s)||n===!0&&cf(s)||!e&&!cf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function T5(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Jf=_.createContext({});function mu(t){return typeof t=="string"||Array.isArray(t)}function Qf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wv=["initial",...Gv];function ep(t){return Qf(t.animate)||Wv.some(e=>mu(t[e]))}function mC(t){return!!(ep(t)||t.variants)}function M5(t,e){if(ep(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mu(n)?n:void 0,animate:mu(r)?r:void 0}}return t.inherit!==!1?e:{}}function A5(t){const{initial:e,animate:n}=M5(t,_.useContext(Jf));return _.useMemo(()=>({initial:e,animate:n}),[L_(e),L_(n)])}function L_(t){return Array.isArray(t)?t.join(" "):t}const R5=Symbol.for("motionComponentSymbol");function Jo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function j5(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Jo(n)&&(n.current=r))},[e])}const qv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P5="framerAppearId",gC="data-"+qv(P5),{schedule:Xv}=hC(queueMicrotask,!1),xC=_.createContext({});function k5(t,e,n,r,s){var i,a;const{visualElement:l}=_.useContext(Jf),c=_.useContext(fC),u=_.useContext(Zf),d=_.useContext(Vl).reducedMotion,h=_.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=_.useContext(xC);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&D5(h.current,n,s,p);const x=_.useRef(!1);_.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const m=n[gC],v=_.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,m)));return Fu(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Xv.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),v.current=!1))}),f}function D5(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Jo(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function vC(t){if(t)return t.options.allowProjection!==!1?t.projection:vC(t.parent)}function I5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,a;t&&S5(t);function l(u,d){let h;const f={..._.useContext(Vl),...u,layoutId:L5(u)},{isStatic:p}=f,x=A5(u),m=r(u,p);if(!p&&$v){O5();const v=U5(f);h=v.MeasureLayout,x.visualElement=k5(s,m,f,e,v.ProjectionNode)}return o.jsxs(Jf.Provider,{value:x,children:[h&&x.visualElement?o.jsx(h,{visualElement:x.visualElement,...f}):null,n(s,u,j5(m,x.visualElement,d),m,p,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=_.forwardRef(l);return c[R5]=s,c}function L5({layoutId:t}){const e=_.useContext(Vv).id;return e&&t!==void 0?e+"-"+t:t}function O5(t,e){_.useContext(fC).strict}function U5(t){const{drag:e,layout:n}=Cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const F5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kv(t){return typeof t!="string"||t.includes("-")?!1:!!(F5.indexOf(t)>-1||/[A-Z]/u.test(t))}function O_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Yv(t,e,n,r){if(typeof e=="function"){const[s,i]=O_(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=O_(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const ug=t=>Array.isArray(t),z5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),B5=t=>ug(t)?t[t.length-1]||0:t,ln=t=>!!(t&&t.getVelocity);function Ch(t){const e=ln(t)?t.get():t;return z5(e)?e.toValue():e}function V5({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const a={latestValues:$5(r,s,i,t),renderState:e()};return n&&(a.onMount=l=>n({props:r,current:l,...a}),a.onUpdate=l=>n(l)),a}const yC=t=>(e,n)=>{const r=_.useContext(Jf),s=_.useContext(Zf),i=()=>V5(t,e,r,s);return n?i():Bl(i)};function $5(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Ch(i[f]);let{initial:a,animate:l}=t;const c=ep(t),u=mC(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Qf(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=Yv(t,f[p]);if(x){const{transitionEnd:m,transition:v,...g}=x;for(const y in g){let b=g[y];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(s[y]=b)}for(const y in m)s[y]=m[y]}}}return s}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ao=new Set($l),bC=t=>e=>typeof e=="string"&&e.startsWith(t),_C=bC("--"),H5=bC("var(--"),Zv=t=>H5(t)?G5.test(t.split("/*")[0].trim()):!1,G5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ts=(t,e,n)=>n>e?e:n<t?t:n,Hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...Hl,transform:t=>Ts(0,1,t)},bd={...Hl,default:1},zu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Si=zu("deg"),Ss=zu("%"),Ve=zu("px"),W5=zu("vh"),q5=zu("vw"),U_={...Ss,parse:t=>Ss.parse(t)/100,transform:t=>Ss.transform(t*100)},X5={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve},K5={rotate:Si,rotateX:Si,rotateY:Si,rotateZ:Si,scale:bd,scaleX:bd,scaleY:bd,scaleZ:bd,skew:Si,skewX:Si,skewY:Si,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:gu,originX:U_,originY:U_,originZ:Ve},F_={...Hl,transform:Math.round},Jv={...X5,...K5,zIndex:F_,size:Ve,fillOpacity:gu,strokeOpacity:gu,numOctaves:F_},Y5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z5=$l.length;function J5(t,e,n){let r="",s=!0;for(let i=0;i<Z5;i++){const a=$l[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=wC(l,Jv[a]);if(!c){s=!1;const d=Y5[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Qv(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(ao.has(c)){a=!0;continue}else if(_C(c)){s[c]=u;continue}else{const d=wC(u,Jv[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=J5(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Q5={offset:"stroke-dashoffset",array:"stroke-dasharray"},e4={offset:"strokeDashoffset",array:"strokeDasharray"};function t4(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Q5:e4;t[i.offset]=Ve.transform(-r);const a=Ve.transform(e),l=Ve.transform(n);t[i.array]=`${a} ${l}`}function z_(t,e,n){return typeof t=="string"?t:Ve.transform(e+n*t)}function n4(t,e,n){const r=z_(e,t.x,t.width),s=z_(n,t.y,t.height);return`${r} ${s}`}function ey(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(Qv(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:x}=t;f.transform&&(x&&(p.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=n4(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&t4(f,a,l,c,!1)}const ty=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),SC=()=>({...ty(),attrs:{}}),ny=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EC(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const CC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NC(t,e,n,r){EC(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(CC.has(s)?s:qv(s),e.attrs[s])}const uf={};function r4(t){Object.assign(uf,t)}function TC(t,{layout:e,layoutId:n}){return ao.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uf[t]||t==="opacity")}function ry(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(ln(s[a])||e.style&&ln(e.style[a])||TC(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function MC(t,e,n){const r=ry(t,e,n);for(const s in t)if(ln(t[s])||ln(e[s])){const i=$l.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function s4(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const B_=["x","y","width","height","cx","cy","r"],i4={useVisualState:yC({scrapeMotionValuesFromProps:MC,createRenderState:SC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(ao.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<B_.length;l++){const c=B_[l];t[c]!==e[c]&&(a=!0)}a&&ut.read(()=>{s4(n,r),ut.render(()=>{ey(r,s,ny(n.tagName),t.transformTemplate),NC(n,r)})})}})},a4={useVisualState:yC({scrapeMotionValuesFromProps:ry,createRenderState:ty})};function AC(t,e,n){for(const r in e)!ln(e[r])&&!TC(r,n)&&(t[r]=e[r])}function o4({transformTemplate:t},e){return _.useMemo(()=>{const n=ty();return Qv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function l4(t,e){const n=t.style||{},r={};return AC(r,n,t),Object.assign(r,o4(t,e)),r}function c4(t,e){const n={},r=l4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function u4(t,e,n,r){const s=_.useMemo(()=>{const i=SC();return ey(i,e,ny(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};AC(i,t.style,t),s.style={...i,...s.style}}return s}function d4(t=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Kv(n)?u4:c4)(r,i,a,n),u=N5(r,typeof n=="string",t),d=n!==_.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=_.useMemo(()=>ln(h)?h.get():h,[h]);return _.createElement(n,{...d,children:f})}}function h4(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Kv(r)?i4:a4,preloadedFeatures:t,useRender:d4(s),createVisualElement:e,Component:r};return I5(a)}}function RC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function tp(t,e,n){const r=t.getProps();return Yv(r,e,n!==void 0?n:r.custom,t)}const jC=Hv(()=>window.ScrollTimeline!==void 0);class f4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(jC()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class p4 extends f4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sy(t,e){return t?t[e]||t.default||t:void 0}const dg=2e4;function PC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dg;)e+=n,r=t.next(e);return e>=dg?1/0:e}function iy(t){return typeof t=="function"}function V_(t,e){t.timeline=e,t.onfinish=null}const ay=t=>Array.isArray(t)&&typeof t[0]=="number",m4={linearEasing:void 0};function g4(t,e){const n=Hv(t);return()=>{var r;return(r=m4[e])!==null&&r!==void 0?r:n()}}const df=g4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Ka(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function DC(t){return!!(typeof t=="function"&&df()||!t||typeof t=="string"&&(t in hg||df())||ay(t)||Array.isArray(t)&&t.every(DC))}const Cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function IC(t,e){if(t)return typeof t=="function"&&df()?kC(t,e):ay(t)?Cc(t):Array.isArray(t)?t.map(n=>IC(n,e)||hg.easeOut):hg[t]}const Zr={x:!1,y:!1};function LC(){return Zr.x||Zr.y}function OC(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function UC(t,e){const n=OC(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function $_(t){return e=>{e.pointerType==="touch"||LC()||t(e)}}function x4(t,e,n={}){const[r,s,i]=UC(t,n),a=$_(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=$_(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const FC=(t,e)=>e?t===e?!0:FC(t,e.parentElement):!1,oy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,v4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y4(t){return v4.has(t.tagName)||t.tabIndex!==-1}const Nc=new WeakSet;function H_(t){return e=>{e.key==="Enter"&&t(e)}}function nm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const b4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=H_(()=>{if(Nc.has(n))return;nm(n,"down");const s=H_(()=>{nm(n,"up")}),i=()=>nm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function G_(t){return oy(t)&&!LC()}function _4(t,e,n={}){const[r,s,i]=UC(t,n),a=l=>{const c=l.currentTarget;if(!G_(l)||Nc.has(c))return;Nc.add(c);const u=e(l),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!G_(p)||!Nc.has(c))&&(Nc.delete(c),typeof u=="function"&&u(p,{success:x}))},h=p=>{d(p,n.useGlobalTarget||FC(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!y4(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l.addEventListener("focus",u=>b4(u,s),s)}),i}function w4(t){return t==="x"||t==="y"?Zr[t]?null:(Zr[t]=!0,()=>{Zr[t]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}const zC=new Set(["width","height","top","left","right","bottom",...$l]);let Nh;function S4(){Nh=void 0}const Es={now:()=>(Nh===void 0&&Es.set(pn.isProcessing||b5.useManualTiming?pn.timestamp:performance.now()),Nh),set:t=>{Nh=t,queueMicrotask(S4)}};function ly(t,e){t.indexOf(e)===-1&&t.push(e)}function cy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uy{constructor(){this.subscriptions=[]}add(e){return ly(this.subscriptions,e),()=>cy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dy(t,e){return e?t*(1e3/e):0}const W_=30,E4=t=>!isNaN(parseFloat(t)),Fc={current:void 0};class C4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Es.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uy);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Fc.current&&Fc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>W_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,W_);return dy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ys(t,e){return new C4(t,e)}function N4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ys(n))}function T4(t,e){const n=tp(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=B5(i[a]);N4(t,a,l)}}function M4(t){return!!(ln(t)&&t.add)}function fg(t,e){const n=t.getValue("willChange");if(M4(n))return n.add(e)}function BC(t){return t.props[gC]}const VC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,A4=1e-7,R4=12;function j4(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=VC(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>A4&&++l<R4);return a}function Bu(t,e,n,r){if(t===e&&n===r)return qn;const s=i=>j4(i,0,1,t,n);return i=>i===0||i===1?i:VC(s(i),e,r)}const $C=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HC=t=>e=>1-t(1-e),GC=Bu(.33,1.53,.69,.99),hy=HC(GC),WC=$C(hy),qC=t=>(t*=2)<1?.5*hy(t):.5*(2-Math.pow(2,-10*(t-1))),fy=t=>1-Math.sin(Math.acos(t)),XC=HC(fy),KC=$C(fy),YC=t=>/^0[^.\s]+$/u.test(t);function P4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YC(t):!0}const zc=t=>Math.round(t*1e5)/1e5,py=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k4(t){return t==null}const D4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,my=(t,e)=>n=>!!(typeof n=="string"&&D4.test(n)&&n.startsWith(t)||e&&!k4(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(py);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},I4=t=>Ts(0,255,t),rm={...Hl,transform:t=>Math.round(I4(t))},Oa={test:my("rgb","red"),parse:ZC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+rm.transform(t)+", "+rm.transform(e)+", "+rm.transform(n)+", "+zc(gu.transform(r))+")"};function L4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const pg={test:my("#"),parse:L4,transform:Oa.transform},Qo={test:my("hsl","hue"),parse:ZC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ss.transform(zc(e))+", "+Ss.transform(zc(n))+", "+zc(gu.transform(r))+")"},Ln={test:t=>Oa.test(t)||pg.test(t)||Qo.test(t),parse:t=>Oa.test(t)?Oa.parse(t):Qo.test(t)?Qo.parse(t):pg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oa.transform(t):Qo.transform(t)},O4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(py))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(O4))===null||n===void 0?void 0:n.length)||0)>0}const JC="number",QC="color",F4="var",z4="var(",q_="${}",B4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(B4,c=>(Ln.test(c)?(r.color.push(i),s.push(QC),n.push(Ln.parse(c))):c.startsWith(z4)?(r.var.push(i),s.push(F4),n.push(c)):(r.number.push(i),s.push(JC),n.push(parseFloat(c))),++i,q_)).split(q_);return{values:n,split:l,indexes:r,types:s}}function eN(t){return xu(t).values}function tN(t){const{split:e,types:n}=xu(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===JC?i+=zc(s[a]):l===QC?i+=Ln.transform(s[a]):i+=s[a]}return i}}const V4=t=>typeof t=="number"?0:t;function $4(t){const e=eN(t);return tN(t)(e.map(V4))}const Ji={test:U4,parse:eN,createTransformer:tN,getAnimatableNone:$4},H4=new Set(["brightness","contrast","saturate","opacity"]);function G4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(py)||[];if(!r)return t;const s=n.replace(r,"");let i=H4.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const W4=/\b([a-z-]*)\(.*?\)/gu,mg={...Ji,getAnimatableNone:t=>{const e=t.match(W4);return e?e.map(G4).join(" "):t}},q4={...Jv,color:Ln,backgroundColor:Ln,outlineColor:Ln,fill:Ln,stroke:Ln,borderColor:Ln,borderTopColor:Ln,borderRightColor:Ln,borderBottomColor:Ln,borderLeftColor:Ln,filter:mg,WebkitFilter:mg},gy=t=>q4[t];function nN(t,e){let n=gy(t);return n!==mg&&(n=Ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const X4=new Set(["auto","none","0"]);function K4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!X4.has(i)&&xu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=nN(n,s)}const X_=t=>t===Hl||t===Ve,K_=(t,e)=>parseFloat(t.split(", ")[e]),Y_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return K_(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?K_(i[1],t):0}},Y4=new Set(["x","y","z"]),Z4=$l.filter(t=>!Y4.has(t));function J4(t){const e=[];return Z4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Y_(4,13),y:Y_(5,14)};Nl.translateX=Nl.x;Nl.translateY=Nl.y;const $a=new Set;let gg=!1,xg=!1;function rN(){if(xg){const t=Array.from($a).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=J4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xg=!1,gg=!1,$a.forEach(t=>t.complete()),$a.clear()}function sN(){$a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xg=!0)})}function Q4(){sN(),rN()}class xy{constructor(e,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?($a.add(this),gg||(gg=!0,ut.read(sN),ut.resolveKeyframes(rN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$a.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$a.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const iN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),eD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tD(t){const e=eD.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function aN(t,e,n=1){const[r,s]=tD(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return iN(a)?parseFloat(a):a}return Zv(s)?aN(s,e,n+1):s}const oN=t=>e=>e.test(t),nD={test:t=>t==="auto",parse:t=>t},lN=[Hl,Ve,Ss,Si,q5,W5,nD],Z_=t=>lN.find(oN(t));class cN extends xy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Zv(u))){const d=aN(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!zC.has(r)||e.length!==2)return;const[s,i]=e,a=Z_(s),l=Z_(i);if(a!==l)if(X_(a)&&X_(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)P4(e[s])&&r.push(s);r.length&&K4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Nl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const J_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ji.test(t)||t==="0")&&!t.startsWith("url("));function rD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sD(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=J_(s,e),l=J_(i,e);return!a||!l?!1:rD(t)||(n==="spring"||iy(n))&&r}const iD=t=>t!==null;function np(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(iD),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const aD=40;class uN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Es.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Q4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Es.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!sD(e,r,s,i))if(a)this.options.duration=0;else{c&&c(np(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const zt=(t,e,n)=>t+(e-t)*n;function sm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=sm(c,l,t+1/3),i=sm(c,l,t),a=sm(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function hf(t,e){return n=>n>0?e:t}const im=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},lD=[pg,Oa,Qo],cD=t=>lD.find(e=>e.test(t));function Q_(t){const e=cD(t);if(!e)return!1;let n=e.parse(t);return e===Qo&&(n=oD(n)),n}const ew=(t,e)=>{const n=Q_(t),r=Q_(e);if(!n||!r)return hf(t,e);const s={...n};return i=>(s.red=im(n.red,r.red,i),s.green=im(n.green,r.green,i),s.blue=im(n.blue,r.blue,i),s.alpha=zt(n.alpha,r.alpha,i),Oa.transform(s))},uD=(t,e)=>n=>e(t(n)),Vu=(...t)=>t.reduce(uD),vg=new Set(["none","hidden"]);function dD(t,e){return vg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function hD(t,e){return n=>zt(t,e,n)}function vy(t){return typeof t=="number"?hD:typeof t=="string"?Zv(t)?hf:Ln.test(t)?ew:mD:Array.isArray(t)?dN:typeof t=="object"?Ln.test(t)?ew:fD:hf}function dN(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>vy(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function fD(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=vy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function pD(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][s[a]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[a]++}return r}const mD=(t,e)=>{const n=Ji.createTransformer(e),r=xu(t),s=xu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?vg.has(t)&&!s.values.length||vg.has(e)&&!r.values.length?dD(t,e):Vu(dN(pD(r,s),s.values),n):hf(t,e)};function hN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zt(t,e,n):vy(t)(t,e)}const gD=5;function fN(t,e,n){const r=Math.max(e-gD,0);return dy(n-t(r),e-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},am=.001;function xD({duration:t=qt.duration,bounce:e=qt.bounce,velocity:n=qt.velocity,mass:r=qt.mass}){let s,i,a=1-e;a=Ts(qt.minDamping,qt.maxDamping,a),t=Ts(qt.minDuration,qt.maxDuration,Zs(t)),a<1?(s=u=>{const d=u*a,h=d*t,f=d-n,p=yg(u,a),x=Math.exp(-h);return am-f/p*x},i=u=>{const h=u*a*t,f=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),m=yg(Math.pow(u,2),a);return(-s(u)+am>0?-1:1)*((f-p)*x)/m}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-am+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=yD(s,i,l);if(t=Ys(t),isNaN(c))return{stiffness:qt.stiffness,damping:qt.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const vD=12;function yD(t,e,n){let r=n;for(let s=1;s<vD;s++)r=r-t(r)/e(r);return r}function yg(t,e){return t*Math.sqrt(1-e*e)}const bD=["duration","bounce"],_D=["stiffness","damping","mass"];function tw(t,e){return e.some(n=>t[n]!==void 0)}function wD(t){let e={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...t};if(!tw(t,_D)&&tw(t,bD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ts(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:qt.mass,stiffness:s,damping:i}}else{const n=xD(t);e={...e,...n,mass:qt.mass},e.isResolvedFromDuration=!0}return e}function pN(t=qt.visualDuration,e=qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=wD({...n,velocity:-Zs(n.velocity||0)}),x=f||0,m=u/(2*Math.sqrt(c*d)),v=a-i,g=Zs(Math.sqrt(c/d)),y=Math.abs(v)<5;r||(r=y?qt.restSpeed.granular:qt.restSpeed.default),s||(s=y?qt.restDelta.granular:qt.restDelta.default);let b;if(m<1){const S=yg(g,m);b=N=>{const M=Math.exp(-m*g*N);return a-M*((x+m*g*v)/S*Math.sin(S*N)+v*Math.cos(S*N))}}else if(m===1)b=S=>a-Math.exp(-g*S)*(v+(x+g*v)*S);else{const S=g*Math.sqrt(m*m-1);b=N=>{const M=Math.exp(-m*g*N),A=Math.min(S*N,300);return a-M*((x+m*g*v)*Math.sinh(A)+S*v*Math.cosh(A))/S}}const w={calculatedDuration:p&&h||null,next:S=>{const N=b(S);if(p)l.done=S>=h;else{let M=0;m<1&&(M=S===0?Ys(x):fN(b,S,N));const A=Math.abs(M)<=r,T=Math.abs(a-N)<=s;l.done=A&&T}return l.value=l.done?a:N,l},toString:()=>{const S=Math.min(PC(w),dg),N=kC(M=>w.next(S*M).value,S,30);return S+"ms "+N}};return w}function nw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=A=>l!==void 0&&A<l||c!==void 0&&A>c,x=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let m=n*e;const v=h+m,g=a===void 0?v:a(v);g!==v&&(m=g-h);const y=A=>-m*Math.exp(-A/r),b=A=>g+y(A),w=A=>{const T=y(A),C=b(A);f.done=Math.abs(T)<=u,f.value=f.done?g:C};let S,N;const M=A=>{p(f.value)&&(S=A,N=pN({keyframes:[f.value,x(f.value)],velocity:fN(b,A,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:A=>{let T=!1;return!N&&S===void 0&&(T=!0,w(A),M(A)),S!==void 0&&A>=S?N.next(A-S):(!T&&w(A),f)}}}const SD=Bu(.42,0,1,1),ED=Bu(0,0,.58,1),mN=Bu(.42,0,.58,1),CD=t=>Array.isArray(t)&&typeof t[0]!="number",ND={linear:qn,easeIn:SD,easeInOut:mN,easeOut:ED,circIn:fy,circInOut:KC,circOut:XC,backIn:hy,backInOut:WC,backOut:GC,anticipate:qC},rw=t=>{if(ay(t)){dC(t.length===4);const[e,n,r,s]=t;return Bu(e,n,r,s)}else if(typeof t=="string")return ND[t];return t};function TD(t,e,n){const r=[],s=n||hN,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||qn:e;l=Vu(c,l)}r.push(l)}return r}function yy(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(dC(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=TD(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ka(t[h],t[h+1],d);return l[h](f)};return n?d=>u(Ts(t[0],t[i-1],d)):u}function MD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ka(0,e,r);t.push(zt(n,1,s))}}function gN(t){const e=[0];return MD(e,t.length-1),e}function AD(t,e){return t.map(n=>n*e)}function RD(t,e){return t.map(()=>e||mN).splice(0,t.length-1)}function ff({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=CD(r)?r.map(rw):rw(r),i={done:!1,value:e[0]},a=AD(n&&n.length===e.length?n:gN(e),t),l=yy(a,e,{ease:Array.isArray(s)?s:RD(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const jD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ut.update(e,!0),stop:()=>Br(e),now:()=>pn.isProcessing?pn.timestamp:Es.now()}},PD={decay:nw,inertia:nw,tween:ff,keyframes:ff,spring:pN},kD=t=>t/100;class rp extends uN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||xy,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=iy(n)?n:PD[n]||ff;let c,u;l!==ff&&typeof e[0]!="number"&&(c=Vu(kD,hN(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=PC(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:x,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,w=i;if(p){const A=Math.min(this.currentTime,d)/h;let T=Math.floor(A),C=A%1;!C&&A>=1&&(C=1),C===1&&T--,T=Math.min(T,p+1),!!(T%2)&&(x==="reverse"?(C=1-C,m&&(C-=m/h)):x==="mirror"&&(w=a)),b=Ts(0,1,C)*h}const S=y?{done:!1,value:c[0]}:w.next(b);l&&(S.value=l(S.value));let{done:N}=S;!y&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return M&&s!==void 0&&(S.value=np(c,this.options,s)),v&&v(S.value),M&&this.finish(),S}get duration(){const{resolved:e}=this;return e?Zs(e.calculatedDuration):0}get time(){return Zs(this.currentTime)}set time(e){e=Ys(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=jD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function DD(t){return new rp(t)}const ID=new Set(["opacity","clipPath","filter","transform"]);function LD(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=IC(l,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const OD=Hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),pf=10,UD=2e4;function FD(t){return iy(t.type)||t.type==="spring"||!DC(t.ease)}function zD(t,e){const n=new rp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<UD;)r=n.sample(i),s.push(r.value),i+=pf;return{times:void 0,keyframes:s,duration:i-pf,ease:"linear"}}const xN={anticipate:qC,backInOut:WC,circInOut:KC};function BD(t){return t in xN}class sw extends uN{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new cN(i,(a,l)=>this.onKeyframesResolved(a,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&df()&&BD(i)&&(i=xN[i]),FD(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:x,...m}=this.options,v=zD(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,s=v.times,i=v.ease,a="keyframes"}const d=LD(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(V_(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(np(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Zs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Zs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ys(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qn;const{animation:r}=n;V_(r,e)}return qn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,x=new rp({...p,keyframes:r,duration:s,type:i,ease:a,times:l,isGenerator:!0}),m=Ys(this.time);u.setWithVelocity(x.sample(m-pf).value,x.sample(m).value,pf)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return OD()&&r&&ID.has(r)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const VD={type:"spring",stiffness:500,damping:25,restSpeed:10},$D=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HD={type:"keyframes",duration:.8},GD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WD=(t,{keyframes:e})=>e.length>2?HD:ao.has(t)?t.startsWith("scale")?$D(e[1]):VD:GD;function qD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const by=(t,e,n,r={},s,i)=>a=>{const l=sy(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ys(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};qD(l)||(d={...d,...WD(t,d)}),d.duration&&(d.duration=Ys(d.duration)),d.repeatDelay&&(d.repeatDelay=Ys(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=np(d.keyframes,l);if(f!==void 0)return ut.update(()=>{d.onUpdate(f),d.onComplete()}),new p4([])}return!i&&sw.supports(d)?new sw(d):new rp(d)};function XD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&XD(d,h))continue;const x={delay:n,...sy(a||{},h)};let m=!1;if(window.MotionHandoffAnimation){const g=BC(t);if(g){const y=window.MotionHandoffAnimation(g,h,ut);y!==null&&(x.startTime=y,m=!0)}}fg(t,h),f.start(by(h,f,p,t.shouldReduceMotion&&zC.has(h)?{type:!1}:x,t,m));const v=f.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{ut.update(()=>{l&&T4(t,l)})}),u}function bg(t,e,n={}){var r;const s=tp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(vN(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return KD(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function KD(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(YD).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(bg(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function YD(t,e){return t.sortNodePosition(e)}function ZD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>bg(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=bg(t,e,n);else{const s=typeof e=="function"?tp(t,e,n.custom):e;r=Promise.all(vN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const JD=Wv.length;function yN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<JD;n++){const r=Wv[n],s=t.props[r];(mu(s)||s===!1)&&(e[r]=s)}return e}const QD=[...Gv].reverse(),eI=Gv.length;function tI(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZD(t,n,r)))}function nI(t){let e=tI(t),n=iw(),r=!0;const s=c=>(u,d)=>{var h;const f=tp(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...m}=f;u={...u,...m,...x}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=yN(t.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let v=0;v<eI;v++){const g=QD[v],y=n[g],b=u[g]!==void 0?u[g]:d[g],w=mu(b),S=g===c?y.isActive:null;S===!1&&(x=v);let N=b===d[g]&&b!==u[g]&&w;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...p},!y.isActive&&S===null||!b&&!y.prevProp||Qf(b)||typeof b=="boolean")continue;const M=rI(y.prevProp,b);let A=M||g===c&&y.isActive&&!N&&w||v>x&&w,T=!1;const C=Array.isArray(b)?b:[b];let j=C.reduce(s(g),{});S===!1&&(j={});const{prevResolvedValues:D={}}=y,z={...D,...j},H=B=>{A=!0,f.has(B)&&(T=!0,f.delete(B)),y.needsAnimating[B]=!0;const I=t.getValue(B);I&&(I.liveStyle=!1)};for(const B in z){const I=j[B],V=D[B];if(p.hasOwnProperty(B))continue;let K=!1;ug(I)&&ug(V)?K=!RC(I,V):K=I!==V,K?I!=null?H(B):f.add(B):I!==void 0&&f.has(B)?H(B):y.protectedKeys[B]=!0}y.prevProp=b,y.prevResolvedValues=j,y.isActive&&(p={...p,...j}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(N&&M)||T)&&h.push(...C.map(B=>({animation:B,options:{type:g}})))}if(f.size){const v={};f.forEach(g=>{const y=t.getBaseTarget(g),b=t.getValue(g);b&&(b.liveStyle=!0),v[g]=y??null}),h.push({animation:v})}let m=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=iw(),r=!0}}}function rI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RC(e,t):!1}function fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iw(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}let aa=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};class sI extends aa{constructor(e){super(e),e.animationState||(e.animationState=nI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let iI=0;class aI extends aa{constructor(){super(...arguments),this.id=iI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const oI={animation:{Feature:sI},exit:{Feature:aI}};function vu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $u(t){return{point:{x:t.pageX,y:t.pageY}}}const lI=t=>e=>oy(e)&&t(e,$u(e));function Bc(t,e,n,r){return vu(t,e,lI(n),r)}const aw=(t,e)=>Math.abs(t-e);function cI(t,e){const n=aw(t.x,e.x),r=aw(t.y,e.y);return Math.sqrt(n**2+r**2)}class bN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=lm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=cI(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:m}=pn;this.history.push({...x,timestamp:m});const{onStart:v,onMove:g}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=om(f,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=lm(h.type==="pointercancel"?this.lastMoveEventInfo:om(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),x&&x(h,v)},!oy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=$u(e),l=om(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=pn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,lm(l,this.history)),this.removeListeners=Vu(Bc(this.contextWindow,"pointermove",this.handlePointerMove),Bc(this.contextWindow,"pointerup",this.handlePointerUp),Bc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Br(this.updatePoint)}}function om(t,e){return e?{point:e(t.point)}:t}function ow(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lm({point:t},e){return{point:t,delta:ow(t,_N(e)),offset:ow(t,uI(e)),velocity:dI(e,.1)}}function uI(t){return t[0]}function _N(t){return t[t.length-1]}function dI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=_N(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ys(e)));)n--;if(!r)return{x:0,y:0};const i=Zs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const wN=1e-4,hI=1-wN,fI=1+wN,SN=.01,pI=0-SN,mI=0+SN;function wr(t){return t.max-t.min}function gI(t,e,n){return Math.abs(t-e)<=n}function lw(t,e,n,r=.5){t.origin=r,t.originPoint=zt(e.min,e.max,t.origin),t.scale=wr(n)/wr(e),t.translate=zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hI&&t.scale<=fI||isNaN(t.scale))&&(t.scale=1),(t.translate>=pI&&t.translate<=mI||isNaN(t.translate))&&(t.translate=0)}function Vc(t,e,n,r){lw(t.x,e.x,n.x,r?r.originX:void 0),lw(t.y,e.y,n.y,r?r.originY:void 0)}function cw(t,e,n){t.min=n.min+e.min,t.max=t.min+wr(e)}function xI(t,e,n){cw(t.x,e.x,n.x),cw(t.y,e.y,n.y)}function uw(t,e,n){t.min=e.min-n.min,t.max=t.min+wr(e)}function $c(t,e,n){uw(t.x,e.x,n.x),uw(t.y,e.y,n.y)}function vI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zt(n,t,r.max):Math.min(t,n)),t}function dw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yI(t,{top:e,left:n,bottom:r,right:s}){return{x:dw(t.x,n,s),y:dw(t.y,e,r)}}function hw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bI(t,e){return{x:hw(t.x,e.x),y:hw(t.y,e.y)}}function _I(t,e){let n=.5;const r=wr(t),s=wr(e);return s>r?n=Ka(e.min,e.max-r,t.min):r>s&&(n=Ka(t.min,t.max-s,e.min)),Ts(0,1,n)}function wI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _g=.35;function SI(t=_g){return t===!1?t=0:t===!0&&(t=_g),{x:fw(t,"left","right"),y:fw(t,"top","bottom")}}function fw(t,e,n){return{min:pw(t,e),max:pw(t,n)}}function pw(t,e){return typeof t=="number"?t:t[e]||0}const mw=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:mw(),y:mw()}),gw=()=>({min:0,max:0}),Kt=()=>({x:gw(),y:gw()});function Ar(t){return[t("x"),t("y")]}function EN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function EI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cm(t){return t===void 0||t===1}function wg({scale:t,scaleX:e,scaleY:n}){return!cm(t)||!cm(e)||!cm(n)}function Ca(t){return wg(t)||CN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CN(t){return xw(t.x)||xw(t.y)}function xw(t){return t&&t!=="0%"}function mf(t,e,n){const r=t-n,s=e*r;return n+s}function vw(t,e,n,r,s){return s!==void 0&&(t=mf(t,s,r)),mf(t,n,r)+e}function Sg(t,e=0,n=1,r,s){t.min=vw(t.min,e,n,r,s),t.max=vw(t.max,e,n,r,s)}function NN(t,{x:e,y:n}){Sg(t.x,e.translate,e.scale,e.originPoint),Sg(t.y,n.translate,n.scale,n.originPoint)}const yw=.999999999999,bw=1.0000000000001;function NI(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,NN(t,a)),r&&Ca(i.latestValues)&&nl(t,i.latestValues))}e.x<bw&&e.x>yw&&(e.x=1),e.y<bw&&e.y>yw&&(e.y=1)}function tl(t,e){t.min=t.min+e,t.max=t.max+e}function _w(t,e,n,r,s=.5){const i=zt(t.min,t.max,s);Sg(t,e,n,i,r)}function nl(t,e){_w(t.x,e.x,e.scaleX,e.scale,e.originX),_w(t.y,e.y,e.scaleY,e.scale,e.originY)}function TN(t,e){return EN(CI(t.getBoundingClientRect(),e))}function TI(t,e,n){const r=TN(t,n),{scroll:s}=e;return s&&(tl(r.x,s.offset.x),tl(r.y,s.offset.y)),r}const MN=({current:t})=>t?t.ownerDocument.defaultView:null,MI=new WeakMap;class AI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($u(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=w4(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(v=>{let g=this.getAxisMotionValue(v).get()||0;if(Ss.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[v];b&&(g=wr(b)*(parseFloat(g)/100))}}this.originPoint[v]=g}),x&&ut.postRender(()=>x(d,h)),fg(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=RI(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),m&&m(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Ar(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bN(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:MN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ut.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!_d(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=vI(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Jo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=yI(s.layoutBox,n):this.constraints=!1,this.elastic=SI(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ar(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=wI(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=TI(r,s.root,this.visualElement.getTransformPagePoint());let a=bI(s.layout.layoutBox,i);if(n){const l=n(EI(a));this.hasMutatedConstraints=!!l,l&&(a=EN(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ar(d=>{if(!_d(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return fg(this.visualElement,e),r.start(by(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!_d(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-zt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=_I({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(a=>{if(!_d(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(zt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;MI.set(this.visualElement,this);const e=this.visualElement.current,n=Bc(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Jo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ut.read(r);const a=vu(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ar(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=_g,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function _d(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function RI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jI extends aa{constructor(e){super(e),this.removeGroupControls=qn,this.removeListeners=qn,this.controls=new AI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const ww=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class PI extends aa{constructor(){super(...arguments),this.removePointerDownListener=qn}onPointerDown(e){this.session=new bN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:ww(e),onStart:ww(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ut.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Bc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Th={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=Sw(t,e.target.x),r=Sw(t,e.target.y);return`${n}% ${r}%`}},kI={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ji.parse(t);if(s.length>5)return r;const i=Ji.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=zt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class DI extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;r4(II),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Th.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ut.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AN(t){const[e,n]=uC(),r=_.useContext(Vv);return o.jsx(DI,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(xC),isPresent:e,safeToRemove:n})}const II={borderRadius:{...cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cc,borderTopRightRadius:cc,borderBottomLeftRadius:cc,borderBottomRightRadius:cc,boxShadow:kI};function LI(t,e,n){const r=ln(t)?t:ys(t);return r.start(by("",r,e,n)),r.animation}function OI(t){return t instanceof SVGElement&&t.tagName!=="svg"}const UI=(t,e)=>t.depth-e.depth;class FI{constructor(){this.children=[],this.isDirty=!1}add(e){ly(this.children,e),this.isDirty=!0}remove(e){cy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UI),this.isDirty=!1,this.children.forEach(e)}}function zI(t,e){const n=Es.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Br(r),t(i-e))};return ut.read(r,!0),()=>Br(r)}const RN=["TopLeft","TopRight","BottomLeft","BottomRight"],BI=RN.length,Ew=t=>typeof t=="string"?parseFloat(t):t,Cw=t=>typeof t=="number"||Ve.test(t);function VI(t,e,n,r,s,i){s?(t.opacity=zt(0,n.opacity!==void 0?n.opacity:1,$I(r)),t.opacityExit=zt(e.opacity!==void 0?e.opacity:1,0,HI(r))):i&&(t.opacity=zt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<BI;a++){const l=`border${RN[a]}Radius`;let c=Nw(e,l),u=Nw(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Cw(c)===Cw(u)?(t[l]=Math.max(zt(Ew(c),Ew(u),r),0),(Ss.test(u)||Ss.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=zt(e.rotate||0,n.rotate||0,r))}function Nw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $I=jN(0,.5,XC),HI=jN(.5,.95,qn);function jN(t,e,n){return r=>r<t?0:r>e?1:n(Ka(t,e,r))}function Tw(t,e){t.min=e.min,t.max=e.max}function Tr(t,e){Tw(t.x,e.x),Tw(t.y,e.y)}function Mw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Aw(t,e,n,r,s){return t-=e,t=mf(t,1/n,r),s!==void 0&&(t=mf(t,1/s,r)),t}function GI(t,e=0,n=1,r=.5,s,i=t,a=t){if(Ss.test(e)&&(e=parseFloat(e),e=zt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=zt(i.min,i.max,r);t===i&&(l-=e),t.min=Aw(t.min,e,n,l,s),t.max=Aw(t.max,e,n,l,s)}function Rw(t,e,[n,r,s],i,a){GI(t,e[n],e[r],e[s],e.scale,i,a)}const WI=["x","scaleX","originX"],qI=["y","scaleY","originY"];function jw(t,e,n,r){Rw(t.x,e,WI,n?n.x:void 0,r?r.x:void 0),Rw(t.y,e,qI,n?n.y:void 0,r?r.y:void 0)}function Pw(t){return t.translate===0&&t.scale===1}function PN(t){return Pw(t.x)&&Pw(t.y)}function kw(t,e){return t.min===e.min&&t.max===e.max}function XI(t,e){return kw(t.x,e.x)&&kw(t.y,e.y)}function Dw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kN(t,e){return Dw(t.x,e.x)&&Dw(t.y,e.y)}function Iw(t){return wr(t.x)/wr(t.y)}function Lw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class KI{constructor(){this.members=[]}add(e){ly(this.members,e),e.scheduleRender()}remove(e){if(cy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YI(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Na={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Tc=typeof window<"u"&&window.MotionDebug!==void 0,um=["","X","Y","Z"],ZI={visibility:"hidden"},Ow=1e3;let JI=0;function dm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DN(r)}function IN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=JI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tc&&(Na.totalNodes=Na.resolvedTargetDeltas=Na.recalculatedProjection=0),this.nodes.forEach(tL),this.nodes.forEach(aL),this.nodes.forEach(oL),this.nodes.forEach(nL),Tc&&window.MotionDebug.record(Na)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new FI)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uy),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=OI(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=zI(f,250),Th.hasAnimatedSinceResize&&(Th.hasAnimatedSinceResize=!1,this.nodes.forEach(Fw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||hL,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!kN(this.targetLayout,x)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const w={...sy(m,"layout"),onPlay:v,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||Fw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Br(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lL),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uw);return}this.isUpdating||this.nodes.forEach(sL),this.isUpdating=!1,this.nodes.forEach(iL),this.nodes.forEach(QI),this.nodes.forEach(eL),this.clearAllSnapshots();const l=Es.now();pn.delta=Ts(0,1e3/60,l-pn.timestamp),pn.timestamp=l,pn.isProcessing=!0,tm.update.process(pn),tm.preRender.process(pn),tm.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rL),this.sharedNodes.forEach(cL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!PN(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Ca(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),fL(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return Kt();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(pL))){const{scroll:d}=this.root;d&&(tl(c.x,d.offset.x),tl(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=Kt();if(Tr(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Tr(c,a),tl(c.x,h.offset.x),tl(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=Kt();Tr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&nl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ca(d.latestValues)&&nl(c,d.latestValues)}return Ca(this.latestValues)&&nl(c,this.latestValues),c}removeTransform(a){const l=Kt();Tr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ca(u.latestValues))continue;wg(u.latestValues)&&u.updateSnapshot();const d=Kt(),h=u.measurePageBox();Tr(d,h),jw(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ca(this.latestValues)&&jw(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),$c(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Kt(),this.targetWithTransforms=Kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tr(this.target,this.layout.layoutBox),NN(this.target,this.targetDelta)):Tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kt(),this.relativeTargetOrigin=Kt(),$c(this.relativeTargetOrigin,this.target,p.target),Tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tc&&Na.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wg(this.parent.latestValues)||CN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Tr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;NI(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Kt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mw(this.prevProjectionDelta.x,this.projectionDelta.x),Mw(this.prevProjectionDelta.y,this.projectionDelta.y)),Vc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Lw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Tc&&Na.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Kt(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,m=p!==x,v=this.getStack(),g=!v||v.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(dL));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;zw(h.x,a.x,S),zw(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($c(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uL(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&XI(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Kt()),Tr(b,this.relativeTarget)),m&&(this.animationValues=d,VI(d,u,this.latestValues,S,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Br(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Th.hasAnimatedSinceResize=!0,this.currentAnimation=LI(0,Ow,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ow),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&LN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Kt();const h=wr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=wr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Tr(l,c),nl(l,d),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new KI),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&dm("z",a,u,this.animationValues);for(let d=0;d<um.length;d++)dm(`rotate${um[d]}`,a,u,this.animationValues),dm(`skew${um[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZI;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ch(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ch(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=YI(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in uf){if(f[m]===void 0)continue;const{correct:v,applyTo:g}=uf[m],y=u.transform==="none"?f[m]:v(f[m],h);if(g){const b=g.length;for(let w=0;w<b;w++)u[g[w]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=h===this?Ch(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Uw),this.root.sharedNodes.clear()}}}function QI(t){t.updateLayout()}function eL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Ar(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=wr(f);f.min=r[h].min,f.max=f.min+p}):LN(i,n.layoutBox,r)&&Ar(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=wr(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=el();Vc(l,r,n.layoutBox);const c=el();a?Vc(c,t.applyTransform(s,!0),n.measuredBox):Vc(c,r,n.layoutBox);const u=!PN(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=Kt();$c(x,n.layoutBox,f.layoutBox);const m=Kt();$c(m,r,p.layoutBox),kN(x,m)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tL(t){Tc&&Na.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rL(t){t.clearSnapshot()}function Uw(t){t.clearMeasurements()}function sL(t){t.isLayoutDirty=!1}function iL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aL(t){t.resolveTargetDelta()}function oL(t){t.calcProjection()}function lL(t){t.resetSkewAndRotation()}function cL(t){t.removeLeadSnapshot()}function zw(t,e,n){t.translate=zt(e.translate,0,n),t.scale=zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Bw(t,e,n,r){t.min=zt(e.min,n.min,r),t.max=zt(e.max,n.max,r)}function uL(t,e,n,r){Bw(t.x,e.x,n.x,r),Bw(t.y,e.y,n.y,r)}function dL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hL={duration:.45,ease:[.4,0,.1,1]},Vw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$w=Vw("applewebkit/")&&!Vw("chrome/")?Math.round:qn;function Hw(t){t.min=$w(t.min),t.max=$w(t.max)}function fL(t){Hw(t.x),Hw(t.y)}function LN(t,e,n){return t==="position"||t==="preserve-aspect"&&!gI(Iw(e),Iw(n),.2)}function pL(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const mL=IN({attachResizeListener:(t,e)=>vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hm={current:void 0},ON=IN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hm.current){const t=new mL({});t.mount(window),t.setOptions({layoutScroll:!0}),hm.current=t}return hm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gL={pan:{Feature:PI},drag:{Feature:jI,ProjectionNode:ON,MeasureLayout:AN}};function Gw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ut.postRender(()=>i(e,$u(e)))}class xL extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=x4(e,n=>(Gw(this.node,n,"Start"),r=>Gw(this.node,r,"End"))))}unmount(){}}class vL extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vu(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ww(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ut.postRender(()=>i(e,$u(e)))}class yL extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=_4(e,n=>(Ww(this.node,n,"Start"),(r,{success:s})=>Ww(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Eg=new WeakMap,fm=new WeakMap,bL=t=>{const e=Eg.get(t.target);e&&e(t)},_L=t=>{t.forEach(bL)};function wL({root:t,...e}){const n=t||document;fm.has(n)||fm.set(n,{});const r=fm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_L,{root:t,...e})),r[s]}function SL(t,e,n){const r=wL(e);return Eg.set(t,n),r.observe(t),()=>{Eg.delete(t),r.unobserve(t)}}const EL={some:0,all:1};class CL extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:EL[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return SL(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NL(e,n))&&this.startObserver()}unmount(){}}function NL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const TL={inView:{Feature:CL},tap:{Feature:yL},focus:{Feature:vL},hover:{Feature:xL}},ML={layout:{ProjectionNode:ON,MeasureLayout:AN}},gf={current:null},_y={current:!1};function UN(){if(_y.current=!0,!!$v)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gf.current=t.matches;t.addListener(e),e()}else gf.current=!1}const AL=[...lN,Ln,Ji],RL=t=>AL.find(oN(t)),qw=new WeakMap;function jL(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ln(s))t.addValue(r,s);else if(ln(i))t.addValue(r,ys(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,ys(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Xw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PL{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Es.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ut.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ep(n),this.isVariantNode=mC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const x=f[p];c[p]!==void 0&&ln(x)&&x.set(c[p],!1)}}mount(e){this.current=e,qw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_y.current||UN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qw.delete(this.current),this.projection&&this.projection.unmount(),Br(this.notifyUpdate),Br(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ao.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cl){const n=Cl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xw.length;r++){const s=Xw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=jL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ys(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(iN(s)||YC(s))?s=parseFloat(s):!RL(s)&&Ji.test(n)&&(s=nN(e,n)),this.setBaseTarget(e,ln(s)?s.get():s)),ln(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=Yv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ln(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FN extends PL{constructor(){super(...arguments),this.KeyframeResolver=cN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kL(t){return window.getComputedStyle(t)}class DL extends FN{constructor(){super(...arguments),this.type="html",this.renderInstance=EC}readValueFromInstance(e,n){if(ao.has(n)){const r=gy(n);return r&&r.default||0}else{const r=kL(e),s=(_C(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TN(e,n)}build(e,n,r){Qv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ry(e,n,r)}}class IL extends FN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ao.has(n)){const r=gy(n);return r&&r.default||0}return n=CC.has(n)?n:qv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return MC(e,n,r)}build(e,n,r){ey(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){NC(e,n,r,s)}mount(e){this.isSVGTag=ny(e.tagName),super.mount(e)}}const LL=(t,e)=>Kv(t)?new IL(e):new DL(e,{allowProjection:t!==_.Fragment}),OL=h4({...oI,...TL,...gL,...ML},LL),Ye=T5(OL);function zN(t,e,n){_.useInsertionEffect(()=>t.on(e,n),[t,e,n])}function BN(t,e){let n;const r=()=>{const{currentTime:s}=e,a=(s===null?0:s.value)/100;n!==a&&t(a),n=a};return ut.update(r,!0),()=>Br(r)}const Mh=new WeakMap;let Ei;function UL(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function FL({target:t,contentRect:e,borderBoxSize:n}){var r;(r=Mh.get(t))===null||r===void 0||r.forEach(s=>{s({target:t,contentSize:e,get size(){return UL(t,n)}})})}function zL(t){t.forEach(FL)}function BL(){typeof ResizeObserver>"u"||(Ei=new ResizeObserver(zL))}function VL(t,e){Ei||BL();const n=OC(t);return n.forEach(r=>{let s=Mh.get(r);s||(s=new Set,Mh.set(r,s)),s.add(e),Ei==null||Ei.observe(r)}),()=>{n.forEach(r=>{const s=Mh.get(r);s==null||s.delete(e),s!=null&&s.size||Ei==null||Ei.unobserve(r)})}}const Ah=new Set;let Hc;function $L(){Hc=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Ah.forEach(n=>n(e))},window.addEventListener("resize",Hc)}function HL(t){return Ah.add(t),Hc||$L(),()=>{Ah.delete(t),!Ah.size&&Hc&&(Hc=void 0)}}function GL(t,e){return typeof t=="function"?HL(t):VL(t,e)}const WL=50,Kw=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),qL=()=>({time:0,x:Kw(),y:Kw()}),XL={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Yw(t,e,n,r){const s=n[e],{length:i,position:a}=XL[e],l=s.current,c=n.time;s.current=t[`scroll${a}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Ka(0,s.scrollLength,s.current);const u=r-c;s.velocity=u>WL?0:dy(s.current-l,u)}function KL(t,e,n){Yw(t,"x",e,n),Yw(t,"y",e,n),e.time=n}function YL(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let a=null,l=r.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=r.parentNode;r=a}else break;return n}const Cg={start:0,center:.5,end:1};function Zw(t,e,n=0){let r=0;if(t in Cg&&(t=Cg[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const ZL=[0,0];function JL(t,e,n,r){let s=Array.isArray(t)?t:ZL,i=0,a=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,Cg[t]?t:"0"]),i=Zw(s[0],n,r),a=Zw(s[1],e),i-a}const QL={All:[[0,0],[1,1]]},eO={x:0,y:0};function tO(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function nO(t,e,n){const{offset:r=QL.All}=n,{target:s=t,axis:i="y"}=n,a=i==="y"?"height":"width",l=s!==t?YL(s,t):eO,c=s===t?{width:t.scrollWidth,height:t.scrollHeight}:tO(s),u={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const h=r.length;for(let f=0;f<h;f++){const p=JL(r[f],u[a],c[a],l[i]);!d&&p!==e[i].interpolatorOffsets[f]&&(d=!0),e[i].offset[f]=p}d&&(e[i].interpolate=yy(e[i].offset,gN(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Ts(0,1,e[i].interpolate(e[i].current))}function rO(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function sO(t,e,n,r={}){return{measure:()=>rO(t,r.target,n),update:s=>{KL(t,n,s),(r.offset||r.target)&&nO(t,n,r)},notify:()=>e(n)}}const uc=new WeakMap,Jw=new WeakMap,pm=new WeakMap,Qw=t=>t===document.documentElement?window:t;function wy(t,{container:e=document.documentElement,...n}={}){let r=pm.get(e);r||(r=new Set,pm.set(e,r));const s=qL(),i=sO(e,t,s,n);if(r.add(i),!uc.has(e)){const l=()=>{for(const f of r)f.measure()},c=()=>{for(const f of r)f.update(pn.timestamp)},u=()=>{for(const f of r)f.notify()},d=()=>{ut.read(l,!1,!0),ut.read(c,!1,!0),ut.update(u,!1,!0)};uc.set(e,d);const h=Qw(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&Jw.set(e,GL(e,d)),h.addEventListener("scroll",d,{passive:!0})}const a=uc.get(e);return ut.read(a,!1,!0),()=>{var l;Br(a);const c=pm.get(e);if(!c||(c.delete(i),c.size))return;const u=uc.get(e);uc.delete(e),u&&(Qw(e).removeEventListener("scroll",u),(l=Jw.get(e))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function iO({source:t,container:e,axis:n="y"}){t&&(e=t);const r={value:0},s=wy(i=>{r.value=i[n].progress*100},{container:e,axis:n});return{currentTime:r,cancel:s}}const mm=new Map;function VN({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),mm.has(e)||mm.set(e,{});const r=mm.get(e);return r[n]||(r[n]=jC()?new ScrollTimeline({source:e,axis:n}):iO({source:e,axis:n})),r[n]}function aO(t){return t.length===2}function $N(t){return t&&(t.target||t.offset)}function oO(t,e){return aO(t)||$N(e)?wy(n=>{t(n[e.axis].progress,n)},e):BN(t,VN(e))}function lO(t,e){if(t.flatten(),$N(e))return t.pause(),wy(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=VN(e);return t.attachTimeline?t.attachTimeline(n,r=>(r.pause(),BN(s=>{r.time=r.duration*s},n))):qn}}function cO(t,{axis:e="y",...n}={}){const r={axis:e,...n};return typeof t=="function"?oO(t,r):lO(t,r)}function e1(t,e){y5(!!(!e||e.current))}const uO=()=>({scrollX:ys(0),scrollY:ys(0),scrollXProgress:ys(0),scrollYProgress:ys(0)});function Gl({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=Bl(uO);return(n?Fu:_.useEffect)(()=>(e1("target",e),e1("container",t),cO((a,{x:l,y:c})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(c.current),s.scrollYProgress.set(c.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function Tl(t){const e=Bl(()=>ys(t)),{isStatic:n}=_.useContext(Vl);if(n){const[,r]=_.useState(t);_.useEffect(()=>e.on("change",r),[])}return e}function Sy(t,e){const n=Tl(e()),r=()=>n.set(e());return r(),Fu(()=>{const s=()=>ut.preRender(r,!1,!0),i=t.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),Br(r)}}),n}function wd(t,...e){const n=t.length;function r(){let s="";for(let i=0;i<n;i++){s+=t[i];const a=e[i];a&&(s+=ln(a)?a.get():a)}return s}return Sy(e.filter(ln),r)}function t1(t){return typeof t=="number"?t:parseFloat(t)}function dO(t,e={}){const{isStatic:n}=_.useContext(Vl),r=_.useRef(null),s=Tl(ln(t)?t1(t.get()):t),i=_.useRef(s.get()),a=_.useRef(()=>{}),l=()=>{const u=r.current;u&&u.time===0&&u.sample(pn.delta),c(),r.current=DD({keyframes:[s.get(),i.current],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a.current})},c=()=>{r.current&&r.current.stop()};return _.useInsertionEffect(()=>s.attach((u,d)=>n?d(u):(i.current=u,a.current=d,ut.update(l),s.get()),c),[JSON.stringify(e)]),Fu(()=>{if(ln(t))return t.on("change",u=>s.set(t1(u)))},[s]),s}function hO(t){const e=_.useRef(0),{isStatic:n}=_.useContext(Vl);_.useEffect(()=>{if(n)return;const r=({timestamp:s,delta:i})=>{e.current||(e.current=s),t(s-e.current,i)};return ut.update(r,!0),()=>Br(r)},[t])}const fO=t=>t&&typeof t=="object"&&t.mix,pO=t=>fO(t)?t.mix:void 0;function mO(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],a=t[3+n],l=yy(s,i,{mixer:pO(i[0]),...a});return e?l(r):l}function gO(t){Fc.current=[],t();const e=Sy(Fc.current,t);return Fc.current=void 0,e}function An(t,e,n,r){if(typeof t=="function")return gO(t);const s=typeof e=="function"?e:mO(e,n,r);return Array.isArray(t)?n1(t,s):n1([t],([i])=>s(i))}function n1(t,e){const n=Bl(()=>[]);return Sy(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function xO(t){const e=Tl(t.getVelocity()),n=()=>{const r=t.getVelocity();e.set(r),r&&ut.update(n)};return zN(t,"change",()=>{ut.update(n,!1,!0)}),e}function vO(){!_y.current&&UN();const[t]=_.useState(gf.current);return t}const r1={type:"spring",mass:.5,damping:11.5,stiffness:100,restDelta:.001,restSpeed:.001},pa=({setActive:t,active:e,item:n,children:r})=>o.jsxs("div",{onMouseEnter:()=>t(n),className:"relative ",children:[o.jsx(Ye.p,{transition:{duration:.3},className:"cursor-pointer text-gray-900 hover:opacity-[0.9]",children:n}),e!==null&&o.jsx(Ye.div,{initial:{opacity:0,scale:.85,y:10},animate:{opacity:1,scale:1,y:0},transition:r1,children:e===n&&o.jsx("div",{className:"absolute top-[calc(100%_+_1.2rem)] left-1/2 transform -translate-x-1/2 pt-4",children:o.jsx(Ye.div,{transition:r1,layoutId:"active",className:"bg-white/80 backdrop-blur-md rounded-2xl overflow-hidden border border-black/5 shadow-xl",children:o.jsx(Ye.div,{layout:!0,className:"w-max h-full p-4",children:r})})})})]}),yO=({setActive:t,children:e})=>o.jsx("nav",{onMouseLeave:()=>t(null),className:"relative rounded-full border border-black/5 bg-white/40 backdrop-blur-md shadow-input flex justify-center space-x-4 px-8 py-6 ",children:e}),Sd=({children:t,href:e,...n})=>o.jsx(Rt,{to:e,...n,className:"text-gray-600 hover:text-gray-900 ",children:t});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>_.createElement("svg",{ref:c,..._O,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HN("lucide",s),...l},[...a.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(wO,{ref:i,iconNode:e,className:HN(`lucide-${bO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=Pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=Pe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=Pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=Pe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Pe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=Pe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=Pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Pe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=Pe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Pe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Pe("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Pe("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Pe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Pe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function GO({items:t,socialItems:e=[]}){const[n,r]=_.useState(!1),[s,i]=_.useState([]),a=()=>r(!n),l=()=>{r(!1),i([])},c=u=>{i(d=>d.includes(u)?d.filter(h=>h!==u):[...d,u])};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[100] flex items-center justify-between p-3 sm:p-4 md:hidden pointer-events-none safe-area-inset-top",children:[o.jsx(Rt,{to:"/",className:"pointer-events-auto backdrop-blur-md bg-white/80 border border-black/10 rounded-lg px-2.5 py-1.5 hover:bg-white/90 hover:border-black/20 transition-all duration-300 shadow-lg",onClick:l,children:o.jsx("img",{src:"/logo.png",alt:"SAKEC ACM Logo",className:"h-12 sm:h-14 w-auto object-cover",style:{objectPosition:"center",clipPath:"inset(15% 0 15% 0)"}})}),o.jsxs("button",{onClick:a,className:"pointer-events-auto relative z-[101] w-10 h-10 sm:w-11 sm:h-11 flex flex-col items-center justify-center gap-1.5 focus:outline-none backdrop-blur-md bg-white/80 border border-black/10 rounded-lg hover:bg-white/90 hover:border-black/20 transition-all shadow-lg","aria-label":n?"Close menu":"Open menu",children:[o.jsx("span",{className:`w-5 sm:w-6 h-0.5 bg-gray-900 rounded-full transition-all duration-300 ${n?"rotate-45 translate-y-2":""}`}),o.jsx("span",{className:`w-5 sm:w-6 h-0.5 bg-gray-900 rounded-full transition-all duration-300 ${n?"opacity-0":""}`}),o.jsx("span",{className:`w-5 sm:w-6 h-0.5 bg-gray-900 rounded-full transition-all duration-300 ${n?"-rotate-45 -translate-y-2":""}`})]})]}),o.jsxs("div",{className:`fixed inset-0 z-[99] md:hidden transition-all duration-500 ${n?"pointer-events-auto":"pointer-events-none"}`,children:[o.jsx("div",{className:`absolute inset-0 bg-white/95 backdrop-blur-xl transition-opacity duration-500 ${n?"opacity-100":"opacity-0"}`,onClick:l}),o.jsxs("div",{className:`relative h-full flex flex-col justify-start items-center px-4 sm:px-6 pt-20 sm:pt-24 pb-6 sm:pb-8 overflow-y-auto transition-all duration-500 safe-area-inset-top safe-area-inset-bottom ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[o.jsx("nav",{className:"w-full max-w-sm flex-shrink-0",children:o.jsx("div",{className:"flex flex-col gap-2 sm:gap-3",children:t.map((u,d)=>o.jsx("div",{children:u.submenu?o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>c(u.label),className:"w-full text-gray-900 text-base sm:text-lg font-semibold py-3 sm:py-4 px-4 sm:px-6 rounded-lg border border-gray-200 hover:border-gray-900 hover:bg-gray-50 transition-all duration-300 flex items-center justify-between",children:[u.label,o.jsx(MO,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 ${s.includes(u.label)?"rotate-180":""}`})]}),o.jsx("div",{className:`overflow-hidden transition-all duration-300 ${s.includes(u.label)?"max-h-96 mt-2":"max-h-0"}`,children:o.jsx("div",{className:"flex flex-col gap-1.5 sm:gap-2 pl-3 sm:pl-4",children:u.submenu.map((h,f)=>o.jsx(Rt,{to:h.link,onClick:l,className:"text-gray-700 text-sm sm:text-base py-2.5 sm:py-3 px-3 sm:px-4 rounded-lg border border-gray-200/50 hover:border-gray-400 hover:bg-gray-50 transition-all duration-300",children:h.label},f))})})]}):o.jsx(Rt,{to:u.link,onClick:l,className:"text-gray-900 text-base sm:text-lg font-semibold py-3 sm:py-4 px-4 sm:px-6 rounded-lg border border-gray-200 hover:border-gray-900 hover:bg-gray-50 transition-all duration-300 block",children:u.label})},d))})}),e.length>0&&o.jsxs("div",{className:"mt-6 sm:mt-8 flex flex-col items-center gap-3",children:[o.jsx("p",{className:"text-gray-900 text-xs font-semibold uppercase tracking-wider",children:"Connect"}),o.jsx("div",{className:"flex flex-wrap gap-3 sm:gap-4 justify-center",children:e.map((u,d)=>o.jsx("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900 transition-colors text-xs sm:text-sm px-2 py-1 rounded border border-gray-200 hover:border-gray-400",children:u.label},d))})]})]})]})]})}var Ag=function(t,e){return Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Ag(t,e)};function rT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ag(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ir=function(){return Ir=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ir.apply(this,arguments)};function la(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function sT(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,n,i):a(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function iT(t,e){return function(n,r){e(n,r,t)}}function aT(t,e,n,r,s,i){function a(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var x={};for(var m in r)x[m]=m==="access"?{}:r[m];for(var m in r.access)x.access[m]=r.access[m];x.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(g||null))};var v=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=a(v.get))&&(d.get=h),(h=a(v.set))&&(d.set=h),(h=a(v.init))&&s.unshift(h)}else(h=a(v))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),f=!0}function oT(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function lT(t){return typeof t=="symbol"?t:"".concat(t)}function cT(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function uT(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ne(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function dT(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ap=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function hT(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ap(e,t,n)}function xf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ey(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function fT(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ey(arguments[e]));return t}function pT(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)r[s]=i[a];return r}function Cy(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Rl(t){return this instanceof Rl?(this.v=t,this):new Rl(t)}function mT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(x){return Promise.resolve(x).then(p,h)}}function l(p,x){r[p]&&(s[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||c(p,m)})},x&&(s[p]=x(s[p])))}function c(p,x){try{u(r[p](x))}catch(m){f(i[0][3],m)}}function u(p){p.value instanceof Rl?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function f(p,x){p(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function gT(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(a){return(n=!n)?{value:Rl(t[s](a)),done:!1}:i?i(a):a}:i}}function xT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xf=="function"?xf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(l,c){a=t[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function vT(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var WO=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Rg=function(t){return Rg=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Rg(t)};function yT(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Rg(t),r=0;r<n.length;r++)n[r]!=="default"&&ap(e,t,n[r]);return WO(e,t),e}function bT(t){return t&&t.__esModule?t:{default:t}}function _T(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function wT(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function ST(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ET(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var qO=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function CT(t){function e(i){t.error=t.hasError?new qO(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function NT(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,a){return r?e?".jsx":".js":s&&(!i||!a)?n:s+i+"."+a.toLowerCase()+"js"}):t}const XO={__extends:rT,__assign:Ir,__rest:la,__decorate:sT,__param:iT,__esDecorate:aT,__runInitializers:oT,__propKey:lT,__setFunctionName:cT,__metadata:uT,__awaiter:Ne,__generator:dT,__createBinding:ap,__exportStar:hT,__values:xf,__read:Ey,__spread:fT,__spreadArrays:pT,__spreadArray:Cy,__await:Rl,__asyncGenerator:mT,__asyncDelegator:gT,__asyncValues:xT,__makeTemplateObject:vT,__importStar:yT,__importDefault:bT,__classPrivateFieldGet:_T,__classPrivateFieldSet:wT,__classPrivateFieldIn:ST,__addDisposableResource:ET,__disposeResources:CT,__rewriteRelativeImportExtension:NT},KO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ET,get __assign(){return Ir},__asyncDelegator:gT,__asyncGenerator:mT,__asyncValues:xT,__await:Rl,__awaiter:Ne,__classPrivateFieldGet:_T,__classPrivateFieldIn:ST,__classPrivateFieldSet:wT,__createBinding:ap,__decorate:sT,__disposeResources:CT,__esDecorate:aT,__exportStar:hT,__extends:rT,__generator:dT,__importDefault:bT,__importStar:yT,__makeTemplateObject:vT,__metadata:uT,__param:iT,__propKey:lT,__read:Ey,__rest:la,__rewriteRelativeImportExtension:NT,__runInitializers:oT,__setFunctionName:cT,__spread:fT,__spreadArray:Cy,__spreadArrays:pT,__values:xf,default:XO},Symbol.toStringTag,{value:"Module"})),YO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ny extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ZO extends Ny{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class c1 extends Ny{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class u1 extends Ny{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jg||(jg={}));class JO{constructor(e,{headers:n={},customFetch:r,region:s=jg.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=YO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ne(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(f["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(f["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let v=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(v=a.signal,d.addEventListener("abort",()=>a.abort())):v=a.signal);const g=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:m,signal:v}).catch(S=>{throw new ZO(S)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new c1(g);if(!g.ok)throw new u1(g);let b=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield g.json():b==="application/octet-stream"||b==="application/pdf"?w=yield g.blob():b==="text/event-stream"?w=g:b==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof u1||l instanceof c1?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Gn={};const ql=FR(KO);var Ed={},Cd={},Nd={},Td={},Md={},Ad={},d1;function TT(){if(d1)return Ad;d1=1,Object.defineProperty(Ad,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ad.default=t,Ad}var h1;function MT(){if(h1)return Md;h1=1,Object.defineProperty(Md,"__esModule",{value:!0});const e=ql.__importDefault(TT());class n{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let p=null,x=null,m=null,v=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&w&&w.length>1&&(m=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,m=null,v=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(x=[],p=null,v=200,g="OK")}catch{c.status===404&&b===""?(v=204,g="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,v=200,g="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:x,count:m,status:v,statusText:g}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,f,p,x;let m="";const v=c==null?void 0:c.cause;if(v){const g=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",y=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";m=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(f=v==null?void 0:v.name)!==null&&f!==void 0?f:"Error"}: ${g}`,y&&(m+=` (${y})`),v!=null&&v.stack&&(m+=`
${v.stack}`)}else m=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Md.default=n,Md}var f1;function AT(){if(f1)return Td;f1=1,Object.defineProperty(Td,"__esModule",{value:!0});const e=ql.__importDefault(MT());class n extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Td.default=n,Td}var p1;function Ty(){if(p1)return Nd;p1=1,Object.defineProperty(Nd,"__esModule",{value:!0});const e=ql.__importDefault(AT()),n=new RegExp("[,()]");class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Nd.default=r,Nd}var m1;function RT(){if(m1)return Cd;m1=1,Object.defineProperty(Cd,"__esModule",{value:!0});const e=ql.__importDefault(Ty());class n{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Cd.default=n,Cd}var g1;function QO(){if(g1)return Ed;g1=1,Object.defineProperty(Ed,"__esModule",{value:!0});const t=ql,e=t.__importDefault(RT()),n=t.__importDefault(Ty());class r{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{f.searchParams.append(m,v)})):(h="POST",p=a);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:h,url:f,headers:x,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ed.default=r,Ed}Object.defineProperty(Gn,"__esModule",{value:!0});var jT=Gn.PostgrestError=BT=Gn.PostgrestBuilder=FT=Gn.PostgrestTransformBuilder=OT=Gn.PostgrestFilterBuilder=IT=Gn.PostgrestQueryBuilder=kT=Gn.PostgrestClient=void 0;const Xl=ql,PT=Xl.__importDefault(QO());var kT=Gn.PostgrestClient=PT.default;const DT=Xl.__importDefault(RT());var IT=Gn.PostgrestQueryBuilder=DT.default;const LT=Xl.__importDefault(Ty());var OT=Gn.PostgrestFilterBuilder=LT.default;const UT=Xl.__importDefault(AT());var FT=Gn.PostgrestTransformBuilder=UT.default;const zT=Xl.__importDefault(MT());var BT=Gn.PostgrestBuilder=zT.default;const VT=Xl.__importDefault(TT());jT=Gn.PostgrestError=VT.default;var $T=Gn.default={PostgrestClient:PT.default,PostgrestQueryBuilder:DT.default,PostgrestFilterBuilder:LT.default,PostgrestTransformBuilder:UT.default,PostgrestBuilder:zT.default,PostgrestError:VT.default};const eU=F2({__proto__:null,get PostgrestBuilder(){return BT},get PostgrestClient(){return kT},get PostgrestError(){return jT},get PostgrestFilterBuilder(){return OT},get PostgrestQueryBuilder(){return IT},get PostgrestTransformBuilder(){return FT},default:$T},[Gn]),{PostgrestClient:tU,PostgrestQueryBuilder:hJ,PostgrestFilterBuilder:fJ,PostgrestTransformBuilder:pJ,PostgrestBuilder:mJ,PostgrestError:gJ}=$T||eU;class nU{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const rU="2.86.0",sU=`realtime-js/${rU}`,HT="1.0.0",iU="2.0.0",x1=HT,Pg=1e4,aU=1e3,oU=100;var Aa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Aa||(Aa={}));var fn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fn||(fn={}));var ts;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ts||(ts={}));var kg;(function(t){t.websocket="websocket"})(kg||(kg={}));var Ra;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ra||(Ra={}));class lU{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(p),m=0;x.setUint8(m++,this.KINDS.userBroadcastPush),x.setUint8(m++,c.length),x.setUint8(m++,l.length),x.setUint8(m++,a.length),x.setUint8(m++,u.length),x.setUint8(m++,h.length),x.setUint8(m++,n),Array.from(c,g=>x.setUint8(m++,g.charCodeAt(0))),Array.from(l,g=>x.setUint8(m++,g.charCodeAt(0))),Array.from(a,g=>x.setUint8(m++,g.charCodeAt(0))),Array.from(u,g=>x.setUint8(m++,g.charCodeAt(0))),Array.from(h,g=>x.setUint8(m++,g.charCodeAt(0)));var v=new Uint8Array(p.byteLength+r.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(r),p.byteLength),v.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,l,c]=r;return n({join_ref:s,ref:i,topic:a,event:l,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+s));c=c+s;const d=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const f=e.slice(c,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class GT{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Et||(Et={}));const v1=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=cU(a,t,e,s),i),{}):{}},cU=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?WT(i,a):Dg(a)},WT=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return fU(e,n)}switch(t){case Et.bool:return uU(e);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return dU(e);case Et.json:case Et.jsonb:return hU(e);case Et.timestamp:return pU(e);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return Dg(e);default:return Dg(e)}},Dg=t=>t,uU=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dU=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hU=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fU=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>WT(e,l))}return t},pU=t=>typeof t=="string"?t.replace(" ","T"):t,qT=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gm{constructor(e,n,r={},s=Pg){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var y1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(y1||(y1={}));class Wc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Wc.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wc.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),x=d.filter(v=>p.indexOf(v.presence_ref)<0),m=h.filter(v=>f.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var b1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(b1||(b1={}));var qc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qc||(qc={}));var Vs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vs||(Vs={}));class My{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gm(this,ts.join,this.params,this.timeout),this.rejoinTimer=new GT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ts.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Wc(this),this.broadcastEndpointURL=qT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==fn.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[qc.PRESENCE]&&this.bindings[qc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Vs.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Vs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){e==null||e(Vs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,g=[];for(let y=0;y<v;y++){const b=m[y],{filter:{event:w,schema:S,table:N,filter:M}}=b,A=p&&p[y];if(A&&A.event===w&&A.schema===S&&A.table===N&&A.filter===M)g.push(Object.assign(Object.assign({},b),{id:A.id}));else{this.unsubscribe(),this.state=fn.errored,e==null||e(Vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Vs.SUBSCRIBED);return}}).receive("error",p=>{this.state=fn.errored,e==null||e(Vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===fn.joined&&e===qc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ts.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new gm(this,ts.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gm(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>oU){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ts;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,v;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,m,v,g,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const w=p.id,S=(x=p.filter)===null||x===void 0?void 0:x.event;return w&&((m=n.ids)===null||m===void 0?void 0:m.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:m,table:v,commit_timestamp:g,type:y,errors:b}=x;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:g,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(f,r)})}_isClosed(){return this.state===fn.closed}_isJoined(){return this.state===fn.joined}_isJoining(){return this.state===fn.joining}_isLeaving(){return this.state===fn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&My.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ts.close,{},e)}_onError(e){this._on(ts.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=v1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=v1(e.columns,e.old_record)),n}}const xm=()=>{},Rd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mU=[1e3,2e3,5e3,1e4],gU=1e4,xU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vU{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pg,this.transport=null,this.heartbeatIntervalMs=Rd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xm,this.ref=0,this.reconnectTimer=null,this.vsn=x1,this.logger=xm,this.conn=null,this.sendBuffer=[],this.serializer=new lU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${kg.websocket}`,this.httpEndpoint=qT(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nU.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Aa.connecting:return Ra.Connecting;case Aa.open:return Ra.Open;case Aa.closing:return Ra.Closing;default:return Ra.Closed}}isConnected(){return this.connectionState()===Ra.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new My(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(aU,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Aa.open||this.conn.readyState===Aa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ts.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([xU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:sU};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ts.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new GT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,c,u,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Pg,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Rd.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:xm,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:x1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:x=>mU[x-1]||gU,this.vsn){case HT:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(x,m)=>m(JSON.stringify(x)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(x,m)=>m(JSON.parse(x));break;case iU:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class op extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ut(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yU extends op{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ig extends op{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Ay=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bU=()=>Response,Lg=t=>{if(Array.isArray(t))return t.map(n=>Lg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Lg(r)}),e},_U=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wU=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),vm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},SU=(t,e,n)=>Ne(void 0,void 0,void 0,function*(){const r=yield bU();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new yU(vm(s),i,a))}).catch(s=>{e(new Ig(vm(s),s))}):e(new Ig(vm(t),t))}),EU=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(_U(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Gu(t,e,n,r,s,i){return Ne(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,EU(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>SU(c,l,r))})})}function _u(t,e,n,r){return Ne(this,void 0,void 0,function*(){return Gu(t,"GET",e,n,r)})}function Qr(t,e,n,r,s){return Ne(this,void 0,void 0,function*(){return Gu(t,"POST",e,r,s,n)})}function Og(t,e,n,r,s){return Ne(this,void 0,void 0,function*(){return Gu(t,"PUT",e,r,s,n)})}function CU(t,e,n,r){return Ne(this,void 0,void 0,function*(){return Gu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ry(t,e,n,r,s){return Ne(this,void 0,void 0,function*(){return Gu(t,"DELETE",e,r,s,n)})}class NU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ut(e))return{data:null,error:e};throw e}})}}var XT;class TU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[XT]="BlobDownloadBuilder",this.promise=null}asStream(){return new NU(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ut(e))return{data:null,error:e};throw e}})}}XT=Symbol.toStringTag;const MU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AU{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ay(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},_1),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?Og:Qr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:_1.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Og(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ut(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Qr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new op("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Qr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield Qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>_u(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new TU(c,this.shouldThrowOnError)}info(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _u(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}exists(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield CU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r)&&r instanceof Ig){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},MU),n),{prefix:e||""});return{data:yield Qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ne(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Qr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const KT="2.86.0",YT={"X-Client-Info":`storage-js/${KT}`};class RU{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},YT),n),this.fetch=Ay(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield _u(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}createBucket(e){return Ne(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield Og(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var wu=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jU(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function PU(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function kU(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const l=jU(t.baseUrl,r,s),c=await PU(t.auth),u=await e(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?f:void 0,x=p==null?void 0:p.error;throw new wu((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function jd(t){return t.join("")}var DU=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:jd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jd(t.namespace)}`}),!0}catch(e){if(e instanceof wu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof wu&&n.status===409)return;throw n}}};function fo(t){return t.join("")}var IU=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof wu&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof wu&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},LU=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=kU({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new DU(this.client,e),this.tableOps=new IU(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class OU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},YT),n),this.fetch=Ay(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield _u(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ry(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}})}from(e){if(!wU(e))throw new op("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new LU({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Ne(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const jy={"X-Client-Info":`storage-js/${KT}`,"Content-Type":"application/json"};class ZT extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class ym extends ZT{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class UU extends ZT{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var w1;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(w1||(w1={}));const Py=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),FU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},S1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zU=(t,e,n)=>Ne(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new ym(S1(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new ym(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new ym(l,s,a))}}else e(new UU(S1(t),t))}),BU=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(FU(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function VU(t,e,n,r,s,i){return Ne(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,BU(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>zU(c,l,r))})})}function mr(t,e,n,r,s){return Ne(this,void 0,void 0,function*(){return VU(t,"POST",e,r,s,n)})}class $U{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),n),this.fetch=Py(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield mr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listIndexes(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ne(this,void 0,void 0,function*(){try{return{data:(yield mr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}}class HU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),n),this.fetch=Py(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield mr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}getVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}listVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield mr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield mr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}}class GU{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),n),this.fetch=Py(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield mr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}listBuckets(){return Ne(this,arguments,void 0,function*(e={}){try{return{data:yield mr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield mr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}}class WU extends GU{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new qU(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ne(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ne(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ne(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ne(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class qU extends $U{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ne(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ne(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ne(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ne(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new XU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class XU extends HU{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ne(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ne(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ne(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ne(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ne(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class KU extends RU{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new AU(this.url,this.headers,e,this.fetch)}get vectors(){return new WU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OU(this.url+"/iceberg",this.headers,this.fetch)}}const YU="2.86.0";let Mc="";typeof Deno<"u"?Mc="deno":typeof document<"u"?Mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mc="react-native":Mc="node";const ZU={"X-Client-Info":`supabase-js-${Mc}/${YU}`},JU={headers:ZU},QU={schema:"public"},e6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t6={},n6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),r6=()=>Headers,s6=(t,e,n)=>{const r=n6(n),s=r6();return async(i,a)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))}};function i6(t){return t.endsWith("/")?t:t+"/"}function a6(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function o6(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(i6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const JT="2.86.0",Oo=30*1e3,Ug=3,bm=Ug*Oo,l6="http://localhost:9999",c6="supabase.auth.token",u6={"X-Client-Info":`gotrue-js/${JT}`},Fg="X-Supabase-Api-Version",QT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h6=10*60*1e3;class Su extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class f6 extends Su{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function p6(t){return Ie(t)&&t.name==="AuthApiError"}class ja extends Su{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ca extends Su{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class hr extends ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m6(t){return Ie(t)&&t.name==="AuthSessionMissingError"}class po extends ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pd extends ca{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kd extends ca{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g6(t){return Ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class E1 extends ca{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zg extends ca{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function _m(t){return Ie(t)&&t.name==="AuthRetryableFetchError"}class C1 extends ca{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Bg extends ca{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),N1=` 	
\r=`.split(""),x6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<N1.length;e+=1)t[N1[e].charCodeAt(0)]=-2;for(let e=0;e<vf.length;e+=1)t[vf[e].charCodeAt(0)]=e;return t})();function T1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vf[r]),e.queuedBits-=6}}function eM(t,e,n){const r=x6[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function M1(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{b6(a,r,n)};for(let a=0;a<t.length;a+=1)eM(t.charCodeAt(a),s,i);return e.join("")}function v6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function y6(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}v6(r,e)}}function b6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function hl(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)eM(t.charCodeAt(s),n,r);return new Uint8Array(e)}function _6(t){const e=[];return y6(t,n=>e.push(n)),new Uint8Array(e)}function Ua(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>T1(s,n,r)),T1(null,n,r),e.join("")}function w6(t){return Math.round(Date.now()/1e3)+t}function S6(){return Symbol("auth-callback")}const Nn=()=>typeof window<"u"&&typeof document<"u",ma={tested:!1,writable:!1},tM=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ma.tested)return ma.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ma.tested=!0,ma.writable=!0}catch{ma.tested=!0,ma.writable=!1}return ma.writable};function E6(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const nM=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),C6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Uo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ga=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pi=async(t,e)=>{await t.removeItem(e)};class lp{constructor(){this.promise=new lp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}lp.promiseConstructor=Promise;function wm(t){const e=t.split(".");if(e.length!==3)throw new Bg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!d6.test(e[r]))throw new Bg("JWT not in base64url format");return{header:JSON.parse(M1(e[0])),payload:JSON.parse(M1(e[1])),signature:hl(e[2]),raw:{header:e[0],payload:e[1]}}}async function N6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function T6(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function M6(t){return("0"+t.toString(16)).substr(-2)}function A6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,M6).join("")}async function R6(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function j6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await R6(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mo(t,e,n=!1){const r=A6();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Uo(t,`${e}-code-verifier`,s);const i=await j6(r);return[i,r===i?"plain":"s256"]}const P6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k6(t){const e=t.headers.get(Fg);if(!e||!e.match(P6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function D6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function I6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const L6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function go(t){if(!L6.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function O6(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function A1(t){return JSON.parse(JSON.stringify(t))}const Ta=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U6=[502,503,504];async function R1(t){var e;if(!C6(t))throw new zg(Ta(t),0);if(U6.includes(t.status))throw new zg(Ta(t),t.status);let n;try{n=await t.json()}catch(i){throw new ja(Ta(i),i)}let r;const s=k6(t);if(s&&s.getTime()>=QT["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new C1(Ta(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new hr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new C1(Ta(n),t.status,n.weak_password.reasons);throw new f6(Ta(n),t.status||500,r)}const F6=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Be(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Fg]||(i[Fg]=QT["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await z6(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function z6(t,e,n,r,s,i){const a=F6(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new zg(Ta(c),0)}if(l.ok||await R1(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await R1(c)}}function Yr(t){var e;let n=null;$6(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=w6(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function j1(t){const e=Yr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ri(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function B6(t){return{data:t,error:null}}function V6(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=la(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function P1(t){return t}function $6(t){return t.access_token&&t.refresh_token&&t.expires_in}const Em=["global","local","others"];class H6{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=nM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Em[0]){if(Em.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Em.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ri})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=la(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:V6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ri})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:P1});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){go(e);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ri})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){go(e);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ri})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){go(e);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ri})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){go(e.userId);try{const{data:n,error:r}=await Be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){go(e.userId),go(e.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:P1});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}function k1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const xo={debug:!!(globalThis&&tM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class G6 extends rM{}async function W6(t,e,n){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw xo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new G6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function q6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sM(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function X6(t){return parseInt(t,16)}function K6(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Y6(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=sM(t.address),x=d?`${d}://${r}`:r,m=t.statement?`${t.statement}
`:"",v=`${x} wants you to sign in with your Ethereum account:
${p}

${m}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}g+=y}return`${v}
${g}`}class sn extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class yf extends sn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Z6({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(iM(a)){if(i.rp.id!==a)return new sn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function J6({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(iM(r)){if(n.rpId!==r)return new sn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Q6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const eF=new Q6;function tF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=la(t,["challenge","user","excludeCredentials"]),i=hl(e).buffer,a=Object.assign(Object.assign({},n),{id:hl(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:hl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function nF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=la(t,["challenge","allowCredentials"]),s=hl(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:hl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function rF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ua(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ua(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ua(new Uint8Array(s.authenticatorData)),clientDataJSON:Ua(new Uint8Array(s.clientDataJSON)),signature:Ua(new Uint8Array(s.signature)),userHandle:s.userHandle?Ua(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iM(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function D1(){var t,e;return!!(Nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function iF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yf("Browser returned unexpected credential type",e)}:{data:null,error:new yf("Empty credential response",e)}}catch(e){return{data:null,error:Z6({error:e,options:t})}}}async function aF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yf("Browser returned unexpected credential type",e)}:{data:null,error:new yf("Empty credential response",e)}}catch(e){return{data:null,error:J6({error:e,options:t})}}}const oF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const l=r[i];e(l)?r[i]=bf(l,a):r[i]=bf(a)}else r[i]=a}return r}function cF(t,e){return bf(oF,t,e||{})}function uF(t,e){return bf(lF,t,e||{})}class dF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const c=s??eF.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=cF(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await iF({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=uF(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await aF(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Ie(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Su("rpId is required for WebAuthn authentication")};try{if(!D1())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Ie(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Su("rpId is required for WebAuthn registration")};try{if(!D1())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Ie(a)?{data:null,error:a}:{data:null,error:new ja("Unexpected error in register",a)}}}}q6();const hF={url:l6,storageKey:c6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function I1(t,e,n){return await n()}const vo={};class Eu{get jwks(){var e,n;return(n=(e=vo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},hF),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Eu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Eu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Nn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new H6({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nM(i.fetch),this.lock=i.lock||I1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Nn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=W6:this.lock=I1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:tM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=k1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=k1(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${JT}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Nn()&&(n=E6(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Nn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),g6(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?this._returnResult({error:n}):this._returnResult({error:new ja("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yr}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await mo(this.storage,this.storageKey)),i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:Yr})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yr})}else throw new Pd("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:j1})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:j1})}else throw new Pd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new po;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,l,c,u,d,h,f;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:m,wallet:v,statement:g,options:y}=e;let b;if(Nn())if(typeof v=="object")b=v;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")b=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=sM(S[0]);let M=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const T=await b.request({method:"eth_chainId"});M=X6(T)}const A={domain:w.host,address:N,statement:g,uri:w.href,version:"1",chainId:M,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Y6(A),x=await b.request({method:"personal_sign",params:[K6(p),N]})}try{const{data:m,error:v}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yr});if(v)throw v;if(!m||!m.session||!m.user){const g=new po;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(Ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(e){var n,r,s,i,a,l,c,u,d,h,f,p;let x,m;if("message"in e)x=e.message,m=e.signature;else{const{chain:v,wallet:g,statement:y,options:b}=e;let w;if(Nn())if(typeof g=="object")w=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))w=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const N=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let M;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")M=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)M=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)x=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),m=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const N=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:v,error:g}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Ua(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Yr});if(g)throw g;if(!v||!v.session||!v.user){const y=new po;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(Ie(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const n=await ga(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Yr});if(await pi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new po;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Yr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new po;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await mo(this.storage,this.storageKey));const{error:h}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Pd("You must provide either an email or phone number.")}catch(l){if(Ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Yr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await mo(this.storage,this.storageKey));const u=await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:B6});return!((i=u.data)===null||i===void 0)&&i.url&&Nn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(Ie(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new hr;const{error:s}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Pd("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<bm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await ga(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Sm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=O6(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ri}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hr}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ri})})}catch(n){if(Ie(n))return m6(n)&&(await this._removeSession(),await pi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new hr;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await mo(this.storage,this.storageKey));const{data:u,error:d}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ri});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(Ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=wm(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new hr;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Nn())throw new kd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new E1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new E1("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new kd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ga(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(p6(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await pi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=S6(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await mo(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yr}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new po}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await T6(async s=>(s>0&&await N6(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Yr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&_m(i)&&Date.now()+a-r<Oo})}catch(r){if(this._debug(n,"error",r),Ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ga(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ga(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Uo(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Sm()}else if(s&&!s.user&&!s.user){const a=await ga(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await pi(this.storage,this.storageKey+"-user"),await Uo(this.storage,this.storageKey,s)):s.user=Sm()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${bm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),_m(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lp;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new hr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ie(i)){const a={data:null,error:i};return _m(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Uo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=A1(s);await Uo(this.storage,this.storageKey,i)}else{const s=A1(n);await Uo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pi(this.storage,this.storageKey),await pi(this.storage,this.storageKey+"-code-verifier"),await pi(this.storage,this.storageKey+"-user"),this.userStorage&&await pi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Oo}ms, refresh threshold is ${Ug} ticks`),s<=Ug&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof rM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await mo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await Be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rF(e.webauthn.credential_response):sF(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:tF(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nF(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=wm(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new hr})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new hr});const a=await Be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new hr});const a=await Be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new hr})})}catch(e){if(Ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hr})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+h6>s)return r;const{data:i,error:a}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=wm(r);n!=null&&n.allowExpired||D6(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const d=I6(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,_6(`${l}.${c}`)))throw new Bg("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}}Eu.nextInstanceID={};const fF=Eu;class pF extends fF{constructor(e){super(e)}}class mF{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const l=o6(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:QU,realtime:t6,auth:Object.assign(Object.assign({},e6),{storageKey:c}),global:JU},d=a6(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=s6(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new tU(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new KU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new JO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pF({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vU(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gF=(t,e,n)=>new mF(t,e,n);function xF(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vF="https://dhxzkzdlsszwuqjkicnv.supabase.co",yF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoeHpremRsc3N6d3VxamtpY252Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNTYyNjksImV4cCI6MjA3MDgzMjI2OX0.ofq619iAaQPW33zm_6uG6-r9UDg6tU7EF8krqZWlLOs",le=gF(vF,yF,{auth:{persistSession:!1,autoRefreshToken:!1}});function bF(){const[t,e]=_.useState(null),[n,r]=_.useState(null);_.useEffect(()=>{(async()=>{const{data:l}=await le.from("events").select("*").order("date",{ascending:!1}).limit(1).single();l&&r(l)})()},[]);const s=[{label:"Home",link:"/"},{label:"About",submenu:[{label:"About ACM",link:"/about"},{label:"Why Join Us",link:"/why-join"}]},{label:"Team",submenu:[{label:"Current Team",link:"/team"},{label:"Alumni",link:"/team/alumni"}]},{label:"Events",link:"/events"},{label:"Gallery",link:"/gallery"},{label:"Blog",link:"/blog"},{label:"Contact",link:"/contact"},{label:"Join Now",link:"/join"}],i=[{label:"Instagram",link:"https://instagram.com/sakecacm"},{label:"LinkedIn",link:"https://linkedin.com/company/sakecacm"},{label:"GitHub",link:"https://github.com/sakecacm"},{label:"Email",link:"mailto:support@sakec.acm.org"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"hidden md:flex fixed top-2 md:top-4 lg:top-10 left-0 right-0 z-50 px-2 md:px-4 lg:px-8 items-center justify-between pointer-events-none",children:[o.jsx(Rt,{to:"/",className:"flex items-center backdrop-blur-md bg-white/40 border border-black/5 rounded-lg md:rounded-xl lg:rounded-2xl px-2 md:px-3 lg:px-4 py-1 md:py-1.5 lg:py-2 hover:bg-white/60 hover:border-black/10 transition-all duration-300 pointer-events-auto",children:o.jsx("img",{src:"/logo.png",alt:"SAKEC ACM Logo",className:"h-10 md:h-12 lg:h-16 w-auto object-cover",style:{objectPosition:"center",clipPath:"inset(15% 0 15% 0)"}})}),o.jsx("div",{className:"pointer-events-auto flex items-center",children:o.jsxs(yO,{setActive:e,children:[o.jsx(Rt,{to:"/",children:o.jsx(pa,{setActive:e,active:t,item:"Home",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_group.JPG",width:140,height:70,alt:"Home Preview",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px] max-w-[8rem]"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-lg md:text-xl font-bold mb-1 text-gray-900",children:"Home"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Welcome to SAKEC ACM Student Chapter"})]})]})})})}),o.jsx(pa,{setActive:e,active:t,item:"About",children:o.jsxs("div",{className:"flex flex-col space-y-4 text-sm",children:[o.jsx(Sd,{href:"/about",children:"About ACM"}),o.jsx(Sd,{href:"/why-join",children:"Why Join Us"})]})}),o.jsx(pa,{setActive:e,active:t,item:"Team",children:o.jsxs("div",{className:"flex flex-col space-y-4 text-sm",children:[o.jsx(Sd,{href:"/team",children:"Current Team"}),o.jsx(Sd,{href:"/team/alumni",children:"Alumni"})]})}),o.jsx(Rt,{to:"/events",children:o.jsx(pa,{setActive:e,active:t,item:"Events",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:n?o.jsxs("div",{className:"flex space-x-2",children:[n.image_url&&o.jsx("img",{src:n.image_url,width:140,height:70,alt:n.title,className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px] max-w-[8rem]"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-wider bg-blue-100 text-blue-600 px-1.5 py-0.5 rounded font-semibold",children:"Latest"}),o.jsx("h4",{className:"text-base md:text-lg font-bold text-gray-900 line-clamp-1",children:n.title})]}),o.jsx("p",{className:"text-gray-500 text-xs mb-1",children:new Date(n.date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"})}),o.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:n.description||"Check out our latest event!"})]})]}):o.jsxs("div",{className:"flex flex-col space-y-4 text-sm w-full max-w-[12rem]",children:[o.jsx("p",{className:"text-gray-600",children:"Explore our events"}),o.jsx("div",{className:"h-[70px] bg-gray-100 rounded-md flex items-center justify-center text-gray-400",children:"Loading events..."})]})})})}),o.jsx(Rt,{to:"/gallery",children:o.jsx(pa,{setActive:e,active:t,item:"Gallery",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_banner_photo.jpeg",width:140,height:70,alt:"Gallery Preview",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px] max-w-[8rem]"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-lg md:text-xl font-bold mb-1 text-gray-900",children:"Gallery"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Explore our event highlights and memories"})]})]})})})}),o.jsx(Rt,{to:"/blog",children:o.jsx(pa,{setActive:e,active:t,item:"Blog",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/Sakec.aictelab11.jpg",width:140,height:70,alt:"Blog Preview",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px] max-w-[8rem]"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-lg md:text-xl font-bold mb-1 text-gray-900",children:"Blog"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Read our latest articles and tech insights"})]})]})})})}),o.jsx(Rt,{to:"/contact",children:o.jsx(pa,{setActive:e,active:t,item:"Contact",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/Sakec.aictelab1.jpg",width:140,height:70,alt:"Contact Preview",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px] max-w-[8rem]"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-lg md:text-xl font-bold mb-1 text-gray-900",children:"Contact"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Get in touch with us for any queries"})]})]})})})})]})})]}),o.jsx(GO,{items:s,socialItems:i})]})}const _F=({leftLinks:t,rightLinks:e,copyrightText:n,barCount:r=23})=>{const s=_.useRef([]),i=_.useRef(null),[a,l]=_.useState(!1),c=_.useRef(null);_.useEffect(()=>{const d=new IntersectionObserver(h=>{const[f]=h;l(f.isIntersecting)},{threshold:.2});return i.current&&d.observe(i.current),()=>{i.current&&d.unobserve(i.current)}},[]),_.useEffect(()=>{let d=0;const h=()=>{const f=s.current;let p=0;f.forEach((x,m)=>{x&&(p+=Math.max(0,20*Math.sin((d+m)*.3)),x.style.transform=`translateY(${m+p}px)`)}),d+=.1,c.current=requestAnimationFrame(h)};return a?h():c.current&&(cancelAnimationFrame(c.current),c.current=null),()=>{c.current&&(cancelAnimationFrame(c.current),c.current=null)}},[a]);const u=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o.jsxs("footer",{ref:i,className:"bg-black text-white relative flex flex-col w-full justify-between select-none",children:[o.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between w-full gap-6 pb-16 pt-8 px-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Quick Links"}),o.jsx("ul",{className:"flex flex-wrap gap-3",children:t.map((d,h)=>o.jsx("li",{children:o.jsx("a",{href:d.href,className:"text-sm text-gray-300 hover:text-white transition-colors",children:d.label})},h))}),o.jsxs("p",{className:"text-xs mt-4 flex items-center gap-x-2 text-gray-400",children:[o.jsx("svg",{className:"size-3",viewBox:"0 0 80 80",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M67.4307 11.5693C52.005 -3.85643 26.995 -3.85643 11.5693 11.5693C-3.85643 26.995 -3.85643 52.005 11.5693 67.4307C26.995 82.8564 52.005 82.8564 67.4307 67.4307C82.8564 52.005 82.8564 26.995 67.4307 11.5693ZM17.9332 17.9332C29.8442 6.02225 49.1558 6.02225 61.0668 17.9332C72.9777 29.8442 72.9777 49.1558 61.0668 61.0668C59.7316 62.4019 58.3035 63.5874 56.8032 64.6232L56.8241 64.6023C46.8657 54.6439 46.8657 38.4982 56.8241 28.5398L58.2383 27.1256L51.8744 20.7617L50.4602 22.1759C40.5018 32.1343 24.3561 32.1343 14.3977 22.1759L14.3768 22.1968C15.4126 20.6965 16.5981 19.2684 17.9332 17.9332ZM34.0282 38.6078C25.6372 38.9948 17.1318 36.3344 10.3131 30.6265C7.56889 39.6809 9.12599 49.76 14.9844 57.6517L34.0282 38.6078ZM21.3483 64.0156C29.24 69.874 39.3191 71.4311 48.3735 68.6869C42.6656 61.8682 40.0052 53.3628 40.3922 44.9718L21.3483 64.0156Z"})}),o.jsx("span",{children:n})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Connect With Us"}),o.jsx("ul",{className:"flex flex-wrap gap-3",children:e.map((d,h)=>o.jsx("li",{children:o.jsx("a",{href:d.href,className:"text-sm text-gray-300 hover:text-white transition-colors",target:d.href.startsWith("http")?"_blank":void 0,rel:d.href.startsWith("http")?"noopener noreferrer":void 0,children:d.label})},h))}),o.jsx("div",{className:"text-right mt-4",children:o.jsxs("button",{onClick:u,className:"text-xs text-gray-300 hover:text-white inline-flex items-center gap-1 transition-colors group",children:[o.jsx("span",{children:"Back to top"}),o.jsx("svg",{className:"w-3 h-3 group-hover:-translate-y-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})]})})]})]}),o.jsx("div",{id:"waveContainer","aria-hidden":"true",style:{overflow:"hidden",height:120},children:o.jsx("div",{style:{marginTop:0},children:Array.from({length:r}).map((d,h)=>o.jsx("div",{ref:f=>{s.current[h]=f},className:"wave-segment",style:{height:`${h+1}px`,backgroundColor:"rgb(255, 255, 255)",transition:"transform 0.1s ease",willChange:"transform",marginTop:"-2px"}},h))})})]})};function wF(){return o.jsx(_F,{leftLinks:[{href:"/about",label:"About Us"},{href:"/team",label:"Our Team"},{href:"/events",label:"Events"},{href:"/gallery",label:"Gallery"},{href:"/nfc/283006fb-63d7-40bf-bf62-e3751c767499",label:"NFC Profile"}],rightLinks:[{href:"/blog",label:"Blog"},{href:"/contact",label:"Contact"},{href:"https://www.instagram.com/acm_sakec",label:"Instagram"},{href:"https://www.linkedin.com/company/sakec-acm-student-chapter/",label:"LinkedIn"},{href:"https://github.com/sakec-acm",label:"GitHub"},{href:"mailto:support@sakec.acm.org",label:"Email"}],copyrightText:"SAKEC ACM Student Chapter 2025. All Rights Reserved",barCount:20})}function SF(){const{pathname:t}=ui();return _.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const Cm=[{x:"-100%",y:0},{x:"100%",y:0},{x:0,y:"-100%"},{x:0,y:"100%"}],EF=t=>{const e=t.split("/")[1]||"home";return e.charAt(0).toUpperCase()+e.slice(1)};function CF(){const t=ui(),[e,n]=_.useState(!1),[r,s]=_.useState(""),[i,a]=_.useState(Cm[0]),l=_.useRef(t.pathname);return _.useEffect(()=>{const c=t.pathname.split("?")[0],u=l.current.split("?")[0];if(c===u)return;l.current=t.pathname;const d=Cm[Math.floor(Math.random()*Cm.length)];a(d),s(EF(t.pathname)),n(!0);const h=setTimeout(()=>{n(!1)},800);return()=>clearTimeout(h)},[t.pathname]),o.jsx(io,{children:e&&o.jsxs(Ye.div,{initial:{x:i.x,y:i.y},animate:{x:0,y:0},exit:{x:i.x==="-100%"?"100%":i.x==="100%"?"-100%":i.x,y:i.y==="-100%"?"100%":i.y==="100%"?"-100%":i.y},transition:{duration:.4,ease:[.22,1,.36,1]},className:"fixed inset-0 z-[9998] flex items-center justify-center bg-white pointer-events-none",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#00000008_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsx(Ye.h1,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"text-4xl md:text-6xl font-bold text-gray-900 relative z-10",children:r})]})})}const L1="sakec-acm-preloader-shown";function NF({onComplete:t}){const[e,n]=_.useState(()=>!sessionStorage.getItem(L1));return _.useEffect(()=>{if(e){sessionStorage.setItem(L1,"true");const r=setTimeout(()=>{n(!1),t&&setTimeout(t,200)},2e3);return()=>clearTimeout(r)}else t&&t()},[]),o.jsx(io,{children:e&&o.jsxs(Ye.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#00000008_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsxs("div",{className:"flex flex-col items-center gap-6 relative z-10",children:[o.jsx(Ye.div,{className:"w-12 h-12 border-4 border-gray-200 border-t-gray-900 rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),o.jsxs(Ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-center",children:[o.jsx("p",{className:"text-gray-900 font-medium text-lg",children:"Loading"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Please wait..."})]})]})]})})}function O1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=O1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():O1(t[s],null)}}}}function hi(...t){return _.useCallback(cp(...t),t)}var TF=Symbol.for("react.lazy"),_f=kf[" use ".trim().toString()];function MF(t){return typeof t=="object"&&t!==null&&"then"in t}function aM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===TF&&"_payload"in t&&MF(t._payload)}function oM(t){const e=AF(t),n=_.forwardRef((r,s)=>{let{children:i,...a}=r;aM(i)&&typeof _f=="function"&&(i=_f(i._payload));const l=_.Children.toArray(i),c=l.find(jF);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var lM=oM("Slot");function AF(t){const e=_.forwardRef((n,r)=>{let{children:s,...i}=n;if(aM(s)&&typeof _f=="function"&&(s=_f(s._payload)),_.isValidElement(s)){const a=kF(s),l=PF(i,s.props);return s.type!==_.Fragment&&(l.ref=r?cp(r,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var RF=Symbol("radix.slottable");function jF(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===RF}function PF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function kF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=cM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ms(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=cM(t))&&(r&&(r+=" "),r+=e);return r}const U1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,F1=ms,uM=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return F1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=U1(d)||U1(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[m,v]=x;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,h,f]:u},[]);return F1(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},ky="-",DF=t=>{const e=LF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(ky);return l[0]===""&&l.length!==1&&l.shift(),dM(l,e)||IF(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},dM=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?dM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ky);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},z1=/^\[(.+)\]$/,IF=t=>{if(z1.test(t)){const e=z1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},LF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return UF(Object.entries(t.classGroups),n).forEach(([i,a])=>{Vg(a,r,i,e)}),r},Vg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:B1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(OF(s)){Vg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Vg(a,B1(e,i),n,r)})})},B1=(t,e)=>{let n=t;return e.split(ky).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OF=t=>t.isThemeGetter,UF=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,FF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},hM="!",zF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let g=l[v];if(u===0){if(g===s&&(r||l.slice(v,v+i)===e)){c.push(l.slice(d,v)),d=v+i;continue}if(g==="/"){h=v;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(hM),x=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:a}):a},BF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},VF=t=>({cache:FF(t.cacheSize),parseClassName:zF(t),...DF(t)}),$F=/\s+/,HF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split($F);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let x=!!p,m=r(x?f.substring(0,p):f);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=BF(d).join(":"),g=h?v+hM:v,y=g+m;if(i.includes(y))continue;i.push(y);const b=s(m,x);for(let w=0;w<b.length;++w){const S=b[w];i.push(g+S)}l=u+(l.length>0?" "+l:l)}return l};function GF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fM(e))&&(r&&(r+=" "),r+=n);return r}const fM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fM(t[r]))&&(n&&(n+=" "),n+=e);return n};function WF(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=VF(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=HF(c,n);return s(c,d),d}return function(){return i(GF.apply(null,arguments))}}const Mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pM=/^\[(?:([a-z-]+):)?(.+)\]$/i,qF=/^\d+\/\d+$/,XF=new Set(["px","full","screen"]),KF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=t=>fl(t)||XF.has(t)||qF.test(t),mi=t=>Kl(t,"length",o8),fl=t=>!!t&&!Number.isNaN(Number(t)),Nm=t=>Kl(t,"number",fl),dc=t=>!!t&&Number.isInteger(Number(t)),e8=t=>t.endsWith("%")&&fl(t.slice(0,-1)),et=t=>pM.test(t),gi=t=>KF.test(t),t8=new Set(["length","size","percentage"]),n8=t=>Kl(t,t8,mM),r8=t=>Kl(t,"position",mM),s8=new Set(["image","url"]),i8=t=>Kl(t,s8,c8),a8=t=>Kl(t,"",l8),hc=()=>!0,Kl=(t,e,n)=>{const r=pM.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},o8=t=>YF.test(t)&&!ZF.test(t),mM=()=>!1,l8=t=>JF.test(t),c8=t=>QF.test(t),u8=()=>{const t=Mt("colors"),e=Mt("spacing"),n=Mt("blur"),r=Mt("brightness"),s=Mt("borderColor"),i=Mt("borderRadius"),a=Mt("borderSpacing"),l=Mt("borderWidth"),c=Mt("contrast"),u=Mt("grayscale"),d=Mt("hueRotate"),h=Mt("invert"),f=Mt("gap"),p=Mt("gradientColorStops"),x=Mt("gradientColorStopPositions"),m=Mt("inset"),v=Mt("margin"),g=Mt("opacity"),y=Mt("padding"),b=Mt("saturate"),w=Mt("scale"),S=Mt("sepia"),N=Mt("skew"),M=Mt("space"),A=Mt("translate"),T=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",et,e],D=()=>[et,e],z=()=>["",Rs,mi],H=()=>["auto",fl,et],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",et],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[fl,et];return{cacheSize:500,separator:":",theme:{colors:[hc],spacing:[Rs,mi],blur:["none","",gi,et],brightness:se(),borderColor:[t],borderRadius:["none","","full",gi,et],borderSpacing:D(),borderWidth:z(),contrast:se(),grayscale:V(),hueRotate:se(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[e8,mi],inset:j(),margin:j(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:V(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[gi]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),et]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dc,et]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",dc,et]}],"grid-cols":[{"grid-cols":[hc]}],"col-start-end":[{col:["auto",{span:["full",dc,et]},et]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[hc]}],"row-start-end":[{row:["auto",{span:[dc,et]},et]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,e]}],"min-w":[{"min-w":[et,e,"min","max","fit"]}],"max-w":[{"max-w":[et,e,"none","full","min","max","fit","prose",{screen:[gi]},gi]}],h:[{h:[et,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gi,mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nm]}],"font-family":[{font:[hc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",fl,Nm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,mi]}],"underline-offset":[{"underline-offset":["auto",Rs,et]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),r8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",n8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},i8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Rs,et]}],"outline-w":[{outline:[Rs,mi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Rs,mi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gi,a8]}],"shadow-color":[{shadow:[hc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gi,et]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[dc,et]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rs,mi,Nm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},d8=WF(u8);function Dt(...t){return d8(ms(t))}function h8(t){const e=new Date(t);return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(e)}const f8=uM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function En({className:t,variant:e,size:n,asChild:r=!1,...s}){const i=r?lM:"button";return o.jsx(i,{"data-slot":"button",className:Dt(f8({variant:e,size:n,className:t})),...s})}function p8(){const[t,e]=_.useState(null),[n,r]=_.useState(!1),[s,i]=_.useState(""),[a,l]=_.useState("idle"),[c,u]=_.useState("");_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:p,error:x}=await le.from("announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1);if(x)throw x;if(p&&p.length>0){const m=p[0];sessionStorage.getItem(`announcement_seen_${m.id}`)||(e(m),setTimeout(()=>r(!0),2e3))}}catch(p){console.error("Error checking announcements:",p)}},h=()=>{r(!1),t&&sessionStorage.setItem(`announcement_seen_${t.id}`,"true")},f=async p=>{if(p.preventDefault(),!!s){l("loading");try{const{error:x}=await le.from("newsletter_subscribers").insert([{email:s}]);if(x)if(x.code==="23505")l("success"),u("You are already subscribed!");else throw x;else l("success"),u("Successfully subscribed!");setTimeout(()=>{h()},2e3)}catch(x){console.error("Error subscribing:",x),l("error"),u("Failed to subscribe. Please try again.")}}};return t?o.jsx(io,{children:n&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 pointer-events-none",children:[o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/40 backdrop-blur-md pointer-events-auto",onClick:h}),o.jsxs(Ye.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white border border-gray-200 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden pointer-events-auto",children:[o.jsx("button",{onClick:h,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10 bg-white hover:bg-gray-50 rounded-full p-2 shadow-sm",children:o.jsx(Un,{className:"w-5 h-5"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:t.title}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.content})]}),t.photos&&t.photos.length>0&&o.jsx("div",{className:"mb-6",children:t.photos.length===1?o.jsx("div",{className:"w-full",children:o.jsx("img",{src:t.photos[0],alt:t.title,className:"w-full h-48 object-cover rounded-xl border border-gray-200"})}):o.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.photos.slice(0,4).map((p,x)=>o.jsx("div",{className:"aspect-square",children:o.jsx("img",{src:p,alt:`${t.title} ${x+1}`,className:"w-full h-full object-cover rounded-lg border border-gray-200"})},x))})}),t.has_input&&o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"email",value:s,onChange:p=>i(p.target.value),placeholder:t.input_placeholder||"Enter your email",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-all",required:!0})}),a==="error"&&o.jsx("p",{className:"text-gray-700 text-sm text-center bg-gray-100 py-2 rounded-lg border border-gray-200",children:c}),a==="success"&&o.jsx("p",{className:"text-gray-700 text-sm text-center bg-gray-100 py-2 rounded-lg border border-gray-200",children:c}),o.jsx(En,{type:"submit",disabled:a==="loading"||a==="success",className:"w-full bg-gray-900 hover:bg-gray-800 text-white font-semibold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a==="loading"?"Processing...":a==="success"?"Subscribed!":o.jsxs(o.Fragment,{children:[t.input_button_label||"Subscribe",o.jsx(Al,{className:"w-4 h-4 ml-2"})]})})]}),!t.has_input&&o.jsx(En,{onClick:h,className:"w-full bg-gray-900 hover:bg-gray-800 text-white font-semibold py-3 rounded-xl transition-all",children:"Close"})]})]})]})}):null}const m8="https://sakec.acm.org/api",Dd={position:"bottom-right",imageUrl:"/logo.png",showDelay:5e3,showAgainAfterDays:7};function g8(){const[t,e]=_.useState(!1),[n,r]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(!1),[c,u]=_.useState("");_.useEffect(()=>{const x=localStorage.getItem("newsletter-popup-closed");if(x&&(Date.now()-parseInt(x))/864e5<Dd.showAgainAfterDays||localStorage.getItem("newsletter-subscribed"))return;const v=setTimeout(()=>{e(!0)},Dd.showDelay);return()=>clearTimeout(v)},[]);const d=()=>{e(!1),localStorage.setItem("newsletter-popup-closed",Date.now().toString())},h=async x=>{x.preventDefault(),i(!0),u("");try{const v=await(await fetch(`${m8}/newsletter-subscribe.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).json();v.success?(l(!0),localStorage.setItem("newsletter-subscribed","true"),setTimeout(()=>{e(!1)},3e3)):u(v.message||"Failed to subscribe")}catch{u("Network error. Please try again.")}finally{i(!1)}},f=()=>"items-end justify-end p-4 md:p-6",p=()=>({initial:{opacity:0,y:100,x:100},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:100,x:100}});return o.jsx(io,{children:t&&o.jsxs(o.Fragment,{children:[Dd.position==="center",o.jsx("div",{className:`fixed inset-0 pointer-events-none z-50 flex ${f()}`,children:o.jsxs(Ye.div,{...p(),transition:{type:"spring",damping:25,stiffness:300},className:"pointer-events-auto bg-white border-2 border-black shadow-2xl relative w-full max-w-sm",children:[o.jsx("button",{onClick:d,className:"absolute top-3 right-3 p-1.5 bg-white hover:bg-gray-100 rounded-full transition-colors z-20 border border-gray-300 shadow-sm","aria-label":"Close",title:"Close",children:o.jsx(Un,{className:"w-4 h-4 text-gray-700 hover:text-gray-900"})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-20 h-20 bg-black rounded-full flex items-center justify-center",children:o.jsx("img",{src:Dd.imageUrl,alt:"SAKEC ACM",className:"w-16 h-16 object-contain"})})}),a?o.jsxs("div",{className:"text-center py-4",children:[o.jsx(Wi,{className:"w-12 h-12 text-black mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"You're Subscribed!"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Check your email for confirmation."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 bg-black rounded-full mb-3",children:o.jsx(or,{className:"w-5 h-5 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Stay Updated"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Get the latest events and tech insights"})]}),c&&o.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-start gap-2",children:[o.jsx(Wl,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-red-700",children:c})]}),o.jsxs("form",{onSubmit:h,className:"space-y-3",children:[o.jsx("input",{type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"Enter your email",required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-black transition-colors text-sm"}),o.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-2.5 bg-black text-white font-semibold hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm",children:s?"Subscribing...":"Subscribe"})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:"We respect your privacy. Unsubscribe anytime."})]})]}),o.jsx("div",{className:"h-1 bg-black"})]})})]})})}const x8=({content:t,contentClassName:e})=>{const[n,r]=Ke.useState(0),s=_.useRef(null),{scrollYProgress:i}=Gl({target:s,offset:["start 0.1","end 0.5"]}),a=t.length;zN(i,"change",d=>{const h=t.map((p,x)=>x/a),f=h.reduce((p,x,m)=>Math.abs(d-x)<Math.abs(d-h[p])?m:p,0);r(f)});const l=["linear-gradient(to bottom right, #06b6d4, #10b981)","linear-gradient(to bottom right, #ec4899, #6366f1)","linear-gradient(to bottom right, #f97316, #eab308)","linear-gradient(to bottom right, #8b5cf6, #ec4899)"],[c,u]=_.useState(l[0]);return _.useEffect(()=>{u(l[n%l.length])},[n]),o.jsxs("div",{ref:s,className:"relative flex flex-col lg:flex-row gap-6 lg:gap-20 py-0 lg:py-10",style:{position:"relative"},children:[o.jsx("div",{className:"hidden lg:block lg:w-1/2 space-y-32",children:t.map((d,h)=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(Ye.h2,{animate:{opacity:n===h?1:.3},transition:{duration:.3},className:"text-5xl font-bold text-gray-900",children:d.title}),o.jsx(Ye.p,{animate:{opacity:n===h?1:.3},transition:{duration:.3},className:"text-xl text-gray-700 leading-relaxed",children:d.description})]},d.title+h))}),o.jsx("div",{className:"hidden lg:block lg:w-1/2",children:o.jsx("div",{className:"sticky top-32",children:o.jsx(Ye.div,{style:{background:c},animate:{opacity:1},transition:{duration:.5},className:Dt("h-[500px] w-full overflow-hidden rounded-3xl shadow-2xl",e),children:t[n].content??null})})}),o.jsx("div",{className:"lg:hidden w-full space-y-8",children:t.map((d,h)=>o.jsx("div",{style:{background:l[h%l.length]},className:"h-[350px] w-full overflow-hidden rounded-3xl shadow-2xl",children:d.content},`mobile-${h}`))})]})},v8=[{title:"Trekking & Adventure Events",description:"Experience thrilling outdoor adventures and team-building activities. Join us for memorable treks, explore scenic trails, and bond with fellow ACM members in nature.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_group.JPG",alt:"Trekking Events",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(ii,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Trekking Events"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Adventures  Team Building"})]})]})},{title:"Vibrant Community",description:"Network with peers, mentors, and industry professionals. Build lasting connections and engage in collaborative learning and peer-to-peer mentorship.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/CSRA%20-Gaushala/csrGaushala2.jpg",alt:"Community",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(Sr,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Community"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Network  Collaborate"})]})]})},{title:"Learning & Development",description:"Access exclusive resources, tutorials, and mentorship programs. Stay ahead with cutting-edge courses, certifications, and hands-on training sessions.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/PYTHON%20PROGRAMMING%20LEARN%20IT%20WELL%20(PP)/python4.jpg",alt:"Learning",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(SO,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Learning"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Resources  Mentorship"})]})]})},{title:"Recognition & Achievements",description:"Showcase your talents and earn certificates, awards, and prizes. Build a strong portfolio that stands out to employers and demonstrates your capabilities.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Triumph/triumph4.jpg",alt:"Recognition",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(yu,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Recognition"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Certificates  Awards"})]})]})}];function y8(){return o.jsx("div",{className:"w-full",children:o.jsx(x8,{content:v8})})}const b8=({children:t,className:e,containerClassName:n})=>{let r=Tl(0),s=Tl(0);const i={light:{default:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%23d4d4d4' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`,hover:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%236366f1' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`},dark:{default:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%23333333' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`,hover:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%23B19EEF' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`}};function a({currentTarget:l,clientX:c,clientY:u}){if(!l)return;let{left:d,top:h}=l.getBoundingClientRect();r.set(c-d),s.set(u-h)}return o.jsxs("div",{className:Dt("group relative flex h-[40rem] w-full items-center justify-center bg-transparent dark:bg-transparent",n),onMouseMove:a,children:[o.jsx("div",{className:"pointer-events-none absolute inset-0 dark:hidden",style:{backgroundImage:i.light.default}}),o.jsx("div",{className:"pointer-events-none absolute inset-0 hidden dark:block",style:{backgroundImage:i.dark.default}}),o.jsx(Ye.div,{className:"pointer-events-none absolute inset-0 opacity-0 transition duration-300 group-hover:opacity-100 dark:hidden",style:{backgroundImage:i.light.hover,WebkitMaskImage:wd`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `,maskImage:wd`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `}}),o.jsx(Ye.div,{className:"pointer-events-none absolute inset-0 hidden opacity-0 transition duration-300 group-hover:opacity-100 dark:block",style:{backgroundImage:i.dark.hover,WebkitMaskImage:wd`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `,maskImage:wd`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `}}),o.jsx("div",{className:Dt("relative z-20",e),children:t})]})},_8=({texts:t,className:e="",typingSpeed:n=100,deletingSpeed:r=50,delayBetweenTexts:s=1e4})=>{const[i,a]=_.useState(0),[l,c]=_.useState(""),[u,d]=_.useState(!1),[h,f]=_.useState(!1);return _.useEffect(()=>{const p=t[i];if(h){const m=setTimeout(()=>{f(!1),d(!0)},s);return()=>clearTimeout(m)}if(!u&&l===p){f(!0);return}if(u&&l===""){d(!1),a(m=>(m+1)%t.length);return}const x=setTimeout(()=>{c(u?p.substring(0,l.length-1):p.substring(0,l.length+1))},u?r:n);return()=>clearTimeout(x)},[l,i,u,h,t,n,r,s]),o.jsxs("span",{className:e,children:[l,o.jsx("span",{className:"animate-pulse",children:"|"})]})},w8=({words:t,className:e="",cursorClassName:n=""})=>{const r=t.map(d=>d.text),[s,i]=_.useState(0),[a,l]=_.useState(""),[c,u]=_.useState(!1);return _.useEffect(()=>{if(s>=t.length){u(!0);return}const d=r[s];if(a.length<d.length){const h=setTimeout(()=>{l(d.substring(0,a.length+1))},100);return()=>clearTimeout(h)}else{const h=setTimeout(()=>{i(f=>f+1),l("")},300);return()=>clearTimeout(h)}},[a,s,r,t.length]),o.jsx("div",{className:`flex space-x-1 my-6 ${e}`,children:t.map((d,h)=>h<s?o.jsx("div",{className:`text-2xl md:text-4xl lg:text-5xl font-bold ${d.className||"text-gray-900"}`,children:d.text},h):h===s?o.jsxs("div",{className:`text-2xl md:text-4xl lg:text-5xl font-bold ${d.className||"text-gray-900"}`,children:[a,!c&&o.jsx("span",{className:`inline-block w-0.5 h-8 md:h-12 bg-gray-900 animate-pulse ml-1 ${n}`})]},h):null)})};function S8(){return o.jsx(b8,{containerClassName:"h-auto py-20 md:py-32 bg-transparent dark:bg-transparent",children:o.jsx("div",{className:"max-w-5xl mx-auto px-4",children:o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:[20,-5,0]},transition:{duration:.5,ease:[.4,0,.2,1]},className:"text-center",children:[o.jsx("div",{className:"inline-block mb-3 md:mb-4",children:o.jsx("span",{className:"text-xs md:text-sm font-semibold tracking-wider text-gray-400 uppercase",children:"Why Choose ACM"})}),o.jsx("div",{className:"mb-6",children:o.jsx(w8,{words:[{text:"Your"},{text:"Gateway"},{text:"to"},{text:"Tech",className:"text-blue-500 dark:text-blue-500"},{text:"Excellence",className:"text-blue-500 dark:text-blue-500"}],className:"justify-center"})}),o.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-400 max-w-3xl mx-auto leading-relaxed mb-8",children:"SAKEC ACM Student Chapter is more than just a clubit's a launchpad for your tech career. We provide the tools, connections, and opportunities you need to succeed."}),o.jsx(En,{asChild:!0,size:"lg",className:"bg-white text-black hover:bg-gray-200 group",children:o.jsxs(Rt,{to:"/why-join",children:["Learn More",o.jsx(BO,{className:"ml-2 w-4 h-4 group-hover:rotate-12 transition-transform"})]})})]})})})}const E8=({titleComponent:t,children:e})=>{const n=_.useRef(null),{scrollYProgress:r}=Gl({target:n}),[s,i]=Ke.useState(!1);Ke.useEffect(()=>{const d=()=>{i(window.innerWidth<=768)};return d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]);const a=()=>s?[.7,.9]:[1.05,1],l=An(r,[0,1],[20,0]),c=An(r,[0,1],a()),u=An(r,[0,1],[0,-100]);return o.jsx("div",{className:"h-[60rem] md:h-[80rem] flex items-center justify-center relative p-2 md:p-20",ref:n,style:{position:"relative"},children:o.jsxs("div",{className:"py-10 md:py-40 w-full relative",style:{perspective:"1000px"},children:[o.jsx(C8,{translate:u,titleComponent:t}),o.jsx(N8,{rotate:l,translate:u,scale:c,children:e})]})})},C8=({translate:t,titleComponent:e})=>o.jsx(Ye.div,{style:{translateY:t},className:"div max-w-5xl mx-auto text-center",children:e}),N8=({rotate:t,scale:e,children:n})=>o.jsx(Ye.div,{style:{rotateX:t,scale:e,boxShadow:"0 0 #0000004d, 0 9px 20px #0000004a, 0 37px 37px #00000042, 0 84px 50px #00000026, 0 149px 60px #0000000a, 0 233px 65px #00000003"},className:"max-w-5xl -mt-12 mx-auto h-[30rem] md:h-[40rem] w-full border-4 border-[#6C6C6C] p-2 md:p-6 bg-[#222222] rounded-[30px] shadow-2xl",children:o.jsx("div",{className:" h-full w-full  overflow-hidden rounded-2xl bg-gray-100 dark:bg-zinc-900 md:rounded-2xl md:p-4 ",children:n})}),Tm=["https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_group.JPG","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Trek%20to%20'Kothaligadh%20Fort'/trek2020_1.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/PYTHON%20PROGRAMMING%20LEARN%20IT%20WELL%20(PP)/python4.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Triumph/triumph4.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Android/an3.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/IoT%20(1)/iot3.jpg"];function T8(){const[t,e]=_.useState(0);return _.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%Tm.length)},3e3);return()=>clearInterval(n)},[]),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx(E8,{titleComponent:o.jsx(o.Fragment,{children:o.jsxs("h1",{className:"text-4xl font-semibold text-black",children:["Ready to Start Your ",o.jsx("br",{}),o.jsx("span",{className:"text-4xl md:text-[6rem] font-bold mt-1 leading-none text-black",children:"Journey?"})]})}),children:o.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-2xl",children:[o.jsx(io,{mode:"wait",children:o.jsx(Ye.img,{src:Tm[t],alt:"SAKEC ACM Student Chapter",height:720,width:1400,className:"mx-auto rounded-2xl object-cover h-full w-full object-center",draggable:!1,initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.7}},t)}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:Tm.map((n,r)=>o.jsx("button",{onClick:()=>e(r),className:`w-2 h-2 rounded-full transition-all ${r===t?"bg-white w-6":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${r+1}`},r))})]})}),o.jsx("div",{className:"flex justify-center -mt-32 md:-mt-40 relative z-20 pointer-events-auto",children:o.jsx(En,{asChild:!0,size:"lg",className:"bg-black hover:bg-gray-900 text-white text-lg px-12 py-6 shadow-2xl pointer-events-auto border-2 border-white",children:o.jsx(Rt,{to:"/join",children:"Join Now"})})})]})}const fc={duration:0,ease:"linear"},M8=["Empowering students through Innovation and Collaboration","Building tomorrow's tech leaders with hands-on experience","Join us in advancing computing as a science and profession","Creating a community of innovators and problem solvers","Transforming ideas into reality through technology"],A8=({pathLengths:t,title:e,className:n})=>o.jsxs("div",{className:Dt("sticky top-80",n),children:[o.jsx("p",{className:"text-lg md:text-7xl font-bold pb-4 text-center bg-clip-text text-transparent bg-gradient-to-b from-gray-900 to-gray-700",children:e||"Build with Aceternity UI"}),o.jsx("div",{className:"text-xs md:text-xl font-normal text-center text-gray-700 mt-4 max-w-2xl mx-auto min-h-[60px] md:min-h-[80px] flex items-center justify-center px-4",children:o.jsx(_8,{texts:M8,className:"text-xs md:text-xl font-normal text-gray-700",typingSpeed:80,deletingSpeed:40,delayBetweenTexts:1e4})}),o.jsx("div",{className:"w-full h-[890px] -top-60 md:-top-40  flex items-center justify-center bg-transparent absolute z-50 pointer-events-none",children:o.jsxs(Rt,{to:"/join",className:"group relative font-bold bg-black text-white rounded-full md:px-8 md:py-4 px-6 py-3 md:mt-24 mt-8 md:text-lg text-sm w-fit mx-auto transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-black/50 block overflow-hidden pointer-events-auto border-2 border-white",children:[o.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Join Now",o.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),o.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})}),o.jsxs("svg",{width:"1440",height:"890",viewBox:"0 0 1440 890",xmlns:"http://www.w3.org/2000/svg",className:" absolute -top-60  md:-top-40 w-full",children:[o.jsx(Ye.path,{d:"M0 663C145.5 663 191 666.265 269 647C326.5 630 339.5 621 397.5 566C439 531.5 455 529.5 490 523C509.664 519.348 521 503.736 538 504.236C553.591 504.236 562.429 514.739 584.66 522.749C592.042 525.408 600.2 526.237 607.356 523.019C624.755 515.195 641.446 496.324 657 496.735C673.408 496.735 693.545 519.572 712.903 526.769C718.727 528.934 725.184 528.395 730.902 525.965C751.726 517.115 764.085 497.106 782 496.735C794.831 496.47 804.103 508.859 822.469 518.515C835.13 525.171 850.214 526.815 862.827 520.069C875.952 513.049 889.748 502.706 903.5 503.736C922.677 505.171 935.293 510.562 945.817 515.673C954.234 519.76 963.095 522.792 972.199 524.954C996.012 530.611 1007.42 534.118 1034 549C1077.5 573.359 1082.5 594.5 1140 629C1206 670 1328.5 662.5 1440 662.5",stroke:"#FFB7C5",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[0]},transition:fc}),o.jsx(Ye.path,{d:"M0 587.5C147 587.5 277 587.5 310 573.5C348 563 392.5 543.5 408 535C434 523.5 426 526.235 479 515.235C494 512.729 523 510.435 534.5 512.735C554.5 516.735 555.5 523.235 576 523.735C592 523.735 616 496.735 633 497.235C648.671 497.235 661.31 515.052 684.774 524.942C692.004 527.989 700.2 528.738 707.349 525.505C724.886 517.575 741.932 498.33 757.5 498.742C773.864 498.742 791.711 520.623 810.403 527.654C816.218 529.841 822.661 529.246 828.451 526.991C849.246 518.893 861.599 502.112 879.5 501.742C886.47 501.597 896.865 506.047 907.429 510.911C930.879 521.707 957.139 519.639 982.951 520.063C1020.91 520.686 1037.5 530.797 1056.5 537C1102.24 556.627 1116.5 570.704 1180.5 579.235C1257.5 589.5 1279 587 1440 588",stroke:"#FFDDB7",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[1]},transition:fc}),o.jsx(Ye.path,{d:"M0 514C147.5 514.333 294.5 513.735 380.5 513.735C405.976 514.94 422.849 515.228 436.37 515.123C477.503 514.803 518.631 506.605 559.508 511.197C564.04 511.706 569.162 512.524 575 513.735C588 516.433 616 521.702 627.5 519.402C647.5 515.402 659 499.235 680.5 499.235C700.5 499.235 725 529.235 742 528.735C757.654 528.735 768.77 510.583 791.793 500.59C798.991 497.465 807.16 496.777 814.423 499.745C832.335 507.064 850.418 524.648 866 524.235C882.791 524.235 902.316 509.786 921.814 505.392C926.856 504.255 932.097 504.674 937.176 505.631C966.993 511.248 970.679 514.346 989.5 514.735C1006.3 515.083 1036.5 513.235 1055.5 513.235C1114.5 513.235 1090.5 513.235 1124 513.235C1177.5 513.235 1178.99 514.402 1241 514.402C1317.5 514.402 1274.5 512.568 1440 513.235",stroke:"#B1C5FF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[2]},transition:fc}),o.jsx(Ye.path,{d:"M0 438.5C150.5 438.5 261 438.318 323.5 456.5C351 464.5 387.517 484.001 423.5 494.5C447.371 501.465 472 503.735 487 507.735C503.786 512.212 504.5 516.808 523 518.735C547 521.235 564.814 501.235 584.5 501.235C604.5 501.235 626 529.069 643 528.569C658.676 528.569 672.076 511.63 695.751 501.972C703.017 499.008 711.231 498.208 718.298 501.617C735.448 509.889 751.454 529.98 767 529.569C783.364 529.569 801.211 507.687 819.903 500.657C825.718 498.469 832.141 499.104 837.992 501.194C859.178 508.764 873.089 523.365 891 523.735C907.8 524.083 923 504.235 963 506.735C1034.5 506.735 1047.5 492.68 1071 481.5C1122.5 457 1142.23 452.871 1185 446.5C1255.5 436 1294 439 1439.5 439",stroke:"#4FABFF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[3]},transition:fc}),o.jsx(Ye.path,{d:"M0.5 364C145.288 362.349 195 361.5 265.5 378C322 391.223 399.182 457.5 411 467.5C424.176 478.649 456.916 491.677 496.259 502.699C498.746 503.396 501.16 504.304 503.511 505.374C517.104 511.558 541.149 520.911 551.5 521.236C571.5 521.236 590 498.736 611.5 498.736C631.5 498.736 652.5 529.236 669.5 528.736C685.171 528.736 697.81 510.924 721.274 501.036C728.505 497.988 736.716 497.231 743.812 500.579C761.362 508.857 778.421 529.148 794 528.736C810.375 528.736 829.35 508.68 848.364 502.179C854.243 500.169 860.624 500.802 866.535 502.718C886.961 509.338 898.141 519.866 916 520.236C932.8 520.583 934.5 510.236 967.5 501.736C1011.5 491 1007.5 493.5 1029.5 480C1069.5 453.5 1072 440.442 1128.5 403.5C1180.5 369.5 1275 360.374 1439 364",stroke:"#076EFF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[4]},transition:fc}),o.jsx("path",{d:"M0 663C145.5 663 191 666.265 269 647C326.5 630 339.5 621 397.5 566C439 531.5 455 529.5 490 523C509.664 519.348 521 503.736 538 504.236C553.591 504.236 562.429 514.739 584.66 522.749C592.042 525.408 600.2 526.237 607.356 523.019C624.755 515.195 641.446 496.324 657 496.735C673.408 496.735 693.545 519.572 712.903 526.769C718.727 528.934 725.184 528.395 730.902 525.965C751.726 517.115 764.085 497.106 782 496.735C794.831 496.47 804.103 508.859 822.469 518.515C835.13 525.171 850.214 526.815 862.827 520.069C875.952 513.049 889.748 502.706 903.5 503.736C922.677 505.171 935.293 510.562 945.817 515.673C954.234 519.76 963.095 522.792 972.199 524.954C996.012 530.611 1007.42 534.118 1034 549C1077.5 573.359 1082.5 594.5 1140 629C1206 670 1328.5 662.5 1440 662.5",stroke:"#FFB7C5",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0 587.5C147 587.5 277 587.5 310 573.5C348 563 392.5 543.5 408 535C434 523.5 426 526.235 479 515.235C494 512.729 523 510.435 534.5 512.735C554.5 516.735 555.5 523.235 576 523.735C592 523.735 616 496.735 633 497.235C648.671 497.235 661.31 515.052 684.774 524.942C692.004 527.989 700.2 528.738 707.349 525.505C724.886 517.575 741.932 498.33 757.5 498.742C773.864 498.742 791.711 520.623 810.403 527.654C816.218 529.841 822.661 529.246 828.451 526.991C849.246 518.893 861.599 502.112 879.5 501.742C886.47 501.597 896.865 506.047 907.429 510.911C930.879 521.707 957.139 519.639 982.951 520.063C1020.91 520.686 1037.5 530.797 1056.5 537C1102.24 556.627 1116.5 570.704 1180.5 579.235C1257.5 589.5 1279 587 1440 588",stroke:"#FFDDB7",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0 514C147.5 514.333 294.5 513.735 380.5 513.735C405.976 514.94 422.849 515.228 436.37 515.123C477.503 514.803 518.631 506.605 559.508 511.197C564.04 511.706 569.162 512.524 575 513.735C588 516.433 616 521.702 627.5 519.402C647.5 515.402 659 499.235 680.5 499.235C700.5 499.235 725 529.235 742 528.735C757.654 528.735 768.77 510.583 791.793 500.59C798.991 497.465 807.16 496.777 814.423 499.745C832.335 507.064 850.418 524.648 866 524.235C882.791 524.235 902.316 509.786 921.814 505.392C926.856 504.255 932.097 504.674 937.176 505.631C966.993 511.248 970.679 514.346 989.5 514.735C1006.3 515.083 1036.5 513.235 1055.5 513.235C1114.5 513.235 1090.5 513.235 1124 513.235C1177.5 513.235 1178.99 514.402 1241 514.402C1317.5 514.402 1274.5 512.568 1440 513.235",stroke:"#B1C5FF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0 438.5C150.5 438.5 261 438.318 323.5 456.5C351 464.5 387.517 484.001 423.5 494.5C447.371 501.465 472 503.735 487 507.735C503.786 512.212 504.5 516.808 523 518.735C547 521.235 564.814 501.235 584.5 501.235C604.5 501.235 626 529.069 643 528.569C658.676 528.569 672.076 511.63 695.751 501.972C703.017 499.008 711.231 498.208 718.298 501.617C735.448 509.889 751.454 529.98 767 529.569C783.364 529.569 801.211 507.687 819.903 500.657C825.718 498.469 832.141 499.104 837.992 501.194C859.178 508.764 873.089 523.365 891 523.735C907.8 524.083 923 504.235 963 506.735C1034.5 506.735 1047.5 492.68 1071 481.5C1122.5 457 1142.23 452.871 1185 446.5C1255.5 436 1294 439 1439.5 439",stroke:"#4FABFF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0.5 364C145.288 362.349 195 361.5 265.5 378C322 391.223 399.182 457.5 411 467.5C424.176 478.649 456.916 491.677 496.259 502.699C498.746 503.396 501.16 504.304 503.511 505.374C517.104 511.558 541.149 520.911 551.5 521.236C571.5 521.236 590 498.736 611.5 498.736C631.5 498.736 652.5 529.236 669.5 528.736C685.171 528.736 697.81 510.924 721.274 501.036C728.505 497.988 736.716 497.231 743.812 500.579C761.362 508.857 778.421 529.148 794 528.736C810.375 528.736 829.35 508.68 848.364 502.179C854.243 500.169 860.624 500.802 866.535 502.718C886.961 509.338 898.141 519.866 916 520.236C932.8 520.583 934.5 510.236 967.5 501.736C1011.5 491 1007.5 493.5 1029.5 480C1069.5 453.5 1072 440.442 1128.5 403.5C1180.5 369.5 1275 360.374 1439 364",stroke:"#076EFF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("defs",{children:o.jsx("filter",{id:"blurMe",children:o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5"})})})]})]});function R8(){const t=Ke.useRef(null),{scrollYProgress:e}=Gl({target:t,offset:["start start","end start"]}),n=An(e,[0,.8],[.2,1.2]),r=An(e,[0,.8],[.15,1.2]),s=An(e,[0,.8],[.1,1.2]),i=An(e,[0,.8],[.05,1.2]),a=An(e,[0,.8],[0,1.2]);return o.jsxs("div",{className:"h-[300vh] sm:h-[350vh] md:h-[400vh] lg:h-[400vh] bg-[#FAF9F6] w-full relative pt-20 sm:pt-32 md:pt-40 overflow-clip",ref:t,style:{position:"relative"},children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#00000008_1px,transparent_1px)] bg-[size:16px_16px] sm:bg-[size:20px_20px] md:bg-[size:24px_24px]"}),o.jsx(A8,{pathLengths:[n,r,s,i,a],title:"SAKEC ACM Student Chapter"})]})}function j8(){return null}function P8(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let $g=1;class k8{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:$g++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,a;const l=s.then(async u=>{if(a=["resolve",u],Ke.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(I8(u)&&!u.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,x=typeof h=="object"&&!Ke.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...x})}else if(u instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!Ke.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:f,...x})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description,x=typeof h=="object"&&!Ke.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:f,...x})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;const d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,p=typeof d=="object"&&!Ke.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...p})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||$g++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rr=new k8,D8=(t,e)=>{const n=(e==null?void 0:e.id)||$g++;return Rr.addToast({title:t,...e,id:n}),n},I8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",L8=D8,O8=()=>Rr.toasts,U8=()=>Rr.getActiveToasts(),Mn=Object.assign(L8,{success:Rr.success,info:Rr.info,warning:Rr.warning,error:Rr.error,custom:Rr.custom,message:Rr.message,promise:Rr.promise,dismiss:Rr.dismiss,loading:Rr.loading},{getHistory:O8,getToasts:U8});P8("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function F8(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(!1),a=async l=>{if(l.preventDefault(),!t||!t.includes("@")){Mn.error("Please enter a valid email address");return}i(!0);try{const{error:c}=await le.from("newsletter_subscribers").insert([{email:t,name:n}]);if(c){c.code==="23505"?Mn.error("This email is already subscribed!"):(Mn.error("Failed to subscribe. Please try again."),console.error("Supabase error:",c));return}fetch("/api/newsletter-subscribe.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,name:n})}).catch(u=>console.error("PHP script error:",u)),Mn.success("Successfully subscribed to the newsletter!"),e(""),r("")}catch(c){console.error("Subscription error:",c),Mn.error("An unexpected error occurred.")}finally{i(!1)}};return o.jsxs("div",{className:"border border-gray-200 rounded-2xl p-8 bg-white/50 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(or,{className:"w-6 h-6 text-gray-900"}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Subscribe to Our Newsletter"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Get the latest updates on events, workshops, and tech insights delivered to your inbox."}),o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"text",value:n,onChange:l=>r(l.target.value),placeholder:"Your Name (optional)",className:"w-full px-4 py-3 rounded-lg border border-gray-300 text-gray-900 placeholder:text-gray-500 focus:outline-none focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all bg-white"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"email",value:t,onChange:l=>e(l.target.value),placeholder:"Enter your email",required:!0,className:"flex-1 px-4 py-3 rounded-lg border border-gray-300 text-gray-900 placeholder:text-gray-500 focus:outline-none focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all bg-white"}),o.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all border border-gray-900 hover:border-gray-800",children:s?"Subscribing...":"Subscribe"})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"We respect your privacy. Unsubscribe at any time."})]})}const z8=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function B8({text:t,default_velocity:e=5,className:n}){function r({children:s,baseVelocity:i=100,className:a}){const l=Tl(0),{scrollY:c}=Gl(),u=xO(c),d=dO(u,{damping:50,stiffness:400}),h=An(d,[0,1e3],[0,5],{clamp:!1}),[f,p]=_.useState(1),x=_.useRef(null),m=_.useRef(null);_.useEffect(()=>{const y=()=>{if(x.current&&m.current){const b=x.current.offsetWidth,w=m.current.offsetWidth,S=Math.ceil(b/w)+2;p(S)}};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[s]);const v=An(l,y=>`${z8(-100/f,0,y)}%`),g=Ke.useRef(1);return hO((y,b)=>{let w=g.current*i*(b/1e3);h.get()<0?g.current=-1:h.get()>0&&(g.current=1),w+=g.current*w*h.get(),l.set(l.get()+w)}),o.jsx("div",{className:"w-full overflow-hidden whitespace-nowrap",ref:x,children:o.jsx(Ye.div,{className:Dt("inline-block",a),style:{x:v},children:Array.from({length:f}).map((y,b)=>o.jsxs("span",{ref:b===0?m:null,children:[s," "]},b))})})}return o.jsxs("section",{className:"relative w-full",children:[o.jsx(r,{baseVelocity:e,className:n,children:t}),o.jsx(r,{baseVelocity:-e,className:n,children:t})]})}function V8(){return o.jsx("section",{className:"py-20 overflow-hidden",children:o.jsx(B8,{text:"SAKEC ACM  INNOVATE  COLLABORATE  CODE  LEARN  BUILD ",default_velocity:3,className:"font-display text-center text-3xl font-bold tracking-[-0.02em] text-gray-900 md:text-6xl md:leading-[4rem]"})})}const gM=()=>null,wn=({children:t,mainNavHeight:e="6em",rootClassName:n="bg-black text-white",navSpacerClassName:r="border-b border-white/15 bg-black",sectionClassName:s="bg-[#131313]",stickyHeaderContainerClassName:i="shadow-lg",headerContentWrapperClassName:a="border-b border-t border-white/15 bg-black",headerContentLayoutClassName:l="mx-auto max-w-7xl px-4 py-5 sm:px-6 lg:px-8",titleClassName:c="my-0 text-2xl font-medium leading-none md:text-3xl lg:text-4xl",contentLayoutClassName:u="mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8"})=>{const d=`calc(${e} - 1px)`,h={height:e},f={top:d};return o.jsxs("div",{className:ms("overflow-clip",n),children:[o.jsx("div",{className:ms("sticky left-0 top-0 z-20 w-full",r),style:h,"aria-hidden":"true"}),_.Children.map(t,p=>{if(!_.isValidElement(p)||p.type!==gM)return null;const x=p,{title:m,id:v,children:g}=x.props;return o.jsxs("section",{className:ms("relative overflow-clip",s),children:[o.jsx("div",{className:ms("sticky z-10 -mt-px flex flex-col",i),style:f,children:o.jsx("div",{className:ms(a),children:o.jsx("div",{className:ms(l),children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:ms(c),children:m})})})})}),o.jsx("div",{className:ms(u),children:g})]},v)})]})};wn.Item=gM;function $8(){return o.jsx("div",{className:"md:hidden",children:o.jsxs(wn,{mainNavHeight:"4rem",rootClassName:"bg-transparent text-gray-900",navSpacerClassName:"border-b border-gray-200 bg-transparent",sectionClassName:"bg-transparent",stickyHeaderContainerClassName:"shadow-sm",headerContentWrapperClassName:"border-b border-gray-200 bg-transparent backdrop-blur-sm",headerContentLayoutClassName:"px-4 py-4",titleClassName:"text-lg font-bold text-gray-900",contentLayoutClassName:"px-4 py-6",children:[o.jsx(wn.Item,{title:" Technical Workshops",id:"workshops",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative rounded-xl overflow-hidden",children:o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/Sakec.aictelab11.jpg",alt:"Workshop",className:"w-full h-48 object-cover"})}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(qN,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Learn & Build"}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Hands-on coding sessions, hackathons, and technical workshops on cutting-edge technologies. Build real projects and enhance your programming skills with industry experts."})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/PYTHON%20PROGRAMMING%20LEARN%20IT%20WELL%20(PP)/python4.jpg",alt:"Python Workshop",className:"w-full h-32 object-cover rounded-lg"}),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/Sakec.aictelab1.jpg",alt:"Lab Session",className:"w-full h-32 object-cover rounded-lg"})]})]})}),o.jsx(wn.Item,{title:" Competitions & Hackathons",id:"competitions",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative rounded-xl overflow-hidden",children:o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Triumph/triumph4.jpg",alt:"Competition",className:"w-full h-48 object-cover"})}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(yu,{className:"w-5 h-5 text-orange-600 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Compete & Win"}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Challenge yourself in coding contests, hackathons, and innovation challenges. Showcase your skills, win prizes, and get recognized by industry leaders."})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Innovative%20Project%20Hunt/iph2.jpg",alt:"Project Hunt",className:"w-full h-32 object-cover rounded-lg"}),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/A%20Talk%20on%20ETHICAL%20HACKING%20AND%20CYBER%20SECURITY/ethicalHacking2.jpg",alt:"Cyber Security",className:"w-full h-32 object-cover rounded-lg"})]})]})}),o.jsx(wn.Item,{title:" Community & Networking",id:"community",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative rounded-xl overflow-hidden",children:o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/CSRA%20-Gaushala/csrGaushala2.jpg",alt:"Community Event",className:"w-full h-48 object-cover"})}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Sr,{className:"w-5 h-5 text-green-600 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Connect & Grow"}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Network with industry professionals, alumni, and fellow tech enthusiasts. Participate in CSR activities, team celebrations, and community building events."})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Android/an3.jpg",alt:"Android Workshop",className:"w-full h-32 object-cover rounded-lg"}),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/IoT%20(1)/iot3.jpg",alt:"IoT Session",className:"w-full h-32 object-cover rounded-lg"})]})]})})]})})}function H8(){return o.jsxs("div",{className:"text-gray-900 relative",children:[o.jsx(R8,{}),o.jsxs("section",{className:"relative z-20 pt-20 md:pt-40",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"relative",children:o.jsx(j8,{})})]}),o.jsx($8,{}),o.jsxs("section",{className:"relative z-20 py-20",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"container mx-auto px-4 relative",children:o.jsx(y8,{})})]}),o.jsx(V8,{}),o.jsxs("section",{className:"py-4 md:py-20 relative z-10",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"container mx-auto relative",children:o.jsx(S8,{})})]}),o.jsx("section",{className:"relative z-10",children:o.jsx(T8,{})}),o.jsxs("section",{className:"relative z-20 py-20",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"container mx-auto px-4 relative",children:o.jsx(F8,{})})]})]})}function an({className:t,...e}){return o.jsx("div",{"data-slot":"card",className:Dt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function G8({className:t,...e}){return o.jsx("div",{"data-slot":"card-header",className:Dt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function W8({className:t,...e}){return o.jsx("div",{"data-slot":"card-title",className:Dt("leading-none font-semibold",t),...e})}function Yt({className:t,...e}){return o.jsx("div",{"data-slot":"card-content",className:Dt("px-6",t),...e})}const q8=({data:t})=>{const e=_.useRef(null),n=_.useRef(null),[r,s]=_.useState(0);_.useEffect(()=>{if(e.current){const c=e.current.getBoundingClientRect();s(c.height)}},[e]);const{scrollYProgress:i}=Gl({target:n,offset:["start 10%","end 50%"]}),a=An(i,[0,1],[0,r]),l=An(i,[0,.1],[0,1]);return o.jsxs("div",{className:"w-full font-sans md:px-10",ref:n,style:{position:"relative"},children:[o.jsxs("div",{className:"max-w-7xl mx-auto py-20 px-4 md:px-8 lg:px-10",children:[o.jsx("h2",{className:"text-lg md:text-4xl mb-4 text-gray-900 max-w-4xl font-bold",children:"Our Journey"}),o.jsx("p",{className:"text-gray-700 text-sm md:text-base max-w-sm",children:"A timeline of SAKEC ACM Student Chapter's growth and achievements"})]}),o.jsxs("div",{ref:e,className:"relative max-w-7xl mx-auto pb-20",children:[t.map((c,u)=>o.jsxs("div",{className:"flex justify-start pt-10 md:pt-40 md:gap-10",children:[o.jsxs("div",{className:"sticky flex flex-col md:flex-row z-40 items-center top-40 self-start max-w-xs lg:max-w-sm md:w-full",children:[o.jsx("div",{className:"h-10 absolute left-3 md:left-3 w-10 rounded-full bg-white dark:bg-black flex items-center justify-center",children:o.jsx("div",{className:"h-4 w-4 rounded-full bg-neutral-200 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 p-2"})}),o.jsx("h3",{className:"hidden md:block text-xl md:pl-20 md:text-5xl font-bold text-neutral-500 dark:text-neutral-500 ",children:c.title})]}),o.jsxs("div",{className:"relative pl-20 pr-4 md:pl-4 w-full",children:[o.jsx("h3",{className:"md:hidden block text-2xl mb-4 text-left font-bold text-neutral-500 dark:text-neutral-500",children:c.title}),c.content," "]})]},u)),o.jsx("div",{style:{height:r+"px"},className:"absolute md:left-8 left-8 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-[0%] via-neutral-200 dark:via-neutral-700 to-transparent to-[99%]  [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)] ",children:o.jsx(Ye.div,{style:{height:a,opacity:l},className:"absolute inset-x-0 top-0  w-[2px] bg-gradient-to-t from-purple-500 via-blue-500 to-transparent from-[0%] via-[10%] rounded-full"})})]})]})};function X8(){const t=[{title:"2025",content:o.jsxs("div",{children:[o.jsx("p",{className:"mb-8 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"Revival of SAKEC ACM Student Chapter with renewed focus on innovation, community building, and technical excellence. Launched new initiatives and expanded our reach."},"intro-2025"),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_banner_photo.jpeg",alt:"ACM Event",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"trek-2025"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/Sakec.aictelab11.jpg",alt:"AICTE Lab",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"python-2025"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/Sakec.aictelab1.jpg",alt:"SAKEC Campus",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"triumph-2025")]},"images-2025")]})},{title:"2019-2024",content:o.jsxs("div",{children:[o.jsx("p",{className:"mb-8 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"Continued growth with regular workshops, hackathons, and technical seminars. Established partnerships with leading tech companies and expanded our member base significantly."},"growth"),o.jsx("p",{className:"mb-8 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"Organized numerous coding competitions, guest lectures by industry experts, and hands-on training sessions that helped students enhance their technical skills."},"activities"),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Android/an3.jpg",alt:"Android Workshop",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"android-workshop"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/IoT%20(1)/iot3.jpg",alt:"IoT Workshop",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"iot-workshop"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Innovative%20Project%20Hunt/iph2.jpg",alt:"Project Hunt",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"project-hunt"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/A%20Talk%20on%20ETHICAL%20HACKING%20AND%20CYBER%20SECURITY/ethicalHacking2.jpg",alt:"Cyber Security Talk",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"cyber-security")]},"images-2019")]})},{title:"2017",content:o.jsxs("div",{children:[o.jsx("p",{className:"mb-4 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"SAKEC ACM Student Chapter was established on 11th April, 2017"},"intro-2017"),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Official ACM Student Chapter recognition"},"recognition"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" First core team formation"},"team"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Initial workshop series launched"},"workshop"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Community building initiatives started"},"community"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Foundation for future growth established"},"foundation")]},"checklist-2017"),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Trek/trk3.jpg",alt:"Trek Activity",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"trek-2017"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Relational%20Model%20Redesign/relation4.jpg",alt:"Technical Workshop",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"workshop-2017")]},"images-2017")]})}];return o.jsx("div",{className:"relative w-full overflow-clip",children:o.jsx(q8,{data:t})})}/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K8={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=(t,e,n,r)=>{const s=_.forwardRef(({color:i="currentColor",size:a=24,stroke:l=2,title:c,className:u,children:d,...h},f)=>_.createElement("svg",{ref:f,...K8[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),strokeWidth:l,stroke:i,...h},[c&&_.createElement("title",{key:"svg-title"},c),...r.map(([p,x])=>_.createElement(p,x)),...Array.isArray(d)?d:[d]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],Z8=xM("outline","arrow-left","ArrowLeft",Y8);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Q8=xM("outline","arrow-right","ArrowRight",J8),e9=({testimonials:t,autoplay:e=!1})=>{const[n,r]=_.useState(0),s=()=>{r(d=>(d+1)%t.length)},i=()=>{r(d=>(d-1+t.length)%t.length)},a=d=>d===n;_.useEffect(()=>{if(e){const d=setInterval(s,5e3);return()=>clearInterval(d)}},[e]);const[l,c]=_.useState(!1);_.useEffect(()=>{c(!0)},[]);const u=()=>Math.floor(Math.random()*21)-10;return l?o.jsx("div",{className:"mx-auto max-w-sm px-4 py-20 font-sans antialiased md:max-w-4xl md:px-8 lg:px-12",children:o.jsxs("div",{className:"relative grid grid-cols-1 gap-20 md:grid-cols-2 ",children:[o.jsx("div",{children:o.jsx("div",{className:"relative h-80 w-full",children:o.jsx(io,{children:t.map((d,h)=>o.jsx(Ye.div,{initial:{opacity:0,scale:.9,z:-100,rotate:u()},animate:{opacity:a(h)?1:.7,scale:a(h)?1:.95,z:a(h)?0:-100,rotate:a(h)?0:u(),zIndex:a(h)?40:t.length+2-h,y:a(h)?[0,-80,0]:0},exit:{opacity:0,scale:.9,z:100,rotate:u()},transition:{duration:.4,ease:"easeInOut"},className:"absolute inset-0 origin-bottom",children:o.jsx("img",{src:d.src,alt:d.name,width:500,height:500,draggable:!1,className:"h-full w-full rounded-3xl object-cover object-center"})},d.src))})})}),o.jsxs("div",{className:"flex flex-col justify-between py-4",children:[o.jsxs(Ye.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2,ease:"easeInOut"},children:[o.jsx("h3",{className:"text-2xl font-bold text-black dark:text-white",children:t[n].name}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-500",children:t[n].designation}),o.jsx(Ye.p,{className:"mt-8 text-lg text-gray-500 dark:text-neutral-300",children:t[n].quote.split(" ").map((d,h)=>o.jsxs(Ye.span,{initial:{filter:"blur(10px)",opacity:0,y:5},animate:{filter:"blur(0px)",opacity:1,y:0},transition:{duration:.2,ease:"easeInOut",delay:.02*h},className:"inline-block",children:[d,""]},h))})]},n),o.jsxs("div",{className:"flex gap-4 pt-12 md:pt-0",children:[o.jsx("button",{onClick:i,className:"group/button flex h-7 w-7 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800",children:o.jsx(Z8,{className:"h-5 w-5 text-black transition-transform duration-300 group-hover/button:rotate-12 dark:text-neutral-400"})}),o.jsx("button",{onClick:s,className:"group/button flex h-7 w-7 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800",children:o.jsx(Q8,{className:"h-5 w-5 text-black transition-transform duration-300 group-hover/button:-rotate-12 dark:text-neutral-400"})})]})]})]})}):o.jsx("div",{className:"mx-auto max-w-sm px-4 py-20 font-sans antialiased md:max-w-4xl md:px-8 lg:px-12",children:o.jsxs("div",{className:"relative grid grid-cols-1 gap-20 md:grid-cols-2",children:[o.jsx("div",{className:"relative h-80 w-full bg-gray-100 dark:bg-gray-800 rounded-3xl animate-pulse"}),o.jsx("div",{className:"flex flex-col justify-between py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-8 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"}),o.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-800 rounded animate-pulse w-2/3"}),o.jsx("div",{className:"h-20 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"})]})})]})})};async function t9(){const{data:t,error:e}=await le.from("testimonials").select("*").eq("is_active",!0).order("display_order",{ascending:!0});return e?(console.error("Error fetching testimonials:",e),[]):t||[]}function n9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{async function s(){try{const a=(await t9()).map(l=>({quote:l.quote,name:l.name,designation:l.position,src:l.image_url}));e(a)}catch(i){console.error("Error fetching testimonials:",i),e([])}finally{r(!1)}}s()},[]),n?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"text-gray-700",children:"Loading testimonials..."})}):t.length===0?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"text-gray-700",children:"No testimonials available at the moment."})}):o.jsx(e9,{testimonials:t,autoplay:!0})}function r9(){return o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"About Us"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"ACM, the Association for Computing Machinery, is the worlds largest educational and scientific computing society. ACM delivers resources that advance computing as a science and a profession. ACMs Regional Councils provide grassroots support on a global scale. Based in US, Europe, India, and China, they raise awareness, visibility and relevance of ACM by sponsoring high-quality conferences, expanding chapters, and encouraging greater participation in all dimensions of the society."})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsx(l1,{className:"w-12 h-12 text-blue-600 mb-6"}),o.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Our Mission"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To impart high quality technical education to the students by providing an excellent academic environment, well-equipped laboratories and training through the motivated teachers."})]})}),o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsx(Tg,{className:"w-12 h-12 text-purple-600 mb-6"}),o.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Our Vision"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To become a globally recognized institution offering quality education and enhancing professional standards. We envision a community where students can explore, and contribute to the advancement of computing technology."})]})})]})})}),o.jsx("section",{className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:"What We Do"}),o.jsx("p",{className:"text-xl text-gray-700",children:"Empowering students through diverse activities and initiatives"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Sr,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Workshops"}),o.jsx("p",{className:"text-gray-700",children:"Regular technical workshops on cutting-edge technologies"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(yu,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Competitions"}),o.jsx("p",{className:"text-gray-700",children:"Coding contests and hackathons to challenge your skills"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Tg,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Innovation"}),o.jsx("p",{className:"text-gray-700",children:"Project showcases and innovation challenges"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(l1,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Networking"}),o.jsx("p",{className:"text-gray-700",children:"Connect with industry professionals and alumni"})]})]})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsx(X8,{})}),o.jsx("section",{className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:"What Our Leaders Say"}),o.jsx("p",{className:"text-xl text-gray-700",children:"Hear from our team about their ACM experience"})]}),o.jsx(n9,{})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-8 md:p-12 text-center shadow-lg",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"Have Questions?"}),o.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"We're here to help! Reach out to us for any queries, collaborations, or support."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs("a",{href:"mailto:support@sakec.acm.org",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all shadow-md hover:shadow-lg",children:[o.jsx(or,{className:"w-5 h-5"}),"support@sakec.acm.org"]}),o.jsx("a",{href:"/contact",className:"inline-flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-50 text-gray-900 font-semibold rounded-lg border border-gray-300 transition-all shadow-sm hover:shadow-md",children:"Contact Form"})]})]})})})]})}const vM=_.createContext(void 0),Dy=({children:t,className:e,containerClassName:n})=>{const r=_.useRef(null),[s,i]=_.useState(!1),a=u=>{if(!r.current)return;const{left:d,top:h,width:f,height:p}=r.current.getBoundingClientRect(),x=(u.clientX-d-f/2)/25,m=(u.clientY-h-p/2)/25;r.current.style.transform=`rotateY(${x}deg) rotateX(${m}deg)`},l=()=>{i(!0),r.current},c=()=>{r.current&&(i(!1),r.current.style.transform="rotateY(0deg) rotateX(0deg)")};return o.jsx(vM.Provider,{value:[s,i],children:o.jsx("div",{className:Dt("flex items-center justify-center",n),style:{perspective:"1000px"},children:o.jsx("div",{ref:r,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,className:Dt("flex items-center justify-center relative transition-all duration-200 ease-linear",e),style:{transformStyle:"preserve-3d"},children:t})})})},Iy=({children:t,className:e})=>o.jsx("div",{className:Dt("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",e),children:t}),gr=({as:t="div",children:e,className:n,translateX:r=0,translateY:s=0,translateZ:i=0,rotateX:a=0,rotateY:l=0,rotateZ:c=0,...u})=>{const d=_.useRef(null),[h]=s9();_.useEffect(()=>{f()},[h]);const f=()=>{d.current&&(h?d.current.style.transform=`translateX(${r}px) translateY(${s}px) translateZ(${i}px) rotateX(${a}deg) rotateY(${l}deg) rotateZ(${c}deg)`:d.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")};return o.jsx(t,{ref:d,className:Dt("w-fit transition duration-200 ease-linear",n),...u,children:e})},s9=()=>{const t=_.useContext(vM);if(t===void 0)throw new Error("useMouseEnter must be used within a MouseEnterProvider");return t};function i9({member:t}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block h-full",children:o.jsx(Dy,{className:"inter-var w-full",children:o.jsxs(Iy,{className:"bg-black/25 relative group/card hover:shadow-2xl hover:shadow-blue-500/30 border-gray-600/30 hover:border-blue-500/50 w-full h-full rounded-xl border transition-all duration-300 flex flex-col",children:[o.jsx(gr,{translateZ:"100",className:"w-full",children:o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30 rounded-t-xl",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover/card:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]})}),o.jsxs("div",{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(gr,{translateZ:"50",className:"text-center mb-2 w-full",children:o.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2",children:t.name})}),o.jsx(gr,{translateZ:"60",className:"text-center mb-2 w-full",children:o.jsx("p",{className:"text-blue-400 font-semibold text-sm",children:t.position})}),o.jsx(gr,{translateZ:"40",className:"text-center mb-4 w-full",children:o.jsxs("p",{className:"text-gray-300 text-xs",children:[t.year,"  ",t.department]})})]}),o.jsx(gr,{translateZ:20,className:"w-full",children:o.jsx(Rt,{to:`/team/${t.id}`,className:"block w-full",children:o.jsx(En,{variant:"outline",className:"w-full border-blue-500/50 text-white hover:bg-blue-500/30 hover:border-blue-400 bg-gray-800/50 transition-all",children:"View Profile"})})})]})]})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs(an,{className:"bg-black/25 border-gray-600/30 hover:border-blue-500/50 transition-all duration-300 overflow-hidden group h-full flex flex-col shadow-xl",children:[o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]}),o.jsxs(Yt,{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:[o.jsxs("div",{className:"text-center mb-4 flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2",children:t.name}),o.jsx("p",{className:"text-blue-400 font-semibold text-sm mb-2",children:t.position}),o.jsxs("p",{className:"text-gray-300 text-xs",children:[t.year,"  ",t.department]})]}),o.jsx(Rt,{to:`/team/${t.id}`,className:"block",children:o.jsx(En,{variant:"outline",className:"w-full border-blue-500/50 text-white hover:bg-blue-500/30 hover:border-blue-400 bg-gray-800/50 transition-all",children:"View Profile"})})]})]})})]})}function a9({member:t}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block h-full",children:o.jsx(Dy,{className:"inter-var w-full",children:o.jsxs(Iy,{className:"bg-black/25 relative group/card hover:shadow-2xl hover:shadow-blue-500/30 border-gray-600/30 hover:border-blue-500/50 w-full h-full rounded-xl border transition-all duration-300 flex flex-col",children:[o.jsx(gr,{translateZ:"100",className:"w-full",children:o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30 rounded-t-xl",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover/card:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]})}),o.jsx("div",{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx(gr,{translateZ:"50",className:"mb-2 w-full",children:o.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2",children:t.name})}),o.jsx(gr,{translateZ:"60",className:"mb-2 w-full",children:o.jsx("p",{className:"text-blue-400 font-semibold text-sm",children:t.position})}),o.jsx(gr,{translateZ:"40",className:"w-full",children:o.jsx("p",{className:"text-gray-300 text-xs",children:t.department})})]})})]})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs(an,{className:"bg-black/25 border-gray-600/30 hover:border-blue-500/50 transition-all duration-300 overflow-hidden group h-full flex flex-col shadow-xl",children:[o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]}),o.jsx(Yt,{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2",children:t.name}),o.jsx("p",{className:"text-blue-400 font-semibold text-sm mb-2",children:t.position}),o.jsx("p",{className:"text-gray-300 text-xs",children:t.department})]})})]})})]})}async function o9(){const{data:t,error:e}=await le.from("team_members").select("*").order("display_order",{ascending:!0});if(console.log("Team fetch result:",{data:t,error:e}),e)throw console.error("Error fetching team members:",e),e;return t||[]}async function yM(t){const{data:e,error:n}=await le.from("team_members").select("*").eq("id",t).single();return n?null:e}async function l9(){const{data:t,error:e}=await le.from("faculty_members").select("*").order("display_order",{ascending:!0});if(e)throw console.error("Error fetching faculty members:",e),e;return t||[]}function c9(){const[t,e]=_.useState([]),[n,r]=_.useState([]),[s,i]=_.useState(!0),[a,l]=_.useState(null);return _.useEffect(()=>{async function c(){try{const[u,d]=await Promise.all([o9(),l9()]);e(u),r(d)}catch(u){console.error("Failed to fetch team data",u),l(u instanceof Error?u.message:"Failed to fetch data")}finally{i(!1)}}c()},[]),s?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading..."})}):a?o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center flex-col gap-4",children:[o.jsxs("div",{className:"text-xl text-red-500",children:["Error: ",a]}),o.jsx("p",{className:"text-gray-700",children:"Please check your internet connection and Supabase configuration."})]}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-16 sm:pt-20",children:[o.jsx("section",{className:"py-12 sm:py-16 lg:py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 text-gray-900",children:"Our Team"}),o.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-700 leading-relaxed",children:"Meet the passionate individuals driving innovation and excellence in our ACM chapter"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-12 sm:pb-16 lg:pb-20",children:[o.jsxs("section",{className:"mb-12 sm:mb-16 lg:mb-20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Faculty Members"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-4 sm:ml-8"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6 sm:gap-8 max-w-4xl mx-auto",children:n.map(c=>o.jsx(a9,{member:c},c.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Core Team"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-4 sm:ml-8"})]}),t.length===0?o.jsx("div",{className:"text-center py-8 sm:py-12",children:o.jsx("p",{className:"text-gray-700 text-base sm:text-lg",children:"No team members found."})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:t.map(c=>o.jsx(i9,{member:c},c.id))})]}),o.jsx("section",{className:"mt-12 sm:mt-16 text-center",children:o.jsxs(Rt,{to:"/team/alumni",className:"inline-flex items-center gap-2 px-6 sm:px-8 py-2.5 sm:py-3 bg-blue-600 border border-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 hover:border-blue-700 transition-all shadow-lg hover:shadow-xl text-sm sm:text-base",children:["View Alumni",o.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})}),o.jsx("section",{className:"mt-12 sm:mt-16 lg:mt-20 text-center",children:o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-6 sm:p-8 lg:p-12",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4 text-gray-900",children:"Want to Join Our Team?"}),o.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-700 mb-6 sm:mb-8 max-w-2xl mx-auto",children:"We're always looking for passionate students to join our mission of advancing computer science education and innovation."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[o.jsx(Rt,{to:"/contact",className:"inline-flex items-center justify-center px-5 sm:px-6 py-2.5 sm:py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base",children:"Get in Touch"}),o.jsx(Rt,{to:"/about",className:"inline-flex items-center justify-center px-5 sm:px-6 py-2.5 sm:py-3 border-2 border-gray-300 text-gray-900 font-medium rounded-md hover:bg-gray-100 transition-colors text-sm sm:text-base",children:"Learn More"})]})]})})})]})]})}const u9=[{icon:o.jsx(Sr,{className:"w-6 h-6 text-blue-500"}),title:"Networking Opportunities",description:"Connect with like-minded peers, industry professionals, and alumni who share your passion for technology."},{icon:o.jsx(FO,{className:"w-6 h-6 text-purple-500"}),title:"Skill Development",description:"Gain hands-on experience through workshops, hackathons, and projects that go beyond the classroom curriculum."},{icon:o.jsx(CO,{className:"w-6 h-6 text-pink-500"}),title:"Technical Growth",description:"Access exclusive resources, technical talks, and mentorship programs to accelerate your learning journey."},{icon:o.jsx(nT,{className:"w-6 h-6 text-yellow-500"}),title:"Competitions & Events",description:"Participate in coding contests, hackathons, and tech quizzes to test your skills and win exciting prizes."},{icon:o.jsx(YN,{className:"w-6 h-6 text-green-500"}),title:"Global Community",description:"Be part of the world's largest educational and scientific computing society with access to global resources."},{icon:o.jsx(WN,{className:"w-6 h-6 text-indigo-500"}),title:"Leadership Experience",description:"Take up leadership roles, organize events, and develop soft skills that are crucial for your career."}];function d9(){return o.jsxs("div",{className:"pt-24 pb-16 px-4 md:px-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx(Ye.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-gray-900 via-gray-700 to-gray-900",children:"Why Join SAKEC ACM?"}),o.jsx(Ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",children:"Unlock your potential and shape your future with the premier student chapter for computing professionals."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:u9.map((t,e)=>o.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"bg-white/50 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[o.jsx("div",{className:"bg-white rounded-xl w-12 h-12 flex items-center justify-center shadow-sm mb-4",children:t.icon}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:t.title}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},e))}),o.jsxs(Ye.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"bg-gray-900 rounded-3xl p-8 md:p-12 text-center text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,#4f46e5_0%,transparent_40%)] opacity-50"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to start your journey?"}),o.jsx("p",{className:"text-gray-300 mb-8 max-w-xl mx-auto",children:"Join a community of innovators, creators, and future leaders. Your journey to excellence starts here."}),o.jsx(Rt,{to:"/contact",children:o.jsx(En,{size:"lg",className:"bg-white text-gray-900 hover:bg-gray-100 font-semibold px-8",children:"Join Now"})})]})]})]})}function h9(){const{id:t}=Yf(),[e,n]=_.useState(null),[r,s]=_.useState(!0);return _.useEffect(()=>{async function i(){if(!t)return;const a=await yM(t);n(a),s(!1)}i()},[t]),r?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading..."})}):e?o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 pb-20",children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 py-16 mb-12",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#ffffff15_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative",children:[o.jsxs(Rt,{to:"/team",className:"inline-flex items-center gap-2 text-white/80 hover:text-white transition-colors mb-6",children:[o.jsx(GN,{className:"w-5 h-5"}),"Back to Team"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:e.name}),o.jsx("p",{className:"text-xl text-white/90",children:e.position})]})]}),o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"md:col-span-1",children:o.jsxs(an,{className:"bg-gray-800/90 backdrop-blur-sm border-gray-700 overflow-hidden shadow-xl sticky top-24",children:[o.jsx("div",{className:"relative w-full aspect-square overflow-hidden bg-gradient-to-b from-gray-700 to-gray-800",children:o.jsx("img",{src:e.image_url||"/placeholder.svg",alt:e.name,className:"absolute inset-0 w-full h-full object-cover"})}),o.jsxs(Yt,{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:e.name}),o.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:e.position}),o.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:[e.year,"  ",e.department]}),o.jsxs("div",{className:"flex gap-3 mt-4",children:[e.email&&o.jsx("a",{href:`mailto:${e.email}`,className:"p-2 bg-gray-700 hover:bg-blue-500 text-white rounded-lg transition-colors",title:"Email",children:o.jsx(or,{className:"w-5 h-5"})}),e.linkedin_url&&o.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-700 hover:bg-blue-500 text-white rounded-lg transition-colors",title:"LinkedIn",children:o.jsx(QN,{className:"w-5 h-5"})}),e.github_url&&o.jsx("a",{href:e.github_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-700 hover:bg-blue-500 text-white rounded-lg transition-colors",title:"GitHub",children:o.jsx(KN,{className:"w-5 h-5"})})]})]})]})}),o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.personal_quote&&o.jsx(an,{className:"bg-gradient-to-r from-blue-500 to-purple-600 border-0 shadow-xl",children:o.jsx(Yt,{className:"p-8",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("span",{className:"text-6xl text-white/30 leading-none",children:'"'}),o.jsx("p",{className:"text-white text-xl md:text-2xl italic flex-1 pt-2",children:e.personal_quote})]})})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-6 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:e.year}),o.jsx("div",{className:"text-sm text-gray-600",children:"Academic Year"})]})}),o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-6 text-center",children:[o.jsx("div",{className:"text-lg font-bold text-purple-600 mb-2",children:e.department}),o.jsx("div",{className:"text-sm text-gray-600",children:"Department"})]})})]}),e.about_us?o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-blue-600 rounded-full"}),"About Me"]}),o.jsx("p",{className:"text-gray-700 text-lg leading-relaxed whitespace-pre-line",children:e.about_us})]})}):o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-blue-600 rounded-full"}),"About Me"]}),o.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed",children:[e.name," is a dedicated member of the SAKEC ACM Student Chapter, serving as ",e.position,". As a ",e.year," student in the ",e.department," department, they contribute to the chapter's mission of advancing computing as a science and profession."]})]})}),e.skills&&e.skills.length>0?o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-purple-600 rounded-full"}),"Skills & Expertise"]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:e.skills.map((i,a)=>o.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg text-sm font-medium shadow-md hover:shadow-lg transition-shadow",children:i},a))})]})}):o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-purple-600 rounded-full"}),"Role & Responsibilities"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Leadership"}),o.jsx("p",{className:"text-gray-700 text-sm",children:"Contributing to team coordination and chapter activities"})]}),o.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Innovation"}),o.jsx("p",{className:"text-gray-700 text-sm",children:"Driving technical excellence and creative solutions"})]})]})]})}),e.achievements&&e.achievements.length>0?o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-green-600 rounded-full"}),"Achievements & Milestones"]}),o.jsx("ul",{className:"space-y-4",children:e.achievements.map((i,a)=>o.jsxs("li",{className:"flex items-start gap-4 p-4 bg-green-50 rounded-lg",children:[o.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:a+1}),o.jsx("span",{className:"text-gray-700 text-lg",children:i})]},a))})]})}):o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(Yt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-green-600 rounded-full"}),"Contributions"]}),o.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed",children:["As ",e.position,", ",e.name," plays a vital role in organizing events, fostering collaboration, and promoting technical excellence within the ACM chapter."]})]})})]})]})})]}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center flex-col gap-4",children:[o.jsx("div",{className:"text-xl",children:"Member not found"}),o.jsx(Rt,{to:"/team",className:"text-blue-600 hover:underline",children:"Back to Team"})]})}function f9({member:t}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block h-full",children:o.jsx(Dy,{className:"inter-var w-full",children:o.jsxs(Iy,{className:"bg-black/25 relative group/card hover:shadow-2xl hover:shadow-blue-500/30 border-gray-600/30 hover:border-blue-500/50 w-full h-full rounded-xl border transition-all duration-300 flex flex-col",children:[o.jsx(gr,{translateZ:"100",className:"w-full",children:o.jsx("div",{className:"relative w-full h-64 overflow-hidden bg-gray-800/30 rounded-t-xl",children:o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-contain group-hover/card:scale-105 transition-transform duration-500"})})}),o.jsx(Yt,{className:"p-4 bg-gray-900/80 flex-1",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gr,{translateZ:"50",className:"w-full",children:o.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t.name})}),o.jsx(gr,{translateZ:"60",className:"w-full",children:o.jsx("p",{className:"text-blue-400 font-medium",children:t.position})}),o.jsx(gr,{translateZ:"40",className:"w-full",children:o.jsxs("div",{className:"text-gray-300 text-sm mt-1",children:[o.jsx("p",{children:t.department}),t.bio&&o.jsx("p",{className:"mt-1 line-clamp-2 text-xs",children:t.bio})]})})]})})]})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs(an,{className:"bg-black/25 border-gray-600/30 hover:border-blue-500/50 transition-all duration-300 overflow-hidden group h-full shadow-xl",children:[o.jsx("div",{className:"relative w-full h-64 overflow-hidden bg-gray-800/30",children:o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300"})}),o.jsx(Yt,{className:"p-4 bg-gray-900/80",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t.name}),o.jsx("p",{className:"text-blue-400 font-medium",children:t.position}),o.jsxs("div",{className:"text-gray-300 text-sm mt-1",children:[o.jsx("p",{children:t.department}),t.bio&&o.jsx("p",{className:"mt-1 line-clamp-2 text-xs",children:t.bio})]})]})})]})})]})}async function p9(){const{data:t,error:e}=await le.from("alumni_members").select("*").order("display_order",{ascending:!0});return e?[]:t||[]}function m9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{async function s(){try{const i=await p9();e(i)}catch(i){console.error("Failed to fetch alumni data",i)}finally{r(!1)}}s()},[]),n?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading..."})}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"Our Alumni"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Celebrating the legacy and achievements of our past members"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(s=>o.jsx(f9,{member:s},s.id))}),t.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-700 text-lg",children:"No alumni members found."})})]})]})}async function g9(){const t=new Date().toISOString().split("T")[0],{data:e,error:n}=await le.from("events").select("*").gt("date",t).order("date",{ascending:!0});return n?[]:e||[]}async function x9(){const t=new Date().toISOString().split("T")[0],{data:e,error:n}=await le.from("events").select("*").lte("date",t).order("date",{ascending:!1});return n?[]:e||[]}const v9=uM("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function rl({className:t,variant:e,asChild:n=!1,...r}){const s=n?lM:"span";return o.jsx(s,{"data-slot":"badge",className:Dt(v9({variant:e}),t),...r})}function Cs(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function y9(t,e){const n=_.createContext(e),r=i=>{const{children:a,...l}=i,c=_.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=_.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function bM(t,e=[]){let n=[];function r(i,a){const l=_.createContext(a),c=n.length;n=[...n,a];const u=h=>{var g;const{scope:f,children:p,...x}=h,m=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,v=_.useMemo(()=>x,Object.values(x));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[c])||l,x=_.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>_.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,b9(s,...e)]}function b9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var jl=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},_9=kf[" useId ".trim().toString()]||(()=>{}),w9=0;function Mm(t){const[e,n]=_.useState(_9());return jl(()=>{n(r=>r??String(w9++))},[t]),t||(e?`radix-${e}`:"")}var S9=kf[" useInsertionEffect ".trim().toString()]||jl;function _M({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=E9({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=_.useRef(t!==void 0);_.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=_.useCallback(d=>{var h;if(l){const f=C9(d)?d(t):d;f!==t&&((h=a.current)==null||h.call(a,f))}else i(d)},[l,t,i,a]);return[c,u]}function E9({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),s=_.useRef(n),i=_.useRef(e);return S9(()=>{i.current=e},[e]),_.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function C9(t){return typeof t=="function"}function N9(t){const e=T9(t),n=_.forwardRef((r,s)=>{const{children:i,...a}=r,l=_.Children.toArray(i),c=l.find(A9);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function T9(t){const e=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const a=j9(s),l=R9(i,s.props);return s.type!==_.Fragment&&(l.ref=r?cp(r,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M9=Symbol("radix.slottable");function A9(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M9}function R9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function j9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var P9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$r=P9.reduce((t,e)=>{const n=N9(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function k9(t,e){t&&Uv.flushSync(()=>t.dispatchEvent(e))}function Cu(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function D9(t,e=globalThis==null?void 0:globalThis.document){const n=Cu(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var I9="DismissableLayer",Hg="dismissableLayer.update",L9="dismissableLayer.pointerDownOutside",O9="dismissableLayer.focusOutside",V1,wM=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),SM=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=_.useContext(wM),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),x=hi(e,M=>h(M)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(v),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=g,S=z9(M=>{const A=M.target,T=[...u.branches].some(C=>C.contains(A));!w||T||(s==null||s(M),a==null||a(M),M.defaultPrevented||l==null||l())},f),N=B9(M=>{const A=M.target;[...u.branches].some(C=>C.contains(A))||(i==null||i(M),a==null||a(M),M.defaultPrevented||l==null||l())},f);return D9(M=>{y===u.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},f),_.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(V1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),$1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=V1)}},[d,f,n,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),$1())},[d,u]),_.useEffect(()=>{const M=()=>p({});return document.addEventListener(Hg,M),()=>document.removeEventListener(Hg,M)},[]),o.jsx($r.div,{...c,ref:x,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:Cs(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Cs(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Cs(t.onPointerDownCapture,S.onPointerDownCapture)})});SM.displayName=I9;var U9="DismissableLayerBranch",F9=_.forwardRef((t,e)=>{const n=_.useContext(wM),r=_.useRef(null),s=hi(e,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx($r.div,{...t,ref:s})});F9.displayName=U9;function z9(t,e=globalThis==null?void 0:globalThis.document){const n=Cu(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){EM(L9,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function B9(t,e=globalThis==null?void 0:globalThis.document){const n=Cu(t),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&EM(O9,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $1(){const t=new CustomEvent(Hg);document.dispatchEvent(t)}function EM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?k9(s,i):s.dispatchEvent(i)}var Am="focusScope.autoFocusOnMount",Rm="focusScope.autoFocusOnUnmount",H1={bubbles:!1,cancelable:!0},V9="FocusScope",CM=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=_.useState(null),u=Cu(s),d=Cu(i),h=_.useRef(null),f=hi(e,m=>c(m)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let m=function(b){if(p.paused||!l)return;const w=b.target;l.contains(w)?h.current=w:Ci(h.current,{select:!0})},v=function(b){if(p.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||Ci(h.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Ci(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[r,l,p.paused]),_.useEffect(()=>{if(l){W1.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(Am,H1);l.addEventListener(Am,u),l.dispatchEvent(g),g.defaultPrevented||($9(X9(NM(l)),{select:!0}),document.activeElement===m&&Ci(l))}return()=>{l.removeEventListener(Am,u),setTimeout(()=>{const g=new CustomEvent(Rm,H1);l.addEventListener(Rm,d),l.dispatchEvent(g),g.defaultPrevented||Ci(m??document.body,{select:!0}),l.removeEventListener(Rm,d),W1.remove(p)},0)}}},[l,u,d,p]);const x=_.useCallback(m=>{if(!n&&!r||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(v&&g){const y=m.currentTarget,[b,w]=H9(y);b&&w?!m.shiftKey&&g===w?(m.preventDefault(),n&&Ci(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),n&&Ci(w,{select:!0})):g===y&&m.preventDefault()}},[n,r,p.paused]);return o.jsx($r.div,{tabIndex:-1,...a,ref:f,onKeyDown:x})});CM.displayName=V9;function $9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ci(r,{select:e}),document.activeElement!==n)return}function H9(t){const e=NM(t),n=G1(e,t),r=G1(e.reverse(),t);return[n,r]}function NM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function G1(t,e){for(const n of t)if(!G9(n,{upTo:e}))return n}function G9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function W9(t){return t instanceof HTMLInputElement&&"select"in t}function Ci(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&W9(t)&&e&&t.select()}}var W1=q9();function q9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=q1(t,e),t.unshift(e)},remove(e){var n;t=q1(t,e),(n=t[0])==null||n.resume()}}}function q1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function X9(t){return t.filter(e=>e.tagName!=="A")}var K9="Portal",TM=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=_.useState(!1);jl(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?dk.createPortal(o.jsx($r.div,{...r,ref:e}),a):null});TM.displayName=K9;function Y9(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Wu=t=>{const{present:e,children:n}=t,r=Z9(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=hi(r.ref,J9(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};Wu.displayName="Presence";function Z9(t){const[e,n]=_.useState(),r=_.useRef(null),s=_.useRef(t),i=_.useRef("none"),a=t?"mounted":"unmounted",[l,c]=Y9(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Id(r.current);i.current=l==="mounted"?u:"none"},[l]),jl(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,p=Id(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),jl(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=Id(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&m&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(i.current=Id(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Id(t){return(t==null?void 0:t.animationName)||"none"}function J9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var jm=0;function Q9(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X1()),document.body.insertAdjacentElement("beforeend",t[1]??X1()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jm--}},[])}function X1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rh="right-scroll-bar-position",jh="width-before-scroll-bar",ez="with-scroll-bars-hidden",tz="--removed-body-scroll-bar-size";function Pm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nz(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var rz=typeof window<"u"?_.useLayoutEffect:_.useEffect,K1=new WeakMap;function sz(t,e){var n=nz(null,function(r){return t.forEach(function(s){return Pm(s,r)})});return rz(function(){var r=K1.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||Pm(l,null)}),i.forEach(function(l){s.has(l)||Pm(l,a)})}K1.set(n,t)},[t]),n}function iz(t){return t}function az(t,e){e===void 0&&(e=iz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function oz(t){t===void 0&&(t={});var e=az(null);return e.options=Ir({async:!0,ssr:!1},t),e}var MM=function(t){var e=t.sideCar,n=la(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Ir({},n))};MM.isSideCarExport=!0;function lz(t,e){return t.useMedium(e),MM}var AM=oz(),km=function(){},up=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:km,onWheelCapture:km,onTouchMoveCapture:km}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,x=t.noIsolation,m=t.inert,v=t.allowPinchZoom,g=t.as,y=g===void 0?"div":g,b=t.gapMode,w=la(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,N=sz([n,e]),M=Ir(Ir({},w),s);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:AM,removeScrollBar:u,shards:h,noRelative:p,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:b}),a?_.cloneElement(_.Children.only(l),Ir(Ir({},M),{ref:N})):_.createElement(y,Ir({},M,{className:c,ref:N}),l))});up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};up.classNames={fullWidth:jh,zeroRight:Rh};var cz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cz();return e&&t.setAttribute("nonce",e),t}function dz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function hz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var fz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=uz())&&(dz(e,n),hz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pz=function(){var t=fz();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RM=function(){var t=pz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},mz={left:0,top:0,right:0,gap:0},Dm=function(t){return parseInt(t||"",10)||0},gz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Dm(n),Dm(r),Dm(s)]},xz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mz;var e=gz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},vz=RM(),pl="data-scroll-locked",yz=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ez,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(pl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(jh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Rh," .").concat(Rh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jh," .").concat(jh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pl,`] {
    `).concat(tz,": ").concat(l,`px;
  }
`)},Y1=function(){var t=parseInt(document.body.getAttribute(pl)||"0",10);return isFinite(t)?t:0},bz=function(){_.useEffect(function(){return document.body.setAttribute(pl,(Y1()+1).toString()),function(){var t=Y1()-1;t<=0?document.body.removeAttribute(pl):document.body.setAttribute(pl,t.toString())}},[])},_z=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;bz();var i=_.useMemo(function(){return xz(s)},[s]);return _.createElement(vz,{styles:yz(i,!e,s,n?"":"!important")})},Gg=!1;if(typeof window<"u")try{var Ld=Object.defineProperty({},"passive",{get:function(){return Gg=!0,!0}});window.addEventListener("test",Ld,Ld),window.removeEventListener("test",Ld,Ld)}catch{Gg=!1}var yo=Gg?{passive:!1}:!1,wz=function(t){return t.tagName==="TEXTAREA"},jM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wz(t)&&n[e]==="visible")},Sz=function(t){return jM(t,"overflowY")},Ez=function(t){return jM(t,"overflowX")},Z1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=PM(t,r);if(s){var i=kM(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Cz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Nz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PM=function(t,e){return t==="v"?Sz(e):Ez(e)},kM=function(t,e){return t==="v"?Cz(e):Nz(e)},Tz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Mz=function(t,e,n,r,s){var i=Tz(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,h=0,f=0;do{if(!l)break;var p=kM(t,l),x=p[0],m=p[1],v=p[2],g=m-v-i*x;(x||g)&&PM(t,l)&&(h+=g,f+=x);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},Od=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J1=function(t){return[t.deltaX,t.deltaY]},Q1=function(t){return t&&"current"in t?t.current:t},Az=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Rz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jz=0,bo=[];function Pz(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(jz++)[0],i=_.useState(RM)[0],a=_.useRef(t);_.useEffect(function(){a.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=Cy([t.lockRef.current],(t.shards||[]).map(Q1),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var g=Od(m),y=n.current,b="deltaX"in m?m.deltaX:y[0]-g[0],w="deltaY"in m?m.deltaY:y[1]-g[1],S,N=m.target,M=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&M==="h"&&N.type==="range")return!1;var A=window.getSelection(),T=A&&A.anchorNode,C=T?T===N||T.contains(N):!1;if(C)return!1;var j=Z1(M,N);if(!j)return!0;if(j?S=M:(S=M==="v"?"h":"v",j=Z1(M,N)),!j)return!1;if(!r.current&&"changedTouches"in m&&(b||w)&&(r.current=S),!S)return!0;var D=r.current||S;return Mz(D,v,m,D==="h"?b:w)},[]),c=_.useCallback(function(m){var v=m;if(!(!bo.length||bo[bo.length-1]!==i)){var g="deltaY"in v?J1(v):Od(v),y=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Az(S.delta,g)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(Q1).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=b.length>0?l(v,b[0]):!a.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(m,v,g,y){var b={name:m,delta:v,target:g,should:y,shadowParent:kz(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),d=_.useCallback(function(m){n.current=Od(m),r.current=void 0},[]),h=_.useCallback(function(m){u(m.type,J1(m),m.target,l(m,t.lockRef.current))},[]),f=_.useCallback(function(m){u(m.type,Od(m),m.target,l(m,t.lockRef.current))},[]);_.useEffect(function(){return bo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,yo),document.addEventListener("touchmove",c,yo),document.addEventListener("touchstart",d,yo),function(){bo=bo.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,yo),document.removeEventListener("touchmove",c,yo),document.removeEventListener("touchstart",d,yo)}},[]);var p=t.removeScrollBar,x=t.inert;return _.createElement(_.Fragment,null,x?_.createElement(i,{styles:Rz(s)}):null,p?_.createElement(_z,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Dz=lz(AM,Pz);var DM=_.forwardRef(function(t,e){return _.createElement(up,Ir({},t,{ref:e,sideCar:Dz}))});DM.classNames=up.classNames;var Iz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},_o=new WeakMap,Ud=new WeakMap,Fd={},Im=0,IM=function(t){return t&&(t.host||IM(t.parentNode))},Lz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=IM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Oz=function(t,e,n,r){var s=Lz(e,Array.isArray(t)?t:[t]);Fd[n]||(Fd[n]=new WeakMap);var i=Fd[n],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",m=(_o.get(f)||0)+1,v=(i.get(f)||0)+1;_o.set(f,m),i.set(f,v),a.push(f),m===1&&x&&Ud.set(f,!0),v===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),l.clear(),Im++,function(){a.forEach(function(h){var f=_o.get(h)-1,p=i.get(h)-1;_o.set(h,f),i.set(h,p),f||(Ud.has(h)||h.removeAttribute(r),Ud.delete(h)),p||h.removeAttribute(n)}),Im--,Im||(_o=new WeakMap,_o=new WeakMap,Ud=new WeakMap,Fd={})}},Uz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Iz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Oz(r,s,n,"aria-hidden")):function(){return null}};function Fz(t){const e=zz(t),n=_.forwardRef((r,s)=>{const{children:i,...a}=r,l=_.Children.toArray(i),c=l.find(Vz);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function zz(t){const e=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const a=Hz(s),l=$z(i,s.props);return s.type!==_.Fragment&&(l.ref=r?cp(r,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Bz=Symbol("radix.slottable");function Vz(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Bz}function $z(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Hz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dp="Dialog",[LM]=bM(dp),[Gz,us]=LM(dp),OM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=_.useRef(null),c=_.useRef(null),[u,d]=_M({prop:r,defaultProp:s??!1,onChange:i,caller:dp});return o.jsx(Gz,{scope:e,triggerRef:l,contentRef:c,contentId:Mm(),titleId:Mm(),descriptionId:Mm(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};OM.displayName=dp;var UM="DialogTrigger",FM=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(UM,n),i=hi(e,s.triggerRef);return o.jsx($r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Uy(s.open),...r,ref:i,onClick:Cs(t.onClick,s.onOpenToggle)})});FM.displayName=UM;var Ly="DialogPortal",[Wz,zM]=LM(Ly,{forceMount:void 0}),BM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=us(Ly,e);return o.jsx(Wz,{scope:e,forceMount:n,children:_.Children.map(r,a=>o.jsx(Wu,{present:n||i.open,children:o.jsx(TM,{asChild:!0,container:s,children:a})}))})};BM.displayName=Ly;var wf="DialogOverlay",VM=_.forwardRef((t,e)=>{const n=zM(wf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=us(wf,t.__scopeDialog);return i.modal?o.jsx(Wu,{present:r||i.open,children:o.jsx(Xz,{...s,ref:e})}):null});VM.displayName=wf;var qz=Fz("DialogOverlay.RemoveScroll"),Xz=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(wf,n);return o.jsx(DM,{as:qz,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx($r.div,{"data-state":Uy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ya="DialogContent",$M=_.forwardRef((t,e)=>{const n=zM(Ya,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=us(Ya,t.__scopeDialog);return o.jsx(Wu,{present:r||i.open,children:i.modal?o.jsx(Kz,{...s,ref:e}):o.jsx(Yz,{...s,ref:e})})});$M.displayName=Ya;var Kz=_.forwardRef((t,e)=>{const n=us(Ya,t.__scopeDialog),r=_.useRef(null),s=hi(e,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return Uz(i)},[]),o.jsx(HM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Cs(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Cs(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Cs(t.onFocusOutside,i=>i.preventDefault())})}),Yz=_.forwardRef((t,e)=>{const n=us(Ya,t.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return o.jsx(HM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HM=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=us(Ya,n),c=_.useRef(null),u=hi(e,c);return Q9(),o.jsxs(o.Fragment,{children:[o.jsx(CM,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(SM,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Uy(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Jz,{titleId:l.titleId}),o.jsx(eB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Oy="DialogTitle",GM=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(Oy,n);return o.jsx($r.h2,{id:s.titleId,...r,ref:e})});GM.displayName=Oy;var WM="DialogDescription",Zz=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(WM,n);return o.jsx($r.p,{id:s.descriptionId,...r,ref:e})});Zz.displayName=WM;var qM="DialogClose",XM=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=us(qM,n);return o.jsx($r.button,{type:"button",...r,ref:e,onClick:Cs(t.onClick,()=>s.onOpenChange(!1))})});XM.displayName=qM;function Uy(t){return t?"open":"closed"}var KM="DialogTitleWarning",[xJ,YM]=y9(KM,{contentName:Ya,titleName:Oy,docsSlug:"dialog"}),Jz=({titleId:t})=>{const e=YM(KM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Qz="DialogDescriptionWarning",eB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YM(Qz).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tB=OM,nB=FM,rB=BM,sB=VM,iB=$M,aB=GM,oB=XM;function lB({...t}){return o.jsx(tB,{"data-slot":"dialog",...t})}function cB({...t}){return o.jsx(nB,{"data-slot":"dialog-trigger",...t})}function uB({...t}){return o.jsx(rB,{"data-slot":"dialog-portal",...t})}function dB({className:t,...e}){return o.jsx(sB,{"data-slot":"dialog-overlay",className:Dt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function hB({className:t,children:e,showCloseButton:n=!0,...r}){return o.jsxs(uB,{"data-slot":"dialog-portal",children:[o.jsx(dB,{}),o.jsxs(iB,{"data-slot":"dialog-content",className:Dt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&o.jsxs(oB,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(Un,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fB({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-header",className:Dt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function pB({className:t,...e}){return o.jsx(aB,{"data-slot":"dialog-title",className:Dt("text-lg leading-none font-semibold",t),...e})}async function mB(t){const{data:e,error:n}=await le.from("event_registration_forms").select("*").eq("event_id",t).eq("is_active",!0).maybeSingle();return n?(console.error("Error fetching registration form:",n),null):e}async function gB(t){const{data:e,error:n}=await le.from("event_registrations").select("status, confirmation_sent").eq("form_id",t);return n||!e?{total_registrations:0,confirmed:0,pending:0}:{total_registrations:e.length,confirmed:e.filter(r=>r.status==="confirmed").length,pending:e.filter(r=>!r.confirmation_sent).length}}function eS(t,e){return!(!t.is_active||t.registration_deadline&&new Date(t.registration_deadline)<new Date||t.max_registrations&&e&&e>=t.max_registrations)}function xB(t){return`/event-register/${t}`}function vB({event:t,trigger:e}){const n=ia(),r=new Date(t.date),[s,i]=_.useState(null),[a,l]=_.useState(null),[,c]=_.useState(!0);_.useEffect(()=>{u()},[t.id]);const u=async()=>{c(!0);const f=await mB(t.id);if(f){i(f);const p=await gB(f.id);l(p)}c(!1)},d=f=>f.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),h=async()=>{const f={title:t.title,text:`${t.title} - ${d(r)} at ${t.location}`,url:window.location.href};if(navigator.share)try{await navigator.share(f)}catch{}else navigator.clipboard.writeText(f.url),alert("Event link copied to clipboard!")};return o.jsxs(lB,{children:[o.jsx(cB,{asChild:!0,children:e}),o.jsxs(hB,{className:"sm:max-w-3xl bg-gray-900 border-gray-800 text-white",children:[o.jsx(fB,{children:o.jsx(pB,{className:"text-2xl font-bold",children:t.title})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mt-4",children:[o.jsx("div",{className:"relative w-full md:w-1/2 h-56 md:h-auto overflow-hidden rounded-md bg-gray-800",children:o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.title,className:"absolute inset-0 w-full h-full object-contain"})}),o.jsxs("div",{className:"flex-1 space-y-4",children:[t.category&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(VO,{className:"w-4 h-4 text-blue-400"}),o.jsx(rl,{variant:"secondary",className:"bg-blue-600/20 text-blue-400 border-blue-600/30",children:t.category})]}),o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(ii,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsx("span",{children:d(r)})]}),t.time&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(Hu,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsx("span",{children:t.time})]}),t.location&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(sp,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsx("span",{children:t.location})]}),t["Faculty Co-ordinator"]&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(ip,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Faculty Coordinator"}),o.jsx("p",{className:"text-sm",children:t["Faculty Co-ordinator"]})]})]}),s&&s.max_registrations&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(Sr,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsxs("span",{children:[(a==null?void 0:a.total_registrations)||0," / ",s.max_registrations," participants",(a==null?void 0:a.total_registrations)>=s.max_registrations&&o.jsx(rl,{variant:"destructive",className:"ml-2",children:"Full"})]})]}),!s&&t.max_participants&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(Sr,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsxs("span",{children:[t.current_participants||0," / ",t.max_participants," participants"]})]}),t.description&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:t.description})]})]})]}),o.jsxs("div",{className:"flex justify-between items-center gap-3 mt-6",children:[o.jsxs(En,{variant:"outline",size:"sm",className:"border-gray-700 text-white hover:bg-gray-800 bg-transparent gap-2",onClick:h,children:[o.jsx(tT,{className:"w-4 h-4"}),"Share Event"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(En,{variant:"outline",className:"border-gray-700 text-white hover:bg-gray-800 bg-transparent",onClick:()=>{var f;return(f=document.querySelector('[data-state="open"] button[data-slot="dialog-close"]'))==null?void 0:f.click()},children:"Close"}),s&&eS(s,a==null?void 0:a.total_registrations)&&new Date(t.date)>new Date&&o.jsxs(En,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 gap-2",onClick:()=>{n(xB(s.id))},children:[o.jsx(qi,{className:"w-4 h-4"}),"Register Now"]}),!s&&t.registration_link&&new Date(t.date)>new Date&&o.jsx(En,{asChild:!0,className:"bg-blue-600 text-white hover:bg-blue-700",children:o.jsx("a",{href:t.registration_link,target:"_blank",rel:"noopener noreferrer",children:"Register Now"})}),s&&!eS(s,a==null?void 0:a.total_registrations)&&o.jsx(En,{disabled:!0,className:"bg-gray-600 text-gray-300",children:"Registration Closed"})]})]})]})]})}function tS({event:t}){const e=new Date(t.date),n=r=>r.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return o.jsx(vB,{event:t,trigger:o.jsxs(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 text-gray-900 hover:shadow-xl hover:border-blue-300 transition-all cursor-pointer group",children:[o.jsxs("div",{className:"relative w-full h-48 overflow-hidden rounded-t-lg bg-gray-100",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),o.jsx(G8,{children:o.jsx(W8,{className:"text-lg font-bold line-clamp-2 text-gray-900 group-hover:text-blue-600 transition-colors",children:t.title})}),o.jsxs(Yt,{children:[o.jsxs("div",{className:"flex items-center text-gray-700 text-sm mb-2",children:[o.jsx(ii,{className:"w-4 h-4 mr-2 flex-shrink-0 text-blue-600"}),o.jsx("span",{className:"truncate",children:n(e)})]}),o.jsxs("div",{className:"flex items-center text-gray-700 text-sm",children:[o.jsx(sp,{className:"w-4 h-4 mr-2 flex-shrink-0 text-purple-600"}),o.jsx("span",{className:"truncate",children:t.location})]})]})]})})}function yB(){const[t,e]=_.useState([]),[n,r]=_.useState([]),[s,i]=_.useState(!0);return _.useEffect(()=>{async function a(){try{const[l,c]=await Promise.all([g9(),x9()]);e(l),r(c)}catch(l){console.error("Failed to fetch events",l)}finally{i(!1)}}a()},[]),s?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading events..."})}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"Events"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Discover our upcoming workshops, competitions, and networking opportunities"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[o.jsxs("section",{className:"mb-16",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Upcoming Events"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-8"})]}),t.length===0?o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsx(Yt,{className:"p-8 text-center",children:o.jsx("p",{className:"text-gray-700",children:"No upcoming events at the moment. Check back soon!"})})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(a=>o.jsx(tS,{event:a},a.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Past Events"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-8"})]}),n.length===0?o.jsx(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsx(Yt,{className:"p-8 text-center",children:o.jsx("p",{className:"text-gray-700",children:"No past events to display."})})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(a=>o.jsx(tS,{event:a},a.id))})]})]})]})}async function bB(){try{const{data:t,error:e}=await le.from("blogs").select(`
        *,
        author:team_members(name, position, image_url)
      `).eq("is_published",!0).order("created_at",{ascending:!1});return e?[]:t||[]}catch{return[]}}async function _B(t){try{const{data:e,error:n}=await le.from("blogs").select(`
        *,
        author:team_members(name, position, image_url)
      `).eq("id",t).single();return n?null:e}catch{return null}}function wB({post:t}){var c,u;const[e,n]=_.useState(!1),r=d=>{try{return new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date unavailable"}},s=()=>{var d;return typeof t.author=="object"&&((d=t.author)!=null&&d.name)?t.author.name:"Anonymous"},i=t.image_1||t.image_url,a=async()=>{const d={title:t.title,text:t.excerpt||t.title,url:`${window.location.origin}/blog/${t.id}`};if(navigator.share)try{await navigator.share(d)}catch{}else navigator.clipboard.writeText(d.url),alert("Link copied to clipboard!")},l=()=>{n(!e);const d=JSON.parse(localStorage.getItem("savedBlogPosts")||"[]");if(!e)d.push(t.id),localStorage.setItem("savedBlogPosts",JSON.stringify(d));else{const h=d.filter(f=>f!==t.id);localStorage.setItem("savedBlogPosts",JSON.stringify(h))}};return o.jsxs(an,{className:"bg-white/60 backdrop-blur-sm border-gray-200 hover:border-blue-300 hover:shadow-xl transition-all duration-300 overflow-hidden group flex flex-col",children:[o.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[i?o.jsx("img",{src:i,alt:t.title||"Blog post image",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ii,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),o.jsx("span",{className:"text-sm opacity-50",children:"No image"})]})}),o.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[o.jsx("button",{onClick:d=>{d.preventDefault(),a()},className:"bg-white/90 hover:bg-white text-gray-700 rounded-full p-2 backdrop-blur-sm transition-all shadow-md",title:"Share",children:o.jsx(tT,{className:"w-4 h-4"})}),o.jsx("button",{onClick:d=>{d.preventDefault(),l()},className:`rounded-full p-2 backdrop-blur-sm transition-all shadow-md ${e?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white/90 hover:bg-white text-gray-700"}`,title:e?"Saved":"Save",children:o.jsx(EO,{className:`w-4 h-4 ${e?"fill-current":""}`})})]}),!t.is_published&&o.jsx("div",{className:"absolute top-2 left-2",children:o.jsx(rl,{variant:"secondary",className:"bg-yellow-500 text-white shadow-md",children:"Draft"})})]}),o.jsxs(Yt,{className:"p-6 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-blue-100 flex-shrink-0 ring-2 ring-blue-100",children:(c=t.author)!=null&&c.image_url?o.jsx("img",{src:t.author.image_url,alt:s(),width:40,height:40,className:"object-cover w-full h-full"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(ip,{className:"w-5 h-5 text-blue-600"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s()}),o.jsx("p",{className:"text-xs text-gray-600 truncate",children:((u=t.author)==null?void 0:u.position)||"ACM Member"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3 flex-wrap min-h-[20px]",children:[t.created_at&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(ii,{className:"w-4 h-4 mr-1 text-blue-600"}),o.jsx("span",{children:r(t.created_at)})]}),t.reading_time&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Hu,{className:"w-4 h-4 mr-1 text-purple-600"}),o.jsxs("span",{children:[t.reading_time," min read"]})]})]}),o.jsx("div",{className:"mb-3 min-h-[28px]",children:t.category&&o.jsx(rl,{variant:"outline",className:"border-blue-300 text-blue-700 bg-blue-50",children:t.category})}),o.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2 min-h-[56px]",children:t.title||"Untitled Post"}),o.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3 min-h-[72px]",children:t.excerpt||"No description available."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4 min-h-[32px]",children:t.tags&&t.tags.length>0?o.jsxs(o.Fragment,{children:[t.tags.slice(0,3).map(d=>o.jsxs(rl,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:["#",d]},d)),t.tags.length>3&&o.jsxs(rl,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",t.tags.length-3," more"]})]}):null}),o.jsx("div",{className:"flex justify-between items-center mt-auto",children:o.jsx(Rt,{to:`/blog/${t.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors font-medium",children:"Read More "})})]})]})}function SB(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null);return _.useEffect(()=>{async function a(){try{const l=await bB();e(l)}catch(l){console.error("Failed to fetch blog posts",l),i("Failed to load blog posts. Please try again later.")}finally{r(!1)}}a()},[]),n?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading blog posts..."})}):s?o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center flex-col gap-4",children:[o.jsxs("div",{className:"text-xl text-red-500",children:["Error: ",s]}),o.jsx("p",{className:"text-gray-700",children:"Please check your connection."})]}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"Blog"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Insights, tutorials, and stories from our community"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(a=>o.jsx(wB,{post:a},a.id))}),t.length===0&&o.jsx("p",{className:"text-gray-700 text-center py-12",children:"No blog posts available yet. Check back soon!"})]})]})}function EB(){const{id:t}=Yf(),[e,n]=_.useState(null),[r,s]=_.useState(!0);if(_.useEffect(()=>{t&&_B(t).then(a=>{n(a),s(!1)})},[t]),r)return o.jsx("div",{className:"pt-32 pb-16 min-h-screen flex items-center justify-center bg-[#FAF9F6]",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})});if(!e)return o.jsx("div",{className:"pt-32 pb-16 min-h-screen flex items-center justify-center bg-[#FAF9F6]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Post Not Found"}),o.jsx(Rt,{to:"/blog",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Back to Blog"})]})});const i=[e.image_1,e.image_2,e.image_3,e.image_4].filter(Boolean);return o.jsx("div",{className:"min-h-screen bg-[#FAF9F6] pt-20",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(Rt,{to:"/blog",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors font-medium mb-8 group",children:[o.jsx(GN,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Blog"]}),e.category&&o.jsx("span",{className:"inline-block text-sm text-blue-600 font-semibold uppercase tracking-wide mb-4 px-3 py-1 bg-blue-50 rounded-full",children:e.category}),o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:e.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 md:gap-6 text-gray-600 mb-8 pb-8 border-b border-gray-200",children:[e.author&&o.jsxs(Rt,{to:"/team",className:"flex items-center gap-3 hover:opacity-80 transition-opacity group",children:[o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-blue-100 flex items-center justify-center ring-2 ring-blue-100 group-hover:ring-blue-300 transition-all",children:e.author.image_url?o.jsx("img",{src:e.author.image_url,alt:e.author.name,className:"w-full h-full object-cover"}):o.jsx(ip,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:e.author.name}),e.author.position&&o.jsx("p",{className:"text-sm text-gray-500",children:e.author.position})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.reading_time&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Hu,{size:16}),o.jsxs("span",{children:[e.reading_time," min read"]})]}),o.jsx("span",{children:h8(e.created_at)})]})]}),i.length>0&&o.jsx("div",{className:`grid gap-4 mb-12 ${i.length===1?"grid-cols-1":(i.length===2,"grid-cols-2")}`,children:i.map((a,l)=>o.jsx("img",{src:a,alt:`${e.title} - Image ${l+1}`,className:"w-full rounded-xl object-cover shadow-lg",style:{maxHeight:i.length===1?"500px":"300px"}},l))}),o.jsx("div",{className:"prose prose-lg max-w-none",children:o.jsx("div",{className:"text-lg text-gray-800 leading-relaxed whitespace-pre-wrap font-serif",children:e.content})}),e.tags&&e.tags.length>0&&o.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(a=>o.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700 transition-colors cursor-pointer",children:["#",a]},a))})]})]})})}function CB({images:t}){const e=_.useRef(null),n=vO(),[r,s]=_.useState(!1);_.useEffect(()=>{const p=()=>s(window.innerWidth<768);return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const{scrollYProgress:i}=Gl({target:e,offset:["start start","end end"]}),a=r?.6:1,l=An(i,[0,1],[1,4*a]),c=An(i,[0,1],[1,5*a]),u=An(i,[0,1],[1,6*a]),d=An(i,[0,1],[1,8*a]),h=An(i,[0,1],[1,9*a]),f=[l,c,u,c,u,d,h];return r||n?o.jsx("div",{className:"relative py-20",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.slice(0,6).map(({src:p,alt:x},m)=>o.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:o.jsx("img",{src:p,alt:x||`Gallery image ${m+1}`,className:"w-full h-full object-cover",loading:"lazy"})},m))})})}):o.jsx("div",{ref:e,className:"relative h-[300vh]",style:{position:"relative"},children:o.jsx("div",{className:"sticky top-0 h-screen overflow-hidden",children:t.map(({src:p,alt:x},m)=>{const v=f[m%f.length];return o.jsx(Ye.div,{style:{scale:v,transformOrigin:"center center"},transition:{type:"tween",ease:"linear",duration:0},className:`absolute top-0 flex h-full w-full items-center justify-center ${m===1?"[&>div]:!-top-[30vh] [&>div]:!left-[5vw] [&>div]:!h-[30vh] [&>div]:!w-[35vw]":""} ${m===2?"[&>div]:!-top-[10vh] [&>div]:!-left-[25vw] [&>div]:!h-[45vh] [&>div]:!w-[20vw]":""} ${m===3?"[&>div]:!left-[27.5vw] [&>div]:!h-[25vh] [&>div]:!w-[25vw]":""} ${m===4?"[&>div]:!top-[27.5vh] [&>div]:!left-[5vw] [&>div]:!h-[25vh] [&>div]:!w-[20vw]":""} ${m===5?"[&>div]:!top-[27.5vh] [&>div]:!-left-[22.5vw] [&>div]:!h-[25vh] [&>div]:!w-[30vw]":""} ${m===6?"[&>div]:!top-[22.5vh] [&>div]:!left-[25vw] [&>div]:!h-[15vh] [&>div]:!w-[15vw]":""} `,children:o.jsx("div",{className:"relative h-[25vh] w-[25vw] transform-gpu",children:o.jsx("img",{src:p,alt:x||`Parallax image ${m+1}`,className:"h-full w-full object-cover rounded-lg",loading:"eager",decoding:"async",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:1e3}})})},m)})})})}const NB={blue:{base:220,spread:200},purple:{base:280,spread:300},green:{base:120,spread:200},red:{base:0,spread:200},orange:{base:30,spread:200}},TB={sm:"w-48 h-64",md:"w-64 h-80",lg:"w-80 h-96"},MB=({children:t,className:e="",glowColor:n="blue",size:r="md",width:s,height:i,customSize:a=!1})=>{const l=_.useRef(null),c=_.useRef(null);_.useEffect(()=>{const x=m=>{const{clientX:v,clientY:g}=m;l.current&&(l.current.style.setProperty("--x",v.toFixed(2)),l.current.style.setProperty("--xp",(v/window.innerWidth).toFixed(2)),l.current.style.setProperty("--y",g.toFixed(2)),l.current.style.setProperty("--yp",(g/window.innerHeight).toFixed(2)))};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)},[]);const{base:u,spread:d}=NB[n],h=()=>a?"":TB[r],f=()=>{const x={"--base":u,"--spread":d,"--radius":"14","--border":"3","--backdrop":"hsl(0 0% 60% / 0.12)","--backup-border":"var(--backdrop)","--size":"200","--outer":"1","--border-size":"calc(var(--border, 2) * 1px)","--spotlight-size":"calc(var(--size, 150) * 1px)","--hue":"calc(var(--base) + (var(--xp, 0) * var(--spread, 0)))",backgroundImage:`radial-gradient(var(--spotlight-size) var(--spotlight-size) at
        calc(var(--x, 0) * 1px)
        calc(var(--y, 0) * 1px),
        hsl(var(--hue, 210) calc(var(--saturation, 100) * 1%) calc(var(--lightness, 70) * 1%) / var(--bg-spot-opacity, 0.1)), transparent)`,backgroundColor:"var(--backdrop, transparent)",backgroundSize:"calc(100% + (2 * var(--border-size))) calc(100% + (2 * var(--border-size)))",backgroundPosition:"50% 50%",backgroundAttachment:"fixed",border:"var(--border-size) solid var(--backup-border)",position:"relative",touchAction:"none"};return s!==void 0&&(x.width=typeof s=="number"?`${s}px`:s),i!==void 0&&(x.height=typeof i=="number"?`${i}px`:i),x};return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-glow]::before,
[data-glow]::after {
  pointer-events: none;
  content: "";
  position: absolute;
  inset: calc(var(--border-size) * -1);
  border: var(--border-size) solid transparent;
  border-radius: calc(var(--radius) * 1px);
  background-attachment: fixed;
  background-size: calc(100% + (2 * var(--border-size))) calc(100% + (2 * var(--border-size)));
  background-repeat: no-repeat;
  background-position: 50% 50%;
  mask: linear-gradient(transparent, transparent), linear-gradient(white, white);
  mask-clip: padding-box, border-box;
  mask-composite: intersect;
}

[data-glow]::before {
  background-image: radial-gradient(
    calc(var(--spotlight-size) * 0.75) calc(var(--spotlight-size) * 0.75) at
    calc(var(--x, 0) * 1px)
    calc(var(--y, 0) * 1px),
    hsl(var(--hue, 210) calc(var(--saturation, 100) * 1%) calc(var(--lightness, 50) * 1%) / var(--border-spot-opacity, 1)), transparent 100%
  );
  filter: brightness(2);
}

[data-glow]::after {
  background-image: radial-gradient(
    calc(var(--spotlight-size) * 0.5) calc(var(--spotlight-size) * 0.5) at
    calc(var(--x, 0) * 1px)
    calc(var(--y, 0) * 1px),
    hsl(0 100% 100% / var(--border-light-opacity, 1)), transparent 100%
  );
}

[data-glow] [data-glow] {
  position: absolute;
  inset: 0;
  will-change: filter;
  opacity: var(--outer, 1);
  border-radius: calc(var(--radius) * 1px);
  border-width: calc(var(--border-size) * 20);
  filter: blur(calc(var(--border-size) * 10));
  background: none;
  pointer-events: none;
  border: none;
}

[data-glow] > [data-glow]::before {
  inset: -10px;
  border-width: 10px;
}
`}}),o.jsxs("div",{ref:l,"data-glow":!0,style:f(),className:`${h()}
          ${a?"":"aspect-[3/4]"}
          rounded-2xl relative grid grid-rows-[1fr_auto] shadow-[0_1rem_2rem_-1rem_black] backdrop-blur-[5px]
          ${e}`,children:[o.jsx("div",{ref:c,"data-glow":!0}),t]})]})};function AB(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState(!1);_.useEffect(()=>{const d=()=>{l(window.innerWidth<768)};d(),window.addEventListener("resize",d);async function h(){const{data:f,error:p}=await le.from("event_galleries").select("*").order("event_date",{ascending:!1});!p&&f&&e(f),r(!1)}return h(),()=>window.removeEventListener("resize",d)},[]);const c=_.useCallback(d=>{a||i(d)},[a]),u=t.slice(0,2).flatMap(d=>[{src:d.image_1,alt:d.event_name},{src:d.image_2,alt:d.event_name},{src:d.image_3,alt:d.event_name},{src:d.image_4,alt:d.event_name}]).slice(0,7);return n?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading gallery..."})}):o.jsxs("div",{className:"text-gray-900 min-h-screen",children:[o.jsx("section",{className:"pt-32 pb-12 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-gray-900",children:"Gallery"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed",children:"Moments captured from our events and activities"})]})}),u.length>0&&o.jsx("div",{className:"relative",children:o.jsx(CB,{images:u})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-20",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:"Event Galleries"}),o.jsx("p",{className:"text-xl text-gray-700",children:"Browse through our memorable moments"})]}),t.length===0?o.jsx("p",{className:"text-gray-700 text-center py-12",children:"No gallery items available yet."}):o.jsx("div",{className:"space-y-16",children:t.map((d,h)=>{const f=[d.image_1,d.image_2,d.image_3,d.image_4].filter(Boolean);return o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:h*.1},className:"space-y-6",children:[o.jsxs("div",{className:"border-l-4 border-blue-600 pl-6 bg-white/60 backdrop-blur-sm rounded-r-lg py-4 shadow-sm",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-900",children:d.event_name}),d.description&&o.jsx("p",{className:"text-gray-700 mb-2",children:d.description}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(d.event_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6",children:f.map((p,x)=>o.jsx(Ye.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:x*.05},className:a?"":"cursor-pointer",onClick:()=>c(p),style:{touchAction:a?"pan-y":"auto"},children:o.jsx(MB,{glowColor:["blue","purple","green","orange"][x%4],customSize:!0,className:"w-full aspect-square p-0 overflow-hidden",children:o.jsx("img",{src:p,alt:`${d.event_name} - Photo ${x+1}`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",style:{pointerEvents:a?"none":"auto",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none"},onContextMenu:m=>m.preventDefault(),draggable:!1})})},x))})]},d.id)})})]}),s&&o.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:[o.jsx("button",{className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition-colors",onClick:()=>i(null),children:""}),o.jsx("img",{src:s,alt:"Full size",className:"max-w-full max-h-full object-contain"})]})]})}async function RB(t){try{console.log("Attempting to save contact message:",t);const{error:e}=await le.from("contact_messages").insert([{name:t.name,email:t.email,subject:t.subject,message:t.message,is_read:!1}]);e?console.error("Supabase DB Insert Error:",e):console.log("Successfully saved to Supabase");const r=await fetch("https://sakec.acm.org/api/send-contact-email.php",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return r.type==="opaque"||r.status===0?(console.log("Contact form email request sent (opaque response)"),{success:!0}):(console.log("Response status:",r.status),r.ok||console.warn("Email sending might have failed, status:",r.status),{success:!0})}catch(e){return console.error("Error submitting contact form:",e),e instanceof TypeError&&e.message.includes("Failed to fetch")?{success:!1,error:"Network error. Please check your connection."}:{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}function jB(){const[t,e]=_.useState({name:"",email:"",subject:"",message:""}),[n,r]=_.useState("idle"),[s,i]=_.useState(""),[a,l]=_.useState(!1),c=async d=>{var f,p;d.preventDefault(),r("loading"),i("");const h=await RB(t);h.success?(r("success"),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>r("idle"),3e3)):(r("error"),i(h.error||"Failed to submit form"),((f=h.error)!=null&&f.includes("server")||(p=h.error)!=null&&p.includes("Network"))&&setTimeout(()=>l(!0),2e3))},u=()=>{const d=encodeURIComponent(`Contact Form: ${t.subject}`),h=encodeURIComponent(`Hi SAKEC ACM Team,

Name: ${t.name}
Email: ${t.email}
Subject: ${t.subject}

Message:
${t.message}

Best regards,
${t.name}`);window.open(`mailto:support@sakec.acm.org?subject=${d}&body=${h}`,"_blank")};return o.jsx("div",{className:"pt-24 pb-16 text-gray-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4 text-center text-gray-900",children:"Contact Us"}),o.jsx("p",{className:"text-xl text-gray-700 mb-12 text-center",children:"Get in touch with us for any queries or collaborations"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx("div",{className:"bg-white/60 backdrop-blur-sm border border-gray-200 rounded-2xl p-8 shadow-lg",children:a&&n==="error"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsx(Wl,{className:"w-5 h-5 text-gray-900 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Alternative Contact Method"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Our contact form is temporarily unavailable. You can reach us directly via email."})]})]}),o.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-all",children:[o.jsx(or,{className:"w-4 h-4"}),"Send Email Directly",o.jsx(Ng,{className:"w-4 h-4"})]}),o.jsx("p",{className:"text-sm text-gray-500 text-center",children:"This will open your email client with a pre-filled message"}),o.jsx("button",{onClick:()=>l(!1),className:"w-full px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",children:" Back to form"})]}):o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2 text-gray-900",children:"Name"}),o.jsx("input",{type:"text",id:"name",required:!0,value:t.name,onChange:d=>e({...t,name:d.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all",placeholder:"Your name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2 text-gray-900",children:"Email"}),o.jsx("input",{type:"email",id:"email",required:!0,value:t.email,onChange:d=>e({...t,email:d.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all",placeholder:"your.email@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2 text-gray-900",children:"Subject"}),o.jsx("input",{type:"text",id:"subject",required:!0,value:t.subject,onChange:d=>e({...t,subject:d.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all",placeholder:"What's this about?"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2 text-gray-900",children:"Message"}),o.jsx("textarea",{id:"message",required:!0,rows:6,value:t.message,onChange:d=>e({...t,message:d.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all resize-none",placeholder:"Your message..."})]}),o.jsx("button",{type:"submit",disabled:n==="loading",className:"w-full px-6 py-3 bg-gray-900 hover:bg-gray-800 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-colors shadow-md hover:shadow-lg",children:n==="loading"?"Sending...":"Send Message"}),n==="success"&&o.jsx("div",{className:"border border-gray-300 rounded-lg p-4 bg-white text-center",children:o.jsx("p",{className:"text-gray-900 font-medium",children:"Message sent successfully!"})}),n==="error"&&!a&&o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[o.jsx("p",{className:"text-gray-900 font-medium",children:s}),(s.includes("server")||s.includes("Network"))&&o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Having trouble? Try the email fallback option above."})]})]})}),o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm border border-gray-200 rounded-2xl p-8 shadow-lg",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4 text-gray-900",children:"Get In Touch"}),o.jsx("p",{className:"text-gray-700 mb-8 leading-relaxed",children:"Have questions or want to collaborate? We'd love to hear from you. Fill out the form or reach us through the contact details below."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:o.jsx(or,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-900",children:"Email"}),o.jsx("a",{href:"mailto:support@sakec.acm.org",className:"text-gray-700 hover:text-gray-900 transition-colors",children:"support@sakec.acm.org"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:o.jsx(OO,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-900",children:"Phone"}),o.jsx("p",{className:"text-gray-700",children:"+91 89284 84014"}),o.jsx("p",{className:"text-gray-700",children:"+91 93728 20541"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:o.jsx(kO,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-900",children:"Instagram"}),o.jsx("a",{href:"https://www.instagram.com/acm_sakec?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:text-gray-900 transition-colors",children:"@acm_sakec"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:o.jsx(sp,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-900",children:"Address"}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Shah & Anchor Kutchhi Engineering College",o.jsx("br",{}),"Chembur, Mumbai, Maharashtra"]})]})]})]})]})})]})]})})}function PB(){const{id:t}=Yf(),[e,n]=_.useState(null),[r,s]=_.useState(!0);return _.useEffect(()=>{t&&yM(t).then(i=>{n(i),s(!1)})},[t]),r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading profile..."})}):e?o.jsx("div",{className:"min-h-screen pt-24 pb-16",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 md:p-12 border border-gray-200 shadow-xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[e.image_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:e.image_url,alt:e.name,className:"w-48 h-48 rounded-full object-cover border-4 border-blue-500 shadow-lg"}),o.jsx("div",{className:"absolute -bottom-2 -right-2 bg-blue-600 text-white rounded-full p-3 shadow-lg",children:o.jsx(yu,{size:24})})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 text-gray-900",children:e.name}),o.jsx("p",{className:"text-2xl text-blue-600 mb-4 font-semibold",children:e.position}),o.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start mb-6",children:[e.department&&o.jsx("span",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:e.department}),e.year&&o.jsxs("span",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:["Year: ",e.year]})]}),e.personal_quote&&o.jsxs("blockquote",{className:"italic text-gray-700 bg-blue-50 border-l-4 border-blue-500 pl-4 py-3 my-6 rounded-r-lg",children:['"',e.personal_quote,'"']}),e.about_us&&o.jsx("p",{className:"text-gray-800 mb-6 leading-relaxed text-lg",children:e.about_us}),o.jsxs("div",{className:"flex gap-3 justify-center md:justify-start",children:[e.linkedin_url&&o.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105",title:"LinkedIn",children:o.jsx(QN,{size:24})}),e.github_url&&o.jsx("a",{href:e.github_url,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105",title:"GitHub",children:o.jsx(KN,{size:24})}),e.email&&o.jsx("a",{href:`mailto:${e.email}`,className:"p-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105",title:"Email",children:o.jsx(or,{size:24})})]})]})]}),e.skills&&e.skills.length>0&&o.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(qN,{className:"text-blue-600",size:24})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Skills"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(i=>o.jsx("span",{className:"px-4 py-2 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:i},i))})]}),e.achievements&&e.achievements.length>0&&o.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:o.jsx(yu,{className:"text-yellow-600",size:24})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Achievements"})]}),o.jsx("ul",{className:"space-y-3",children:e.achievements.map((i,a)=>o.jsxs("li",{className:"flex items-start gap-3 p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[o.jsx("span",{className:"text-yellow-600 mt-1 font-bold",children:""}),o.jsx("span",{className:"text-gray-800",children:i})]},a))})]})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Profile Not Found"}),o.jsx("p",{className:"text-gray-700",children:"This NFC card is not registered."})]})})}function kB(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(!1),c=ia();_.useEffect(()=>{localStorage.getItem("admin_session")&&c("/admin/dashboard")},[c]);const u=async d=>{d.preventDefault(),i(""),l(!0);try{const{data:h,error:f}=await le.from("admins").select("*").eq("username",t).eq("is_active",!0).single();if(f||!h){i("Invalid credentials"),l(!1);return}h.password_hash===n?(localStorage.setItem("admin_session",JSON.stringify({username:h.username,email:h.email,loginTime:new Date().toISOString()})),await le.from("admins").update({last_login:new Date().toISOString()}).eq("id",h.id),c("/admin/dashboard")):i("Invalid credentials")}catch{i("Connection error. Please try again.")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("h1",{className:"sr-only",children:"Admin Access"}),o.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-700",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"w-16 h-16 bg-blue-600/20 rounded-full flex items-center justify-center",children:o.jsx(i1,{className:"w-8 h-8 text-blue-500"})})}),o.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-8",children:"Secure Access"}),s&&o.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-lg flex items-start gap-3",children:[o.jsx(Wl,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-red-400 text-sm",children:s})]}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(ip,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"username",type:"text",value:t,onChange:d=>e(d.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter username",required:!0,autoComplete:"off"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(i1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0,autoComplete:"off"})]})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900",children:a?"Authenticating...":"Access Dashboard"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{onClick:()=>c("/"),className:"text-sm text-gray-400 hover:text-gray-300 transition-colors",children:" Back to website"})})]}),o.jsx("p",{className:"text-center text-gray-600 text-xs mt-6",children:"Unauthorized access is prohibited"})]})})}function ZM(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:m,error:v}=await le.from("team_members").select("*").order("display_order",{ascending:!0});!v&&m&&e(m),r(!1)},h=async()=>{s?await le.from("team_members").update(a).eq("id",s):await le.from("team_members").insert([a]),i(null),u(!1),l({}),d()},f=async m=>{confirm("Are you sure you want to delete this member?")&&(await le.from("team_members").delete().eq("id",m),d())},p=m=>{i(m.id),l(m),u(!1)},x=()=>{u(!0),i(null),l({})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Team Members"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"w-4 h-4"})," Add Member"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Member":"Add New Member"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Name",value:a.name||"",onChange:m=>l({...a,name:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Position",value:a.position||"",onChange:m=>l({...a,position:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"email",placeholder:"Email",value:a.email||"",onChange:m=>l({...a,email:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image URL",value:a.image_url||"",onChange:m=>l({...a,image_url:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"LinkedIn URL",value:a.linkedin_url||"",onChange:m=>l({...a,linkedin_url:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"GitHub URL",value:a.github_url||"",onChange:m=>l({...a,github_url:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Year",value:a.year||"",onChange:m=>l({...a,year:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Department",value:a.department||"",onChange:m=>l({...a,department:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(di,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(Un,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(m=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[m.image_url&&o.jsx("img",{src:m.image_url,alt:m.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:m.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:m.position}),o.jsx("p",{className:"text-gray-500 text-xs",children:m.email})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(m),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(m.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]},m.id))})]})}function DB({eventId:t,eventTitle:e,onClose:n}){const[r,s]=_.useState({event_id:t,form_title:`${e} Registration`,is_active:!0,allowed_email_domains:[],fields:[]}),[i,a]=_.useState([]),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[h,f]=_.useState(!1),[p,x]=_.useState([]);_.useEffect(()=>{m()},[t]);const m=async()=>{const{data:A}=await le.from("event_registration_forms").select("*").eq("event_id",t).single();if(A){if(A.registration_deadline){const C=new Date(A.registration_deadline),j=C.getFullYear(),D=String(C.getMonth()+1).padStart(2,"0"),z=String(C.getDate()).padStart(2,"0"),H=String(C.getHours()).padStart(2,"0"),$=String(C.getMinutes()).padStart(2,"0");A.registration_deadline=`${j}-${D}-${z}T${H}:${$}`}s(A);const{data:T}=await le.from("event_form_fields").select("*").eq("form_id",A.id).order("display_order");T&&a(T)}},v=()=>{a([...i,{field_name:`field_${i.length+1}`,field_label:"New Field",field_type:"text",is_required:!1,display_order:i.length}])},g=(A,T)=>{const C=[...i];C[A]={...C[A],...T},a(C)},y=A=>{a(i.filter((T,C)=>C!==A))},b=async()=>{c(!0);try{let A=r.id;const T=r.registration_deadline?new Date(r.registration_deadline).toISOString():null;if(A)await le.from("event_registration_forms").update({form_title:r.form_title,form_description:r.form_description,is_active:r.is_active,max_registrations:r.max_registrations,registration_deadline:T,allowed_email_domains:r.allowed_email_domains||[]}).eq("id",A),await le.from("event_form_fields").delete().eq("form_id",A);else{const{data:C}=await le.from("event_registration_forms").insert([{event_id:t,form_title:r.form_title,form_description:r.form_description,is_active:r.is_active,max_registrations:r.max_registrations,registration_deadline:T,allowed_email_domains:r.allowed_email_domains||[]}]).select().single();A=C==null?void 0:C.id}A&&i.length>0&&await le.from("event_form_fields").insert(i.map(C=>({form_id:A,...C}))),alert("Form saved successfully!"),m()}catch(A){alert("Failed to save form"),console.error(A)}finally{c(!1)}},w=async()=>{if(!r.id)return;const{data:A}=await le.from("event_registrations").select("*").eq("form_id",r.id).order("registration_date",{ascending:!1});A&&x(A),f(!0)},S=()=>{if(p.length===0){alert("No registrations to download");return}const A=i.filter(V=>V.field_type==="photo").map(V=>V.field_name),T=new Set,C=new Set;p.forEach(V=>{const K=typeof V.form_data=="string"?JSON.parse(V.form_data):V.form_data||{};Object.keys(K).forEach(se=>{T.add(se),(A.includes(se)||typeof K[se]=="string"&&K[se].startsWith("http")&&(K[se].match(/\.(jpeg|jpg|gif|png|webp)$/i)||K[se].includes("supabase.co/storage")))&&C.add(se)})});const j=Array.from(T).filter(V=>!C.has(V)),D=Array.from(C),z=["Name","Email","Phone","Registration Date","Status","Email Sent",...j,...D.map(V=>{const K=i.find(se=>se.field_name===V);return K?K.field_label:V})],H=p.map(V=>{const K=typeof V.form_data=="string"?JSON.parse(V.form_data):V.form_data||{},se=[V.participant_name,V.participant_email,V.participant_phone||"",new Date(V.registration_date).toLocaleString(),V.status,V.confirmation_sent?"Yes":"No"];return j.forEach(de=>{const Ee=K[de];Array.isArray(Ee)?se.push(Ee.join("; ")):typeof Ee=="object"?se.push(JSON.stringify(Ee)):se.push(Ee||"")}),D.forEach(de=>{const Ee=K[de];se.push(Ee||"")}),se}),$=[z.join(","),...H.map(V=>V.map(K=>`"${String(K).replace(/"/g,'""')}"`).join(","))].join(`
`),Z=new Blob([$],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),I=URL.createObjectURL(Z);B.setAttribute("href",I),B.setAttribute("download",`registrations_${r.form_title}_${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},N=[{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"textarea",label:"Long Text"},{value:"select",label:"Dropdown"},{value:"checkbox",label:"Checkbox"},{value:"photo",label:"Photo Upload"}],M=async A=>{if(confirm("Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:T}=await le.from("event_registrations").delete().eq("id",A);if(T)throw T;x(p.filter(C=>C.id!==A))}catch(T){console.error("Delete error:",T),alert("Failed to delete registration")}};return h?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Registration Analytics"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[o.jsx(AO,{className:"w-4 h-4"}),"Download CSV"]}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white",children:o.jsx(Un,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-sm",children:"Total Registrations"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:p.length})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-sm",children:"Confirmed"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:p.filter(A=>A.status==="confirmed").length})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-sm",children:"Confirmation Emails Sent"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p.filter(A=>A.confirmation_sent).length})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Participants"}),p.map(A=>{const T=typeof A.form_data=="string"?JSON.parse(A.form_data):A.form_data||{},C=i.filter(de=>de.field_type==="photo").map(de=>de.field_name);let j=T.photo_url||T.photo;if(!j){for(const de of C)if(T[de]){j=T[de];break}}if(!j){for(const[,de]of Object.entries(T))if(typeof de=="string"&&de.startsWith("http")&&(de.match(/\.(jpeg|jpg|gif|png|webp)$/i)||de.includes("supabase.co/storage"))){j=de;break}}const{photo_url:D,photo:z,name:H,email:$,phone:Z,participant_name:B,participant_email:I,participant_phone:V,...K}=T,se={};return Object.entries(K).forEach(([de,Ee])=>{!C.includes(de)&&Ee!==j&&(se[de]=Ee)}),o.jsxs("div",{className:"bg-white p-4 rounded-lg group/item relative border border-gray-200 shadow-sm",children:[o.jsx("button",{onClick:()=>M(A.id),className:"absolute top-4 right-4 p-2 bg-red-100 text-red-600 rounded-lg opacity-0 group-hover/item:opacity-100 transition-opacity hover:bg-red-200",title:"Delete Registration",children:o.jsx(Vr,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex justify-between items-start mb-2 pr-12",children:[o.jsxs("div",{className:"flex gap-4",children:[j&&o.jsxs("div",{className:"shrink-0 group relative",children:[o.jsx("img",{src:j,alt:"Participant",className:"w-20 h-20 rounded-lg object-cover border border-gray-300 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(j,"_blank")}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 pointer-events-none",children:o.jsx(s1,{className:"w-6 h-6 text-white drop-shadow-lg"})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-900 font-bold text-lg",children:A.participant_name}),o.jsxs("div",{className:"space-y-1 mt-1",children:[o.jsxs("p",{className:"text-gray-700 text-sm flex items-center gap-2 font-medium",children:[o.jsx("span",{className:"w-4 h-4 flex items-center justify-center opacity-70",children:""}),A.participant_email]}),A.participant_phone&&o.jsxs("p",{className:"text-gray-700 text-sm flex items-center gap-2 font-medium",children:[o.jsx("span",{className:"w-4 h-4 flex items-center justify-center opacity-70",children:""}),A.participant_phone]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${A.confirmation_sent?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:A.confirmation_sent?"Email Sent":"Pending"}),o.jsxs("p",{className:"text-gray-500 text-xs mt-2 font-medium",children:["Registered: ",new Date(A.registration_date).toLocaleString()]})]})]}),Object.keys(se).length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("p",{className:"text-gray-900 text-xs font-bold uppercase tracking-wider mb-3",children:"Additional Details"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(se).map(([de,Ee])=>{if(!Ee||de.startsWith("_"))return null;const qe=i.find(ne=>ne.field_name===de),it=qe?qe.field_label:de.replace(/_/g," ");return o.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[o.jsx("span",{className:"block text-gray-600 text-xs uppercase tracking-wide mb-1 font-bold",children:it}),o.jsx("span",{className:"block text-gray-900 text-sm font-semibold break-words",children:Array.isArray(Ee)?Ee.join(", "):typeof Ee=="object"?JSON.stringify(Ee):String(Ee)})]},de)})})]})]},A.id)})]})]})]})}):u?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Form Preview"}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Un,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.form_title}),r.form_description&&o.jsx("p",{className:"text-gray-600 mb-6",children:r.form_description}),o.jsx("div",{className:"space-y-4",children:i.map((A,T)=>{var C;return o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[A.field_label,A.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),A.field_type==="textarea"?o.jsx("textarea",{className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:4}):A.field_type==="select"?o.jsxs("select",{className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[o.jsx("option",{children:"Select an option"}),(C=A.field_options)==null?void 0:C.map((j,D)=>o.jsx("option",{children:j},D))]}):o.jsx("input",{type:A.field_type,className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]},T)})})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Event Registration Form Builder"}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx(Un,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4 border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Form Settings"}),o.jsx("input",{type:"text",placeholder:"Form Title",value:r.form_title||"",onChange:A=>s({...r,form_title:A.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Form Description",value:r.form_description||"",onChange:A=>s({...r,form_description:A.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:3}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"number",placeholder:"Max Registrations (optional)",value:r.max_registrations||"",onChange:A=>s({...r,max_registrations:parseInt(A.target.value)||void 0}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"datetime-local",placeholder:"Registration Deadline",value:r.registration_deadline||"",onChange:A=>s({...r,registration_deadline:A.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900",children:[o.jsx("input",{type:"checkbox",checked:r.is_active||!1,onChange:A=>s({...r,is_active:A.target.checked}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),"Form is Active (accepting registrations)"]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Allowed Email Domains (Optional)"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Restrict registrations to specific email domains. Leave empty to allow all emails."}),o.jsx("input",{type:"text",placeholder:"e.g., @sakec.ac.in, @gmail.com, @outlook.com",value:(r.allowed_email_domains||[]).join(", "),onChange:A=>{const T=A.target.value.split(",").map(C=>C.trim()).filter(C=>C.length>0);s({...r,allowed_email_domains:T})},className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),r.allowed_email_domains&&r.allowed_email_domains.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:r.allowed_email_domains.map((A,T)=>o.jsxs("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded flex items-center gap-1",children:[A,o.jsx("button",{type:"button",onClick:()=>{var j;const C=(j=r.allowed_email_domains)==null?void 0:j.filter((D,z)=>z!==T);s({...r,allowed_email_domains:C})},className:"hover:text-red-200",children:""})]},T))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Form Fields"}),o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"w-4 h-4"})," Add Field"]})]}),i.map((A,T)=>{var C;return o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3 border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("h4",{className:"text-gray-900 font-medium",children:["Field ",T+1]}),o.jsx("button",{onClick:()=>y(T),className:"text-red-600 hover:text-red-700",children:o.jsx(Vr,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",placeholder:"Field Name (e.g., college_name)",value:A.field_name,onChange:j=>g(T,{field_name:j.target.value}),className:"px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Field Label (shown to user)",value:A.field_label,onChange:j=>g(T,{field_label:j.target.value}),className:"px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("select",{value:A.field_type,onChange:j=>g(T,{field_type:j.target.value}),className:"px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:N.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 text-sm",children:[o.jsx("input",{type:"checkbox",checked:A.is_required,onChange:j=>g(T,{is_required:j.target.checked}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),"Required Field"]})]}),(A.field_type==="select"||A.field_type==="checkbox")&&o.jsx("input",{type:"text",placeholder:"Options (comma separated)",value:((C=A.field_options)==null?void 0:C.join(", "))||"",onChange:j=>g(T,{field_options:j.target.value.split(",").map(D=>D.trim())}),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]},T)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:b,disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg",children:[o.jsx(di,{className:"w-4 h-4"}),l?"Saving...":"Save Form"]}),o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:[o.jsx(s1,{className:"w-4 h-4"}),"Preview"]}),r.id&&o.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg",children:[o.jsx(NO,{className:"w-4 h-4"}),"View Analytics"]})]}),r.id&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-blue-700 text-sm font-medium mb-2",children:"Registration Form URL:"}),o.jsxs("code",{className:"text-blue-600 text-sm break-all",children:[window.location.origin,"/event-register/",r.id]})]})]})]})})}function JM(){const t=ia(),[e,n]=_.useState([]),[r,s]=_.useState(!0),[i,a]=_.useState(null),[l,c]=_.useState({}),[u,d]=_.useState(!1),[h,f]=_.useState(null);_.useEffect(()=>{p()},[]);const p=async()=>{const{data:y,error:b}=await le.from("events").select("*").order("date",{ascending:!1});!b&&y&&n(y),s(!1)},x=async()=>{i?await le.from("events").update(l).eq("id",i):await le.from("events").insert([l]),a(null),d(!1),c({}),p()},m=async y=>{if(confirm("Are you sure you want to delete this event? This will also delete all related registration forms and registrations.")){const{error:b}=await le.from("events").delete().eq("id",y);b?(console.error("Delete error:",b),alert(`Failed to delete event: ${b.message}`)):(alert("Event deleted successfully!"),p())}},v=y=>{a(y.id),c(y),d(!1)},g=()=>{d(!0),a(null),c({is_featured:!1})};return r?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[h&&o.jsx(DB,{eventId:h.id,eventTitle:h.title,onClose:()=>f(null)}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"w-4 h-4"})," Add Event"]})]}),(u||i)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i?"Edit Event":"Add New Event"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"e.g., Web Development Workshop",value:l.title||"",onChange:y=>c({...l,title:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{placeholder:"Describe your event...",value:l.description||"",onChange:y=>c({...l,description:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 h-24 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:l.date||"",onChange:y=>c({...l,date:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Time ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"time",value:l.time||"",onChange:y=>c({...l,time:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"e.g., Seminar Hall, Room 301",value:l.location||"",onChange:y=>c({...l,location:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Image URL ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"https://example.com/image.jpg",value:l.image_url||"",onChange:y=>c({...l,image_url:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{className:"md:col-span-2 space-y-3 border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Type"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer bg-gray-50 px-4 py-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[o.jsx("input",{type:"radio",name:"regType",checked:!l.registration_link||l.registration_link.startsWith("http"),onChange:()=>{l.registration_link==="custom"&&c({...l,registration_link:""})},className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"External Link"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Google Form, Typeform, etc."})]})]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer bg-gray-50 px-4 py-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[o.jsx("input",{type:"radio",name:"regType",checked:l.registration_link==="custom",onChange:()=>c({...l,registration_link:"custom"}),className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Custom Form"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Build your own form"})]})]})]})]}),l.registration_link!=="custom"&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Link (Optional)"}),o.jsx("input",{type:"url",placeholder:"https://forms.google.com/...",value:l.registration_link==="custom"?"":l.registration_link||"",onChange:y=>c({...l,registration_link:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty if no registration required"})]}),l.registration_link==="custom"&&o.jsx("div",{className:"md:col-span-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-blue-700 text-sm flex items-center gap-2",children:[o.jsx(qi,{className:"w-4 h-4"}),"After saving this event, click the ",o.jsx(qi,{className:"w-3 h-3 inline"})," icon in the event list to build your custom registration form."]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants (Optional)"}),o.jsx("input",{type:"number",placeholder:"e.g., 100",min:"1",value:l.max_participants||"",onChange:y=>c({...l,max_participants:parseInt(y.target.value)||void 0}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for unlimited"})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer bg-gray-50 px-4 py-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:l.is_featured||!1,onChange:y=>c({...l,is_featured:y.target.checked}),className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Featured Event"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Show on homepage"})]})]})})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(di,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{a(null),d(!1),c({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(Un,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(y=>o.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-gray-900 font-semibold text-lg",children:y.title}),y.is_featured&&o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded border border-yellow-200",children:"Featured"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:y.description}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[o.jsxs("span",{children:[" ",new Date(y.date).toLocaleDateString()]}),o.jsxs("span",{children:[" ",y.time]}),o.jsxs("span",{children:[" ",y.location]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>t(`/admin/event/${y.id}`),className:"p-2 bg-green-50 hover:bg-green-100 text-green-600 rounded-lg transition-colors",title:"Manage Event Attendance",children:o.jsx(Sr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f({id:y.id,title:y.title}),className:"p-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg transition-colors",title:"Create Registration Form",children:o.jsx(qi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>v(y),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>m(y.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]})},y.id))})]})}function QM(){var w;const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1),[d,h]=_.useState(!1),[f,p]=_.useState([]);_.useEffect(()=>{m(),x()},[]);const x=async()=>{const{data:S}=await le.from("team_members").select("id, name").order("name");S&&p(S)},m=async()=>{const{data:S,error:N}=await le.from("blogs").select("*").order("created_at",{ascending:!1});!N&&S&&e(S),r(!1)},v=async()=>{if(!a.title||!a.content||!a.image_1){alert("Please fill in all required fields: Title, Content, and Image URL.");return}if(s?await le.from("blogs").update(a).eq("id",s):await le.from("blogs").insert([a]),d&&a.title)try{const{count:S}=await le.from("newsletter_subscribers").select("*",{count:"exact",head:!0});await le.from("newsletter_logs").insert([{subject:`New Blog Post: ${a.title}`,content:`Check out our new blog post: ${a.title}

${a.excerpt||""}`,recipient_count:S||0}]),alert(`Newsletter queued for ${S||0} subscribers!`)}catch(S){console.error("Error sending newsletter:",S)}i(null),u(!1),l({}),h(!1),m()},g=async S=>{confirm("Are you sure you want to delete this blog post?")&&(await le.from("blogs").delete().eq("id",S),m())},y=S=>{i(S.id),l(S),u(!1)},b=()=>{u(!0),i(null),l({is_published:!1})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Blog Posts"}),o.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"w-4 h-4"})," Add Blog Post"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Blog Post":"Add New Blog Post"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Blog Title *",value:a.title||"",onChange:S=>l({...a,title:S.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("select",{value:a.author_id||"",onChange:S=>l({...a,author_id:S.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[o.jsx("option",{value:"",children:"Select Author"}),f.map(S=>o.jsx("option",{value:S.id,children:S.name},S.id))]}),o.jsx("input",{type:"number",placeholder:"Reading Time (minutes)",value:a.reading_time||"",onChange:S=>l({...a,reading_time:parseInt(S.target.value)||0}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsx("textarea",{placeholder:"Excerpt (short description)",value:a.excerpt||"",onChange:S=>l({...a,excerpt:S.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 h-20 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Full Content *",value:a.content||"",onChange:S=>l({...a,content:S.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 h-64 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Images"}),o.jsx("input",{type:"text",placeholder:"Image 1 URL (Main Image) *",value:a.image_1||"",onChange:S=>l({...a,image_1:S.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none mb-2"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[o.jsx("input",{type:"text",placeholder:"Image 2 URL (Optional)",value:a.image_2||"",onChange:S=>l({...a,image_2:S.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 3 URL (Optional)",value:a.image_3||"",onChange:S=>l({...a,image_3:S.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 4 URL (Optional)",value:a.image_4||"",onChange:S=>l({...a,image_4:S.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Category",value:a.category||"",onChange:S=>l({...a,category:S.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Tags (comma separated)",value:((w=a.tags)==null?void 0:w.join(", "))||"",onChange:S=>l({...a,tags:S.target.value.split(",").map(N=>N.trim()).filter(Boolean)}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:a.is_published||!1,onChange:S=>l({...a,is_published:S.target.checked}),className:"w-4 h-4 rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Publish immediately"]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:d,onChange:S=>h(S.target.checked),className:"w-4 h-4 rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Notify all subscribers via email"]})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(di,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(Un,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(S=>o.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-gray-900 font-semibold text-lg",children:S.title}),S.is_published?o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded border border-green-200",children:"Published"}):o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded border border-gray-200",children:"Draft"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:S.excerpt}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[o.jsxs("span",{children:[" ",S.category]}),o.jsxs("span",{children:[" ",new Date(S.created_at).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>y(S),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(S.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]})},S.id))})]})}const IB="https://sakec.acm.org/api";function eA(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState(""),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:x,error:m}=await le.from("contact_messages").select("*").order("created_at",{ascending:!1});!m&&x&&e(x),r(!1)},h=async()=>{if(!s||!a.trim()){alert("Please enter a reply message");return}u(!0);try{const x=await fetch(`${IB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:s.email,subject:`Re: ${s.subject}`,message:a,fromEmail:"support@sakec.acm.org",fromName:"SAKEC ACM Support",replyTo:"support@sakec.acm.org"})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const m=await x.json();if(m.success)await le.from("contact_messages").update({is_read:!0}).eq("id",s.id),i(null),l(""),d(),alert(" Reply sent successfully!");else throw new Error(m.message||"Failed to send email")}catch(x){console.error("Reply error:",x),alert(" Failed to send reply: "+(x instanceof Error?x.message:"Unknown error"))}finally{u(!1)}},f=async x=>{confirm("Are you sure you want to delete this message?")&&(await le.from("contact_messages").delete().eq("id",x),d())},p=async x=>{await le.from("contact_messages").update({is_read:!0}).eq("id",x),d()};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(or,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Messages"}),o.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-full",children:[t.filter(x=>!x.is_read).length," unread"]})]}),s&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-500 shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Reply to ",s.name]}),o.jsx("button",{onClick:()=>{i(null),l("")},className:"text-gray-400 hover:text-gray-600",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"To:"}),o.jsx("span",{className:"font-medium text-gray-900",children:s.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm mt-1",children:[o.jsx("span",{className:"text-gray-600",children:"Subject:"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["Re: ",s.subject]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wide mb-2",children:"Original Message:"}),o.jsx("p",{className:"text-gray-800 text-sm whitespace-pre-wrap",children:s.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Reply:"}),o.jsx("textarea",{value:a,onChange:x=>l(x.target.value),placeholder:"Type your reply here...",rows:8,className:"w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsxs("button",{onClick:h,disabled:c||!a.trim(),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:[o.jsx(a1,{className:"w-4 h-4"}),c?"Sending...":"Send Reply"]}),o.jsx("button",{onClick:()=>{i(null),l("")},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors font-semibold",children:"Cancel"})]})]})]}),o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsx("p",{className:"text-gray-500 text-center py-8",children:"No messages yet"}):t.map(x=>o.jsxs("div",{className:`bg-white rounded-xl p-4 border shadow-sm ${x.is_read?"border-gray-200":"border-blue-500 ring-1 ring-blue-500"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:x.name}),!x.is_read&&o.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded",children:"New"})]}),o.jsx("p",{className:"text-gray-600 text-sm",children:x.email}),o.jsx("p",{className:"text-blue-600 text-sm font-medium mt-1",children:x.subject})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.created_at).toLocaleDateString()}),o.jsx("button",{onClick:()=>{i(x),l(`Hi ${x.name},

Thank you for contacting SAKEC ACM Student Chapter.

`),x.is_read||p(x.id)},className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Reply",children:o.jsx(a1,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(x.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Delete",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"text-gray-700 text-sm bg-gray-50 p-3 rounded-lg border border-gray-100",children:x.message})]},x.id))})]})}const LB="https://sakec.acm.org/api";async function tA(t){try{const e=await fetch(`${LB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:t.to,subject:t.subject,message:t.message,fromEmail:t.fromEmail||"support@sakec.acm.org",fromName:t.fromName||"SAKEC ACM Student Chapter",replyTo:t.replyTo||"support@sakec.acm.org"})});if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const s=await e.json();s.message&&(r=s.message)}catch{}throw new Error(r)}const n=await e.json();return n.success&&n.warning&&console.warn("Email sent but database logging failed on backend"),n}catch(e){return console.error("Email send error:",e),{success:!1,message:e instanceof Error?e.message:"Failed to send email"}}}async function OB(t,e,n,r,s,i){const a=`Registration Confirmed: ${n}`;let l=`Dear ${e},

`;return l+=`Thank you for registering for "${n}"!

`,l+=`Your registration has been confirmed. Here are the event details:

`,l+=` Date: ${r}
`,s&&(l+=` Time: ${s}
`),i&&(l+=` Location: ${i}
`),l+=`
`,l+=`We look forward to seeing you at the event!

`,l+=`If you have any questions, please don't hesitate to contact us.

`,l+=`Best regards,
`,l+="SAKEC ACM Student Chapter Team",tA({to:t,subject:a,message:l,fromEmail:"events@sakec.acm.org",fromName:"SAKEC ACM Events",replyTo:"events@sakec.acm.org"})}async function UB(t,e,n,r){const s={sent:0,failed:0,errors:[]};for(const i of t)try{const a=await tA({to:i,subject:e,message:n,...r});a.success?s.sent++:(s.failed++,s.errors.push(`${i}: ${a.message}`)),await new Promise(l=>setTimeout(l,500))}catch(a){s.failed++,s.errors.push(`${i}: ${a instanceof Error?a.message:"Unknown error"}`)}return s}function FB(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(""),[a,l]=_.useState("all"),[c,u]=_.useState(null);_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:p,error:x}=await le.from("sent_emails").select("*").order("sent_at",{ascending:!1}).limit(100);if(x)throw x;e(p||[])}catch(p){console.error("Error loading sent emails:",p)}finally{r(!1)}},h=t.filter(p=>{const x=p.recipient_email.toLowerCase().includes(s.toLowerCase())||p.subject.toLowerCase().includes(s.toLowerCase())||p.sender_email.toLowerCase().includes(s.toLowerCase()),m=a==="all"||p.status===a;return x&&m}),f={total:t.length,sent:t.filter(p=>p.status==="sent").length,failed:t.filter(p=>p.status==="failed").length};return n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-gray-600",children:"Loading email history..."})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(or,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sent Emails History"})]}),o.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"Refresh"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(or,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:f.total})]}),o.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Total Emails"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-6 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Wi,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:f.sent})]}),o.jsx("p",{className:"text-green-100 text-sm mt-2",children:"Successfully Sent"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-red-700 rounded-xl p-6 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Gc,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:f.failed})]}),o.jsx("p",{className:"text-red-100 text-sm mt-2",children:"Failed"})]})]}),o.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Mg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:p=>i(p.target.value),placeholder:"Search by recipient, subject, or sender...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(RO,{className:"w-5 h-5 text-gray-400"}),o.jsxs("select",{value:a,onChange:p=>l(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"sent",children:"Sent"}),o.jsx("option",{value:"failed",children:"Failed"})]})]})]})}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:h.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500",children:s||a!=="all"?"No emails match your filters":"No emails sent yet"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sender"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.status==="sent"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:[o.jsx(Wi,{className:"w-3 h-3"}),"Sent"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:[o.jsx(Gc,{className:"w-3 h-3"}),"Failed"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.recipient_email})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:p.subject})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:p.sender_name}),o.jsx("div",{className:"text-xs text-gray-400",children:p.sender_email})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(Hu,{className:"w-4 h-4"}),new Date(p.sent_at).toLocaleDateString()]}),o.jsx("div",{className:"text-xs text-gray-400",children:new Date(p.sent_at).toLocaleTimeString()})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("button",{onClick:()=>u(p),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})})]},p.id))})]})})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Email Details"}),o.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:""})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.status==="sent"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:[o.jsx(Wi,{className:"w-4 h-4"}),"Successfully Sent"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full",children:[o.jsx(Gc,{className:"w-4 h-4"}),"Failed"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient"}),o.jsx("p",{className:"text-gray-900",children:c.recipient_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender"}),o.jsx("p",{className:"text-gray-900",children:c.sender_name}),o.jsx("p",{className:"text-sm text-gray-600",children:c.sender_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),o.jsx("p",{className:"text-gray-900",children:c.subject})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:o.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:c.message})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sent At"}),o.jsx("p",{className:"text-gray-900",children:new Date(c.sent_at).toLocaleString()})]}),c.error_message&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"Error Message"}),o.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:o.jsx("p",{className:"text-red-900",children:c.error_message})})]})]}),o.jsx("div",{className:"p-6 border-t border-gray-200",children:o.jsx("button",{onClick:()=>u(null),className:"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Close"})})]})})]})}const nS={newsletter:{name:"Newsletter",subject:"SAKEC ACM Newsletter - [Month Year]",body:`Hello,

Here are the latest updates from SAKEC ACM Student Chapter:

[Your content here]

Stay connected with us!

Best regards,
SAKEC ACM Team`},event_announcement:{name:"Event Announcement",subject:"Upcoming Event: [Event Name]",body:`Dear Member,

We're excited to announce our upcoming event!

Event: [Event Name]
Date: [Date]
Time: [Time]
Venue: [Location]

Register now: [Registration Link]

Looking forward to seeing you there!

Best regards,
SAKEC ACM Events Team`},event_reminder:{name:"Event Reminder",subject:"Reminder: [Event Name] Tomorrow",body:`Dear Participant,

This is a friendly reminder about tomorrow's event:

Event: [Event Name]
Date: [Date]
Time: [Time]
Venue: [Location]

Please arrive 15 minutes early.

See you tomorrow!

Best regards,
SAKEC ACM Events Team`},welcome:{name:"Welcome Message",subject:"Welcome to SAKEC ACM!",body:`Dear [Name],

Welcome to SAKEC ACM Student Chapter!

We're excited to have you as part of our community. Stay tuned for upcoming events, workshops, and opportunities.

Best regards,
SAKEC ACM Team`},general_member_update:{name:"Member Update",subject:"Important Update for SAKEC ACM Members",body:`Dear Member,

We have an important update regarding the chapter:

[Your Message Here]

Best regards,
SAKEC ACM Team`}},rS=[{email:"admin@sakec.acm.org",name:"SAKEC ACM Admin",description:"General admin communications"},{email:"contact@sakec.acm.org",name:"SAKEC ACM Contact",description:"General inquiries"},{email:"events@sakec.acm.org",name:"SAKEC ACM Events",description:"Event notifications"},{email:"publicity@sakec.acm.org",name:"SAKEC ACM Publicity",description:"Marketing and publicity"},{email:"support@sakec.acm.org",name:"SAKEC ACM Support",description:"Support emails"}];function nA(){const[t,e]=_.useState("compose"),[n,r]=_.useState("newsletter"),[s,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(rS[0]),[d,h]=_.useState(""),[f,p]=_.useState(""),[x,m]=_.useState(!1),[v,g]=_.useState(null),[y,b]=_.useState([]),[w,S]=_.useState([]),[N,M]=_.useState([]),[A,T]=_.useState([]),[C,j]=_.useState(!0);_.useEffect(()=>{D()},[]),_.useEffect(()=>{n==="event"&&s&&z(s)},[s]);const D=async()=>{try{const{data:B}=await le.from("newsletter_subscribers").select("email, name").eq("is_active",!0);b((B==null?void 0:B.map(K=>({email:K.email,name:K.name||""})))||[]);const{data:I}=await le.from("membership_applications").select("email, full_name").eq("status","approved");S((I==null?void 0:I.map(K=>({email:K.email,name:K.full_name})))||[]);const{data:V}=await le.from("events").select("id, title, date").order("date",{ascending:!1});M(V||[])}catch(B){console.error("Error loading data:",B)}finally{j(!1)}},z=async B=>{try{const{data:I}=await le.from("event_registrations").select("participant_name, participant_email").eq("event_id",B);T((I==null?void 0:I.map(V=>({email:V.participant_email,name:V.participant_name})))||[])}catch(I){console.error("Error loading participants:",I)}},H=()=>{switch(n){case"newsletter":return y;case"members":return w;case"event":return A;case"custom":return a.split(/[,\n]/).map(B=>B.trim()).filter(B=>B&&B.includes("@")).map(B=>({email:B}));default:return[]}},$=B=>{const I=nS[B];h(I.subject),p(I.body)},Z=async()=>{const B=H();if(B.length===0){g({type:"error",message:"No recipients selected"});return}if(!d||!f){g({type:"error",message:"Subject and message are required"});return}m(!0),g(null);try{const I=B.map(K=>K.email),V=await UB(I,d,f,{fromEmail:c.email,fromName:c.name,replyTo:c.email});g({type:V.sent>0?"success":"error",message:`Sent: ${V.sent} | Failed: ${V.failed} | Total: ${I.length}`}),V.errors.length>0&&console.error("Email errors:",V.errors),V.sent>0&&(h(""),p(""),D())}catch(I){console.error("Bulk email error:",I),g({type:"error",message:"Failed to send emails"})}finally{m(!1)}};return C?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ml,{className:"w-8 h-8 animate-spin text-blue-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(or,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email System"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>e("compose"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="compose"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(Al,{className:"w-4 h-4 inline mr-2"}),"Compose"]}),o.jsxs("button",{onClick:()=>e("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="history"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(PO,{className:"w-4 h-4 inline mr-2"}),"History"]})]})]}),v&&o.jsx("div",{className:`p-4 rounded-lg border ${v.type==="success"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:v.message}),t==="compose"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Send From"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:rS.map(B=>o.jsxs("button",{onClick:()=>u(B),className:`p-4 rounded-lg border-2 text-left transition-all ${c.email===B.email?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"font-medium text-gray-900",children:B.name}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:B.email}),o.jsx("div",{className:"text-xs text-gray-400 mt-1",children:B.description})]},B.email))})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Send To"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[o.jsxs("button",{onClick:()=>r("newsletter"),className:`flex flex-col items-center justify-center p-3 rounded-lg border-2 transition-all ${n==="newsletter"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(Sr,{className:"w-5 h-5 mb-2"}),o.jsx("div",{className:"text-sm font-medium",children:"Newsletter"}),o.jsxs("div",{className:"text-xs text-gray-500",children:[y.length," subscribers"]})]}),o.jsxs("button",{onClick:()=>r("members"),className:`flex flex-col items-center justify-center p-3 rounded-lg border-2 transition-all ${n==="members"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(ZN,{className:"w-5 h-5 mb-2"}),o.jsx("div",{className:"text-sm font-medium",children:"Members"}),o.jsxs("div",{className:"text-xs text-gray-500",children:[w.length," members"]})]}),o.jsxs("button",{onClick:()=>r("event"),className:`flex flex-col items-center justify-center p-3 rounded-lg border-2 transition-all ${n==="event"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(qi,{className:"w-5 h-5 mb-2"}),o.jsx("div",{className:"text-sm font-medium",children:"Event"}),o.jsxs("div",{className:"text-xs text-gray-500",children:[A.length," participants"]})]}),o.jsxs("button",{onClick:()=>r("custom"),className:`flex flex-col items-center justify-center p-3 rounded-lg border-2 transition-all ${n==="custom"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(or,{className:"w-5 h-5 mb-2"}),o.jsx("div",{className:"text-sm font-medium",children:"Custom"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Enter emails"})]})]}),n==="event"&&o.jsxs("select",{value:s,onChange:B=>i(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"",children:"Select an event"}),N.map(B=>o.jsxs("option",{value:B.id,children:[B.title," - ",new Date(B.date).toLocaleDateString()]},B.id))]}),n==="custom"&&o.jsx("textarea",{value:a,onChange:B=>l(B.target.value),placeholder:`Enter email addresses (comma or newline separated)
example@email.com, another@email.com`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:4})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subject ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:d,onChange:B=>h(B.target.value),placeholder:"Email subject",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:f,onChange:B=>p(B.target.value),placeholder:"Your message here...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:12}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[f.length," characters"]})]}),o.jsx("button",{onClick:Z,disabled:x||H().length===0,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:x?o.jsxs(o.Fragment,{children:[o.jsx(Ml,{className:"w-5 h-5 animate-spin"}),"Sending to ",H().length," recipients..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Al,{className:"w-5 h-5"}),"Send to ",H().length," recipients"]})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Templates"}),o.jsx("div",{className:"space-y-2",children:Object.entries(nS).map(([B,I])=>o.jsxs("button",{onClick:()=>$(B),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("div",{className:"font-medium text-gray-900 text-sm",children:I.name}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:I.subject})]},B))})]}),o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Tips"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[o.jsx("li",{children:" Use templates for consistency"}),o.jsx("li",{children:" Test with custom email first"}),o.jsx("li",{children:" Keep messages concise"}),o.jsx("li",{children:" Check spam folder if not received"})]})]})]})]}),t==="history"&&o.jsx(FB,{})]})}function rA(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:m,error:v}=await le.from("event_galleries").select("*").order("event_date",{ascending:!1});!v&&m&&e(m),r(!1)},h=async()=>{s?await le.from("event_galleries").update(a).eq("id",s):await le.from("event_galleries").insert([a]),i(null),u(!1),l({}),d()},f=async m=>{confirm("Are you sure you want to delete this gallery event?")&&(await le.from("event_galleries").delete().eq("id",m),d())},p=m=>{i(m.id),l(m),u(!1)},x=()=>{u(!0),i(null),l({is_featured:!1})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gallery Events"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"w-4 h-4"})," Add Gallery Event"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Gallery Event":"Add New Gallery Event"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Event Name",value:a.event_name||"",onChange:m=>l({...a,event_name:m.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Description",value:a.description||"",onChange:m=>l({...a,description:m.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 h-20 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"date",value:a.event_date||"",onChange:m=>l({...a,event_date:m.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Image 1 URL",value:a.image_1||"",onChange:m=>l({...a,image_1:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 2 URL",value:a.image_2||"",onChange:m=>l({...a,image_2:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 3 URL",value:a.image_3||"",onChange:m=>l({...a,image_3:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 4 URL",value:a.image_4||"",onChange:m=>l({...a,image_4:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:a.is_featured||!1,onChange:m=>l({...a,is_featured:m.target.checked}),className:"w-4 h-4 rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Featured Event"]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(di,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(Un,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(m=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-gray-900 font-semibold text-lg",children:m.event_name}),m.is_featured&&o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded border border-yellow-200",children:"Featured"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:m.description}),o.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",new Date(m.event_date).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(m),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(m.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[m.image_1&&o.jsx("img",{src:m.image_1,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"}),m.image_2&&o.jsx("img",{src:m.image_2,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"}),m.image_3&&o.jsx("img",{src:m.image_3,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"}),m.image_4&&o.jsx("img",{src:m.image_4,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"})]})]},m.id))})]})}function sA(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:m,error:v}=await le.from("alumni_members").select("*").order("display_order",{ascending:!0});!v&&m&&e(m),r(!1)},h=async()=>{s?await le.from("alumni_members").update(a).eq("id",s):await le.from("alumni_members").insert([a]),i(null),u(!1),l({}),d()},f=async m=>{confirm("Are you sure you want to delete this alumni member?")&&(await le.from("alumni_members").delete().eq("id",m),d())},p=m=>{i(m.id),l(m),u(!1)},x=()=>{u(!0),i(null),l({display_order:0})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alumni Members"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"w-4 h-4"})," Add Alumni"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Alumni Member":"Add New Alumni Member"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Name",value:a.name||"",onChange:m=>l({...a,name:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Position/Role",value:a.position||"",onChange:m=>l({...a,position:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Department",value:a.department||"",onChange:m=>l({...a,department:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image URL",value:a.image_url||"",onChange:m=>l({...a,image_url:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"number",placeholder:"Display Order",value:a.display_order||0,onChange:m=>l({...a,display_order:parseInt(m.target.value)}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Bio",value:a.bio||"",onChange:m=>l({...a,bio:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 md:col-span-2 h-24 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(di,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(Un,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(m=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[m.image_url&&o.jsx("img",{src:m.image_url,alt:m.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:m.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:m.position}),o.jsx("p",{className:"text-gray-500 text-xs",children:m.department})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(m),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(m.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]},m.id))})]})}function iA(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:m,error:v}=await le.from("faculty_members").select("*").order("display_order",{ascending:!0});!v&&m&&e(m),r(!1)},h=async()=>{s?await le.from("faculty_members").update(a).eq("id",s):await le.from("faculty_members").insert([a]),i(null),u(!1),l({}),d()},f=async m=>{confirm("Are you sure you want to delete this faculty member?")&&(await le.from("faculty_members").delete().eq("id",m),d())},p=m=>{i(m.id),l(m),u(!1)},x=()=>{u(!0),i(null),l({display_order:0})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Members"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"w-4 h-4"})," Add Faculty"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Faculty Member":"Add New Faculty Member"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Name",value:a.name||"",onChange:m=>l({...a,name:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Position/Designation",value:a.position||"",onChange:m=>l({...a,position:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"email",placeholder:"Email",value:a.email||"",onChange:m=>l({...a,email:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Department",value:a.department||"",onChange:m=>l({...a,department:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image URL",value:a.image_url||"",onChange:m=>l({...a,image_url:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"LinkedIn URL",value:a.linkedin_url||"",onChange:m=>l({...a,linkedin_url:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"number",placeholder:"Display Order",value:a.display_order||0,onChange:m=>l({...a,display_order:parseInt(m.target.value)}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Bio",value:a.bio||"",onChange:m=>l({...a,bio:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 md:col-span-2 h-24 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(di,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(Un,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(m=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[m.image_url&&o.jsx("img",{src:m.image_url,alt:m.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:m.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:m.position}),o.jsxs("p",{className:"text-gray-500 text-xs",children:[m.email,"  ",m.department]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(m),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(oo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(m.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]},m.id))})]})}function aA(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(!1),[a,l]=_.useState(!1),[c,u]=_.useState([]),[d,h]=_.useState({id:"",title:"",content:"",has_input:!1,input_placeholder:"Enter your email",input_button_label:"Subscribe",is_active:!0,photos:[],link:""});_.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:w,error:S}=await le.from("announcements").select("*").order("created_at",{ascending:!1});if(S)throw S;e(w||[])}catch(w){console.error("Error fetching announcements:",w)}finally{r(!1)}},p=w=>{const N=Array.from(w.target.files||[]).filter(M=>M.type.startsWith("image/"));u(M=>[...M,...N])},x=w=>{u(S=>S.filter((N,M)=>M!==w))},m=async()=>{if(c.length===0)return[];l(!0);const w=[];try{for(const S of c){const N=S.name.split(".").pop(),M=`${Date.now()}-${Math.random().toString(36).substring(2)}.${N}`,{error:A}=await le.storage.from("random").upload(M,S);if(A){console.error("Upload error:",A);continue}const{data:{publicUrl:T}}=le.storage.from("random").getPublicUrl(M);w.push(T)}}catch(S){console.error("Error uploading photos:",S)}finally{l(!1)}return w},v=async()=>{try{const w=await m(),N=[...d.photos||[],...w],M={title:d.title,content:d.content,has_input:d.has_input,input_placeholder:d.input_placeholder,input_button_label:d.input_button_label,is_active:d.is_active,photos:N,link:d.link};if(M.is_active){const T=le.from("announcements").update({is_active:!1}).eq("is_active",!0);d.id&&T.neq("id",d.id);const{error:C}=await T;C&&console.error("Error deactivating others:",C)}let A;if(d.id){const{error:T}=await le.from("announcements").update(M).eq("id",d.id);A=T}else{const{error:T}=await le.from("announcements").insert([M]);A=T}if(A)throw A;i(!1),u([]),h({id:"",title:"",content:"",has_input:!1,input_placeholder:"Enter your email",input_button_label:"Subscribe",is_active:!0,photos:[],link:""}),f()}catch(w){console.error("Error creating/updating announcement:",w),alert("Failed to save announcement")}},g=w=>{h({id:w.id,title:w.title,content:w.content||"",has_input:w.has_input,input_placeholder:w.input_placeholder||"Enter your email",input_button_label:w.input_button_label||"Subscribe",is_active:w.is_active,photos:w.photos||[],link:w.link||""}),i(!0),window.scrollTo({top:0,behavior:"smooth"})},y=async(w,S)=>{try{S||await le.from("announcements").update({is_active:!1}).neq("id",w);const{error:N}=await le.from("announcements").update({is_active:!S}).eq("id",w);if(N)throw N;f()}catch(N){console.error("Error updating announcement:",N)}},b=async w=>{if(confirm("Are you sure you want to delete this announcement?"))try{const{error:S}=await le.from("announcements").delete().eq("id",w);if(S)throw S;f()}catch(S){console.error("Error deleting announcement:",S)}};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(eT,{className:"w-6 h-6 text-gray-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Announcements"})]}),o.jsxs(En,{onClick:()=>i(!0),className:"bg-gray-900 hover:bg-gray-800 text-white",children:[o.jsx(oa,{className:"w-4 h-4 mr-2"}),"New Announcement"]})]}),s&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Announcement"}),o.jsx("button",{onClick:()=>{i(!1),u([]),h({id:"",title:"",content:"",has_input:!1,input_placeholder:"Enter your email",input_button_label:"Subscribe",is_active:!0,photos:[],link:""})},className:"text-gray-400 hover:text-gray-600",children:o.jsx(Un,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),o.jsx("input",{type:"text",value:d.title,onChange:w=>h({...d,title:w.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-gray-500 focus:border-gray-500 outline-none",placeholder:"e.g., Join our Newsletter!"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),o.jsx("textarea",{value:d.content,onChange:w=>h({...d,content:w.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-gray-500 focus:border-gray-500 outline-none",rows:3,placeholder:"Announcement details..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link (Optional)"}),o.jsx("input",{type:"text",value:d.link,onChange:w=>h({...d,link:w.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-gray-500 focus:border-gray-500 outline-none",placeholder:"https://example.com"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-gray-700 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:d.has_input,onChange:w=>h({...d,has_input:w.target.checked}),className:"rounded bg-white border-gray-300 text-gray-900 focus:ring-gray-500"}),"Include Input Field"]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-700 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:d.is_active,onChange:w=>h({...d,is_active:w.target.checked}),className:"rounded bg-white border-gray-300 text-gray-900 focus:ring-gray-500"}),"Active Immediately"]})]}),d.has_input&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Placeholder"}),o.jsx("input",{type:"text",value:d.input_placeholder,onChange:w=>h({...d,input_placeholder:w.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Label"}),o.jsx("input",{type:"text",value:d.input_button_label,onChange:w=>h({...d,input_button_label:w.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos (Optional)"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg cursor-pointer transition-colors",children:[o.jsx(bu,{className:"w-4 h-4 text-gray-600"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Choose Photos"}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:p,className:"hidden"})]}),c.length>0&&o.jsxs("span",{className:"text-sm text-gray-600",children:[c.length," photo",c.length!==1?"s":""," selected"]})]}),c.length>0&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:c.map((w,S)=>o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:o.jsx("img",{src:URL.createObjectURL(w),alt:`Preview ${S+1}`,className:"w-full h-full object-cover"})}),o.jsx("button",{onClick:()=>x(S),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors",children:o.jsx(Un,{className:"w-3 h-3"})}),o.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:w.name})]},S))})]})]}),o.jsx(En,{onClick:v,disabled:a,className:"w-full bg-gray-900 hover:bg-gray-800 mt-4 text-white disabled:opacity-50",children:a?o.jsxs(o.Fragment,{children:[o.jsx(bu,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading Photos..."]}):o.jsxs(o.Fragment,{children:[o.jsx(di,{className:"w-4 h-4 mr-2"}),d.id?"Update Announcement":"Create Announcement"]})})]})]}),o.jsxs("div",{className:"grid gap-4",children:[t.map(w=>o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:w.title}),o.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:w.content}),w.photos&&w.photos.length>0&&o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:w.photos.map((S,N)=>o.jsx("div",{className:"aspect-square",children:o.jsx("img",{src:S,alt:`${w.title} photo ${N+1}`,className:"w-full h-full object-cover rounded-lg border border-gray-200 hover:border-gray-300 transition-colors"})},N))})}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[o.jsxs("span",{children:["Created: ",new Date(w.created_at).toLocaleDateString()]}),w.has_input&&o.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-700 rounded-md text-xs font-medium",children:"Interactive"}),w.photos&&w.photos.length>0&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded-md text-xs font-medium",children:[o.jsx(JN,{className:"w-3 h-3"}),w.photos.length," photo",w.photos.length!==1?"s":""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx("button",{onClick:()=>y(w.id,w.is_active),className:`p-2 rounded-lg transition-colors ${w.is_active?"text-gray-900 hover:bg-gray-100":"text-gray-400 hover:bg-gray-100"}`,title:w.is_active?"Deactivate":"Activate",children:w.is_active?o.jsx(HO,{className:"w-6 h-6"}):o.jsx($O,{className:"w-6 h-6"})}),o.jsx("button",{onClick:()=>g(w),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit",children:o.jsx(oo,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>b(w.id),className:"p-2 text-gray-600 hover:bg-gray-100 hover:text-red-600 rounded-lg transition-colors",title:"Delete",children:o.jsx(Vr,{className:"w-5 h-5"})})]})]}),w.is_active&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-gray-900 text-white text-sm rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),"Currently Active"]})})]},w.id)),t.length===0&&!s&&o.jsx("div",{className:"text-center text-gray-500 py-8",children:"No announcements found. Create one to get started."})]})]})}function oA(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState("");_.useEffect(()=>{c()},[]);const c=async()=>{var f;try{console.log("Fetching membership applications...");const x=!1?"http://localhost:3001/api/membership-applications":"/api/membership-applications.php";try{const g=await fetch(x);if(g.ok){const y=await g.json();if(y.success){console.log("Applications loaded via API:",((f=y.data)==null?void 0:f.length)||0),e(y.data||[]),i(null);return}}}catch{console.log("API endpoint not available, trying direct Supabase...")}const{data:m,error:v}=await le.from("membership_applications").select("*").order("created_at",{ascending:!1});if(console.log("Supabase response:",{data:m,error:v}),v)throw console.error("Supabase error:",v),i(`Database error: ${v.message}`),v;console.log("Applications loaded via Supabase:",(m==null?void 0:m.length)||0),e(m||[]),i(null)}catch(p){console.error("Error fetching applications:",p),i(p instanceof Error?p.message:"Unknown error occurred"),Mn.error("Failed to load applications")}finally{r(!1)}},u=async(f,p)=>{try{const m="/api/membership-applications.php";try{const g=await fetch(m,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f,status:p})});if(g.ok&&(await g.json()).success){e(b=>b.map(w=>w.id===f?{...w,status:p}:w)),Mn.success(`Application ${p} successfully`);return}}catch{console.log("API endpoint not available, trying direct Supabase...")}const{error:v}=await le.from("membership_applications").update({status:p,updated_at:new Date().toISOString()}).eq("id",f);if(v)throw console.error("Update error:",v),v;if(e(g=>g.map(y=>y.id===f?{...y,status:p}:y)),p==="approved"){const g=t.find(y=>y.id===f);g&&fetch("/api/send-membership-approval.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:g.full_name,email:g.email})}).catch(y=>console.error("Approval email send error:",y))}Mn.success(`Application ${p} successfully`)}catch(x){console.error("Error updating status:",x),Mn.error("Failed to update status")}},d=async f=>{if(confirm("Are you sure you want to delete this application? This action cannot be undone."))try{const{error:p}=await le.from("membership_applications").delete().eq("id",f);if(p)throw console.error("Delete error:",p),p;e(x=>x.filter(m=>m.id!==f)),Mn.success("Application deleted successfully")}catch(p){console.error("Error deleting application:",p),Mn.error("Failed to delete application")}},h=t.filter(f=>f.full_name.toLowerCase().includes(a.toLowerCase())||f.email.toLowerCase().includes(a.toLowerCase())||f.prn.toLowerCase().includes(a.toLowerCase()));return n?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ml,{className:"w-8 h-8 animate-spin text-gray-600 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600",children:"Loading membership applications..."})]})}):s?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Wl,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),o.jsx("p",{className:"text-red-600 font-medium",children:"Error loading applications"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s}),o.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Try Again"})]})}):o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Membership Applications"}),o.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Manage student chapter membership requests"})]}),o.jsxs("div",{className:"bg-gray-100 text-gray-800 px-3 sm:px-4 py-2 rounded-full font-medium text-sm",children:["Total: ",t.length]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Mg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("input",{type:"text",placeholder:"Search by name, email, or PRN...",value:a,onChange:f=>l(f.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm sm:text-base"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.length===0?o.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[o.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Mg,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400"})}),o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No Applications Yet"}),o.jsx("p",{className:"text-gray-500 mb-4 text-sm sm:text-base",children:"No membership applications have been submitted yet. Applications will appear here when students submit them through the website."}),o.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm sm:text-base",children:"Refresh"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"block sm:hidden",children:o.jsxs("div",{className:"divide-y divide-gray-100",children:[h.map(f=>o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-gray-900 truncate",children:f.full_name}),o.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.email}),o.jsx("p",{className:"text-sm text-gray-500",children:f.contact_number})]}),o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ml-2 flex-shrink-0
                                                ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"PRN:"}),o.jsx("span",{className:"ml-1 text-gray-900",children:f.prn})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Division:"}),o.jsx("span",{className:"ml-1 text-gray-900",children:f.division})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Roll:"}),o.jsx("span",{className:"ml-1 text-gray-900",children:f.roll_number})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Date:"}),o.jsx("span",{className:"ml-1 text-gray-900",children:new Date(f.created_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2",children:[o.jsxs("a",{href:f.payment_screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-gray-700 hover:text-gray-900 text-sm font-medium bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-md transition-colors",children:["View Payment",o.jsx(Ng,{className:"w-3 h-3"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>u(f.id,"approved"),disabled:f.status==="approved",className:"p-1.5 text-green-600 hover:bg-green-50 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Approve",children:o.jsx(Wi,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>u(f.id,"rejected"),disabled:f.status==="rejected",className:"p-1.5 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Reject",children:o.jsx(Gc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>d(f.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:o.jsx(Vr,{className:"w-4 h-4"})})]})]})]},f.id)),h.length===0&&t.length>0&&o.jsx("div",{className:"p-8 text-center text-gray-500",children:"No applications match your search"})]})}),o.jsx("div",{className:"hidden sm:block overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 lg:px-6 py-3 lg:py-4 text-xs font-semibold text-gray-500 uppercase",children:"Date"}),o.jsx("th",{className:"px-4 lg:px-6 py-3 lg:py-4 text-xs font-semibold text-gray-500 uppercase",children:"Student Details"}),o.jsx("th",{className:"px-4 lg:px-6 py-3 lg:py-4 text-xs font-semibold text-gray-500 uppercase",children:"Academic"}),o.jsx("th",{className:"px-4 lg:px-6 py-3 lg:py-4 text-xs font-semibold text-gray-500 uppercase",children:"Payment"}),o.jsx("th",{className:"px-4 lg:px-6 py-3 lg:py-4 text-xs font-semibold text-gray-500 uppercase",children:"Status"}),o.jsx("th",{className:"px-4 lg:px-6 py-3 lg:py-4 text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[h.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-4 lg:px-6 py-3 lg:py-4 text-sm text-gray-600",children:new Date(f.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-4 lg:px-6 py-3 lg:py-4",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-gray-900",children:f.full_name}),o.jsx("span",{className:"text-sm text-gray-500",children:f.email}),o.jsx("span",{className:"text-sm text-gray-500",children:f.contact_number})]})}),o.jsx("td",{className:"px-4 lg:px-6 py-3 lg:py-4",children:o.jsxs("div",{className:"flex flex-col text-sm text-gray-600",children:[o.jsxs("span",{children:["PRN: ",f.prn]}),o.jsxs("span",{children:["Div: ",f.division," | Roll: ",f.roll_number]})]})}),o.jsx("td",{className:"px-4 lg:px-6 py-3 lg:py-4",children:o.jsxs("a",{href:f.payment_screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-gray-700 hover:text-gray-900 text-sm font-medium bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-md transition-colors",children:["View Screenshot",o.jsx(Ng,{className:"w-3 h-3"})]})}),o.jsx("td",{className:"px-4 lg:px-6 py-3 lg:py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                                                    ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})}),o.jsx("td",{className:"px-4 lg:px-6 py-3 lg:py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>u(f.id,"approved"),disabled:f.status==="approved",className:"p-1 text-green-600 hover:bg-green-50 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Approve",children:o.jsx(Wi,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>u(f.id,"rejected"),disabled:f.status==="rejected",className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Reject",children:o.jsx(Gc,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>d(f.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:o.jsx(Vr,{className:"w-5 h-5"})})]})})]},f.id)),h.length===0&&t.length>0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No applications match your search"})})]})]})})]})})]})}function lA(){const[t,e]=_.useState(!0),[n,r]=_.useState(!1),[s,i]=_.useState(null),[a,l]=_.useState(null),[c,u]=_.useState(null);_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:p,error:x}=await le.from("payment_settings").select("*").single();if(x&&x.code!=="PGRST116")throw x;p?(i(p),p.qr_code_url&&u(p.qr_code_url)):i({id:"",bank_name:"",account_holder_name:"",account_number:"",ifsc_code:"",account_type:"",upi_id:"",fee_amount:400,qr_code_url:""})}catch(p){console.error("Error loading settings:",p),Mn.error("Failed to load payment settings")}finally{e(!1)}},h=p=>{if(p.target.files&&p.target.files[0]){const x=p.target.files[0];l(x);const m=URL.createObjectURL(x);u(m)}},f=async()=>{if(s){r(!0);try{let p=s.qr_code_url;if(a){const v=`upi-qr-${Date.now()}`,{error:g}=await le.storage.from("site_assets").upload(v,a,{cacheControl:"3600",upsert:!1});if(g)throw g;const{data:{publicUrl:y}}=le.storage.from("site_assets").getPublicUrl(v);p=y}const x={bank_name:s.bank_name,account_holder_name:s.account_holder_name,account_number:s.account_number,ifsc_code:s.ifsc_code,account_type:s.account_type,upi_id:s.upi_id,fee_amount:s.fee_amount,qr_code_url:p,updated_at:new Date().toISOString()};let m;if(s.id){const{error:v}=await le.from("payment_settings").update(x).eq("id",s.id);m=v}else{const{error:v}=await le.from("payment_settings").insert([x]);m=v}if(m)throw m;Mn.success("Payment settings updated successfully"),d()}catch(p){console.error("Error saving settings:",p),Mn.error(p.message||"Failed to save settings")}finally{r(!1)}}};return t?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx(Ml,{className:"w-8 h-8 animate-spin text-blue-600"})}):o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Settings"}),o.jsx("p",{className:"text-gray-500",children:"Configure bank details and UPI for memberships."})]}),o.jsxs("button",{onClick:f,disabled:n,className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm font-medium disabled:opacity-50",children:[n?o.jsx(Ml,{className:"w-5 h-5 animate-spin"}):o.jsx(di,{className:"w-5 h-5"}),"Save Changes"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:""})," Bank Details"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank Name"}),o.jsx("input",{type:"text",value:(s==null?void 0:s.bank_name)||"",onChange:p=>i(x=>x?{...x,bank_name:p.target.value}:null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. Canara Bank"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Holder Name"}),o.jsx("input",{type:"text",value:(s==null?void 0:s.account_holder_name)||"",onChange:p=>i(x=>x?{...x,account_holder_name:p.target.value}:null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. SAKEC ACM"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Number"}),o.jsx("input",{type:"text",value:(s==null?void 0:s.account_number)||"",onChange:p=>i(x=>x?{...x,account_number:p.target.value}:null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IFSC Code"}),o.jsx("input",{type:"text",value:(s==null?void 0:s.ifsc_code)||"",onChange:p=>i(x=>x?{...x,ifsc_code:p.target.value}:null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Type"}),o.jsxs("select",{value:(s==null?void 0:s.account_type)||"",onChange:p=>i(x=>x?{...x,account_type:p.target.value}:null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",children:[o.jsx("option",{value:"Savings",children:"Savings"}),o.jsx("option",{value:"Current",children:"Current"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(UO,{className:"w-5 h-5"})," UPI & QR Code"]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"UPI ID (VPA)"}),o.jsx("input",{type:"text",value:(s==null?void 0:s.upi_id)||"",onChange:p=>i(x=>x?{...x,upi_id:p.target.value}:null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. sakec.acm@okaxis"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Membership Fee ()"}),o.jsx("input",{type:"number",value:(s==null?void 0:s.fee_amount)||0,onChange:p=>i(x=>x?{...x,fee_amount:parseFloat(p.target.value)}:null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"QR Code Image"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition-colors",children:c?o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:c,alt:"QR Preview",className:"w-48 h-48 object-contain rounded-lg shadow-sm bg-white p-2"}),o.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg cursor-pointer text-white font-medium",children:["Change QR",o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:h})]})]}):o.jsxs("label",{className:"flex flex-col items-center cursor-pointer text-gray-500 hover:text-blue-600 transition-colors",children:[o.jsx(bu,{className:"w-10 h-10 mb-2"}),o.jsx("span",{className:"font-medium",children:"Upload QR Code"}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG up to 2MB"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:h})]})})]})]})]})]})]})}function zB({stats:t}){return o.jsxs(wn,{mainNavHeight:"3.5rem",rootClassName:"bg-gray-50 text-gray-900",navSpacerClassName:"border-b border-gray-200 bg-white",sectionClassName:"bg-white",stickyHeaderContainerClassName:"shadow-sm",headerContentWrapperClassName:"border-b border-gray-200 bg-white",headerContentLayoutClassName:"px-4 py-3",titleClassName:"text-lg font-semibold text-gray-900",contentLayoutClassName:"px-4 py-6",children:[o.jsx(wn.Item,{title:"Dashboard",id:"dashboard",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-gray-600 text-xs font-medium",children:"Members"}),o.jsx(Sr,{className:"w-4 h-4 text-blue-600"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.members})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-gray-600 text-xs font-medium",children:"Events"}),o.jsx(ii,{className:"w-4 h-4 text-purple-600"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.events})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-gray-600 text-xs font-medium",children:"Blogs"}),o.jsx(qi,{className:"w-4 h-4 text-green-600"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.blogs})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-gray-600 text-xs font-medium",children:"Subscribers"}),o.jsx(Al,{className:"w-4 h-4 text-orange-600"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.subscribers})]})]})}),o.jsx(wn.Item,{title:"Memberships",id:"memberships",children:o.jsx(oA,{})}),o.jsx(wn.Item,{title:"Payment Settings",id:"payment",children:o.jsx(lA,{})}),o.jsx(wn.Item,{title:"Email System",id:"email",children:o.jsx(nA,{})}),o.jsx(wn.Item,{title:"Team",id:"team",children:o.jsx(ZM,{})}),o.jsx(wn.Item,{title:"Events",id:"events",children:o.jsx(JM,{})}),o.jsx(wn.Item,{title:"Blogs",id:"blogs",children:o.jsx(QM,{})}),o.jsx(wn.Item,{title:"Messages",id:"messages",children:o.jsx(eA,{})}),o.jsx(wn.Item,{title:"Gallery",id:"gallery",children:o.jsx(rA,{})}),o.jsx(wn.Item,{title:"Alumni",id:"alumni",children:o.jsx(sA,{})}),o.jsx(wn.Item,{title:"Faculty",id:"faculty",children:o.jsx(iA,{})}),o.jsx(wn.Item,{title:"Announcements",id:"announcements",children:o.jsx(aA,{})})]})}const sS=[{id:"dashboard",label:"Dashboard",icon:DO},{id:"memberships",label:"Memberships",icon:o1},{id:"payment-settings",label:"Payment Settings",icon:XN},{id:"email",label:"Email System",icon:Al},{id:"team",label:"Team Members",icon:Sr},{id:"events",label:"Events",icon:ii},{id:"blogs",label:"Blogs",icon:qi},{id:"messages",label:"Contact Messages",icon:or},{id:"gallery",label:"Gallery",icon:JN},{id:"alumni",label:"Alumni",icon:Sr},{id:"faculty",label:"Faculty",icon:o1},{id:"announcements",label:"Announcements",icon:eT}];function BB(){var p;const[t,e]=_.useState(null),[n,r]=_.useState(!0),[s,i]=_.useState({members:0,events:0,blogs:0,messages:0,gallery:0,alumni:0,faculty:0,subscribers:0}),[a,l]=_.useState("dashboard"),[c,u]=_.useState(!1),d=ia();_.useEffect(()=>{const x=localStorage.getItem("admin_session");if(!x){d("/admin");return}const m=JSON.parse(x);e(m),h(),r(!1)},[d]);const h=async()=>{try{const[x,m,v,g,y,b,w,S]=await Promise.all([le.from("team_members").select("id",{count:"exact",head:!0}),le.from("events").select("id",{count:"exact",head:!0}),le.from("blogs").select("id",{count:"exact",head:!0}),le.from("contact_messages").select("id",{count:"exact",head:!0}),le.from("event_galleries").select("id",{count:"exact",head:!0}),le.from("alumni_members").select("id",{count:"exact",head:!0}),le.from("faculty_members").select("id",{count:"exact",head:!0}),le.from("newsletter_subscribers").select("id",{count:"exact",head:!0})]);i({members:x.count||0,events:m.count||0,blogs:v.count||0,messages:g.count||0,gallery:y.count||0,alumni:b.count||0,faculty:w.count||0,subscribers:S.count||0})}catch(x){console.error("Error loading stats:",x)}},f=()=>{localStorage.removeItem("admin_session"),d("/admin")};return n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-900",children:"Loading..."})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out
        ${c?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0
      `,children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-8 w-auto"}),o.jsx("span",{className:"font-bold text-lg sm:text-xl text-gray-900",children:"Admin Panel"})]})}),o.jsx("nav",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-1",children:sS.map(x=>o.jsxs("button",{onClick:()=>{l(x.id),u(!1)},className:`w-full flex items-center gap-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg transition-all text-sm sm:text-base ${a===x.id?"bg-black text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(x.icon,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),o.jsx("span",{className:"font-medium truncate",children:x.label})]},x.id))}),o.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-100",children:o.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-3 sm:px-4 py-2.5 sm:py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm sm:text-base",children:[o.jsx(IO,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),o.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})}),o.jsxs("main",{className:"flex-1 overflow-y-auto h-screen",children:[o.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 p-3 sm:p-4 flex items-center justify-between sticky top-0 z-40",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-7 sm:h-8 w-auto"}),o.jsx("span",{className:"font-bold text-base sm:text-lg text-gray-900",children:"Admin Panel"})]}),o.jsx("button",{onClick:()=>u(!c),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:c?o.jsx(Un,{className:"w-5 h-5 sm:w-6 sm:h-6"}):o.jsx(LO,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),o.jsx("div",{className:"md:hidden",children:o.jsx(zB,{stats:s})}),o.jsx("div",{className:"hidden md:block p-4 sm:p-6 lg:p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:((p=sS.find(x=>x.id===a))==null?void 0:p.label)||"Dashboard"}),o.jsxs("p",{className:"text-gray-500 text-sm sm:text-base",children:["Welcome back, ",t==null?void 0:t.username]})]}),a==="dashboard"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"Total Members"}),o.jsx(Sr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})]}),o.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:s.members})]}),o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"Active Events"}),o.jsx(ii,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"})]}),o.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:s.events})]}),o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"Published Blogs"}),o.jsx(qi,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"})]}),o.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:s.blogs})]}),o.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"Newsletter Subscribers"}),o.jsx(Al,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-600"})]}),o.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:s.subscribers})]})]}),a==="memberships"&&o.jsx(oA,{}),a==="payment-settings"&&o.jsx(lA,{}),a==="email"&&o.jsx(nA,{}),a==="team"&&o.jsx(ZM,{}),a==="events"&&o.jsx(JM,{}),a==="blogs"&&o.jsx(QM,{}),a==="messages"&&o.jsx(eA,{}),a==="gallery"&&o.jsx(rA,{}),a==="alumni"&&o.jsx(sA,{}),a==="faculty"&&o.jsx(iA,{}),a==="announcements"&&o.jsx(aA,{})]})})]})]})}function VB(){const{formId:t}=Yf(),e=ia(),[n,r]=_.useState(null),[s,i]=_.useState(null),[a,l]=_.useState([]),[c,u]=_.useState(!0),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[x,m]=_.useState(""),[v,g]=_.useState({name:"",email:"",phone:""}),[y,b]=_.useState({}),[w,S]=_.useState({});_.useEffect(()=>{N()},[t]);const N=async()=>{try{const{data:j,error:D}=await le.from("event_registration_forms").select("*").eq("id",t).single();if(D||!j){m("Registration form not found"),u(!1);return}if(!j.is_active){m("This registration form is no longer accepting responses"),u(!1);return}if(j.registration_deadline&&new Date(j.registration_deadline)<new Date){m("Registration deadline has passed"),u(!1);return}if(r(j),j.max_registrations){const{count:$}=await le.from("event_registrations").select("*",{count:"exact",head:!0}).eq("form_id",t);if($&&$>=j.max_registrations){m("Registration is full. Maximum capacity reached."),u(!1);return}}const{data:z}=await le.from("events").select("*").eq("id",j.event_id).single();z&&i(z);const{data:H}=await le.from("event_form_fields").select("*").eq("form_id",t).order("display_order");H&&l(H),u(!1)}catch(j){console.error("Load error:",j),m("Failed to load registration form"),u(!1)}},M=(j,D)=>{var H;const z=(H=D.target.files)==null?void 0:H[0];if(z){if(z.size>5*1024*1024){m("File size must be less than 5MB");return}b(Z=>({...Z,[j]:z}));const $=new FileReader;$.onloadend=()=>{S(Z=>({...Z,[j]:$.result}))},$.readAsDataURL(z)}},A=j=>{b(D=>{const z={...D};return delete z[j],z}),S(D=>{const z={...D};return delete z[j],z})},T=async j=>{var z;if(j.preventDefault(),h(!0),m(""),!v.name||!v.email){m("Please fill in all required fields"),h(!1);return}const D=a.filter(H=>H.is_required?H.field_type==="photo"?!y[H.field_name]:!v[H.field_name]:!1);if(D.length>0){const H=D.map($=>$.field_label).join(", ");m(`Please fill in all required fields: ${H}`),h(!1);return}if(n!=null&&n.allowed_email_domains&&n.allowed_email_domains.length>0){const H=v.email.toLowerCase();if(!n.allowed_email_domains.some(Z=>H.endsWith(Z.toLowerCase()))){m(`Email must be from one of these domains: ${n.allowed_email_domains.join(", ")}`),h(!1);return}}try{const H=v.email.trim(),$=(z=v.phone)==null?void 0:z.trim();let Z=le.from("event_registrations").select("id").eq("form_id",t);$?Z=Z.or(`participant_email.eq.${H},participant_phone.eq.${$}`):Z=Z.eq("participant_email",H);const{data:B,error:I}=await Z;if(I){console.error("Duplicate check error:",I),m("Failed to validate registration. Please try again."),h(!1);return}if(B&&B.length>0){m("You have already registered for this event with this email or phone number."),h(!1);return}const V=["event-registrations","event-registrations1","event-registrations2","event-registrations3"],K={};for(const[Ee,qe]of Object.entries(y)){const it=qe.name.split(".").pop(),ne=`${Date.now()}-${Math.random().toString(36).substring(7)}.${it}`,re=`event-photos/${ne}`;console.log("Uploading photo:",{fieldName:Ee,fileName:ne,filePath:re,fileSize:qe.size});let _e=!1,Fe=null;for(const Me of V)try{const{data:Ze,error:Pt}=await le.storage.from(Me).upload(re,qe,{cacheControl:"3600",upsert:!1});if(Pt){console.warn(`Upload to ${Me} failed:`,Pt),Fe=Pt;continue}if(Ze){const{data:Je}=le.storage.from(Me).getPublicUrl(re);console.log(`Photo uploaded successfully to ${Me}:`,Je.publicUrl),K[Ee]=Je.publicUrl,_e=!0;break}}catch(Ze){console.warn(`Unexpected error uploading to ${Me}:`,Ze),Fe=Ze}if(!_e){console.error("All bucket uploads failed. Last error:",Fe),m(`Failed to upload photo for ${Ee}. Storage limit may be reached.`),h(!1);return}}const se={...v,...K},{error:de}=await le.from("event_registrations").insert([{form_id:t,event_id:n==null?void 0:n.event_id,participant_name:v.name,participant_email:v.email,participant_phone:v.phone||null,form_data:se,confirmation_sent:!1,status:"confirmed"}]);if(de)throw de;if(s)try{const Ee=await OB(v.email,v.name,s.title,new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s.time,s.location);Ee.success?console.log("Confirmation email sent successfully"):console.warn("Failed to send confirmation email:",Ee.message)}catch(Ee){console.warn("Email sending error:",Ee)}p(!0),setTimeout(()=>{e("/events")},5e3)}catch(H){console.error("Registration error:",H),m("Failed to submit registration. Please try again.")}finally{h(!1)}},C=j=>{var z,H;const D="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all";switch(j.field_type){case"photo":return o.jsx("div",{children:w[j.field_name]?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:w[j.field_name],alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300"}),o.jsx("button",{type:"button",onClick:()=>A(j.field_name),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors",children:o.jsx(Un,{className:"w-4 h-4"})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[o.jsx(bu,{className:"w-8 h-8 mb-2 text-gray-500"}),o.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[o.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or JPEG (MAX. 5MB)"})]}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:$=>M(j.field_name,$),required:j.is_required})]})});case"textarea":return o.jsx("textarea",{value:v[j.field_name]||"",onChange:$=>g({...v,[j.field_name]:$.target.value}),className:D,rows:4,required:j.is_required,placeholder:`Enter ${j.field_label.toLowerCase()}`});case"select":return o.jsxs("select",{value:v[j.field_name]||"",onChange:$=>g({...v,[j.field_name]:$.target.value}),className:D,required:j.is_required,children:[o.jsx("option",{value:"",children:"Select an option"}),(z=j.field_options)==null?void 0:z.map(($,Z)=>o.jsx("option",{value:$,children:$},Z))]});case"checkbox":return o.jsx("div",{className:"space-y-2",children:(H=j.field_options)==null?void 0:H.map(($,Z)=>o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer hover:text-blue-600 transition-colors",children:[o.jsx("input",{type:"checkbox",value:$,checked:(v[j.field_name]||[]).includes($),onChange:B=>{const I=v[j.field_name]||[],V=B.target.checked?[...I,$]:I.filter(K=>K!==$);g({...v,[j.field_name]:V})},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),$]},Z))});default:return o.jsx("input",{type:j.field_type,value:v[j.field_name]||"",onChange:$=>g({...v,[j.field_name]:$.target.value}),className:D,required:j.is_required,placeholder:`Enter ${j.field_label.toLowerCase()}`})}};return c?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-20",children:o.jsx("div",{className:"text-gray-900 text-xl",children:"Loading registration form..."})}):x&&!n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-red-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(Wl,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Unavailable"}),o.jsx("p",{className:"text-gray-700 mb-6",children:x}),o.jsx("button",{onClick:()=>e("/events"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Events"})]})}):f?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-green-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(Wi,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You for Your Interest!"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Thank you for showing interest in this event. We will shortly get back to you with more details."}),o.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["A confirmation email has been sent to ",o.jsx("strong",{className:"text-gray-900",children:v.email})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Please check your inbox (and spam folder) for event details."}),o.jsx("button",{onClick:()=>e("/events"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Events"})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-20 px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[s&&o.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 mb-8 shadow-lg",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:s.title}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ii,{className:"w-5 h-5"}),o.jsx("span",{children:new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.time&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hu,{className:"w-5 h-5"}),o.jsx("span",{children:s.time})]}),s.location&&o.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[o.jsx(sp,{className:"w-5 h-5"}),o.jsx("span",{children:s.location})]})]})]}),o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 rounded-2xl p-8 border border-gray-200 shadow-lg",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n==null?void 0:n.form_title}),(n==null?void 0:n.form_description)&&o.jsx("p",{className:"text-gray-600 mb-6",children:n.form_description}),x&&o.jsx("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4 mb-6",children:o.jsx("p",{className:"text-red-700 text-sm",children:x})}),o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:v.name,onChange:j=>g({...v,name:j.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all",placeholder:"Enter your full name",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Email Address ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:v.email,onChange:j=>g({...v,email:j.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all",placeholder:"your.email@example.com",required:!0}),(n==null?void 0:n.allowed_email_domains)&&n.allowed_email_domains.length>0&&o.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Only emails from: ",o.jsx("span",{className:"font-semibold",children:n.allowed_email_domains.join(", ")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:v.phone,onChange:j=>g({...v,phone:j.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all",placeholder:"+91 XXXXXXXXXX"})]}),a.map(j=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[j.field_label,j.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),C(j)]},j.id)),o.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-all shadow-md hover:shadow-lg",children:d?"Submitting...":"Register for Event"})]}),o.jsx("p",{className:"text-gray-600 text-sm text-center mt-6",children:"By registering, you agree to receive event-related communications from SAKEC ACM."})]})]})})}const $B="https://sakec.acm.org/api";function HB(){const[t]=p5(),e=ia(),n=t.get("token"),[r,s]=_.useState(!0),[i,a]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState("");_.useEffect(()=>{if(!n){c("Invalid unsubscribe link"),s(!1);return}h()},[n]);const h=async()=>{try{const p=await(await fetch(`${$B}/newsletter-unsubscribe.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})})).json();p.success?(a(!0),d(p.email||"")):c(p.message||"Failed to unsubscribe")}catch{c("Network error. Please try again.")}finally{s(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-900",children:"Processing your request..."})]})}):i?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-green-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(Wi,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Successfully Unsubscribed"}),o.jsxs("p",{className:"text-gray-700 mb-4",children:[u&&`${u} has been `,"removed from our newsletter mailing list."]}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"We're sorry to see you go! You will no longer receive newsletter emails from SAKEC ACM."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Home"}),o.jsx("button",{onClick:()=>e("/events"),className:"w-full px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-900 rounded-lg transition-all font-semibold",children:"View Events"})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Changed your mind?"}),o.jsxs("button",{onClick:()=>e("/#newsletter"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-2 mx-auto",children:[o.jsx(or,{className:"w-4 h-4"}),"Subscribe Again"]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-red-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(Wl,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Unsubscribe Failed"}),o.jsx("p",{className:"text-gray-700 mb-6",children:l}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Home"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:["Need help? Contact us at"," ",o.jsx("a",{href:"mailto:support@sakec.acm.org",className:"text-blue-600 hover:underline",children:"support@sakec.acm.org"})]})]})]})})}var GB=Object.defineProperty,Sf=Object.getOwnPropertySymbols,cA=Object.prototype.hasOwnProperty,uA=Object.prototype.propertyIsEnumerable,iS=(t,e,n)=>e in t?GB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wg=(t,e)=>{for(var n in e||(e={}))cA.call(e,n)&&iS(t,n,e[n]);if(Sf)for(var n of Sf(e))uA.call(e,n)&&iS(t,n,e[n]);return t},qg=(t,e)=>{var n={};for(var r in t)cA.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Sf)for(var r of Sf(t))e.indexOf(r)<0&&uA.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Za;(t=>{const e=class at{constructor(c,u,d,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<at.MIN_VERSION||c>at.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let x=0;x<this.size;x++)f.push(!1);for(let x=0;x<this.size;x++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),h==-1){let x=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const v=this.getPenaltyScore();v<x&&(h=m,x=v),this.applyMask(m)}}s(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return at.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return at.encodeSegments([d],u)}static encodeSegments(c,u,d=1,h=40,f=-1,p=!0){if(!(at.MIN_VERSION<=d&&d<=h&&h<=at.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let x,m;for(x=d;;x++){const b=at.getNumDataCodewords(x,u)*8,w=a.getTotalBits(c,x);if(w<=b){m=w;break}if(x>=h)throw new RangeError("Data too long")}for(const b of[at.Ecc.MEDIUM,at.Ecc.QUARTILE,at.Ecc.HIGH])p&&m<=at.getNumDataCodewords(x,b)*8&&(u=b);let v=[];for(const b of c){n(b.mode.modeBits,4,v),n(b.numChars,b.mode.numCharCountBits(x),v);for(const w of b.getData())v.push(w)}s(v.length==m);const g=at.getNumDataCodewords(x,u)*8;s(v.length<=g),n(0,Math.min(4,g-v.length),v),n(0,(8-v.length%8)%8,v),s(v.length%8==0);for(let b=236;v.length<g;b^=253)n(b,8,v);let y=[];for(;y.length*8<v.length;)y.push(0);return v.forEach((b,w)=>y[w>>>3]|=b<<7-(w&7)),new at(x,u,y,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;s(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(h,f));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;s(u>>>18==0);for(let d=0;d<18;d++){const h=r(u,d),f=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(f,p,h),this.setFunctionModule(p,f,h)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(d)),p=c+h,x=u+d;0<=p&&p<this.size&&0<=x&&x<this.size&&this.setFunctionModule(p,x,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=at.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=at.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=at.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(at.getNumRawDataModules(u)/8),x=h-p%h,m=Math.floor(p/h);let v=[];const g=at.reedSolomonComputeDivisor(f);for(let b=0,w=0;b<h;b++){let S=c.slice(w,w+m-f+(b<x?0:1));w+=S.length;const N=at.reedSolomonComputeRemainder(S,g);b<x&&S.push(0),v.push(S.concat(N))}let y=[];for(let b=0;b<v[0].length;b++)v.forEach((w,S)=>{(b!=m-f||S>=x)&&y.push(w[b])});return s(y.length==p),y}drawCodewords(c){if(c.length!=Math.floor(at.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const p=d-f,m=(d+1&2)==0?this.size-1-h:h;!this.isFunction[m][p]&&u<c.length*8&&(this.modules[m][p]=r(c[u>>>3],7-(u&7)),u++)}}s(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let p=!1,x=0,m=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[f][v]==p?(x++,x==5?c+=at.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,m),p||(c+=this.finderPenaltyCountPatterns(m)*at.PENALTY_N3),p=this.modules[f][v],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,m)*at.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,x=0,m=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][f]==p?(x++,x==5?c+=at.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,m),p||(c+=this.finderPenaltyCountPatterns(m)*at.PENALTY_N3),p=this.modules[v][f],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,m)*at.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const x=this.modules[f][p];x==this.modules[f][p+1]&&x==this.modules[f+1][p]&&x==this.modules[f+1][p+1]&&(c+=at.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,x)=>p+(x?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=h&&h<=9),c+=h*at.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<at.MIN_VERSION||c>at.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(at.getNumRawDataModules(c)/8)-at.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*at.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<c;h++){for(let f=0;f<u.length;f++)u[f]=at.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=at.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(h=>0);for(const h of c){const f=h^d.shift();d.push(0),u.forEach((p,x)=>d[x]^=at.reedSolomonMultiply(p,f))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];s(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class Wt{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new Wt(Wt.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Wt.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+h),10),h*3+1,u),d+=h}return new Wt(Wt.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Wt.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let h=Wt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=Wt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(h,11,u)}return d<c.length&&n(Wt.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Wt(Wt.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Wt.isNumeric(c)?[Wt.makeNumeric(c)]:Wt.isAlphanumeric(c)?[Wt.makeAlphanumeric(c)]:[Wt.makeBytes(Wt.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Wt(Wt.Mode.ECI,0,u)}static isNumeric(c){return Wt.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Wt.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const h of c){const f=h.mode.numCharCountBits(u);if(h.numChars>=1<<f)return 1/0;d+=4+f+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(Za||(Za={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Za||(Za={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Za||(Za={}));var sl=Za;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var WB={L:sl.QrCode.Ecc.LOW,M:sl.QrCode.Ecc.MEDIUM,Q:sl.QrCode.Ecc.QUARTILE,H:sl.QrCode.Ecc.HIGH},dA=128,hA="L",fA="#FFFFFF",pA="#000000",mA=!1,gA=1,qB=4,XB=0,KB=.1;function xA(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(a,l){if(!a&&i!==null){n.push(`M${i+e} ${s+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===r.length-1){if(!a)return;i===null?n.push(`M${l+e},${s+e} h1v1H${l+e}z`):n.push(`M${i+e},${s+e} h${l+1-i}v1H${i+e}z`);return}a&&i===null&&(i=l)})}),n.join("")}function vA(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function YB(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*KB),a=s/e,l=(r.width||i)*a,c=(r.height||i)*a,u=r.x==null?t.length/2-l/2:r.x*a,d=r.y==null?t.length/2-c/2:r.y*a,h=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let x=Math.floor(u),m=Math.floor(d),v=Math.ceil(l+u-x),g=Math.ceil(c+d-m);f={x,y:m,w:v,h:g}}const p=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:f,opacity:h,crossOrigin:p}}function ZB(t,e){return e!=null?Math.max(Math.floor(e),0):t?qB:XB}function yA({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:a,boostLevel:l}){let c=Ke.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((m,v)=>(m.push(...sl.QrSegment.makeSegments(v)),m),[]);return sl.QrCode.encodeSegments(x,WB[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:f}=Ke.useMemo(()=>{let p=c.getModules();const x=ZB(r,s),m=p.length+x*2,v=YB(p,a,x,i);return{cells:p,margin:x,numCells:m,calculatedImageSettings:v}},[c,a,i,r,s]);return{qrcode:c,margin:d,cells:u,numCells:h,calculatedImageSettings:f}}var JB=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),QB=Ke.forwardRef(function(e,n){const r=e,{value:s,size:i=dA,level:a=hA,bgColor:l=fA,fgColor:c=pA,includeMargin:u=mA,minVersion:d=gA,boostLevel:h,marginSize:f,imageSettings:p}=r,m=qg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=m,g=qg(m,["style"]),y=p==null?void 0:p.src,b=Ke.useRef(null),w=Ke.useRef(null),S=Ke.useCallback(H=>{b.current=H,typeof n=="function"?n(H):n&&(n.current=H)},[n]),[N,M]=Ke.useState(!1),{margin:A,cells:T,numCells:C,calculatedImageSettings:j}=yA({value:s,level:a,minVersion:d,boostLevel:h,includeMargin:u,marginSize:f,imageSettings:p,size:i});Ke.useEffect(()=>{if(b.current!=null){const H=b.current,$=H.getContext("2d");if(!$)return;let Z=T;const B=w.current,I=j!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;I&&j.excavation!=null&&(Z=vA(T,j.excavation));const V=window.devicePixelRatio||1;H.height=H.width=i*V;const K=i/C*V;$.scale(K,K),$.fillStyle=l,$.fillRect(0,0,C,C),$.fillStyle=c,JB?$.fill(new Path2D(xA(Z,A))):T.forEach(function(se,de){se.forEach(function(Ee,qe){Ee&&$.fillRect(qe+A,de+A,1,1)})}),j&&($.globalAlpha=j.opacity),I&&$.drawImage(B,j.x+A,j.y+A,j.w,j.h)}}),Ke.useEffect(()=>{M(!1)},[y]);const D=Wg({height:i,width:i},v);let z=null;return y!=null&&(z=Ke.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{M(!0)},ref:w,crossOrigin:j==null?void 0:j.crossOrigin})),Ke.createElement(Ke.Fragment,null,Ke.createElement("canvas",Wg({style:D,height:i,width:i,ref:S,role:"img"},g)),z)});QB.displayName="QRCodeCanvas";var bA=Ke.forwardRef(function(e,n){const r=e,{value:s,size:i=dA,level:a=hA,bgColor:l=fA,fgColor:c=pA,includeMargin:u=mA,minVersion:d=gA,boostLevel:h,title:f,marginSize:p,imageSettings:x}=r,m=qg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:g,numCells:y,calculatedImageSettings:b}=yA({value:s,level:a,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:x,size:i});let w=g,S=null;x!=null&&b!=null&&(b.excavation!=null&&(w=vA(g,b.excavation)),S=Ke.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const N=xA(w,v);return Ke.createElement("svg",Wg({height:i,width:i,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},m),!!f&&Ke.createElement("title",null,f),Ke.createElement("path",{fill:l,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),Ke.createElement("path",{fill:c,d:N,shapeRendering:"crispEdges"}),S)});bA.displayName="QRCodeSVG";var qu=t=>t.type==="checkbox",Fa=t=>t instanceof Date,Qn=t=>t==null;const _A=t=>typeof t=="object";var un=t=>!Qn(t)&&!Array.isArray(t)&&_A(t)&&!Fa(t),e7=t=>un(t)&&t.target?qu(t.target)?t.target.checked:t.target.value:t,t7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,n7=(t,e)=>t.has(t7(e)),r7=t=>{const e=t.constructor&&t.constructor.prototype;return un(e)&&e.hasOwnProperty("isPrototypeOf")},Fy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _n(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Fy&&(t instanceof Blob||r))&&(n||un(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!r7(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=_n(t[s]));else return t;return e}var hp=t=>/^\w*$/.test(t),Zt=t=>t===void 0,zy=t=>Array.isArray(t)?t.filter(Boolean):[],By=t=>zy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(t,e,n)=>{if(!e||!un(t))return n;const r=(hp(e)?[e]:By(e)).reduce((s,i)=>Qn(s)?s:s[i],t);return Zt(r)||r===t?Zt(t[e])?n:t[e]:r},gs=t=>typeof t=="boolean",St=(t,e,n)=>{let r=-1;const s=hp(e)?[e]:By(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=un(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const aS={BLUR:"blur",FOCUS_OUT:"focusout"},rs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},s7=Ke.createContext(null);s7.displayName="HookFormContext";var i7=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==rs.all&&(e._proxyFormState[a]=!r||rs.all),t[a]}});return s};const a7=typeof window<"u"?Ke.useLayoutEffect:Ke.useEffect;var xr=t=>typeof t=="string",o7=(t,e,n,r,s)=>xr(t)?(r&&e.watch.add(t),Te(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Te(n,i))):(r&&(e.watchAll=!0),n),Xg=t=>Qn(t)||!_A(t);function ji(t,e,n=new WeakSet){if(Xg(t)||Xg(e))return Object.is(t,e);if(Fa(t)&&Fa(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Fa(a)&&Fa(l)||un(a)&&un(l)||Array.isArray(a)&&Array.isArray(l)?!ji(a,l,n):!Object.is(a,l))return!1}}return!0}var Vy=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Xc=t=>Array.isArray(t)?t:[t],oS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function wA(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&un(s)&&i){const a=wA(s,i);un(a)&&(n[r]=a)}else t[r]&&(n[r]=i)}return n}var $n=t=>un(t)&&!Object.keys(t).length,$y=t=>t.type==="file",ss=t=>typeof t=="function",Ef=t=>{if(!Fy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},SA=t=>t.type==="select-multiple",Hy=t=>t.type==="radio",l7=t=>Hy(t)||qu(t),Lm=t=>Ef(t)&&t.isConnected;function c7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Zt(t)?r++:t[e[r++]];return t}function u7(t){for(const e in t)if(t.hasOwnProperty(e)&&!Zt(t[e]))return!1;return!0}function rn(t,e){const n=Array.isArray(e)?e:hp(e)?[e]:By(e),r=n.length===1?t:c7(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(un(r)&&$n(r)||Array.isArray(r)&&u7(r))&&rn(t,n.slice(0,-1)),t}var d7=t=>{for(const e in t)if(ss(t[e]))return!0;return!1};function EA(t){return Array.isArray(t)||un(t)&&!d7(t)}function Kg(t,e={}){for(const n in t){const r=t[n];EA(r)?(e[n]=Array.isArray(r)?[]:{},Kg(r,e[n])):Zt(r)||(e[n]=!0)}return e}function Fo(t,e,n){n||(n=Kg(e));for(const r in t){const s=t[r];if(EA(s))Zt(e)||Xg(n[r])?n[r]=Kg(s,Array.isArray(s)?[]:{}):Fo(s,Qn(e)?{}:e[r],n[r]);else{const i=e[r];n[r]=!ji(s,i)}}return n}const lS={value:!1,isValid:!1},cS={value:!0,isValid:!0};var CA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zt(t[0].attributes.value)?Zt(t[0].value)||t[0].value===""?cS:{value:t[0].value,isValid:!0}:cS:lS}return lS},NA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Zt(t)?t:e?t===""?NaN:t&&+t:n&&xr(t)?new Date(t):r?r(t):t;const uS={isValid:!1,value:null};var TA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,uS):uS;function dS(t){const e=t.ref;return $y(e)?e.files:Hy(e)?TA(t.refs).value:SA(e)?[...e.selectedOptions].map(({value:n})=>n):qu(e)?CA(t.refs).value:NA(Zt(e.value)?t.ref.value:e.value,t)}var h7=(t,e,n,r)=>{const s={};for(const i of t){const a=Te(e,i);a&&St(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Cf=t=>t instanceof RegExp,pc=t=>Zt(t)?t:Cf(t)?t.source:un(t)?Cf(t.value)?t.value.source:t.value:t,hS=t=>({isOnSubmit:!t||t===rs.onSubmit,isOnBlur:t===rs.onBlur,isOnChange:t===rs.onChange,isOnAll:t===rs.all,isOnTouch:t===rs.onTouched});const fS="AsyncFunction";var f7=t=>!!t&&!!t.validate&&!!(ss(t.validate)&&t.validate.constructor.name===fS||un(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===fS)),p7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),pS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Kc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Te(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Kc(l,e))break}else if(un(l)&&Kc(l,e))break}}};function mS(t,e,n){const r=Te(t,n);if(r||hp(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Te(e,i),l=Te(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var m7=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return $n(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||rs.all))},g7=(t,e,n)=>!t||!e||t===e||Xc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),x7=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,v7=(t,e)=>!zy(Te(t,e)).length&&rn(t,e),y7=(t,e,n)=>{const r=Xc(Te(t,n));return St(r,"root",e[n]),St(t,n,r),t};function gS(t,e,n="validate"){if(xr(t)||Array.isArray(t)&&t.every(xr)||gs(t)&&!t)return{type:n,message:xr(t)?t:"",ref:e}}var wo=t=>un(t)&&!Cf(t)?t:{value:t,message:""},xS=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:x,name:m,valueAsNumber:v,mount:g}=t._f,y=Te(n,m);if(!g||e.has(m))return{};const b=l?l[0]:a,w=D=>{s&&b.reportValidity&&(b.setCustomValidity(gs(D)?"":D||""),b.reportValidity())},S={},N=Hy(a),M=qu(a),A=N||M,T=(v||$y(a))&&Zt(a.value)&&Zt(y)||Ef(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,C=Vy.bind(null,m,r,S),j=(D,z,H,$=js.maxLength,Z=js.minLength)=>{const B=D?z:H;S[m]={type:D?$:Z,message:B,ref:a,...C(D?$:Z,B)}};if(i?!Array.isArray(y)||!y.length:c&&(!A&&(T||Qn(y))||gs(y)&&!y||M&&!CA(l).isValid||N&&!TA(l).isValid)){const{value:D,message:z}=xr(c)?{value:!!c,message:c}:wo(c);if(D&&(S[m]={type:js.required,message:z,ref:b,...C(js.required,z)},!r))return w(z),S}if(!T&&(!Qn(h)||!Qn(f))){let D,z;const H=wo(f),$=wo(h);if(!Qn(y)&&!isNaN(y)){const Z=a.valueAsNumber||y&&+y;Qn(H.value)||(D=Z>H.value),Qn($.value)||(z=Z<$.value)}else{const Z=a.valueAsDate||new Date(y),B=K=>new Date(new Date().toDateString()+" "+K),I=a.type=="time",V=a.type=="week";xr(H.value)&&y&&(D=I?B(y)>B(H.value):V?y>H.value:Z>new Date(H.value)),xr($.value)&&y&&(z=I?B(y)<B($.value):V?y<$.value:Z<new Date($.value))}if((D||z)&&(j(!!D,H.message,$.message,js.max,js.min),!r))return w(S[m].message),S}if((u||d)&&!T&&(xr(y)||i&&Array.isArray(y))){const D=wo(u),z=wo(d),H=!Qn(D.value)&&y.length>+D.value,$=!Qn(z.value)&&y.length<+z.value;if((H||$)&&(j(H,D.message,z.message),!r))return w(S[m].message),S}if(p&&!T&&xr(y)){const{value:D,message:z}=wo(p);if(Cf(D)&&!y.match(D)&&(S[m]={type:js.pattern,message:z,ref:a,...C(js.pattern,z)},!r))return w(z),S}if(x){if(ss(x)){const D=await x(y,n),z=gS(D,b);if(z&&(S[m]={...z,...C(js.validate,z.message)},!r))return w(z.message),S}else if(un(x)){let D={};for(const z in x){if(!$n(D)&&!r)break;const H=gS(await x[z](y,n),b,z);H&&(D={...H,...C(z,H.message)},w(H.message),r&&(S[m]=D))}if(!$n(D)&&(S[m]={ref:b,...D},!r))return S}}return w(!0),S};const b7={mode:rs.onSubmit,reValidateMode:rs.onChange,shouldFocusError:!0};function _7(t={}){let e={...b7,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ss(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=un(e.defaultValues)||un(e.values)?_n(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:_n(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:oS(),state:oS()},p=e.criteriaMode===rs.all,x=L=>F=>{clearTimeout(u),u=setTimeout(L,F)},m=async L=>{if(!e.disabled&&(d.isValid||h.isValid||L)){const F=e.resolver?$n((await M()).errors):await T(r,!0);F!==n.isValid&&f.state.next({isValid:F})}},v=(L,F)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(l.mount)).forEach(q=>{q&&(F?St(n.validatingFields,q,F):rn(n.validatingFields,q))}),f.state.next({validatingFields:n.validatingFields,isValidating:!$n(n.validatingFields)}))},g=(L,F=[],q,R,E=!0,k=!0)=>{if(R&&q&&!e.disabled){if(a.action=!0,k&&Array.isArray(Te(r,L))){const X=q(Te(r,L),R.argA,R.argB);E&&St(r,L,X)}if(k&&Array.isArray(Te(n.errors,L))){const X=q(Te(n.errors,L),R.argA,R.argB);E&&St(n.errors,L,X),v7(n.errors,L)}if((d.touchedFields||h.touchedFields)&&k&&Array.isArray(Te(n.touchedFields,L))){const X=q(Te(n.touchedFields,L),R.argA,R.argB);E&&St(n.touchedFields,L,X)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Fo(s,i)),f.state.next({name:L,isDirty:j(L,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else St(i,L,F)},y=(L,F)=>{St(n.errors,L,F),f.state.next({errors:n.errors})},b=L=>{n.errors=L,f.state.next({errors:n.errors,isValid:!1})},w=(L,F,q,R)=>{const E=Te(r,L);if(E){const k=Te(i,L,Zt(q)?Te(s,L):q);Zt(k)||R&&R.defaultChecked||F?St(i,L,F?k:dS(E._f)):H(L,k),a.mount&&!a.action&&m()}},S=(L,F,q,R,E)=>{let k=!1,X=!1;const ee={name:L};if(!e.disabled){if(!q||R){(d.isDirty||h.isDirty)&&(X=n.isDirty,n.isDirty=ee.isDirty=j(),k=X!==ee.isDirty);const Y=ji(Te(s,L),F);X=!!Te(n.dirtyFields,L),Y?rn(n.dirtyFields,L):St(n.dirtyFields,L,!0),ee.dirtyFields=n.dirtyFields,k=k||(d.dirtyFields||h.dirtyFields)&&X!==!Y}if(q){const Y=Te(n.touchedFields,L);Y||(St(n.touchedFields,L,q),ee.touchedFields=n.touchedFields,k=k||(d.touchedFields||h.touchedFields)&&Y!==q)}k&&E&&f.state.next(ee)}return k?ee:{}},N=(L,F,q,R)=>{const E=Te(n.errors,L),k=(d.isValid||h.isValid)&&gs(F)&&n.isValid!==F;if(e.delayError&&q?(c=x(()=>y(L,q)),c(e.delayError)):(clearTimeout(u),c=null,q?St(n.errors,L,q):rn(n.errors,L)),(q?!ji(E,q):E)||!$n(R)||k){const X={...R,...k&&gs(F)?{isValid:F}:{},errors:n.errors,name:L};n={...n,...X},f.state.next(X)}},M=async L=>{v(L,!0);const F=await e.resolver(i,e.context,h7(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(L),F},A=async L=>{const{errors:F}=await M(L);if(L)for(const q of L){const R=Te(F,q);R?St(n.errors,q,R):rn(n.errors,q)}else n.errors=F;return F},T=async(L,F,q={valid:!0})=>{for(const R in L){const E=L[R];if(E){const{_f:k,...X}=E;if(k){const ee=l.array.has(k.name),Y=E._f&&f7(E._f);Y&&d.validatingFields&&v([k.name],!0);const we=await xS(E,l.disabled,i,p,e.shouldUseNativeValidation&&!F,ee);if(Y&&d.validatingFields&&v([k.name]),we[k.name]&&(q.valid=!1,F))break;!F&&(Te(we,k.name)?ee?y7(n.errors,we,k.name):St(n.errors,k.name,we[k.name]):rn(n.errors,k.name))}!$n(X)&&await T(X,F,q)}}return q.valid},C=()=>{for(const L of l.unMount){const F=Te(r,L);F&&(F._f.refs?F._f.refs.every(q=>!Lm(q)):!Lm(F._f.ref))&&re(L)}l.unMount=new Set},j=(L,F)=>!e.disabled&&(L&&F&&St(i,L,F),!ji(K(),s)),D=(L,F,q)=>o7(L,l,{...a.mount?i:Zt(F)?s:xr(L)?{[L]:F}:F},q,F),z=L=>zy(Te(a.mount?i:s,L,e.shouldUnregister?Te(s,L,[]):[])),H=(L,F,q={})=>{const R=Te(r,L);let E=F;if(R){const k=R._f;k&&(!k.disabled&&St(i,L,NA(F,k)),E=Ef(k.ref)&&Qn(F)?"":F,SA(k.ref)?[...k.ref.options].forEach(X=>X.selected=E.includes(X.value)):k.refs?qu(k.ref)?k.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(E)?X.checked=!!E.find(ee=>ee===X.value):X.checked=E===X.value||!!E)}):k.refs.forEach(X=>X.checked=X.value===E):$y(k.ref)?k.ref.value="":(k.ref.value=E,k.ref.type||f.state.next({name:L,values:_n(i)})))}(q.shouldDirty||q.shouldTouch)&&S(L,E,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&V(L)},$=(L,F,q)=>{for(const R in F){if(!F.hasOwnProperty(R))return;const E=F[R],k=L+"."+R,X=Te(r,k);(l.array.has(L)||un(E)||X&&!X._f)&&!Fa(E)?$(k,E,q):H(k,E,q)}},Z=(L,F,q={})=>{const R=Te(r,L),E=l.array.has(L),k=_n(F);St(i,L,k),E?(f.array.next({name:L,values:_n(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&q.shouldDirty&&f.state.next({name:L,dirtyFields:Fo(s,i),isDirty:j(L,k)})):R&&!R._f&&!Qn(k)?$(L,k,q):H(L,k,q),pS(L,l)&&f.state.next({...n,name:L}),f.state.next({name:a.mount?L:void 0,values:_n(i)})},B=async L=>{a.mount=!0;const F=L.target;let q=F.name,R=!0;const E=Te(r,q),k=Y=>{R=Number.isNaN(Y)||Fa(Y)&&isNaN(Y.getTime())||ji(Y,Te(i,q,Y))},X=hS(e.mode),ee=hS(e.reValidateMode);if(E){let Y,we;const pe=F.type?dS(E._f):e7(L),ke=L.type===aS.BLUR||L.type===aS.FOCUS_OUT,De=!p7(E._f)&&!e.resolver&&!Te(n.errors,q)&&!E._f.deps||x7(ke,Te(n.touchedFields,q),n.isSubmitted,ee,X),oe=pS(q,l,ke);St(i,q,pe),ke?(!F||!F.readOnly)&&(E._f.onBlur&&E._f.onBlur(L),c&&c(0)):E._f.onChange&&E._f.onChange(L);const he=S(q,pe,ke),ze=!$n(he)||oe;if(!ke&&f.state.next({name:q,type:L.type,values:_n(i)}),De)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?ke&&m():ke||m()),ze&&f.state.next({name:q,...oe?{}:he});if(!ke&&oe&&f.state.next({...n}),e.resolver){const{errors:Le}=await M([q]);if(k(pe),R){const ye=mS(n.errors,r,q),$e=mS(Le,r,ye.name||q);Y=$e.error,q=$e.name,we=$n(Le)}}else v([q],!0),Y=(await xS(E,l.disabled,i,p,e.shouldUseNativeValidation))[q],v([q]),k(pe),R&&(Y?we=!1:(d.isValid||h.isValid)&&(we=await T(r,!0)));R&&(E._f.deps&&(!Array.isArray(E._f.deps)||E._f.deps.length>0)&&V(E._f.deps),N(q,we,Y,he))}},I=(L,F)=>{if(Te(n.errors,F)&&L.focus)return L.focus(),1},V=async(L,F={})=>{let q,R;const E=Xc(L);if(e.resolver){const k=await A(Zt(L)?L:E);q=$n(k),R=L?!E.some(X=>Te(k,X)):q}else L?(R=(await Promise.all(E.map(async k=>{const X=Te(r,k);return await T(X&&X._f?{[k]:X}:X)}))).every(Boolean),!(!R&&!n.isValid)&&m()):R=q=await T(r);return f.state.next({...!xr(L)||(d.isValid||h.isValid)&&q!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:q}:{},errors:n.errors}),F.shouldFocus&&!R&&Kc(r,I,L?E:l.mount),R},K=(L,F)=>{let q={...a.mount?i:s};return F&&(q=wA(F.dirtyFields?n.dirtyFields:n.touchedFields,q)),Zt(L)?q:xr(L)?Te(q,L):L.map(R=>Te(q,R))},se=(L,F)=>({invalid:!!Te((F||n).errors,L),isDirty:!!Te((F||n).dirtyFields,L),error:Te((F||n).errors,L),isValidating:!!Te(n.validatingFields,L),isTouched:!!Te((F||n).touchedFields,L)}),de=L=>{L&&Xc(L).forEach(F=>rn(n.errors,F)),f.state.next({errors:L?n.errors:{}})},Ee=(L,F,q)=>{const R=(Te(r,L,{_f:{}})._f||{}).ref,E=Te(n.errors,L)||{},{ref:k,message:X,type:ee,...Y}=E;St(n.errors,L,{...Y,...F,ref:R}),f.state.next({name:L,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&R&&R.focus&&R.focus()},qe=(L,F)=>ss(L)?f.state.subscribe({next:q=>"values"in q&&L(D(void 0,F),q)}):D(L,F,!0),it=L=>f.state.subscribe({next:F=>{g7(L.name,F.name,L.exact)&&m7(F,L.formState||d,st,L.reRenderRoot)&&L.callback({values:{...i},...n,...F,defaultValues:s})}}).unsubscribe,ne=L=>(a.mount=!0,h={...h,...L.formState},it({...L,formState:h})),re=(L,F={})=>{for(const q of L?Xc(L):l.mount)l.mount.delete(q),l.array.delete(q),F.keepValue||(rn(r,q),rn(i,q)),!F.keepError&&rn(n.errors,q),!F.keepDirty&&rn(n.dirtyFields,q),!F.keepTouched&&rn(n.touchedFields,q),!F.keepIsValidating&&rn(n.validatingFields,q),!e.shouldUnregister&&!F.keepDefaultValue&&rn(s,q);f.state.next({values:_n(i)}),f.state.next({...n,...F.keepDirty?{isDirty:j()}:{}}),!F.keepIsValid&&m()},_e=({disabled:L,name:F})=>{(gs(L)&&a.mount||L||l.disabled.has(F))&&(L?l.disabled.add(F):l.disabled.delete(F))},Fe=(L,F={})=>{let q=Te(r,L);const R=gs(F.disabled)||gs(e.disabled);return St(r,L,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:L}},name:L,mount:!0,...F}}),l.mount.add(L),q?_e({disabled:gs(F.disabled)?F.disabled:e.disabled,name:L}):w(L,!0,F.value),{...R?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:pc(F.min),max:pc(F.max),minLength:pc(F.minLength),maxLength:pc(F.maxLength),pattern:pc(F.pattern)}:{},name:L,onChange:B,onBlur:B,ref:E=>{if(E){Fe(L,F),q=Te(r,L);const k=Zt(E.value)&&E.querySelectorAll&&E.querySelectorAll("input,select,textarea")[0]||E,X=l7(k),ee=q._f.refs||[];if(X?ee.find(Y=>Y===k):k===q._f.ref)return;St(r,L,{_f:{...q._f,...X?{refs:[...ee.filter(Lm),k,...Array.isArray(Te(s,L))?[{}]:[]],ref:{type:k.type,name:L}}:{ref:k}}}),w(L,!1,void 0,k)}else q=Te(r,L,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(n7(l.array,L)&&a.action)&&l.unMount.add(L)}}},Me=()=>e.shouldFocusError&&Kc(r,I,l.mount),Ze=L=>{gs(L)&&(f.state.next({disabled:L}),Kc(r,(F,q)=>{const R=Te(r,q);R&&(F.disabled=R._f.disabled||L,Array.isArray(R._f.refs)&&R._f.refs.forEach(E=>{E.disabled=R._f.disabled||L}))},0,!1))},Pt=(L,F)=>async q=>{let R;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let E=_n(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:k,values:X}=await M();n.errors=k,E=_n(X)}else await T(r);if(l.disabled.size)for(const k of l.disabled)rn(E,k);if(rn(n.errors,"root"),$n(n.errors)){f.state.next({errors:{}});try{await L(E,q)}catch(k){R=k}}else F&&await F({...n.errors},q),Me(),setTimeout(Me);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(n.errors)&&!R,submitCount:n.submitCount+1,errors:n.errors}),R)throw R},Je=(L,F={})=>{Te(r,L)&&(Zt(F.defaultValue)?Z(L,_n(Te(s,L))):(Z(L,F.defaultValue),St(s,L,_n(F.defaultValue))),F.keepTouched||rn(n.touchedFields,L),F.keepDirty||(rn(n.dirtyFields,L),n.isDirty=F.defaultValue?j(L,_n(Te(s,L))):j()),F.keepError||(rn(n.errors,L),d.isValid&&m()),f.state.next({...n}))},bt=(L,F={})=>{const q=L?_n(L):s,R=_n(q),E=$n(L),k=E?s:R;if(F.keepDefaultValues||(s=q),!F.keepValues){if(F.keepDirtyValues){const X=new Set([...l.mount,...Object.keys(Fo(s,i))]);for(const ee of Array.from(X))Te(n.dirtyFields,ee)?St(k,ee,Te(i,ee)):Z(ee,Te(k,ee))}else{if(Fy&&Zt(L))for(const X of l.mount){const ee=Te(r,X);if(ee&&ee._f){const Y=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(Ef(Y)){const we=Y.closest("form");if(we){we.reset();break}}}}if(F.keepFieldsRef)for(const X of l.mount)Z(X,Te(k,X));else r={}}i=e.shouldUnregister?F.keepDefaultValues?_n(s):{}:_n(k),f.array.next({values:{...k}}),f.state.next({values:{...k}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues||!e.shouldUnregister&&!$n(k),a.watch=!!e.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:E?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!ji(L,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:E?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Fo(s,i):n.dirtyFields:F.keepDefaultValues&&L?Fo(s,L):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},O=(L,F)=>bt(ss(L)?L(i):L,F),rt=(L,F={})=>{const q=Te(r,L),R=q&&q._f;if(R){const E=R.refs?R.refs[0]:R.ref;E.focus&&(E.focus(),F.shouldSelect&&ss(E.select)&&E.select())}},st=L=>{n={...n,...L}},Ae={control:{register:Fe,unregister:re,getFieldState:se,handleSubmit:Pt,setError:Ee,_subscribe:it,_runSchema:M,_focusError:Me,_getWatch:D,_getDirty:j,_setValid:m,_setFieldArray:g,_setDisabledField:_e,_setErrors:b,_getFieldArray:z,_reset:bt,_resetDefaultValues:()=>ss(e.defaultValues)&&e.defaultValues().then(L=>{O(L,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:Ze,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(L){a=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:ne,trigger:V,register:Fe,handleSubmit:Pt,watch:qe,setValue:Z,getValues:K,reset:O,resetField:Je,clearErrors:de,unregister:re,setError:Ee,setFocus:rt,getFieldState:se};return{...Ae,formControl:Ae}}function w7(t={}){const e=Ke.useRef(void 0),n=Ke.useRef(void 0),[r,s]=Ke.useState({isDirty:!1,isValidating:!1,isLoading:ss(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ss(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ss(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=_7(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,a7(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Ke.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ke.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Ke.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Ke.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Ke.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Ke.useEffect(()=>{var a;t.values&&!ji(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),n.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),Ke.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=i7(r,i),e.current}const vS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Te(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Yg=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?vS(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>vS(s,n,t))}},yS=(t,e)=>{e.shouldUseNativeValidation&&Yg(t,e);const n={};for(const r in t){const s=Te(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(S7(e.names||Object.keys(t),r)){const a=Object.assign({},Te(n,r));St(a,"root",i),St(n,r,a)}else St(n,r,i)}return n},S7=(t,e)=>{const n=bS(e);return t.some(r=>bS(r).match(`^${n}\\.\\d+`))};function bS(t){return t.replace(/\]|\[/g,"")}function ae(t,e,n){function r(l,c){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(t))return;l._zod.traits.add(t),e(l,c);const u=a.prototype,d=Object.keys(u);for(let h=0;h<d.length;h++){const f=d[h];f in l||(l[f]=u[f].bind(l))}}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function a(l){var c;const u=n!=null&&n.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class ml extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class MA extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const AA={};function Ja(t){return AA}function E7(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function Zg(t,e){return typeof e=="bigint"?e.toString():e}function Gy(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Wy(t){return t==null}function qy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const _S=Symbol("evaluating");function Nt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==_S)return r===void 0&&(r=_S,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function lo(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function co(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function wS(t){return JSON.stringify(t)}function C7(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const RA="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Nf(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const N7=Gy(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Nu(t){if(Nf(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Nf(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function jA(t){return Nu(t)?{...t}:Array.isArray(t)?[...t]:t}const T7=new Set(["string","number","symbol"]);function fp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ua(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function We(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function M7(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function A7(t,e){const n=t._zod.def,r=co(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return lo(this,"shape",s),s},checks:[]});return ua(t,r)}function R7(t,e){const n=t._zod.def,r=co(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return lo(this,"shape",s),s},checks:[]});return ua(t,r)}function j7(t,e){if(!Nu(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=co(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return lo(this,"shape",i),i},checks:[]});return ua(t,s)}function P7(t,e){if(!Nu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return lo(this,"shape",r),r},checks:t._zod.def.checks};return ua(t,n)}function k7(t,e){const n=co(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return lo(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ua(t,n)}function D7(t,e,n){const r=co(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=t?new t({type:"optional",innerType:s[a]}):s[a])}else for(const a in s)i[a]=t?new t({type:"optional",innerType:s[a]}):s[a];return lo(this,"shape",i),i},checks:[]});return ua(e,r)}function I7(t,e,n){const r=co(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new t({type:"nonoptional",innerType:s[a]}))}else for(const a in s)i[a]=new t({type:"nonoptional",innerType:s[a]});return lo(this,"shape",i),i},checks:[]});return ua(e,r)}function il(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function PA(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function zd(t){return typeof t=="string"?t:t==null?void 0:t.message}function Qa(t,e,n){var s,i,a,l,c,u;const r={...t,path:t.path??[]};if(!t.message){const d=zd((a=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:a.call(i,t))??zd((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??zd((c=n.customError)==null?void 0:c.call(n,t))??zd((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function Xy(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Tu(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const kA=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Zg,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Ky=ae("$ZodError",kA),pp=ae("$ZodError",kA,{Parent:Error});function L7(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function O7(t,e=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>r({issues:a}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let a=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(e(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return r(t),n}const mp=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new ml;if(a.issues.length){const l=new((s==null?void 0:s.Err)??t)(a.issues.map(c=>Qa(c,i,Ja())));throw RA(l,s==null?void 0:s.callee),l}return a.value},U7=mp(pp),gp=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((s==null?void 0:s.Err)??t)(a.issues.map(c=>Qa(c,i,Ja())));throw RA(l,s==null?void 0:s.callee),l}return a.value},F7=gp(pp),xp=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new ml;return i.issues.length?{success:!1,error:new(t??Ky)(i.issues.map(a=>Qa(a,s,Ja())))}:{success:!0,data:i.value}},z7=xp(pp),vp=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(a=>Qa(a,s,Ja())))}:{success:!0,data:i.value}},B7=vp(pp),V7=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return mp(t)(e,n,s)},$7=t=>(e,n,r)=>mp(t)(e,n,r),H7=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return gp(t)(e,n,s)},G7=t=>async(e,n,r)=>gp(t)(e,n,r),W7=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return xp(t)(e,n,s)},q7=t=>(e,n,r)=>xp(t)(e,n,r),X7=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vp(t)(e,n,s)},K7=t=>async(e,n,r)=>vp(t)(e,n,r),Y7=/^[cC][^\s-]{8,}$/,Z7=/^[0-9a-z]+$/,J7=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Q7=/^[0-9a-vA-V]{20}$/,eV=/^[A-Za-z0-9]{27}$/,tV=/^[a-zA-Z0-9_-]{21}$/,nV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,rV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,SS=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,sV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,iV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function aV(){return new RegExp(iV,"u")}const oV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,uV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,DA=/^[A-Za-z0-9_-]*$/,hV=/^\+(?:[0-9]){6,14}[0-9]$/,IA="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",fV=new RegExp(`^${IA}$`);function LA(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pV(t){return new RegExp(`^${LA(t)}$`)}function mV(t){const e=LA({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${IA}T(?:${r})$`)}const gV=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},xV=/^(?:true|false)$/i,vV=/^[^A-Z]*$/,yV=/^[^a-z]*$/,Ms=ae("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),bV=ae("$ZodCheckMaxLength",(t,e)=>{var n;Ms.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Wy(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const a=Xy(s);r.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),_V=ae("$ZodCheckMinLength",(t,e)=>{var n;Ms.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Wy(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const a=Xy(s);r.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),wV=ae("$ZodCheckLengthEquals",(t,e)=>{var n;Ms.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Wy(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const a=Xy(s),l=i>e.length;r.issues.push({origin:a,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),yp=ae("$ZodCheckStringFormat",(t,e)=>{var n,r;Ms.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),SV=ae("$ZodCheckRegex",(t,e)=>{yp.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),EV=ae("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=vV),yp.init(t,e)}),CV=ae("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=yV),yp.init(t,e)}),NV=ae("$ZodCheckIncludes",(t,e)=>{Ms.init(t,e);const n=fp(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),TV=ae("$ZodCheckStartsWith",(t,e)=>{Ms.init(t,e);const n=new RegExp(`^${fp(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),MV=ae("$ZodCheckEndsWith",(t,e)=>{Ms.init(t,e);const n=new RegExp(`.*${fp(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),AV=ae("$ZodCheckOverwrite",(t,e)=>{Ms.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class RV{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(a=>a),s=Math.min(...r.map(a=>a.length-a.trimStart().length)),i=r.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of i)this.content.push(a)}compile(){const e=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const jV={major:4,minor:1,patch:13},tn=ae("$ZodType",(t,e)=>{var s;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=jV;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const a of i._zod.onattach)a(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(s=t._zod.deferred)==null||s.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,c,u)=>{let d=il(l),h;for(const f of c){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(d)continue;const p=l.issues.length,x=f._zod.check(l);if(x instanceof Promise&&(u==null?void 0:u.async)===!1)throw new ml;if(h||x instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await x,l.issues.length!==p&&(d||(d=il(l,p)))});else{if(l.issues.length===p)continue;d||(d=il(l,p))}}return h?h.then(()=>l):l},a=(l,c,u)=>{if(il(l))return l.aborted=!0,l;const d=i(c,r,u);if(d instanceof Promise){if(u.async===!1)throw new ml;return d.then(h=>t._zod.parse(h,u))}return t._zod.parse(d,u)};t._zod.run=(l,c)=>{if(c.skipChecks)return t._zod.parse(l,c);if(c.direction==="backward"){const d=t._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(h=>a(h,l,c)):a(d,l,c)}const u=t._zod.parse(l,c);if(u instanceof Promise){if(c.async===!1)throw new ml;return u.then(d=>i(d,r,c))}return i(u,r,c)}}t["~standard"]={validate:i=>{var a;try{const l=z7(t,i);return l.success?{value:l.data}:{issues:(a=l.error)==null?void 0:a.issues}}catch{return B7(t,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Yy=ae("$ZodString",(t,e)=>{var n;tn.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??gV(t._zod.bag),t._zod.parse=(r,s)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),It=ae("$ZodStringFormat",(t,e)=>{yp.init(t,e),Yy.init(t,e)}),PV=ae("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=rV),It.init(t,e)}),kV=ae("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=SS(r))}else e.pattern??(e.pattern=SS());It.init(t,e)}),DV=ae("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=sV),It.init(t,e)}),IV=ae("$ZodURL",(t,e)=>{It.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),LV=ae("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=aV()),It.init(t,e)}),OV=ae("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=tV),It.init(t,e)}),UV=ae("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Y7),It.init(t,e)}),FV=ae("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Z7),It.init(t,e)}),zV=ae("$ZodULID",(t,e)=>{e.pattern??(e.pattern=J7),It.init(t,e)}),BV=ae("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Q7),It.init(t,e)}),VV=ae("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=eV),It.init(t,e)}),$V=ae("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=mV(e)),It.init(t,e)}),HV=ae("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=fV),It.init(t,e)}),GV=ae("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=pV(e)),It.init(t,e)}),WV=ae("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=nV),It.init(t,e)}),qV=ae("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=oV),It.init(t,e),t._zod.bag.format="ipv4"}),XV=ae("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=lV),It.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),KV=ae("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=cV),It.init(t,e)}),YV=ae("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=uV),It.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function OA(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const ZV=ae("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=dV),It.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{OA(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function JV(t){if(!DA.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return OA(n)}const QV=ae("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=DA),It.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{JV(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),e$=ae("$ZodE164",(t,e)=>{e.pattern??(e.pattern=hV),It.init(t,e)});function t$(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const n$=ae("$ZodJWT",(t,e)=>{It.init(t,e),t._zod.check=n=>{t$(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),r$=ae("$ZodBoolean",(t,e)=>{tn.init(t,e),t._zod.pattern=xV,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),n}}),s$=ae("$ZodAny",(t,e)=>{tn.init(t,e),t._zod.parse=n=>n}),i$=ae("$ZodUnknown",(t,e)=>{tn.init(t,e),t._zod.parse=n=>n}),a$=ae("$ZodNever",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function ES(t,e,n){t.issues.length&&e.issues.push(...PA(n,t.issues)),e.value[n]=t.value}const o$=ae("$ZodArray",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let a=0;a<s.length;a++){const l=s[a],c=e.element._zod.run({value:l,issues:[]},r);c instanceof Promise?i.push(c.then(u=>ES(u,n,a))):ES(c,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function Tf(t,e,n,r){t.issues.length&&e.issues.push(...PA(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function UA(t){var r,s,i,a;const e=Object.keys(t.shape);for(const l of e)if(!((a=(i=(s=(r=t.shape)==null?void 0:r[l])==null?void 0:s._zod)==null?void 0:i.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=M7(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function FA(t,e,n,r,s,i){const a=[],l=s.keySet,c=s.catchall._zod,u=c.def.type;for(const d in e){if(l.has(d))continue;if(u==="never"){a.push(d);continue}const h=c.run({value:e[d],issues:[]},r);h instanceof Promise?t.push(h.then(f=>Tf(f,n,d,e))):Tf(h,n,d,e)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const l$=ae("$ZodObject",(t,e)=>{tn.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const l=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...l};return Object.defineProperty(e,"shape",{value:c}),c}})}const r=Gy(()=>UA(e));Nt(t._zod,"propValues",()=>{const l=e.shape,c={};for(const u in l){const d=l[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const h of d.values)c[u].add(h)}}return c});const s=Nf,i=e.catchall;let a;t._zod.parse=(l,c)=>{a??(a=r.value);const u=l.value;if(!s(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),l;l.value={};const d=[],h=a.shape;for(const f of a.keys){const x=h[f]._zod.run({value:u[f],issues:[]},c);x instanceof Promise?d.push(x.then(m=>Tf(m,l,f,u))):Tf(x,l,f,u)}return i?FA(d,u,l,c,r.value,t):d.length?Promise.all(d).then(()=>l):l}}),c$=ae("$ZodObjectJIT",(t,e)=>{l$.init(t,e);const n=t._zod.parse,r=Gy(()=>UA(e)),s=f=>{const p=new RV(["shape","payload","ctx"]),x=r.value,m=b=>{const w=wS(b);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};p.write("const input = payload.value;");const v=Object.create(null);let g=0;for(const b of x.keys)v[b]=`key_${g++}`;p.write("const newResult = {};");for(const b of x.keys){const w=v[b],S=wS(b);p.write(`const ${w} = ${m(b)};`),p.write(`
        if (${w}.issues.length) {
          payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        
        if (${w}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${w}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const y=p.compile();return(b,w)=>y(f,b,w)};let i;const a=Nf,l=!AA.jitless,u=l&&N7.value,d=e.catchall;let h;t._zod.parse=(f,p)=>{h??(h=r.value);const x=f.value;return a(x)?l&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(i||(i=s(e.shape)),f=i(f,p),d?FA([],x,f,p,h,t):f):n(f,p):(f.issues.push({expected:"object",code:"invalid_type",input:x,inst:t}),f)}});function CS(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!il(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(a=>Qa(a,r,Ja())))}),e)}const u$=ae("$ZodUnion",(t,e)=>{tn.init(t,e),Nt(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Nt(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Nt(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),Nt(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>qy(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let a=!1;const l=[];for(const c of e.options){const u=c._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)l.push(u),a=!0;else{if(u.issues.length===0)return u;l.push(u)}}return a?Promise.all(l).then(c=>CS(c,s,t,i)):CS(l,s,t,i)}}),d$=ae("$ZodIntersection",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),a=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([c,u])=>NS(n,c,u)):NS(n,i,a)}});function Jg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Nu(t)&&Nu(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const a=Jg(t[i],e[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};s[i]=a.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],a=Jg(s,i);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function NS(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),il(t))return t;const r=Jg(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const h$=ae("$ZodEnum",(t,e)=>{tn.init(t,e);const n=E7(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>T7.has(typeof s)).map(s=>typeof s=="string"?fp(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const a=s.value;return r.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:t}),s}}),f$=ae("$ZodTransform",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new MA(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(n.value=a,n));if(s instanceof Promise)throw new ml;return n.value=s,n}});function TS(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const p$=ae("$ZodOptional",(t,e)=>{tn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Nt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Nt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${qy(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>TS(i,n.value)):TS(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),m$=ae("$ZodNullable",(t,e)=>{tn.init(t,e),Nt(t._zod,"optin",()=>e.innerType._zod.optin),Nt(t._zod,"optout",()=>e.innerType._zod.optout),Nt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${qy(n.source)}|null)$`):void 0}),Nt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),g$=ae("$ZodDefault",(t,e)=>{tn.init(t,e),t._zod.optin="optional",Nt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>MS(i,e)):MS(s,e)}});function MS(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const x$=ae("$ZodPrefault",(t,e)=>{tn.init(t,e),t._zod.optin="optional",Nt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),v$=ae("$ZodNonOptional",(t,e)=>{tn.init(t,e),Nt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>AS(i,t)):AS(s,t)}});function AS(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const y$=ae("$ZodCatch",(t,e)=>{tn.init(t,e),Nt(t._zod,"optin",()=>e.innerType._zod.optin),Nt(t._zod,"optout",()=>e.innerType._zod.optout),Nt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>Qa(a,r,Ja()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>Qa(i,r,Ja()))},input:n.value}),n.issues=[]),n)}}),b$=ae("$ZodPipe",(t,e)=>{tn.init(t,e),Nt(t._zod,"values",()=>e.in._zod.values),Nt(t._zod,"optin",()=>e.in._zod.optin),Nt(t._zod,"optout",()=>e.out._zod.optout),Nt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(a=>Bd(a,e.in,r)):Bd(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>Bd(i,e.out,r)):Bd(s,e.out,r)}});function Bd(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const _$=ae("$ZodReadonly",(t,e)=>{tn.init(t,e),Nt(t._zod,"propValues",()=>e.innerType._zod.propValues),Nt(t._zod,"values",()=>e.innerType._zod.values),Nt(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Nt(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(RS):RS(s)}});function RS(t){return t.value=Object.freeze(t.value),t}const w$=ae("$ZodCustom",(t,e)=>{Ms.init(t,e),tn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>jS(i,n,r,t));jS(s,n,r,t)}});function jS(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push(Tu(s))}}var PS;class S${constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function E$(){return new S$}(PS=globalThis).__zod_globalRegistry??(PS.__zod_globalRegistry=E$());const Vd=globalThis.__zod_globalRegistry;function C$(t,e){return new t({type:"string",...We(e)})}function N$(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...We(e)})}function kS(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...We(e)})}function T$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...We(e)})}function M$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...We(e)})}function A$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...We(e)})}function R$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...We(e)})}function j$(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...We(e)})}function P$(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...We(e)})}function k$(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...We(e)})}function D$(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...We(e)})}function I$(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...We(e)})}function L$(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...We(e)})}function O$(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...We(e)})}function U$(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...We(e)})}function F$(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...We(e)})}function z$(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...We(e)})}function B$(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...We(e)})}function V$(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...We(e)})}function $$(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...We(e)})}function H$(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...We(e)})}function G$(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...We(e)})}function W$(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...We(e)})}function q$(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...We(e)})}function X$(t,e){return new t({type:"string",format:"date",check:"string_format",...We(e)})}function K$(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...We(e)})}function Y$(t,e){return new t({type:"string",format:"duration",check:"string_format",...We(e)})}function Z$(t,e){return new t({type:"boolean",...We(e)})}function J$(t){return new t({type:"any"})}function Q$(t){return new t({type:"unknown"})}function eH(t,e){return new t({type:"never",...We(e)})}function zA(t,e){return new bV({check:"max_length",...We(e),maximum:t})}function Mf(t,e){return new _V({check:"min_length",...We(e),minimum:t})}function BA(t,e){return new wV({check:"length_equals",...We(e),length:t})}function tH(t,e){return new SV({check:"string_format",format:"regex",...We(e),pattern:t})}function nH(t){return new EV({check:"string_format",format:"lowercase",...We(t)})}function rH(t){return new CV({check:"string_format",format:"uppercase",...We(t)})}function sH(t,e){return new NV({check:"string_format",format:"includes",...We(e),includes:t})}function iH(t,e){return new TV({check:"string_format",format:"starts_with",...We(e),prefix:t})}function aH(t,e){return new MV({check:"string_format",format:"ends_with",...We(e),suffix:t})}function Yl(t){return new AV({check:"overwrite",tx:t})}function oH(t){return Yl(e=>e.normalize(t))}function lH(){return Yl(t=>t.trim())}function cH(){return Yl(t=>t.toLowerCase())}function uH(){return Yl(t=>t.toUpperCase())}function dH(){return Yl(t=>C7(t))}function hH(t,e,n){return new t({type:"array",element:e,...We(n)})}function fH(t,e,n){return new t({type:"custom",check:"custom",fn:e,...We(n)})}function pH(t){const e=mH(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Tu(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(Tu(s))}},t(n.value,n)));return e}function mH(t,e){const n=new Ms({check:"custom",...We(e)});return n._zod.check=t,n}function DS(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function gH(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=Vy(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function xH(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if(r.code==="invalid_union"&&r.errors.length>0){var l=r.errors[0][0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if(r.code==="invalid_union"&&r.errors.forEach(function(d){return d.forEach(function(h){return t.push(h)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=Vy(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n}function vH(t,e,n){if(n===void 0&&(n={}),function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def}(t))return function(r,s,i){try{return Promise.resolve(DS(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(a){return i.shouldUseNativeValidation&&Yg({},i),{errors:{},values:n.raw?Object.assign({},r):a}})},function(a){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(a))return{values:{},errors:yS(gH(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}};if(function(r){return"_zod"in r&&typeof r._zod=="object"}(t))return function(r,s,i){try{return Promise.resolve(DS(function(){return Promise.resolve((n.mode==="sync"?U7:F7)(t,r,e)).then(function(a){return i.shouldUseNativeValidation&&Yg({},i),{errors:{},values:n.raw?Object.assign({},r):a}})},function(a){if(function(l){return l instanceof Ky}(a))return{values:{},errors:yS(xH(a.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}const yH=ae("ZodISODateTime",(t,e)=>{$V.init(t,e),$t.init(t,e)});function bH(t){return q$(yH,t)}const _H=ae("ZodISODate",(t,e)=>{HV.init(t,e),$t.init(t,e)});function wH(t){return X$(_H,t)}const SH=ae("ZodISOTime",(t,e)=>{GV.init(t,e),$t.init(t,e)});function EH(t){return K$(SH,t)}const CH=ae("ZodISODuration",(t,e)=>{WV.init(t,e),$t.init(t,e)});function NH(t){return Y$(CH,t)}const TH=(t,e)=>{Ky.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>O7(t,n)},flatten:{value:n=>L7(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Zg,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Zg,2)}},isEmpty:{get(){return t.issues.length===0}}})},Hr=ae("ZodError",TH,{Parent:Error}),MH=mp(Hr),AH=gp(Hr),RH=xp(Hr),jH=vp(Hr),PH=V7(Hr),kH=$7(Hr),DH=H7(Hr),IH=G7(Hr),LH=W7(Hr),OH=q7(Hr),UH=X7(Hr),FH=K7(Hr),hn=ae("ZodType",(t,e)=>(tn.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(co(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>ua(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>MH(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>RH(t,n,r),t.parseAsync=async(n,r)=>AH(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>jH(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>PH(t,n,r),t.decode=(n,r)=>kH(t,n,r),t.encodeAsync=async(n,r)=>DH(t,n,r),t.decodeAsync=async(n,r)=>IH(t,n,r),t.safeEncode=(n,r)=>LH(t,n,r),t.safeDecode=(n,r)=>OH(t,n,r),t.safeEncodeAsync=async(n,r)=>UH(t,n,r),t.safeDecodeAsync=async(n,r)=>FH(t,n,r),t.refine=(n,r)=>t.check(DG(n,r)),t.superRefine=n=>t.check(IG(n)),t.overwrite=n=>t.check(Yl(n)),t.optional=()=>OS(t),t.nullable=()=>US(t),t.nullish=()=>OS(US(t)),t.nonoptional=n=>TG(t,n),t.array=()=>hG(t),t.or=n=>gG([t,n]),t.and=n=>vG(t,n),t.transform=n=>FS(t,_G(n)),t.default=n=>EG(t,n),t.prefault=n=>NG(t,n),t.catch=n=>AG(t,n),t.pipe=n=>FS(t,n),t.readonly=()=>PG(t),t.describe=n=>{const r=t.clone();return Vd.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=Vd.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Vd.get(t);const r=t.clone();return Vd.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),VA=ae("_ZodString",(t,e)=>{Yy.init(t,e),hn.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(tH(...r)),t.includes=(...r)=>t.check(sH(...r)),t.startsWith=(...r)=>t.check(iH(...r)),t.endsWith=(...r)=>t.check(aH(...r)),t.min=(...r)=>t.check(Mf(...r)),t.max=(...r)=>t.check(zA(...r)),t.length=(...r)=>t.check(BA(...r)),t.nonempty=(...r)=>t.check(Mf(1,...r)),t.lowercase=r=>t.check(nH(r)),t.uppercase=r=>t.check(rH(r)),t.trim=()=>t.check(lH()),t.normalize=(...r)=>t.check(oH(...r)),t.toLowerCase=()=>t.check(cH()),t.toUpperCase=()=>t.check(uH()),t.slugify=()=>t.check(dH())}),zH=ae("ZodString",(t,e)=>{Yy.init(t,e),VA.init(t,e),t.email=n=>t.check(N$(BH,n)),t.url=n=>t.check(j$(VH,n)),t.jwt=n=>t.check(W$(rG,n)),t.emoji=n=>t.check(P$($H,n)),t.guid=n=>t.check(kS(IS,n)),t.uuid=n=>t.check(T$($d,n)),t.uuidv4=n=>t.check(M$($d,n)),t.uuidv6=n=>t.check(A$($d,n)),t.uuidv7=n=>t.check(R$($d,n)),t.nanoid=n=>t.check(k$(HH,n)),t.guid=n=>t.check(kS(IS,n)),t.cuid=n=>t.check(D$(GH,n)),t.cuid2=n=>t.check(I$(WH,n)),t.ulid=n=>t.check(L$(qH,n)),t.base64=n=>t.check($$(eG,n)),t.base64url=n=>t.check(H$(tG,n)),t.xid=n=>t.check(O$(XH,n)),t.ksuid=n=>t.check(U$(KH,n)),t.ipv4=n=>t.check(F$(YH,n)),t.ipv6=n=>t.check(z$(ZH,n)),t.cidrv4=n=>t.check(B$(JH,n)),t.cidrv6=n=>t.check(V$(QH,n)),t.e164=n=>t.check(G$(nG,n)),t.datetime=n=>t.check(bH(n)),t.date=n=>t.check(wH(n)),t.time=n=>t.check(EH(n)),t.duration=n=>t.check(NH(n))});function Ps(t){return C$(zH,t)}const $t=ae("ZodStringFormat",(t,e)=>{It.init(t,e),VA.init(t,e)}),BH=ae("ZodEmail",(t,e)=>{DV.init(t,e),$t.init(t,e)}),IS=ae("ZodGUID",(t,e)=>{PV.init(t,e),$t.init(t,e)}),$d=ae("ZodUUID",(t,e)=>{kV.init(t,e),$t.init(t,e)}),VH=ae("ZodURL",(t,e)=>{IV.init(t,e),$t.init(t,e)}),$H=ae("ZodEmoji",(t,e)=>{LV.init(t,e),$t.init(t,e)}),HH=ae("ZodNanoID",(t,e)=>{OV.init(t,e),$t.init(t,e)}),GH=ae("ZodCUID",(t,e)=>{UV.init(t,e),$t.init(t,e)}),WH=ae("ZodCUID2",(t,e)=>{FV.init(t,e),$t.init(t,e)}),qH=ae("ZodULID",(t,e)=>{zV.init(t,e),$t.init(t,e)}),XH=ae("ZodXID",(t,e)=>{BV.init(t,e),$t.init(t,e)}),KH=ae("ZodKSUID",(t,e)=>{VV.init(t,e),$t.init(t,e)}),YH=ae("ZodIPv4",(t,e)=>{qV.init(t,e),$t.init(t,e)}),ZH=ae("ZodIPv6",(t,e)=>{XV.init(t,e),$t.init(t,e)}),JH=ae("ZodCIDRv4",(t,e)=>{KV.init(t,e),$t.init(t,e)}),QH=ae("ZodCIDRv6",(t,e)=>{YV.init(t,e),$t.init(t,e)}),eG=ae("ZodBase64",(t,e)=>{ZV.init(t,e),$t.init(t,e)}),tG=ae("ZodBase64URL",(t,e)=>{QV.init(t,e),$t.init(t,e)}),nG=ae("ZodE164",(t,e)=>{e$.init(t,e),$t.init(t,e)}),rG=ae("ZodJWT",(t,e)=>{n$.init(t,e),$t.init(t,e)}),sG=ae("ZodBoolean",(t,e)=>{r$.init(t,e),hn.init(t,e)});function iG(t){return Z$(sG,t)}const aG=ae("ZodAny",(t,e)=>{s$.init(t,e),hn.init(t,e)});function oG(){return J$(aG)}const lG=ae("ZodUnknown",(t,e)=>{i$.init(t,e),hn.init(t,e)});function LS(){return Q$(lG)}const cG=ae("ZodNever",(t,e)=>{a$.init(t,e),hn.init(t,e)});function uG(t){return eH(cG,t)}const dG=ae("ZodArray",(t,e)=>{o$.init(t,e),hn.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Mf(n,r)),t.nonempty=n=>t.check(Mf(1,n)),t.max=(n,r)=>t.check(zA(n,r)),t.length=(n,r)=>t.check(BA(n,r)),t.unwrap=()=>t.element});function hG(t,e){return hH(dG,t,e)}const fG=ae("ZodObject",(t,e)=>{c$.init(t,e),hn.init(t,e),Nt(t,"shape",()=>e.shape),t.keyof=()=>yG(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:LS()}),t.loose=()=>t.clone({...t._zod.def,catchall:LS()}),t.strict=()=>t.clone({...t._zod.def,catchall:uG()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>j7(t,n),t.safeExtend=n=>P7(t,n),t.merge=n=>k7(t,n),t.pick=n=>A7(t,n),t.omit=n=>R7(t,n),t.partial=(...n)=>D7($A,t,n[0]),t.required=(...n)=>I7(HA,t,n[0])});function pG(t,e){const n={type:"object",shape:t??{},...We(e)};return new fG(n)}const mG=ae("ZodUnion",(t,e)=>{u$.init(t,e),hn.init(t,e),t.options=e.options});function gG(t,e){return new mG({type:"union",options:t,...We(e)})}const xG=ae("ZodIntersection",(t,e)=>{d$.init(t,e),hn.init(t,e)});function vG(t,e){return new xG({type:"intersection",left:t,right:e})}const Qg=ae("ZodEnum",(t,e)=>{h$.init(t,e),hn.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const a of r)if(n.has(a))i[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Qg({...e,checks:[],...We(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const a of r)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new Qg({...e,checks:[],...We(s),entries:i})}});function yG(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Qg({type:"enum",entries:n,...We(e)})}const bG=ae("ZodTransform",(t,e)=>{f$.init(t,e),hn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new MA(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Tu(i,n.value,e));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(Tu(a))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function _G(t){return new bG({type:"transform",transform:t})}const $A=ae("ZodOptional",(t,e)=>{p$.init(t,e),hn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function OS(t){return new $A({type:"optional",innerType:t})}const wG=ae("ZodNullable",(t,e)=>{m$.init(t,e),hn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function US(t){return new wG({type:"nullable",innerType:t})}const SG=ae("ZodDefault",(t,e)=>{g$.init(t,e),hn.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function EG(t,e){return new SG({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():jA(e)}})}const CG=ae("ZodPrefault",(t,e)=>{x$.init(t,e),hn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function NG(t,e){return new CG({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():jA(e)}})}const HA=ae("ZodNonOptional",(t,e)=>{v$.init(t,e),hn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function TG(t,e){return new HA({type:"nonoptional",innerType:t,...We(e)})}const MG=ae("ZodCatch",(t,e)=>{y$.init(t,e),hn.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function AG(t,e){return new MG({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const RG=ae("ZodPipe",(t,e)=>{b$.init(t,e),hn.init(t,e),t.in=e.in,t.out=e.out});function FS(t,e){return new RG({type:"pipe",in:t,out:e})}const jG=ae("ZodReadonly",(t,e)=>{_$.init(t,e),hn.init(t,e),t.unwrap=()=>t._zod.def.innerType});function PG(t){return new jG({type:"readonly",innerType:t})}const kG=ae("ZodCustom",(t,e)=>{w$.init(t,e),hn.init(t,e)});function DG(t,e={}){return fH(kG,t,e)}function IG(t){return pH(t)}const Fs=_.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,"data-slot":"input",className:Dt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),ref:r,...n}));Fs.displayName="Input";const GA=_.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{"data-slot":"textarea",className:Dt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));GA.displayName="Textarea";var LG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OG=LG.reduce((t,e)=>{const n=oM(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),UG="Label",WA=_.forwardRef((t,e)=>o.jsx(OG.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WA.displayName=UG;var FG=WA;function fs({className:t,...e}){return o.jsx(FG,{"data-slot":"label",className:Dt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function zG(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function BG(t){const[e,n]=_.useState(void 0);return jl(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var bp="Checkbox",[VG]=bM(bp),[$G,Zy]=VG(bp);function HG(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[f,p]=_M({prop:n,defaultProp:s??!1,onChange:c,caller:bp}),[x,m]=_.useState(null),[v,g]=_.useState(null),y=_.useRef(!1),b=x?!!a||!!x.closest("form"):!0,w={checked:f,disabled:i,setChecked:p,control:x,setControl:m,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Xi(s)?!1:s,isFormControl:b,bubbleInput:v,setBubbleInput:g};return o.jsx($G,{scope:e,...w,children:GG(h)?h(w):r})}var qA="CheckboxTrigger",XA=_.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:x}=Zy(qA,t),m=hi(s,d),v=_.useRef(c);return _.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const y=()=>h(v.current);return g.addEventListener("reset",y),()=>g.removeEventListener("reset",y)}},[i,h]),o.jsx($r.button,{type:"button",role:"checkbox","aria-checked":Xi(c)?"mixed":c,"aria-required":u,"data-state":eR(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:m,onKeyDown:Cs(e,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Cs(n,g=>{h(y=>Xi(y)?!0:!y),x&&p&&(f.current=g.isPropagationStopped(),f.current||g.stopPropagation())})})});XA.displayName=qA;var KA=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return o.jsx(HG,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>o.jsxs(o.Fragment,{children:[o.jsx(XA,{...h,ref:e,__scopeCheckbox:n}),f&&o.jsx(QA,{__scopeCheckbox:n})]})})});KA.displayName=bp;var YA="CheckboxIndicator",ZA=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Zy(YA,n);return o.jsx(Wu,{present:r||Xi(i.checked)||i.checked===!0,children:o.jsx($r.span,{"data-state":eR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});ZA.displayName=YA;var JA="CheckboxBubbleInput",QA=_.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:p}=Zy(JA,t),x=hi(n,p),m=zG(i),v=BG(r);_.useEffect(()=>{const y=f;if(!y)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set,N=!s.current;if(m!==i&&S){const M=new Event("click",{bubbles:N});y.indeterminate=Xi(i),S.call(y,Xi(i)?!1:i),y.dispatchEvent(M)}},[f,m,i,s]);const g=_.useRef(Xi(i)?!1:i);return o.jsx($r.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??g.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:x,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});QA.displayName=JA;function GG(t){return typeof t=="function"}function Xi(t){return t==="indeterminate"}function eR(t){return Xi(t)?"indeterminate":t?"checked":"unchecked"}function WG({className:t,...e}){return o.jsx(KA,{"data-slot":"checkbox",className:Dt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(ZA,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(TO,{className:"size-3.5"})})})}const qG=pG({email:Ps().email("Invalid email address"),full_name:Ps().min(2,"Full name is required"),prn:Ps().min(1,"PRN is required"),division:Ps().min(1,"Division is required"),roll_number:Ps().min(1,"Roll number is required"),date_of_birth:Ps().min(1,"Date of birth is required"),date:Ps().min(1,"Date is required"),address:Ps().min(5,"Address is required"),contact_number:Ps().min(10,"Valid contact number is required"),payment_confirmed:iG().refine(t=>t===!0,"You must confirm payment"),screenshot:oG().optional()});function XG(){const[t,e]=_.useState(!1),[n,r]=_.useState(null),[s,i]=_.useState(null),[a,l]=_.useState(1),c=w7({resolver:vH(qG),defaultValues:{payment_confirmed:!1}}),u=c.watch("full_name");_.useEffect(()=>{d()},[]);const d=async()=>{const{data:m}=await le.from("payment_settings").select("*").single();i(m||{bank_name:"Canara Bank",account_holder_name:"SAKEC ACM STUDENT CHAPTER",account_number:"8678101302064",ifsc_code:"CNRB0000105",account_type:"Savings",upi_id:"",fee_amount:400,qr_code_url:""})},h=async()=>{const m=["email","full_name","prn","division","roll_number","date_of_birth","date","address","contact_number"];await c.trigger(m)&&l(2)},f=async m=>{if(!n){Mn.error("Please upload the payment screenshot");return}e(!0);try{const v=n.name.split(".").pop(),g=`${m.prn}_${Date.now()}.${v}`,{error:y}=await le.storage.from("membership_payment_screenshots").upload(g,n);if(y)throw y;const{data:{publicUrl:b}}=le.storage.from("membership_payment_screenshots").getPublicUrl(g),{date:w,payment_confirmed:S,date_of_birth:N,...M}=m,{error:A}=await le.from("membership_applications").insert({...M,dob:N,payment_screenshot_url:b,status:"pending"});if(A)throw A;fetch("/api/send-membership-confirmation.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.full_name,email:m.email})}).catch(T=>console.error("Email send error:",T)),Mn.success("Application submitted successfully! Check your email for confirmation."),c.reset(),r(null),l(1)}catch(v){console.error("Submission error:",v),Mn.error(v.message||"Failed to submit application. Please try again.")}finally{e(!1)}},p=()=>{if(!(s!=null&&s.upi_id))return"";const m=s.upi_id,v=u||"Student",g=s.fee_amount||400;return`upi://pay?pa=${m}&pn=${encodeURIComponent(v)}&am=${g}&cu=INR&tn=${encodeURIComponent("Membership Fee")}`},x=[{icon:YN,text:"ACM Digital Library resources"},{icon:ZN,text:"Networking opportunities with industry experts and researchers"},{icon:Tg,text:"Workshops, hackathons, and coding competitions"},{icon:nT,text:"Exclusive career guidance and mentorship opportunities"},{icon:zO,text:"Official membership certificate"},{icon:Sr,text:"A chance to be part of a global computing community"},{icon:jO,text:"Team celebrations & trekking"}];return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:"SAKEC ACM Student Chapter Membership  2025"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Welcome to SAKEC ACM Student Chapter Membership  2025 "})]}),a===1&&o.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:o.jsxs("div",{className:"p-8 space-y-6",children:[o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"The Association for Computing Machinery (ACM) is the world's largest educational and scientific computing society, bringing together computing educators, researchers, and professionals to inspire dialogue, share resources, and tackle challenges in the field of computing."}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"By joining the SAKEC ACM Student Chapter, you will gain access to:"}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:x.map((m,v)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsx(m.icon,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm text-gray-700",children:m.text})]},v))})]})]})}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden p-6 md:p-8",children:[o.jsxs("div",{className:"flex items-center justify-center mb-8",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full font-bold ${a>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"1"}),o.jsx("div",{className:`w-20 h-1 bg-gray-200 mx-2 ${a>=2?"bg-blue-600":""}`}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full font-bold ${a>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"2"})]}),o.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-6",children:[a===1&&o.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Personal Details"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"email",className:"flex gap-1",children:["Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("email"),id:"email",type:"email",placeholder:"email@example.com"}),c.formState.errors.email&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"full_name",className:"flex gap-1",children:["Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("full_name"),id:"full_name",placeholder:"John Doe"}),c.formState.errors.full_name&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.full_name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"prn",className:"flex gap-1",children:["PRN ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("prn"),id:"prn",placeholder:"PRN Number"}),c.formState.errors.prn&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.prn.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"division",className:"flex gap-1",children:["Division ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("division"),id:"division",placeholder:"e.g. A"}),c.formState.errors.division&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.division.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"roll_number",className:"flex gap-1",children:["Roll Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("roll_number"),id:"roll_number",placeholder:"e.g. 15"}),c.formState.errors.roll_number&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.roll_number.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"date_of_birth",className:"flex gap-1",children:["Date of Birth ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("date_of_birth"),id:"date_of_birth",type:"date"}),c.formState.errors.date_of_birth&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.date_of_birth.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"date",className:"flex gap-1",children:["Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("date"),id:"date",type:"date"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Date of application"}),c.formState.errors.date&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.date.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"contact_number",className:"flex gap-1",children:["Contact Number ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Fs,{...c.register("contact_number"),id:"contact_number",placeholder:"Mobile Number"}),c.formState.errors.contact_number&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.contact_number.message})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fs,{htmlFor:"address",className:"flex gap-1",children:["Address ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(GA,{...c.register("address"),id:"address",placeholder:"Your full address"}),c.formState.errors.address&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.address.message})]}),o.jsx(En,{type:"button",onClick:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Next: Payment Details"})]}),a===2&&o.jsxs(Ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(XN,{className:"w-6 h-6 text-blue-600"})," Payment"]}),o.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-blue-100 shadow-sm",children:[o.jsx("span",{className:"font-medium text-gray-900",children:"Total Amount"}),o.jsxs("span",{className:"text-3xl font-bold text-blue-700",children:["",(s==null?void 0:s.fee_amount)||400]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center justify-center",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md border border-gray-100 flex flex-col items-center",children:[s!=null&&s.upi_id?o.jsx(bA,{value:p(),size:200,level:"H",includeMargin:!0}):s!=null&&s.qr_code_url?o.jsx("img",{src:s.qr_code_url,alt:"Payment QR",className:"w-48 h-48 object-contain"}):o.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 text-gray-400",children:"No QR Code"}),o.jsx("p",{className:"mt-3 text-sm font-semibold text-gray-900",children:"Scan to Pay"}),o.jsxs("p",{className:"text-xs text-gray-500",children:["UPI: ",s==null?void 0:s.upi_id]})]}),o.jsxs("div",{className:"flex-1 space-y-3 text-sm w-full",children:[o.jsx("h4",{className:"font-semibold text-gray-900 border-b pb-2",children:"Bank Transfer Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("span",{className:"text-gray-500",children:"Bank:"}),o.jsx("span",{className:"font-medium text-gray-900",children:s==null?void 0:s.bank_name}),o.jsx("span",{className:"text-gray-500",children:"Account No:"}),o.jsx("span",{className:"font-medium text-gray-900",children:s==null?void 0:s.account_number}),o.jsx("span",{className:"text-gray-500",children:"IFSC:"}),o.jsx("span",{className:"font-medium text-gray-900",children:s==null?void 0:s.ifsc_code}),o.jsx("span",{className:"text-gray-500",children:"Holder:"}),o.jsx("span",{className:"font-medium text-gray-900",children:s==null?void 0:s.account_holder_name})]})]})]})]}),o.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100",children:[o.jsxs(fs,{className:"flex gap-1 text-lg",children:["Upload Payment Screenshot ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"mt-2 flex justify-center rounded-xl border-2 border-dashed border-gray-300 px-6 py-10 hover:bg-gray-50 transition-colors bg-white",children:o.jsx("div",{className:"text-center",children:n?o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(WN,{className:"mx-auto h-12 w-12 text-green-500","aria-hidden":"true"}),o.jsx("p",{className:"mt-2 text-sm font-semibold text-green-600 truncate max-w-xs",children:n.name}),o.jsx(En,{variant:"ghost",size:"sm",onClick:()=>r(null),className:"mt-2 text-red-500 hover:text-red-700",children:"Remove"})]}):o.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[o.jsx(bu,{className:"mx-auto h-12 w-12 text-gray-400","aria-hidden":"true"}),o.jsxs("div",{className:"mt-4 flex text-sm leading-6 text-gray-600",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-semibold text-blue-600 focus-within:outline-none hover:text-blue-500",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:"image/*",onChange:m=>{m.target.files&&m.target.files[0]&&r(m.target.files[0])}})]}),o.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),o.jsx("p",{className:"text-xs leading-5 text-gray-500",children:"PNG, JPG up to 10MB"})]})})})]}),o.jsxs("div",{className:"flex items-start space-x-3 pt-2",children:[o.jsx(WG,{id:"confirm",checked:c.watch("payment_confirmed"),onCheckedChange:m=>c.setValue("payment_confirmed",m),className:"mt-1"}),o.jsxs("label",{htmlFor:"confirm",className:"text-sm font-medium leading-tight text-gray-700",children:["I confirm that the details provided are accurate and the payment of ",o.jsxs("span",{className:"font-bold text-gray-900",children:["",s==null?void 0:s.fee_amount]})," has been completed. ",o.jsx("span",{className:"text-red-500",children:"*"})]})]}),c.formState.errors.payment_confirmed&&o.jsx("p",{className:"text-sm text-red-500",children:c.formState.errors.payment_confirmed.message}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx(En,{type:"button",variant:"outline",onClick:()=>l(1),className:"flex-1",children:"Back"}),o.jsx(En,{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(Ml,{className:"mr-2 h-4 w-4 animate-spin"})," Submitting..."]}):"Submit Application"})]})]})]})]})]})})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Jy="181",KG=0,zS=1,YG=2,tR=1,ZG=2,zs=3,Qi=0,ir=1,Hs=2,Js=0,gl=1,BS=2,VS=3,$S=4,JG=5,Pa=100,QG=101,eW=102,tW=103,nW=104,rW=200,sW=201,iW=202,aW=203,ex=204,tx=205,oW=206,lW=207,cW=208,uW=209,dW=210,hW=211,fW=212,pW=213,mW=214,nx=0,rx=1,sx=2,Pl=3,ix=4,ax=5,ox=6,lx=7,nR=0,gW=1,xW=2,Ki=0,vW=1,yW=2,bW=3,_W=4,wW=5,SW=6,EW=7,rR=300,kl=301,Dl=302,cx=303,ux=304,_p=306,dx=1e3,qs=1001,hx=1002,br=1003,CW=1004,Hd=1005,Or=1006,Om=1007,za=1008,ai=1009,sR=1010,iR=1011,Mu=1012,Qy=1013,eo=1014,Xs=1015,Zl=1016,eb=1017,tb=1018,Au=1020,aR=35902,oR=35899,lR=1021,cR=1022,as=1023,Ru=1026,ju=1027,uR=1028,nb=1029,rb=1030,sb=1031,ib=1033,Ph=33776,kh=33777,Dh=33778,Ih=33779,fx=35840,px=35841,mx=35842,gx=35843,xx=36196,vx=37492,yx=37496,bx=37808,_x=37809,wx=37810,Sx=37811,Ex=37812,Cx=37813,Nx=37814,Tx=37815,Mx=37816,Ax=37817,Rx=37818,jx=37819,Px=37820,kx=37821,Dx=36492,Ix=36494,Lx=36495,Ox=36283,Ux=36284,Fx=36285,zx=36286,NW=3200,TW=3201,MW=0,AW=1,Pi="",jr="srgb",Il="srgb-linear",Af="linear",vt="srgb",So=7680,HS=519,RW=512,jW=513,PW=514,dR=515,kW=516,DW=517,IW=518,LW=519,GS=35044,WS="300 es",bs=2e3,Rf=2001;function hR(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function jf(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function OW(){const t=jf("canvas");return t.style.display="block",t}const qS={};function XS(...t){const e="THREE."+t.shift();console.log(e,...t)}function Qe(...t){const e="THREE."+t.shift();console.warn(e,...t)}function Qt(...t){const e="THREE."+t.shift();console.error(e,...t)}function Pu(...t){const e=t.join(" ");e in qS||(qS[e]=!0,Qe(...t))}function UW(t,e,n){return new Promise(function(r,s){function i(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(i,n);break;default:r()}}setTimeout(i,n)})}class Jl{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const s=r[e];if(s!==void 0){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let i=0,a=s.length;i<a;i++)s[i].call(this,e);e.target=null}}}const Dn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Um=Math.PI/180,Bx=180/Math.PI;function Xu(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Dn[t&255]+Dn[t>>8&255]+Dn[t>>16&255]+Dn[t>>24&255]+"-"+Dn[e&255]+Dn[e>>8&255]+"-"+Dn[e>>16&15|64]+Dn[e>>24&255]+"-"+Dn[n&63|128]+Dn[n>>8&255]+"-"+Dn[n>>16&255]+Dn[n>>24&255]+Dn[r&255]+Dn[r>>8&255]+Dn[r>>16&255]+Dn[r>>24&255]).toLowerCase()}function ct(t,e,n){return Math.max(e,Math.min(n,t))}function FW(t,e){return(t%e+e)%e}function Fm(t,e,n){return(1-n)*t+n*e}function mc(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Jn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class yt{constructor(e=0,n=0){yt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6],this.y=s[1]*n+s[4]*r+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=ct(this.x,e.x,n.x),this.y=ct(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=ct(this.x,e,n),this.y=ct(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ct(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ct(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),s=Math.sin(n),i=this.x-e.x,a=this.y-e.y;return this.x=i*r-a*s+e.x,this.y=i*s+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ku{constructor(e=0,n=0,r=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=s}static slerpFlat(e,n,r,s,i,a,l){let c=r[s+0],u=r[s+1],d=r[s+2],h=r[s+3],f=i[a+0],p=i[a+1],x=i[a+2],m=i[a+3];if(l<=0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h;return}if(l>=1){e[n+0]=f,e[n+1]=p,e[n+2]=x,e[n+3]=m;return}if(h!==m||c!==f||u!==p||d!==x){let v=c*f+u*p+d*x+h*m;v<0&&(f=-f,p=-p,x=-x,m=-m,v=-v);let g=1-l;if(v<.9995){const y=Math.acos(v),b=Math.sin(y);g=Math.sin(g*y)/b,l=Math.sin(l*y)/b,c=c*g+f*l,u=u*g+p*l,d=d*g+x*l,h=h*g+m*l}else{c=c*g+f*l,u=u*g+p*l,d=d*g+x*l,h=h*g+m*l;const y=1/Math.sqrt(c*c+u*u+d*d+h*h);c*=y,u*=y,d*=y,h*=y}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,s,i,a){const l=r[s],c=r[s+1],u=r[s+2],d=r[s+3],h=i[a],f=i[a+1],p=i[a+2],x=i[a+3];return e[n]=l*x+d*h+c*p-u*f,e[n+1]=c*x+d*f+u*h-l*p,e[n+2]=u*x+d*p+l*f-c*h,e[n+3]=d*x-l*h-c*f-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,s){return this._x=e,this._y=n,this._z=r,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,s=e._y,i=e._z,a=e._order,l=Math.cos,c=Math.sin,u=l(r/2),d=l(s/2),h=l(i/2),f=c(r/2),p=c(s/2),x=c(i/2);switch(a){case"XYZ":this._x=f*d*h+u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h-f*p*x;break;case"YXZ":this._x=f*d*h+u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h+f*p*x;break;case"ZXY":this._x=f*d*h-u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h-f*p*x;break;case"ZYX":this._x=f*d*h-u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h+f*p*x;break;case"YZX":this._x=f*d*h+u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h-f*p*x;break;case"XZY":this._x=f*d*h-u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h+f*p*x;break;default:Qe("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,s=Math.sin(r);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],s=n[4],i=n[8],a=n[1],l=n[5],c=n[9],u=n[2],d=n[6],h=n[10],f=r+l+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(d-c)*p,this._y=(i-u)*p,this._z=(a-s)*p}else if(r>l&&r>h){const p=2*Math.sqrt(1+r-l-h);this._w=(d-c)/p,this._x=.25*p,this._y=(s+a)/p,this._z=(i+u)/p}else if(l>h){const p=2*Math.sqrt(1+l-r-h);this._w=(i-u)/p,this._x=(s+a)/p,this._y=.25*p,this._z=(c+d)/p}else{const p=2*Math.sqrt(1+h-r-l);this._w=(a-s)/p,this._x=(i+u)/p,this._y=(c+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ct(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const s=Math.min(1,n/r);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,s=e._y,i=e._z,a=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+a*l+s*u-i*c,this._y=s*d+a*c+i*l-r*u,this._z=i*d+a*u+r*c-s*l,this._w=a*d-r*l-s*c-i*u,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,s=e._y,i=e._z,a=e._w,l=this.dot(e);l<0&&(r=-r,s=-s,i=-i,a=-a,l=-l);let c=1-n;if(l<.9995){const u=Math.acos(l),d=Math.sin(u);c=Math.sin(c*u)/d,n=Math.sin(n*u)/d,this._x=this._x*c+r*n,this._y=this._y*c+s*n,this._z=this._z*c+i*n,this._w=this._w*c+a*n,this._onChangeCallback()}else this._x=this._x*c+r*n,this._y=this._y*c+s*n,this._z=this._z*c+i*n,this._w=this._w*c+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),s=Math.sqrt(1-r),i=Math.sqrt(r);return this.set(s*Math.sin(e),s*Math.cos(e),i*Math.sin(n),i*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,n=0,r=0){te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(KS.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(KS.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,s=this.z,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6]*s,this.y=i[1]*n+i[4]*r+i[7]*s,this.z=i[2]*n+i[5]*r+i[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,i=e.elements,a=1/(i[3]*n+i[7]*r+i[11]*s+i[15]);return this.x=(i[0]*n+i[4]*r+i[8]*s+i[12])*a,this.y=(i[1]*n+i[5]*r+i[9]*s+i[13])*a,this.z=(i[2]*n+i[6]*r+i[10]*s+i[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,s=this.z,i=e.x,a=e.y,l=e.z,c=e.w,u=2*(a*s-l*r),d=2*(l*n-i*s),h=2*(i*r-a*n);return this.x=n+c*u+a*h-l*d,this.y=r+c*d+l*u-i*h,this.z=s+c*h+i*d-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,s=this.z,i=e.elements;return this.x=i[0]*n+i[4]*r+i[8]*s,this.y=i[1]*n+i[5]*r+i[9]*s,this.z=i[2]*n+i[6]*r+i[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=ct(this.x,e.x,n.x),this.y=ct(this.y,e.y,n.y),this.z=ct(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=ct(this.x,e,n),this.y=ct(this.y,e,n),this.z=ct(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ct(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,s=e.y,i=e.z,a=n.x,l=n.y,c=n.z;return this.x=s*c-i*l,this.y=i*a-r*c,this.z=r*l-s*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return zm.copy(this).projectOnVector(e),this.sub(zm)}reflect(e){return this.sub(zm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ct(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,s=this.z-e.z;return n*n+r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const s=Math.sin(n)*e;return this.x=s*Math.sin(r),this.y=Math.cos(n)*e,this.z=s*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const zm=new te,KS=new Ku;class tt{constructor(e,n,r,s,i,a,l,c,u){tt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,s,i,a,l,c,u)}set(e,n,r,s,i,a,l,c,u){const d=this.elements;return d[0]=e,d[1]=s,d[2]=l,d[3]=n,d[4]=i,d[5]=c,d[6]=r,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,i=this.elements,a=r[0],l=r[3],c=r[6],u=r[1],d=r[4],h=r[7],f=r[2],p=r[5],x=r[8],m=s[0],v=s[3],g=s[6],y=s[1],b=s[4],w=s[7],S=s[2],N=s[5],M=s[8];return i[0]=a*m+l*y+c*S,i[3]=a*v+l*b+c*N,i[6]=a*g+l*w+c*M,i[1]=u*m+d*y+h*S,i[4]=u*v+d*b+h*N,i[7]=u*g+d*w+h*M,i[2]=f*m+p*y+x*S,i[5]=f*v+p*b+x*N,i[8]=f*g+p*w+x*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*a*d-n*l*u-r*i*d+r*l*c+s*i*u-s*a*c}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=d*a-l*u,f=l*c-d*i,p=u*i-a*c,x=n*h+r*f+s*p;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/x;return e[0]=h*m,e[1]=(s*u-d*r)*m,e[2]=(l*r-s*a)*m,e[3]=f*m,e[4]=(d*n-s*c)*m,e[5]=(s*i-l*n)*m,e[6]=p*m,e[7]=(r*c-u*n)*m,e[8]=(a*n-r*i)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,s,i,a,l){const c=Math.cos(i),u=Math.sin(i);return this.set(r*c,r*u,-r*(c*a+u*l)+a+e,-s*u,s*c,-s*(-u*a+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(Bm.makeScale(e,n)),this}rotate(e){return this.premultiply(Bm.makeRotation(-e)),this}translate(e,n){return this.premultiply(Bm.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<9;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Bm=new tt,YS=new tt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ZS=new tt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function zW(){const t={enabled:!0,workingColorSpace:Il,spaces:{},convert:function(s,i,a){return this.enabled===!1||i===a||!i||!a||(this.spaces[i].transfer===vt&&(s.r=Qs(s.r),s.g=Qs(s.g),s.b=Qs(s.b)),this.spaces[i].primaries!==this.spaces[a].primaries&&(s.applyMatrix3(this.spaces[i].toXYZ),s.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===vt&&(s.r=xl(s.r),s.g=xl(s.g),s.b=xl(s.b))),s},workingToColorSpace:function(s,i){return this.convert(s,this.workingColorSpace,i)},colorSpaceToWorking:function(s,i){return this.convert(s,i,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Pi?Af:this.spaces[s].transfer},getToneMappingMode:function(s){return this.spaces[s].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(s,i=this.workingColorSpace){return s.fromArray(this.spaces[i].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,i,a){return s.copy(this.spaces[i].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,i){return Pu("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(s,i)},toWorkingColorSpace:function(s,i){return Pu("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(s,i)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Il]:{primaries:e,whitePoint:r,transfer:Af,toXYZ:YS,fromXYZ:ZS,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:jr},outputColorSpaceConfig:{drawingBufferColorSpace:jr}},[jr]:{primaries:e,whitePoint:r,transfer:vt,toXYZ:YS,fromXYZ:ZS,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:jr}}}),t}const ft=zW();function Qs(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function xl(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Eo;class BW{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Eo===void 0&&(Eo=jf("canvas")),Eo.width=e.width,Eo.height=e.height;const s=Eo.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),r=Eo}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=jf("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),i=s.data;for(let a=0;a<i.length;a++)i[a]=Qs(i[a]/255)*255;return r.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Qs(n[r]/255)*255):n[r]=Qs(n[r]);return{data:n,width:e.width,height:e.height}}else return Qe("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let VW=0;class ab{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:VW++}),this.uuid=Xu(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},s=this.data;if(s!==null){let i;if(Array.isArray(s)){i=[];for(let a=0,l=s.length;a<l;a++)s[a].isDataTexture?i.push(Vm(s[a].image)):i.push(Vm(s[a]))}else i=Vm(s);r.url=i}return n||(e.images[this.uuid]=r),r}}function Vm(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?BW.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Qe("Texture: Unable to serialize Texture."),{})}let $W=0;const $m=new te;class Fn extends Jl{constructor(e=Fn.DEFAULT_IMAGE,n=Fn.DEFAULT_MAPPING,r=qs,s=qs,i=Or,a=za,l=as,c=ai,u=Fn.DEFAULT_ANISOTROPY,d=Pi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$W++}),this.uuid=Xu(),this.name="",this.source=new ab(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=i,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new yt(0,0),this.repeat=new yt(1,1),this.center=new yt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize($m).x}get height(){return this.source.getSize($m).y}get depth(){return this.source.getSize($m).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Qe(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){Qe(`Texture.setValues(): property '${n}' does not exist.`);continue}s&&r&&s.isVector2&&r.isVector2||s&&r&&s.isVector3&&r.isVector3||s&&r&&s.isMatrix3&&r.isMatrix3?s.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==rR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case dx:e.x=e.x-Math.floor(e.x);break;case qs:e.x=e.x<0?0:1;break;case hx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case dx:e.y=e.y-Math.floor(e.y);break;case qs:e.y=e.y<0?0:1;break;case hx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Fn.DEFAULT_IMAGE=null;Fn.DEFAULT_MAPPING=rR;Fn.DEFAULT_ANISOTROPY=1;class en{constructor(e=0,n=0,r=0,s=1){en.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,s){return this.x=e,this.y=n,this.z=r,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,i=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*s+a[12]*i,this.y=a[1]*n+a[5]*r+a[9]*s+a[13]*i,this.z=a[2]*n+a[6]*r+a[10]*s+a[14]*i,this.w=a[3]*n+a[7]*r+a[11]*s+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,s,i;const c=e.elements,u=c[0],d=c[4],h=c[8],f=c[1],p=c[5],x=c[9],m=c[2],v=c[6],g=c[10];if(Math.abs(d-f)<.01&&Math.abs(h-m)<.01&&Math.abs(x-v)<.01){if(Math.abs(d+f)<.1&&Math.abs(h+m)<.1&&Math.abs(x+v)<.1&&Math.abs(u+p+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,w=(p+1)/2,S=(g+1)/2,N=(d+f)/4,M=(h+m)/4,A=(x+v)/4;return b>w&&b>S?b<.01?(r=0,s=.707106781,i=.707106781):(r=Math.sqrt(b),s=N/r,i=M/r):w>S?w<.01?(r=.707106781,s=0,i=.707106781):(s=Math.sqrt(w),r=N/s,i=A/s):S<.01?(r=.707106781,s=.707106781,i=0):(i=Math.sqrt(S),r=M/i,s=A/i),this.set(r,s,i,n),this}let y=Math.sqrt((v-x)*(v-x)+(h-m)*(h-m)+(f-d)*(f-d));return Math.abs(y)<.001&&(y=1),this.x=(v-x)/y,this.y=(h-m)/y,this.z=(f-d)/y,this.w=Math.acos((u+p+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=ct(this.x,e.x,n.x),this.y=ct(this.y,e.y,n.y),this.z=ct(this.z,e.z,n.z),this.w=ct(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=ct(this.x,e,n),this.y=ct(this.y,e,n),this.z=ct(this.z,e,n),this.w=ct(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(ct(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class HW extends Jl{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Or,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new en(0,0,e,n),this.scissorTest=!1,this.viewport=new en(0,0,e,n);const s={width:e,height:n,depth:r.depth},i=new Fn(s);this.textures=[];const a=r.count;for(let l=0;l<a;l++)this.textures[l]=i.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Or,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let s=0,i=this.textures.length;s<i;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=r,this.textures[s].isData3DTexture!==!0&&(this.textures[s].isArrayTexture=this.textures[s].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const s=Object.assign({},e.textures[n].image);this.textures[n].source=new ab(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class to extends HW{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class fR extends Fn{constructor(e=null,n=1,r=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=br,this.minFilter=br,this.wrapR=qs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class GW extends Fn{constructor(e=null,n=1,r=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=br,this.minFilter=br,this.wrapR=qs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Yu{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(qr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(qr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=qr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const i=r.getAttribute("position");if(n===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=i.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,qr):qr.fromBufferAttribute(i,a),qr.applyMatrix4(e.matrixWorld),this.expandByPoint(qr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Gd.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Gd.copy(r.boundingBox)),Gd.applyMatrix4(e.matrixWorld),this.union(Gd)}const s=e.children;for(let i=0,a=s.length;i<a;i++)this.expandByObject(s[i],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,qr),qr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gc),Wd.subVectors(this.max,gc),Co.subVectors(e.a,gc),No.subVectors(e.b,gc),To.subVectors(e.c,gc),xi.subVectors(No,Co),vi.subVectors(To,No),xa.subVectors(Co,To);let n=[0,-xi.z,xi.y,0,-vi.z,vi.y,0,-xa.z,xa.y,xi.z,0,-xi.x,vi.z,0,-vi.x,xa.z,0,-xa.x,-xi.y,xi.x,0,-vi.y,vi.x,0,-xa.y,xa.x,0];return!Hm(n,Co,No,To,Wd)||(n=[1,0,0,0,1,0,0,0,1],!Hm(n,Co,No,To,Wd))?!1:(qd.crossVectors(xi,vi),n=[qd.x,qd.y,qd.z],Hm(n,Co,No,To,Wd))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ks[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ks[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ks[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ks[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ks[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ks[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ks[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ks[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ks),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ks=[new te,new te,new te,new te,new te,new te,new te,new te],qr=new te,Gd=new Yu,Co=new te,No=new te,To=new te,xi=new te,vi=new te,xa=new te,gc=new te,Wd=new te,qd=new te,va=new te;function Hm(t,e,n,r,s){for(let i=0,a=t.length-3;i<=a;i+=3){va.fromArray(t,i);const l=s.x*Math.abs(va.x)+s.y*Math.abs(va.y)+s.z*Math.abs(va.z),c=e.dot(va),u=n.dot(va),d=r.dot(va);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const WW=new Yu,xc=new te,Gm=new te;class wp{constructor(e=new te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):WW.setFromPoints(e).getCenter(r);let s=0;for(let i=0,a=e.length;i<a;i++)s=Math.max(s,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;xc.subVectors(e,this.center);const n=xc.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),s=(r-this.radius)*.5;this.center.addScaledVector(xc,s/r),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Gm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(xc.copy(e.center).add(Gm)),this.expandByPoint(xc.copy(e.center).sub(Gm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Ds=new te,Wm=new te,Xd=new te,yi=new te,qm=new te,Kd=new te,Xm=new te;class pR{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ds)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ds.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ds.copy(this.origin).addScaledVector(this.direction,n),Ds.distanceToSquared(e))}distanceSqToSegment(e,n,r,s){Wm.copy(e).add(n).multiplyScalar(.5),Xd.copy(n).sub(e).normalize(),yi.copy(this.origin).sub(Wm);const i=e.distanceTo(n)*.5,a=-this.direction.dot(Xd),l=yi.dot(this.direction),c=-yi.dot(Xd),u=yi.lengthSq(),d=Math.abs(1-a*a);let h,f,p,x;if(d>0)if(h=a*c-l,f=a*l-c,x=i*d,h>=0)if(f>=-x)if(f<=x){const m=1/d;h*=m,f*=m,p=h*(h+a*f+2*l)+f*(a*h+f+2*c)+u}else f=i,h=Math.max(0,-(a*f+l)),p=-h*h+f*(f+2*c)+u;else f=-i,h=Math.max(0,-(a*f+l)),p=-h*h+f*(f+2*c)+u;else f<=-x?(h=Math.max(0,-(-a*i+l)),f=h>0?-i:Math.min(Math.max(-i,-c),i),p=-h*h+f*(f+2*c)+u):f<=x?(h=0,f=Math.min(Math.max(-i,-c),i),p=f*(f+2*c)+u):(h=Math.max(0,-(a*i+l)),f=h>0?i:Math.min(Math.max(-i,-c),i),p=-h*h+f*(f+2*c)+u);else f=a>0?-i:i,h=Math.max(0,-(a*f+l)),p=-h*h+f*(f+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),s&&s.copy(Wm).addScaledVector(Xd,f),p}intersectSphere(e,n){Ds.subVectors(e.center,this.origin);const r=Ds.dot(this.direction),s=Ds.dot(Ds)-r*r,i=e.radius*e.radius;if(s>i)return null;const a=Math.sqrt(i-s),l=r-a,c=r+a;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,s,i,a,l,c;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,s=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,s=(e.min.x-f.x)*u),d>=0?(i=(e.min.y-f.y)*d,a=(e.max.y-f.y)*d):(i=(e.max.y-f.y)*d,a=(e.min.y-f.y)*d),r>a||i>s||((i>r||isNaN(r))&&(r=i),(a<s||isNaN(s))&&(s=a),h>=0?(l=(e.min.z-f.z)*h,c=(e.max.z-f.z)*h):(l=(e.max.z-f.z)*h,c=(e.min.z-f.z)*h),r>c||l>s)||((l>r||r!==r)&&(r=l),(c<s||s!==s)&&(s=c),s<0)?null:this.at(r>=0?r:s,n)}intersectsBox(e){return this.intersectBox(e,Ds)!==null}intersectTriangle(e,n,r,s,i){qm.subVectors(n,e),Kd.subVectors(r,e),Xm.crossVectors(qm,Kd);let a=this.direction.dot(Xm),l;if(a>0){if(s)return null;l=1}else if(a<0)l=-1,a=-a;else return null;yi.subVectors(this.origin,e);const c=l*this.direction.dot(Kd.crossVectors(yi,Kd));if(c<0)return null;const u=l*this.direction.dot(qm.cross(yi));if(u<0||c+u>a)return null;const d=-l*yi.dot(Xm);return d<0?null:this.at(d/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dn{constructor(e,n,r,s,i,a,l,c,u,d,h,f,p,x,m,v){dn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,s,i,a,l,c,u,d,h,f,p,x,m,v)}set(e,n,r,s,i,a,l,c,u,d,h,f,p,x,m,v){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=s,g[1]=i,g[5]=a,g[9]=l,g[13]=c,g[2]=u,g[6]=d,g[10]=h,g[14]=f,g[3]=p,g[7]=x,g[11]=m,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,s=1/Mo.setFromMatrixColumn(e,0).length(),i=1/Mo.setFromMatrixColumn(e,1).length(),a=1/Mo.setFromMatrixColumn(e,2).length();return n[0]=r[0]*s,n[1]=r[1]*s,n[2]=r[2]*s,n[3]=0,n[4]=r[4]*i,n[5]=r[5]*i,n[6]=r[6]*i,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,s=e.y,i=e.z,a=Math.cos(r),l=Math.sin(r),c=Math.cos(s),u=Math.sin(s),d=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const f=a*d,p=a*h,x=l*d,m=l*h;n[0]=c*d,n[4]=-c*h,n[8]=u,n[1]=p+x*u,n[5]=f-m*u,n[9]=-l*c,n[2]=m-f*u,n[6]=x+p*u,n[10]=a*c}else if(e.order==="YXZ"){const f=c*d,p=c*h,x=u*d,m=u*h;n[0]=f+m*l,n[4]=x*l-p,n[8]=a*u,n[1]=a*h,n[5]=a*d,n[9]=-l,n[2]=p*l-x,n[6]=m+f*l,n[10]=a*c}else if(e.order==="ZXY"){const f=c*d,p=c*h,x=u*d,m=u*h;n[0]=f-m*l,n[4]=-a*h,n[8]=x+p*l,n[1]=p+x*l,n[5]=a*d,n[9]=m-f*l,n[2]=-a*u,n[6]=l,n[10]=a*c}else if(e.order==="ZYX"){const f=a*d,p=a*h,x=l*d,m=l*h;n[0]=c*d,n[4]=x*u-p,n[8]=f*u+m,n[1]=c*h,n[5]=m*u+f,n[9]=p*u-x,n[2]=-u,n[6]=l*c,n[10]=a*c}else if(e.order==="YZX"){const f=a*c,p=a*u,x=l*c,m=l*u;n[0]=c*d,n[4]=m-f*h,n[8]=x*h+p,n[1]=h,n[5]=a*d,n[9]=-l*d,n[2]=-u*d,n[6]=p*h+x,n[10]=f-m*h}else if(e.order==="XZY"){const f=a*c,p=a*u,x=l*c,m=l*u;n[0]=c*d,n[4]=-h,n[8]=u*d,n[1]=f*h+m,n[5]=a*d,n[9]=p*h-x,n[2]=x*h-p,n[6]=l*d,n[10]=m*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(qW,e,XW)}lookAt(e,n,r){const s=this.elements;return ur.subVectors(e,n),ur.lengthSq()===0&&(ur.z=1),ur.normalize(),bi.crossVectors(r,ur),bi.lengthSq()===0&&(Math.abs(r.z)===1?ur.x+=1e-4:ur.z+=1e-4,ur.normalize(),bi.crossVectors(r,ur)),bi.normalize(),Yd.crossVectors(ur,bi),s[0]=bi.x,s[4]=Yd.x,s[8]=ur.x,s[1]=bi.y,s[5]=Yd.y,s[9]=ur.y,s[2]=bi.z,s[6]=Yd.z,s[10]=ur.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,i=this.elements,a=r[0],l=r[4],c=r[8],u=r[12],d=r[1],h=r[5],f=r[9],p=r[13],x=r[2],m=r[6],v=r[10],g=r[14],y=r[3],b=r[7],w=r[11],S=r[15],N=s[0],M=s[4],A=s[8],T=s[12],C=s[1],j=s[5],D=s[9],z=s[13],H=s[2],$=s[6],Z=s[10],B=s[14],I=s[3],V=s[7],K=s[11],se=s[15];return i[0]=a*N+l*C+c*H+u*I,i[4]=a*M+l*j+c*$+u*V,i[8]=a*A+l*D+c*Z+u*K,i[12]=a*T+l*z+c*B+u*se,i[1]=d*N+h*C+f*H+p*I,i[5]=d*M+h*j+f*$+p*V,i[9]=d*A+h*D+f*Z+p*K,i[13]=d*T+h*z+f*B+p*se,i[2]=x*N+m*C+v*H+g*I,i[6]=x*M+m*j+v*$+g*V,i[10]=x*A+m*D+v*Z+g*K,i[14]=x*T+m*z+v*B+g*se,i[3]=y*N+b*C+w*H+S*I,i[7]=y*M+b*j+w*$+S*V,i[11]=y*A+b*D+w*Z+S*K,i[15]=y*T+b*z+w*B+S*se,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],s=e[8],i=e[12],a=e[1],l=e[5],c=e[9],u=e[13],d=e[2],h=e[6],f=e[10],p=e[14],x=e[3],m=e[7],v=e[11],g=e[15];return x*(+i*c*h-s*u*h-i*l*f+r*u*f+s*l*p-r*c*p)+m*(+n*c*p-n*u*f+i*a*f-s*a*p+s*u*d-i*c*d)+v*(+n*u*h-n*l*p-i*a*h+r*a*p+i*l*d-r*u*d)+g*(-s*l*d-n*c*h+n*l*f+s*a*h-r*a*f+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],x=e[12],m=e[13],v=e[14],g=e[15],y=h*v*u-m*f*u+m*c*p-l*v*p-h*c*g+l*f*g,b=x*f*u-d*v*u-x*c*p+a*v*p+d*c*g-a*f*g,w=d*m*u-x*h*u+x*l*p-a*m*p-d*l*g+a*h*g,S=x*h*c-d*m*c-x*l*f+a*m*f+d*l*v-a*h*v,N=n*y+r*b+s*w+i*S;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/N;return e[0]=y*M,e[1]=(m*f*i-h*v*i-m*s*p+r*v*p+h*s*g-r*f*g)*M,e[2]=(l*v*i-m*c*i+m*s*u-r*v*u-l*s*g+r*c*g)*M,e[3]=(h*c*i-l*f*i-h*s*u+r*f*u+l*s*p-r*c*p)*M,e[4]=b*M,e[5]=(d*v*i-x*f*i+x*s*p-n*v*p-d*s*g+n*f*g)*M,e[6]=(x*c*i-a*v*i-x*s*u+n*v*u+a*s*g-n*c*g)*M,e[7]=(a*f*i-d*c*i+d*s*u-n*f*u-a*s*p+n*c*p)*M,e[8]=w*M,e[9]=(x*h*i-d*m*i-x*r*p+n*m*p+d*r*g-n*h*g)*M,e[10]=(a*m*i-x*l*i+x*r*u-n*m*u-a*r*g+n*l*g)*M,e[11]=(d*l*i-a*h*i-d*r*u+n*h*u+a*r*p-n*l*p)*M,e[12]=S*M,e[13]=(d*m*s-x*h*s+x*r*f-n*m*f-d*r*v+n*h*v)*M,e[14]=(x*l*s-a*m*s-x*r*c+n*m*c+a*r*v-n*l*v)*M,e[15]=(a*h*s-d*l*s+d*r*c-n*h*c-a*r*f+n*l*f)*M,this}scale(e){const n=this.elements,r=e.x,s=e.y,i=e.z;return n[0]*=r,n[4]*=s,n[8]*=i,n[1]*=r,n[5]*=s,n[9]*=i,n[2]*=r,n[6]*=s,n[10]*=i,n[3]*=r,n[7]*=s,n[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,s))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),s=Math.sin(n),i=1-r,a=e.x,l=e.y,c=e.z,u=i*a,d=i*l;return this.set(u*a+r,u*l-s*c,u*c+s*l,0,u*l+s*c,d*l+r,d*c-s*a,0,u*c-s*l,d*c+s*a,i*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,s,i,a){return this.set(1,r,i,0,e,1,a,0,n,s,1,0,0,0,0,1),this}compose(e,n,r){const s=this.elements,i=n._x,a=n._y,l=n._z,c=n._w,u=i+i,d=a+a,h=l+l,f=i*u,p=i*d,x=i*h,m=a*d,v=a*h,g=l*h,y=c*u,b=c*d,w=c*h,S=r.x,N=r.y,M=r.z;return s[0]=(1-(m+g))*S,s[1]=(p+w)*S,s[2]=(x-b)*S,s[3]=0,s[4]=(p-w)*N,s[5]=(1-(f+g))*N,s[6]=(v+y)*N,s[7]=0,s[8]=(x+b)*M,s[9]=(v-y)*M,s[10]=(1-(f+m))*M,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,r){const s=this.elements;let i=Mo.set(s[0],s[1],s[2]).length();const a=Mo.set(s[4],s[5],s[6]).length(),l=Mo.set(s[8],s[9],s[10]).length();this.determinant()<0&&(i=-i),e.x=s[12],e.y=s[13],e.z=s[14],Xr.copy(this);const u=1/i,d=1/a,h=1/l;return Xr.elements[0]*=u,Xr.elements[1]*=u,Xr.elements[2]*=u,Xr.elements[4]*=d,Xr.elements[5]*=d,Xr.elements[6]*=d,Xr.elements[8]*=h,Xr.elements[9]*=h,Xr.elements[10]*=h,n.setFromRotationMatrix(Xr),r.x=i,r.y=a,r.z=l,this}makePerspective(e,n,r,s,i,a,l=bs,c=!1){const u=this.elements,d=2*i/(n-e),h=2*i/(r-s),f=(n+e)/(n-e),p=(r+s)/(r-s);let x,m;if(c)x=i/(a-i),m=a*i/(a-i);else if(l===bs)x=-(a+i)/(a-i),m=-2*a*i/(a-i);else if(l===Rf)x=-a/(a-i),m=-a*i/(a-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=d,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=h,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=x,u[14]=m,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,s,i,a,l=bs,c=!1){const u=this.elements,d=2/(n-e),h=2/(r-s),f=-(n+e)/(n-e),p=-(r+s)/(r-s);let x,m;if(c)x=1/(a-i),m=a/(a-i);else if(l===bs)x=-2/(a-i),m=-(a+i)/(a-i);else if(l===Rf)x=-1/(a-i),m=-i/(a-i);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=d,u[4]=0,u[8]=0,u[12]=f,u[1]=0,u[5]=h,u[9]=0,u[13]=p,u[2]=0,u[6]=0,u[10]=x,u[14]=m,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<16;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Mo=new te,Xr=new dn,qW=new te(0,0,0),XW=new te(1,1,1),bi=new te,Yd=new te,ur=new te,JS=new dn,QS=new Ku;class oi{constructor(e=0,n=0,r=0,s=oi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,s=this._order){return this._x=e,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const s=e.elements,i=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(n){case"XYZ":this._y=Math.asin(ct(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-ct(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(ct(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-ct(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(ct(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-ct(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-d,p),this._y=0);break;default:Qe("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return JS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(JS,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return QS.setFromEuler(this),this.setFromQuaternion(QS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}oi.DEFAULT_ORDER="XYZ";class mR{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let KW=0;const e2=new te,Ao=new Ku,Is=new dn,Zd=new te,vc=new te,YW=new te,ZW=new Ku,t2=new te(1,0,0),n2=new te(0,1,0),r2=new te(0,0,1),s2={type:"added"},JW={type:"removed"},Ro={type:"childadded",child:null},Km={type:"childremoved",child:null};class ar extends Jl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:KW++}),this.uuid=Xu(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ar.DEFAULT_UP.clone();const e=new te,n=new oi,r=new Ku,s=new te(1,1,1);function i(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(i),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new dn},normalMatrix:{value:new tt}}),this.matrix=new dn,this.matrixWorld=new dn,this.matrixAutoUpdate=ar.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ar.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new mR,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ao.setFromAxisAngle(e,n),this.quaternion.multiply(Ao),this}rotateOnWorldAxis(e,n){return Ao.setFromAxisAngle(e,n),this.quaternion.premultiply(Ao),this}rotateX(e){return this.rotateOnAxis(t2,e)}rotateY(e){return this.rotateOnAxis(n2,e)}rotateZ(e){return this.rotateOnAxis(r2,e)}translateOnAxis(e,n){return e2.copy(e).applyQuaternion(this.quaternion),this.position.add(e2.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(t2,e)}translateY(e){return this.translateOnAxis(n2,e)}translateZ(e){return this.translateOnAxis(r2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Is.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Zd.copy(e):Zd.set(e,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),vc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Is.lookAt(vc,Zd,this.up):Is.lookAt(Zd,vc,this.up),this.quaternion.setFromRotationMatrix(Is),s&&(Is.extractRotation(s.matrixWorld),Ao.setFromRotationMatrix(Is),this.quaternion.premultiply(Ao.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Qt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(s2),Ro.child=e,this.dispatchEvent(Ro),Ro.child=null):Qt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(JW),Km.child=e,this.dispatchEvent(Km),Km.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Is.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Is.multiply(e.parent.matrixWorld)),e.applyMatrix4(Is),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(s2),Ro.child=e,this.dispatchEvent(Ro),Ro.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const s=this.children;for(let i=0,a=s.length;i<a;i++)s[i].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vc,e,YW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vc,ZW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let i=0,a=s.length;i<a;i++)s[i].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(l=>({...l})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const h=c[u];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(i(e.materials,this.material[c]));s.material=l}else s.material=i(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];s.animations.push(i(e.animations,c))}}if(n){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),h=a(e.shapes),f=a(e.skeletons),p=a(e.animations),x=a(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),x.length>0&&(r.nodes=x)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const s=e.children[r];this.add(s.clone())}return this}}ar.DEFAULT_UP=new te(0,1,0);ar.DEFAULT_MATRIX_AUTO_UPDATE=!0;ar.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Kr=new te,Ls=new te,Ym=new te,Os=new te,jo=new te,Po=new te,i2=new te,Zm=new te,Jm=new te,Qm=new te,e0=new en,t0=new en,n0=new en;class is{constructor(e=new te,n=new te,r=new te){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,s){s.subVectors(r,n),Kr.subVectors(e,n),s.cross(Kr);const i=s.lengthSq();return i>0?s.multiplyScalar(1/Math.sqrt(i)):s.set(0,0,0)}static getBarycoord(e,n,r,s,i){Kr.subVectors(s,n),Ls.subVectors(r,n),Ym.subVectors(e,n);const a=Kr.dot(Kr),l=Kr.dot(Ls),c=Kr.dot(Ym),u=Ls.dot(Ls),d=Ls.dot(Ym),h=a*u-l*l;if(h===0)return i.set(0,0,0),null;const f=1/h,p=(u*c-l*d)*f,x=(a*d-l*c)*f;return i.set(1-p-x,x,p)}static containsPoint(e,n,r,s){return this.getBarycoord(e,n,r,s,Os)===null?!1:Os.x>=0&&Os.y>=0&&Os.x+Os.y<=1}static getInterpolation(e,n,r,s,i,a,l,c){return this.getBarycoord(e,n,r,s,Os)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,Os.x),c.addScaledVector(a,Os.y),c.addScaledVector(l,Os.z),c)}static getInterpolatedAttribute(e,n,r,s,i,a){return e0.setScalar(0),t0.setScalar(0),n0.setScalar(0),e0.fromBufferAttribute(e,n),t0.fromBufferAttribute(e,r),n0.fromBufferAttribute(e,s),a.setScalar(0),a.addScaledVector(e0,i.x),a.addScaledVector(t0,i.y),a.addScaledVector(n0,i.z),a}static isFrontFacing(e,n,r,s){return Kr.subVectors(r,n),Ls.subVectors(e,n),Kr.cross(Ls).dot(s)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,s){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,r,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Kr.subVectors(this.c,this.b),Ls.subVectors(this.a,this.b),Kr.cross(Ls).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return is.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return is.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,s,i){return is.getInterpolation(e,this.a,this.b,this.c,n,r,s,i)}containsPoint(e){return is.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return is.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,s=this.b,i=this.c;let a,l;jo.subVectors(s,r),Po.subVectors(i,r),Zm.subVectors(e,r);const c=jo.dot(Zm),u=Po.dot(Zm);if(c<=0&&u<=0)return n.copy(r);Jm.subVectors(e,s);const d=jo.dot(Jm),h=Po.dot(Jm);if(d>=0&&h<=d)return n.copy(s);const f=c*h-d*u;if(f<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(r).addScaledVector(jo,a);Qm.subVectors(e,i);const p=jo.dot(Qm),x=Po.dot(Qm);if(x>=0&&p<=x)return n.copy(i);const m=p*u-c*x;if(m<=0&&u>=0&&x<=0)return l=u/(u-x),n.copy(r).addScaledVector(Po,l);const v=d*x-p*h;if(v<=0&&h-d>=0&&p-x>=0)return i2.subVectors(i,s),l=(h-d)/(h-d+(p-x)),n.copy(s).addScaledVector(i2,l);const g=1/(v+m+f);return a=m*g,l=f*g,n.copy(r).addScaledVector(jo,a).addScaledVector(Po,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const gR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_i={h:0,s:0,l:0},Jd={h:0,s:0,l:0};function r0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class pt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=jr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ft.colorSpaceToWorking(this,n),this}setRGB(e,n,r,s=ft.workingColorSpace){return this.r=e,this.g=n,this.b=r,ft.colorSpaceToWorking(this,s),this}setHSL(e,n,r,s=ft.workingColorSpace){if(e=FW(e,1),n=ct(n,0,1),r=ct(r,0,1),n===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=r0(a,i,e+1/3),this.g=r0(a,i,e),this.b=r0(a,i,e-1/3)}return ft.colorSpaceToWorking(this,s),this}setStyle(e,n=jr){function r(i){i!==void 0&&parseFloat(i)<1&&Qe("Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const a=s[1],l=s[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:Qe("Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=s[1],a=i.length;if(a===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(i,16),n);Qe("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=jr){const r=gR[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Qe("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qs(e.r),this.g=Qs(e.g),this.b=Qs(e.b),this}copyLinearToSRGB(e){return this.r=xl(e.r),this.g=xl(e.g),this.b=xl(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=jr){return ft.workingToColorSpace(In.copy(this),e),Math.round(ct(In.r*255,0,255))*65536+Math.round(ct(In.g*255,0,255))*256+Math.round(ct(In.b*255,0,255))}getHexString(e=jr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ft.workingColorSpace){ft.workingToColorSpace(In.copy(this),n);const r=In.r,s=In.g,i=In.b,a=Math.max(r,s,i),l=Math.min(r,s,i);let c,u;const d=(l+a)/2;if(l===a)c=0,u=0;else{const h=a-l;switch(u=d<=.5?h/(a+l):h/(2-a-l),a){case r:c=(s-i)/h+(s<i?6:0);break;case s:c=(i-r)/h+2;break;case i:c=(r-s)/h+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=ft.workingColorSpace){return ft.workingToColorSpace(In.copy(this),n),e.r=In.r,e.g=In.g,e.b=In.b,e}getStyle(e=jr){ft.workingToColorSpace(In.copy(this),e);const n=In.r,r=In.g,s=In.b;return e!==jr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(s*255)})`}offsetHSL(e,n,r){return this.getHSL(_i),this.setHSL(_i.h+e,_i.s+n,_i.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(_i),e.getHSL(Jd);const r=Fm(_i.h,Jd.h,n),s=Fm(_i.s,Jd.s,n),i=Fm(_i.l,Jd.l,n);return this.setHSL(r,s,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,s=this.b,i=e.elements;return this.r=i[0]*n+i[3]*r+i[6]*s,this.g=i[1]*n+i[4]*r+i[7]*s,this.b=i[2]*n+i[5]*r+i[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const In=new pt;pt.NAMES=gR;let QW=0;class Zu extends Jl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:QW++}),this.uuid=Xu(),this.name="",this.type="Material",this.blending=gl,this.side=Qi,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ex,this.blendDst=tx,this.blendEquation=Pa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pt(0,0,0),this.blendAlpha=0,this.depthFunc=Pl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=HS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=So,this.stencilZFail=So,this.stencilZPass=So,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Qe(`Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){Qe(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(r):s&&s.isVector3&&r&&r.isVector3?s.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==gl&&(r.blending=this.blending),this.side!==Qi&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ex&&(r.blendSrc=this.blendSrc),this.blendDst!==tx&&(r.blendDst=this.blendDst),this.blendEquation!==Pa&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Pl&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==HS&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==So&&(r.stencilFail=this.stencilFail),this.stencilZFail!==So&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==So&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function s(i){const a=[];for(const l in i){const c=i[l];delete c.metadata,a.push(c)}return a}if(n){const i=s(e.textures),a=s(e.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const s=n.length;r=new Array(s);for(let i=0;i!==s;++i)r[i]=n[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class xR extends Zu{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new oi,this.combine=nR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const nn=new te,Qd=new yt;let eq=0;class Ns{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:eq++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=GS,this.updateRanges=[],this.gpuType=Xs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let s=0,i=this.itemSize;s<i;s++)this.array[e+s]=n.array[r+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Qd.fromBufferAttribute(this,n),Qd.applyMatrix3(e),this.setXY(n,Qd.x,Qd.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)nn.fromBufferAttribute(this,n),nn.applyMatrix3(e),this.setXYZ(n,nn.x,nn.y,nn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)nn.fromBufferAttribute(this,n),nn.applyMatrix4(e),this.setXYZ(n,nn.x,nn.y,nn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)nn.fromBufferAttribute(this,n),nn.applyNormalMatrix(e),this.setXYZ(n,nn.x,nn.y,nn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)nn.fromBufferAttribute(this,n),nn.transformDirection(e),this.setXYZ(n,nn.x,nn.y,nn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=mc(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Jn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=mc(n,this.array)),n}setX(e,n){return this.normalized&&(n=Jn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=mc(n,this.array)),n}setY(e,n){return this.normalized&&(n=Jn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=mc(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Jn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=mc(n,this.array)),n}setW(e,n){return this.normalized&&(n=Jn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Jn(n,this.array),r=Jn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,s){return e*=this.itemSize,this.normalized&&(n=Jn(n,this.array),r=Jn(r,this.array),s=Jn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this}setXYZW(e,n,r,s,i){return e*=this.itemSize,this.normalized&&(n=Jn(n,this.array),r=Jn(r,this.array),s=Jn(s,this.array),i=Jn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==GS&&(e.usage=this.usage),e}}class vR extends Ns{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class yR extends Ns{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class ei extends Ns{constructor(e,n,r){super(new Float32Array(e),n,r)}}let tq=0;const Mr=new dn,s0=new ar,ko=new te,dr=new Yu,yc=new Yu,yn=new te;class As extends Jl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:tq++}),this.uuid=Xu(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hR(e)?yR:vR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const i=new tt().getNormalMatrix(e);r.applyNormalMatrix(i),r.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mr.makeRotationFromQuaternion(e),this.applyMatrix4(Mr),this}rotateX(e){return Mr.makeRotationX(e),this.applyMatrix4(Mr),this}rotateY(e){return Mr.makeRotationY(e),this.applyMatrix4(Mr),this}rotateZ(e){return Mr.makeRotationZ(e),this.applyMatrix4(Mr),this}translate(e,n,r){return Mr.makeTranslation(e,n,r),this.applyMatrix4(Mr),this}scale(e,n,r){return Mr.makeScale(e,n,r),this.applyMatrix4(Mr),this}lookAt(e){return s0.lookAt(e),s0.updateMatrix(),this.applyMatrix4(s0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ko).negate(),this.translate(ko.x,ko.y,ko.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let s=0,i=e.length;s<i;s++){const a=e[s];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new ei(r,3))}else{const r=Math.min(e.length,n.count);for(let s=0;s<r;s++){const i=e[s];n.setXYZ(s,i.x,i.y,i.z||0)}e.length>n.count&&Qe("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yu);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Qt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,s=n.length;r<s;r++){const i=n[r];dr.setFromBufferAttribute(i),this.morphTargetsRelative?(yn.addVectors(this.boundingBox.min,dr.min),this.boundingBox.expandByPoint(yn),yn.addVectors(this.boundingBox.max,dr.max),this.boundingBox.expandByPoint(yn)):(this.boundingBox.expandByPoint(dr.min),this.boundingBox.expandByPoint(dr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Qt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wp);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Qt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const r=this.boundingSphere.center;if(dr.setFromBufferAttribute(e),n)for(let i=0,a=n.length;i<a;i++){const l=n[i];yc.setFromBufferAttribute(l),this.morphTargetsRelative?(yn.addVectors(dr.min,yc.min),dr.expandByPoint(yn),yn.addVectors(dr.max,yc.max),dr.expandByPoint(yn)):(dr.expandByPoint(yc.min),dr.expandByPoint(yc.max))}dr.getCenter(r);let s=0;for(let i=0,a=e.count;i<a;i++)yn.fromBufferAttribute(e,i),s=Math.max(s,r.distanceToSquared(yn));if(n)for(let i=0,a=n.length;i<a;i++){const l=n[i],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)yn.fromBufferAttribute(l,u),c&&(ko.fromBufferAttribute(e,u),yn.add(ko)),s=Math.max(s,r.distanceToSquared(yn))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&Qt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Qt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,s=n.normal,i=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ns(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),l=[],c=[];for(let A=0;A<r.count;A++)l[A]=new te,c[A]=new te;const u=new te,d=new te,h=new te,f=new yt,p=new yt,x=new yt,m=new te,v=new te;function g(A,T,C){u.fromBufferAttribute(r,A),d.fromBufferAttribute(r,T),h.fromBufferAttribute(r,C),f.fromBufferAttribute(i,A),p.fromBufferAttribute(i,T),x.fromBufferAttribute(i,C),d.sub(u),h.sub(u),p.sub(f),x.sub(f);const j=1/(p.x*x.y-x.x*p.y);isFinite(j)&&(m.copy(d).multiplyScalar(x.y).addScaledVector(h,-p.y).multiplyScalar(j),v.copy(h).multiplyScalar(p.x).addScaledVector(d,-x.x).multiplyScalar(j),l[A].add(m),l[T].add(m),l[C].add(m),c[A].add(v),c[T].add(v),c[C].add(v))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let A=0,T=y.length;A<T;++A){const C=y[A],j=C.start,D=C.count;for(let z=j,H=j+D;z<H;z+=3)g(e.getX(z+0),e.getX(z+1),e.getX(z+2))}const b=new te,w=new te,S=new te,N=new te;function M(A){S.fromBufferAttribute(s,A),N.copy(S);const T=l[A];b.copy(T),b.sub(S.multiplyScalar(S.dot(T))).normalize(),w.crossVectors(N,T);const j=w.dot(c[A])<0?-1:1;a.setXYZW(A,b.x,b.y,b.z,j)}for(let A=0,T=y.length;A<T;++A){const C=y[A],j=C.start,D=C.count;for(let z=j,H=j+D;z<H;z+=3)M(e.getX(z+0)),M(e.getX(z+1)),M(e.getX(z+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ns(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const s=new te,i=new te,a=new te,l=new te,c=new te,u=new te,d=new te,h=new te;if(e)for(let f=0,p=e.count;f<p;f+=3){const x=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);s.fromBufferAttribute(n,x),i.fromBufferAttribute(n,m),a.fromBufferAttribute(n,v),d.subVectors(a,i),h.subVectors(s,i),d.cross(h),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,m),u.fromBufferAttribute(r,v),l.add(d),c.add(d),u.add(d),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let f=0,p=n.count;f<p;f+=3)s.fromBufferAttribute(n,f+0),i.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),d.subVectors(a,i),h.subVectors(s,i),d.cross(h),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)yn.fromBufferAttribute(e,n),yn.normalize(),e.setXYZ(n,yn.x,yn.y,yn.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,h=l.normalized,f=new u.constructor(c.length*d);let p=0,x=0;for(let m=0,v=c.length;m<v;m++){l.isInterleavedBufferAttribute?p=c[m]*l.data.stride+l.offset:p=c[m]*d;for(let g=0;g<d;g++)f[x++]=u[p++]}return new Ns(f,d,h)}if(this.index===null)return Qe("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new As,r=this.index.array,s=this.attributes;for(const l in s){const c=s[l],u=e(c,r);n.setAttribute(l,u)}const i=this.morphAttributes;for(const l in i){const c=[],u=i[l];for(let d=0,h=u.length;d<h;d++){const f=u[d],p=e(f,r);c.push(p)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const s={};let i=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let h=0,f=u.length;h<f;h++){const p=u[h];d.push(p.toJSON(e.data))}d.length>0&&(s[c]=d,i=!0)}i&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const s=e.attributes;for(const u in s){const d=s[u];this.setAttribute(u,d.clone(n))}const i=e.morphAttributes;for(const u in i){const d=[],h=i[u];for(let f=0,p=h.length;f<p;f++)d.push(h[f].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const h=a[u];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const a2=new dn,ya=new pR,eh=new wp,o2=new te,th=new te,nh=new te,rh=new te,i0=new te,sh=new te,l2=new te,ih=new te;class ea extends ar{constructor(e=new As,n=new xR){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=s.length;i<a;i++){const l=s[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,n){const r=this.geometry,s=r.attributes.position,i=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(i&&l){sh.set(0,0,0);for(let c=0,u=i.length;c<u;c++){const d=l[c],h=i[c];d!==0&&(i0.fromBufferAttribute(h,e),a?sh.addScaledVector(i0,d):sh.addScaledVector(i0.sub(n),d))}n.add(sh)}return n}raycast(e,n){const r=this.geometry,s=this.material,i=this.matrixWorld;s!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),eh.copy(r.boundingSphere),eh.applyMatrix4(i),ya.copy(e.ray).recast(e.near),!(eh.containsPoint(ya.origin)===!1&&(ya.intersectSphere(eh,o2)===null||ya.origin.distanceToSquared(o2)>(e.far-e.near)**2))&&(a2.copy(i).invert(),ya.copy(e.ray).applyMatrix4(a2),!(r.boundingBox!==null&&ya.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,ya)))}_computeIntersections(e,n,r){let s;const i=this.geometry,a=this.material,l=i.index,c=i.attributes.position,u=i.attributes.uv,d=i.attributes.uv1,h=i.attributes.normal,f=i.groups,p=i.drawRange;if(l!==null)if(Array.isArray(a))for(let x=0,m=f.length;x<m;x++){const v=f[x],g=a[v.materialIndex],y=Math.max(v.start,p.start),b=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let w=y,S=b;w<S;w+=3){const N=l.getX(w),M=l.getX(w+1),A=l.getX(w+2);s=ah(this,g,e,r,u,d,h,N,M,A),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,n.push(s))}}else{const x=Math.max(0,p.start),m=Math.min(l.count,p.start+p.count);for(let v=x,g=m;v<g;v+=3){const y=l.getX(v),b=l.getX(v+1),w=l.getX(v+2);s=ah(this,a,e,r,u,d,h,y,b,w),s&&(s.faceIndex=Math.floor(v/3),n.push(s))}}else if(c!==void 0)if(Array.isArray(a))for(let x=0,m=f.length;x<m;x++){const v=f[x],g=a[v.materialIndex],y=Math.max(v.start,p.start),b=Math.min(c.count,Math.min(v.start+v.count,p.start+p.count));for(let w=y,S=b;w<S;w+=3){const N=w,M=w+1,A=w+2;s=ah(this,g,e,r,u,d,h,N,M,A),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,n.push(s))}}else{const x=Math.max(0,p.start),m=Math.min(c.count,p.start+p.count);for(let v=x,g=m;v<g;v+=3){const y=v,b=v+1,w=v+2;s=ah(this,a,e,r,u,d,h,y,b,w),s&&(s.faceIndex=Math.floor(v/3),n.push(s))}}}}function nq(t,e,n,r,s,i,a,l){let c;if(e.side===ir?c=r.intersectTriangle(a,i,s,!0,l):c=r.intersectTriangle(s,i,a,e.side===Qi,l),c===null)return null;ih.copy(l),ih.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(ih);return u<n.near||u>n.far?null:{distance:u,point:ih.clone(),object:t}}function ah(t,e,n,r,s,i,a,l,c,u){t.getVertexPosition(l,th),t.getVertexPosition(c,nh),t.getVertexPosition(u,rh);const d=nq(t,e,n,r,th,nh,rh,l2);if(d){const h=new te;is.getBarycoord(l2,th,nh,rh,h),s&&(d.uv=is.getInterpolatedAttribute(s,l,c,u,h,new yt)),i&&(d.uv1=is.getInterpolatedAttribute(i,l,c,u,h,new yt)),a&&(d.normal=is.getInterpolatedAttribute(a,l,c,u,h,new te),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:l,b:c,c:u,normal:new te,materialIndex:0};is.getNormal(th,nh,rh,f.normal),d.face=f,d.barycoord=h}return d}class Ju extends As{constructor(e=1,n=1,r=1,s=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:s,heightSegments:i,depthSegments:a};const l=this;s=Math.floor(s),i=Math.floor(i),a=Math.floor(a);const c=[],u=[],d=[],h=[];let f=0,p=0;x("z","y","x",-1,-1,r,n,e,a,i,0),x("z","y","x",1,-1,r,n,-e,a,i,1),x("x","z","y",1,1,e,r,n,s,a,2),x("x","z","y",1,-1,e,r,-n,s,a,3),x("x","y","z",1,-1,e,n,r,s,i,4),x("x","y","z",-1,-1,e,n,-r,s,i,5),this.setIndex(c),this.setAttribute("position",new ei(u,3)),this.setAttribute("normal",new ei(d,3)),this.setAttribute("uv",new ei(h,2));function x(m,v,g,y,b,w,S,N,M,A,T){const C=w/M,j=S/A,D=w/2,z=S/2,H=N/2,$=M+1,Z=A+1;let B=0,I=0;const V=new te;for(let K=0;K<Z;K++){const se=K*j-z;for(let de=0;de<$;de++){const Ee=de*C-D;V[m]=Ee*y,V[v]=se*b,V[g]=H,u.push(V.x,V.y,V.z),V[m]=0,V[v]=0,V[g]=N>0?1:-1,d.push(V.x,V.y,V.z),h.push(de/M),h.push(1-K/A),B+=1}}for(let K=0;K<A;K++)for(let se=0;se<M;se++){const de=f+se+$*K,Ee=f+se+$*(K+1),qe=f+(se+1)+$*(K+1),it=f+(se+1)+$*K;c.push(de,Ee,it),c.push(Ee,qe,it),I+=6}l.addGroup(p,I,T),p+=I,f+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ju(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ll(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const s=t[n][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(Qe("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=s.clone():Array.isArray(s)?e[n][r]=s.slice():e[n][r]=s}}return e}function Vn(t){const e={};for(let n=0;n<t.length;n++){const r=Ll(t[n]);for(const s in r)e[s]=r[s]}return e}function rq(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function bR(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ft.workingColorSpace}const sq={clone:Ll,merge:Vn};var iq=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,aq=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class li extends Zu{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=iq,this.fragmentShader=aq,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ll(e.uniforms),this.uniformsGroups=rq(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;a&&a.isTexture?n.uniforms[s]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[s]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[s]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[s]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[s]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[s]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[s]={type:"m4",value:a.toArray()}:n.uniforms[s]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const s in this.extensions)this.extensions[s]===!0&&(r[s]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class _R extends ar{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dn,this.projectionMatrix=new dn,this.projectionMatrixInverse=new dn,this.coordinateSystem=bs,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const wi=new te,c2=new yt,u2=new yt;class Dr extends _R{constructor(e=50,n=1,r=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Bx*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Um*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bx*2*Math.atan(Math.tan(Um*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){wi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(wi.x,wi.y).multiplyScalar(-e/wi.z),wi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(wi.x,wi.y).multiplyScalar(-e/wi.z)}getViewSize(e,n){return this.getViewBounds(e,c2,u2),n.subVectors(u2,c2)}setViewOffset(e,n,r,s,i,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Um*.5*this.fov)/this.zoom,r=2*n,s=this.aspect*r,i=-.5*s;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;i+=a.offsetX*s/c,n-=a.offsetY*r/u,s*=a.width/c,r*=a.height/u}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+s,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Do=-90,Io=1;class oq extends ar{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Dr(Do,Io,e,n);s.layers=this.layers,this.add(s);const i=new Dr(Do,Io,e,n);i.layers=this.layers,this.add(i);const a=new Dr(Do,Io,e,n);a.layers=this.layers,this.add(a);const l=new Dr(Do,Io,e,n);l.layers=this.layers,this.add(l);const c=new Dr(Do,Io,e,n);c.layers=this.layers,this.add(c);const u=new Dr(Do,Io,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,s,i,a,l,c]=n;for(const u of n)this.remove(u);if(e===bs)r.up.set(0,1,0),r.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Rf)r.up.set(0,-1,0),r.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,l,c,u,d]=this.children,h=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,s),e.render(n,i),e.setRenderTarget(r,1,s),e.render(n,a),e.setRenderTarget(r,2,s),e.render(n,l),e.setRenderTarget(r,3,s),e.render(n,c),e.setRenderTarget(r,4,s),e.render(n,u),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,s),e.render(n,d),e.setRenderTarget(h,f,p),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class wR extends Fn{constructor(e=[],n=kl,r,s,i,a,l,c,u,d){super(e,n,r,s,i,a,l,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lq extends to{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},s=[r,r,r,r,r,r];this.texture=new wR(s),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Ju(5,5,5),i=new li({name:"CubemapFromEquirect",uniforms:Ll(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ir,blending:Js});i.uniforms.tEquirect.value=n;const a=new ea(s,i),l=n.minFilter;return n.minFilter===za&&(n.minFilter=Or),new oq(1,10,this).update(e,a),n.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,s=!0){const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,s);e.setRenderTarget(i)}}class oh extends ar{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cq={type:"move"};class a0{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new oh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new oh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new oh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let s=null,i=null,a=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const m of e.hand.values()){const v=n.getJointPose(m,r),g=this._getHandJoint(u,m);v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=v!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],f=d.position.distanceTo(h.position),p=.02,x=.005;u.inputState.pinching&&f>p+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=p-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=n.getPose(e.gripSpace,r),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(s=n.getPose(e.targetRaySpace,r),s===null&&i!==null&&(s=i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(cq)))}return l!==null&&(l.visible=s!==null),c!==null&&(c.visible=i!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new oh;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class ob{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new pt(e),this.near=n,this.far=r}clone(){return new ob(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class uq extends ar{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new oi,this.environmentIntensity=1,this.environmentRotation=new oi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class dq extends Fn{constructor(e=null,n=1,r=1,s,i,a,l,c,u=br,d=br,h,f){super(null,a,l,c,u,d,s,i,h,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const o0=new te,hq=new te,fq=new tt;class Ma{constructor(e=new te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,s){return this.normal.set(e,n,r),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const s=o0.subVectors(r,n).cross(hq.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(o0),s=this.normal.dot(r);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/s;return i<0||i>1?null:n.copy(e.start).addScaledVector(r,i)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||fq.getNormalMatrix(e),s=this.coplanarPoint(o0).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ba=new wp,pq=new yt(.5,.5),lh=new te;class SR{constructor(e=new Ma,n=new Ma,r=new Ma,s=new Ma,i=new Ma,a=new Ma){this.planes=[e,n,r,s,i,a]}set(e,n,r,s,i,a){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(s),l[4].copy(i),l[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=bs,r=!1){const s=this.planes,i=e.elements,a=i[0],l=i[1],c=i[2],u=i[3],d=i[4],h=i[5],f=i[6],p=i[7],x=i[8],m=i[9],v=i[10],g=i[11],y=i[12],b=i[13],w=i[14],S=i[15];if(s[0].setComponents(u-a,p-d,g-x,S-y).normalize(),s[1].setComponents(u+a,p+d,g+x,S+y).normalize(),s[2].setComponents(u+l,p+h,g+m,S+b).normalize(),s[3].setComponents(u-l,p-h,g-m,S-b).normalize(),r)s[4].setComponents(c,f,v,w).normalize(),s[5].setComponents(u-c,p-f,g-v,S-w).normalize();else if(s[4].setComponents(u-c,p-f,g-v,S-w).normalize(),n===bs)s[5].setComponents(u+c,p+f,g+v,S+w).normalize();else if(n===Rf)s[5].setComponents(c,f,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ba.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ba.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ba)}intersectsSprite(e){ba.center.set(0,0,0);const n=pq.distanceTo(e.center);return ba.radius=.7071067811865476+n,ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(ba)}intersectsSphere(e){const n=this.planes,r=e.center,s=-e.radius;for(let i=0;i<6;i++)if(n[i].distanceToPoint(r)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const s=n[r];if(lh.x=s.normal.x>0?e.max.x:e.min.x,lh.y=s.normal.y>0?e.max.y:e.min.y,lh.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(lh)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class ER extends Zu{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const d2=new dn,Vx=new pR,ch=new wp,uh=new te;class h2 extends ar{constructor(e=new As,n=new ER){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,s=this.matrixWorld,i=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ch.copy(r.boundingSphere),ch.applyMatrix4(s),ch.radius+=i,e.ray.intersectsSphere(ch)===!1)return;d2.copy(s).invert(),Vx.copy(e.ray).applyMatrix4(d2);const l=i/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=r.index,h=r.attributes.position;if(u!==null){const f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let x=f,m=p;x<m;x++){const v=u.getX(x);uh.fromBufferAttribute(h,v),f2(uh,v,c,s,e,n,this)}}else{const f=Math.max(0,a.start),p=Math.min(h.count,a.start+a.count);for(let x=f,m=p;x<m;x++)uh.fromBufferAttribute(h,x),f2(uh,x,c,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=s.length;i<a;i++){const l=s[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}}function f2(t,e,n,r,s,i,a){const l=Vx.distanceSqToPoint(t);if(l<n){const c=new te;Vx.closestPointToPoint(t,c),c.applyMatrix4(r);const u=s.ray.origin.distanceTo(c);if(u<s.near||u>s.far)return;i.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class mq extends Fn{constructor(e,n,r,s,i,a,l,c,u){super(e,n,r,s,i,a,l,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class CR extends Fn{constructor(e,n,r=eo,s,i,a,l=br,c=br,u,d=Ru,h=1){if(d!==Ru&&d!==ju)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:h};super(f,s,i,a,l,c,d,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ab(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class NR extends Fn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Sp extends As{constructor(e=1,n=1,r=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:s};const i=e/2,a=n/2,l=Math.floor(r),c=Math.floor(s),u=l+1,d=c+1,h=e/l,f=n/c,p=[],x=[],m=[],v=[];for(let g=0;g<d;g++){const y=g*f-a;for(let b=0;b<u;b++){const w=b*h-i;x.push(w,-y,0),m.push(0,0,1),v.push(b/l),v.push(1-g/c)}}for(let g=0;g<c;g++)for(let y=0;y<l;y++){const b=y+u*g,w=y+u*(g+1),S=y+1+u*(g+1),N=y+1+u*g;p.push(b,w,N),p.push(w,S,N)}this.setIndex(p),this.setAttribute("position",new ei(x,3)),this.setAttribute("normal",new ei(m,3)),this.setAttribute("uv",new ei(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sp(e.width,e.height,e.widthSegments,e.heightSegments)}}class gq extends Zu{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=NW,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class xq extends Zu{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class vq extends _R{constructor(e=-1,n=1,r=1,s=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=s,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,s,i,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let i=r-e,a=r+e,l=s+n,c=s-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=u*this.view.offsetX,a=i+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(i,a,l,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class yq extends Dr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}function p2(t,e,n,r){const s=bq(r);switch(n){case lR:return t*e;case uR:return t*e/s.components*s.byteLength;case nb:return t*e/s.components*s.byteLength;case rb:return t*e*2/s.components*s.byteLength;case sb:return t*e*2/s.components*s.byteLength;case cR:return t*e*3/s.components*s.byteLength;case as:return t*e*4/s.components*s.byteLength;case ib:return t*e*4/s.components*s.byteLength;case Ph:case kh:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Dh:case Ih:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case px:case gx:return Math.max(t,16)*Math.max(e,8)/4;case fx:case mx:return Math.max(t,8)*Math.max(e,8)/2;case xx:case vx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case yx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case bx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case _x:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case wx:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Sx:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Ex:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Cx:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Nx:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Tx:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Mx:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Ax:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Rx:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case jx:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Px:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case kx:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Dx:case Ix:case Lx:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Ox:case Ux:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Fx:case zx:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function bq(t){switch(t){case ai:case sR:return{byteLength:1,components:1};case Mu:case iR:case Zl:return{byteLength:2,components:1};case eb:case tb:return{byteLength:2,components:4};case eo:case Qy:case Xs:return{byteLength:4,components:1};case aR:case oR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Jy}}));typeof window<"u"&&(window.__THREE__?Qe("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Jy);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function TR(){let t=null,e=!1,n=null,r=null;function s(i,a){n(i,a),r=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(i){n=i},setContext:function(i){t=i}}}function _q(t){const e=new WeakMap;function n(l,c){const u=l.array,d=l.usage,h=u.byteLength,f=t.createBuffer();t.bindBuffer(c,f),t.bufferData(c,u,d),l.onUploadCallback();let p;if(u instanceof Float32Array)p=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)p=t.HALF_FLOAT;else if(u instanceof Uint16Array)l.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=t.SHORT;else if(u instanceof Uint32Array)p=t.UNSIGNED_INT;else if(u instanceof Int32Array)p=t.INT;else if(u instanceof Int8Array)p=t.BYTE;else if(u instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version,size:h}}function r(l,c,u){const d=c.array,h=c.updateRanges;if(t.bindBuffer(u,l),h.length===0)t.bufferSubData(u,0,d);else{h.sort((p,x)=>p.start-x.start);let f=0;for(let p=1;p<h.length;p++){const x=h[f],m=h[p];m.start<=x.start+x.count+1?x.count=Math.max(x.count,m.start+m.count-x.start):(++f,h[f]=m)}h.length=f+1;for(let p=0,x=h.length;p<x;p++){const m=h[p];t.bufferSubData(u,m.start*d.BYTES_PER_ELEMENT,d,m.start,m.count)}c.clearUpdateRanges()}c.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function i(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function a(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const d=e.get(l);(!d||d.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const u=e.get(l);if(u===void 0)e.set(l,n(l,c));else if(u.version<l.version){if(u.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,l,c),u.version=l.version}}return{get:s,remove:i,update:a}}var wq=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Sq=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Eq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Cq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Nq=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Tq=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Mq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Aq=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Rq=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,jq=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Pq=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,kq=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Dq=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Iq=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Lq=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Oq=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Uq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Fq=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zq=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Bq=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Vq=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,$q=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Hq=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Gq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Wq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,qq=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Xq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Kq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Yq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Zq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Jq="gl_FragColor = linearToOutputTexel( gl_FragColor );",Qq=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,eX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,tX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,nX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,rX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,sX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,iX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,oX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,lX=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,cX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,uX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,dX=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,hX=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fX=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,pX=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,mX=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,gX=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,xX=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,vX=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,yX=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,bX=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_X=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,wX=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,SX=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,EX=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,CX=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,NX=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,TX=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,MX=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,AX=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,RX=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jX=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PX=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kX=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,DX=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,IX=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,LX=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,OX=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,UX=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,FX=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,zX=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,BX=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,VX=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$X=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,HX=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,GX=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,WX=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,qX=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,XX=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,KX=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,YX=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ZX=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,JX=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,QX=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,eK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,tK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,nK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,sK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,iK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,aK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,oK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,lK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,cK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,uK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,pK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,mK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,gK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,yK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,bK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const _K=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,SK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,EK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,MK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,AK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,RK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,PK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,DK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,LK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,VK=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,$K=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GK=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,WK=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qK=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XK=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KK=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,YK=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ZK=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JK=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,QK=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,eY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nt={alphahash_fragment:wq,alphahash_pars_fragment:Sq,alphamap_fragment:Eq,alphamap_pars_fragment:Cq,alphatest_fragment:Nq,alphatest_pars_fragment:Tq,aomap_fragment:Mq,aomap_pars_fragment:Aq,batching_pars_vertex:Rq,batching_vertex:jq,begin_vertex:Pq,beginnormal_vertex:kq,bsdfs:Dq,iridescence_fragment:Iq,bumpmap_pars_fragment:Lq,clipping_planes_fragment:Oq,clipping_planes_pars_fragment:Uq,clipping_planes_pars_vertex:Fq,clipping_planes_vertex:zq,color_fragment:Bq,color_pars_fragment:Vq,color_pars_vertex:$q,color_vertex:Hq,common:Gq,cube_uv_reflection_fragment:Wq,defaultnormal_vertex:qq,displacementmap_pars_vertex:Xq,displacementmap_vertex:Kq,emissivemap_fragment:Yq,emissivemap_pars_fragment:Zq,colorspace_fragment:Jq,colorspace_pars_fragment:Qq,envmap_fragment:eX,envmap_common_pars_fragment:tX,envmap_pars_fragment:nX,envmap_pars_vertex:rX,envmap_physical_pars_fragment:pX,envmap_vertex:sX,fog_vertex:iX,fog_pars_vertex:aX,fog_fragment:oX,fog_pars_fragment:lX,gradientmap_pars_fragment:cX,lightmap_pars_fragment:uX,lights_lambert_fragment:dX,lights_lambert_pars_fragment:hX,lights_pars_begin:fX,lights_toon_fragment:mX,lights_toon_pars_fragment:gX,lights_phong_fragment:xX,lights_phong_pars_fragment:vX,lights_physical_fragment:yX,lights_physical_pars_fragment:bX,lights_fragment_begin:_X,lights_fragment_maps:wX,lights_fragment_end:SX,logdepthbuf_fragment:EX,logdepthbuf_pars_fragment:CX,logdepthbuf_pars_vertex:NX,logdepthbuf_vertex:TX,map_fragment:MX,map_pars_fragment:AX,map_particle_fragment:RX,map_particle_pars_fragment:jX,metalnessmap_fragment:PX,metalnessmap_pars_fragment:kX,morphinstance_vertex:DX,morphcolor_vertex:IX,morphnormal_vertex:LX,morphtarget_pars_vertex:OX,morphtarget_vertex:UX,normal_fragment_begin:FX,normal_fragment_maps:zX,normal_pars_fragment:BX,normal_pars_vertex:VX,normal_vertex:$X,normalmap_pars_fragment:HX,clearcoat_normal_fragment_begin:GX,clearcoat_normal_fragment_maps:WX,clearcoat_pars_fragment:qX,iridescence_pars_fragment:XX,opaque_fragment:KX,packing:YX,premultiplied_alpha_fragment:ZX,project_vertex:JX,dithering_fragment:QX,dithering_pars_fragment:eK,roughnessmap_fragment:tK,roughnessmap_pars_fragment:nK,shadowmap_pars_fragment:rK,shadowmap_pars_vertex:sK,shadowmap_vertex:iK,shadowmask_pars_fragment:aK,skinbase_vertex:oK,skinning_pars_vertex:lK,skinning_vertex:cK,skinnormal_vertex:uK,specularmap_fragment:dK,specularmap_pars_fragment:hK,tonemapping_fragment:fK,tonemapping_pars_fragment:pK,transmission_fragment:mK,transmission_pars_fragment:gK,uv_pars_fragment:xK,uv_pars_vertex:vK,uv_vertex:yK,worldpos_vertex:bK,background_vert:_K,background_frag:wK,backgroundCube_vert:SK,backgroundCube_frag:EK,cube_vert:CK,cube_frag:NK,depth_vert:TK,depth_frag:MK,distanceRGBA_vert:AK,distanceRGBA_frag:RK,equirect_vert:jK,equirect_frag:PK,linedashed_vert:kK,linedashed_frag:DK,meshbasic_vert:IK,meshbasic_frag:LK,meshlambert_vert:OK,meshlambert_frag:UK,meshmatcap_vert:FK,meshmatcap_frag:zK,meshnormal_vert:BK,meshnormal_frag:VK,meshphong_vert:$K,meshphong_frag:HK,meshphysical_vert:GK,meshphysical_frag:WK,meshtoon_vert:qK,meshtoon_frag:XK,points_vert:KK,points_frag:YK,shadow_vert:ZK,shadow_frag:JK,sprite_vert:QK,sprite_frag:eY},xe={common:{diffuse:{value:new pt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tt},alphaMap:{value:null},alphaMapTransform:{value:new tt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tt}},envmap:{envMap:{value:null},envMapRotation:{value:new tt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tt},normalScale:{value:new yt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tt},alphaTest:{value:0},uvTransform:{value:new tt}},sprite:{diffuse:{value:new pt(16777215)},opacity:{value:1},center:{value:new yt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tt},alphaMap:{value:null},alphaMapTransform:{value:new tt},alphaTest:{value:0}}},xs={basic:{uniforms:Vn([xe.common,xe.specularmap,xe.envmap,xe.aomap,xe.lightmap,xe.fog]),vertexShader:nt.meshbasic_vert,fragmentShader:nt.meshbasic_frag},lambert:{uniforms:Vn([xe.common,xe.specularmap,xe.envmap,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.fog,xe.lights,{emissive:{value:new pt(0)}}]),vertexShader:nt.meshlambert_vert,fragmentShader:nt.meshlambert_frag},phong:{uniforms:Vn([xe.common,xe.specularmap,xe.envmap,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.fog,xe.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:nt.meshphong_vert,fragmentShader:nt.meshphong_frag},standard:{uniforms:Vn([xe.common,xe.envmap,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.roughnessmap,xe.metalnessmap,xe.fog,xe.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nt.meshphysical_vert,fragmentShader:nt.meshphysical_frag},toon:{uniforms:Vn([xe.common,xe.aomap,xe.lightmap,xe.emissivemap,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.gradientmap,xe.fog,xe.lights,{emissive:{value:new pt(0)}}]),vertexShader:nt.meshtoon_vert,fragmentShader:nt.meshtoon_frag},matcap:{uniforms:Vn([xe.common,xe.bumpmap,xe.normalmap,xe.displacementmap,xe.fog,{matcap:{value:null}}]),vertexShader:nt.meshmatcap_vert,fragmentShader:nt.meshmatcap_frag},points:{uniforms:Vn([xe.points,xe.fog]),vertexShader:nt.points_vert,fragmentShader:nt.points_frag},dashed:{uniforms:Vn([xe.common,xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nt.linedashed_vert,fragmentShader:nt.linedashed_frag},depth:{uniforms:Vn([xe.common,xe.displacementmap]),vertexShader:nt.depth_vert,fragmentShader:nt.depth_frag},normal:{uniforms:Vn([xe.common,xe.bumpmap,xe.normalmap,xe.displacementmap,{opacity:{value:1}}]),vertexShader:nt.meshnormal_vert,fragmentShader:nt.meshnormal_frag},sprite:{uniforms:Vn([xe.sprite,xe.fog]),vertexShader:nt.sprite_vert,fragmentShader:nt.sprite_frag},background:{uniforms:{uvTransform:{value:new tt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nt.background_vert,fragmentShader:nt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tt}},vertexShader:nt.backgroundCube_vert,fragmentShader:nt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nt.cube_vert,fragmentShader:nt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nt.equirect_vert,fragmentShader:nt.equirect_frag},distanceRGBA:{uniforms:Vn([xe.common,xe.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nt.distanceRGBA_vert,fragmentShader:nt.distanceRGBA_frag},shadow:{uniforms:Vn([xe.lights,xe.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:nt.shadow_vert,fragmentShader:nt.shadow_frag}};xs.physical={uniforms:Vn([xs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tt},clearcoatNormalScale:{value:new yt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tt},sheen:{value:0},sheenColor:{value:new pt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tt},transmissionSamplerSize:{value:new yt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tt},attenuationDistance:{value:0},attenuationColor:{value:new pt(0)},specularColor:{value:new pt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tt},anisotropyVector:{value:new yt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tt}}]),vertexShader:nt.meshphysical_vert,fragmentShader:nt.meshphysical_frag};const dh={r:0,b:0,g:0},_a=new oi,tY=new dn;function nY(t,e,n,r,s,i,a){const l=new pt(0);let c=i===!0?0:1,u,d,h=null,f=0,p=null;function x(b){let w=b.isScene===!0?b.background:null;return w&&w.isTexture&&(w=(b.backgroundBlurriness>0?n:e).get(w)),w}function m(b){let w=!1;const S=x(b);S===null?g(l,c):S&&S.isColor&&(g(S,1),w=!0);const N=t.xr.getEnvironmentBlendMode();N==="additive"?r.buffers.color.setClear(0,0,0,1,a):N==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(b,w){const S=x(w);S&&(S.isCubeTexture||S.mapping===_p)?(d===void 0&&(d=new ea(new Ju(1,1,1),new li({name:"BackgroundCubeMaterial",uniforms:Ll(xs.backgroundCube.uniforms),vertexShader:xs.backgroundCube.vertexShader,fragmentShader:xs.backgroundCube.fragmentShader,side:ir,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(N,M,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(d)),_a.copy(w.backgroundRotation),_a.x*=-1,_a.y*=-1,_a.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(_a.y*=-1,_a.z*=-1),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(tY.makeRotationFromEuler(_a)),d.material.toneMapped=ft.getTransfer(S.colorSpace)!==vt,(h!==S||f!==S.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,h=S,f=S.version,p=t.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new ea(new Sp(2,2),new li({name:"BackgroundMaterial",uniforms:Ll(xs.background.uniforms),vertexShader:xs.background.vertexShader,fragmentShader:xs.background.fragmentShader,side:Qi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=ft.getTransfer(S.colorSpace)!==vt,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||f!==S.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,h=S,f=S.version,p=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null))}function g(b,w){b.getRGB(dh,bR(t)),r.buffers.color.setClear(dh.r,dh.g,dh.b,w,a)}function y(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return l},setClearColor:function(b,w=1){l.set(b),c=w,g(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(b){c=b,g(l,c)},render:m,addToRenderList:v,dispose:y}}function rY(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},s=f(null);let i=s,a=!1;function l(C,j,D,z,H){let $=!1;const Z=h(z,D,j);i!==Z&&(i=Z,u(i.object)),$=p(C,z,D,H),$&&x(C,z,D,H),H!==null&&e.update(H,t.ELEMENT_ARRAY_BUFFER),($||a)&&(a=!1,w(C,j,D,z),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(H).buffer))}function c(){return t.createVertexArray()}function u(C){return t.bindVertexArray(C)}function d(C){return t.deleteVertexArray(C)}function h(C,j,D){const z=D.wireframe===!0;let H=r[C.id];H===void 0&&(H={},r[C.id]=H);let $=H[j.id];$===void 0&&($={},H[j.id]=$);let Z=$[z];return Z===void 0&&(Z=f(c()),$[z]=Z),Z}function f(C){const j=[],D=[],z=[];for(let H=0;H<n;H++)j[H]=0,D[H]=0,z[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:D,attributeDivisors:z,object:C,attributes:{},index:null}}function p(C,j,D,z){const H=i.attributes,$=j.attributes;let Z=0;const B=D.getAttributes();for(const I in B)if(B[I].location>=0){const K=H[I];let se=$[I];if(se===void 0&&(I==="instanceMatrix"&&C.instanceMatrix&&(se=C.instanceMatrix),I==="instanceColor"&&C.instanceColor&&(se=C.instanceColor)),K===void 0||K.attribute!==se||se&&K.data!==se.data)return!0;Z++}return i.attributesNum!==Z||i.index!==z}function x(C,j,D,z){const H={},$=j.attributes;let Z=0;const B=D.getAttributes();for(const I in B)if(B[I].location>=0){let K=$[I];K===void 0&&(I==="instanceMatrix"&&C.instanceMatrix&&(K=C.instanceMatrix),I==="instanceColor"&&C.instanceColor&&(K=C.instanceColor));const se={};se.attribute=K,K&&K.data&&(se.data=K.data),H[I]=se,Z++}i.attributes=H,i.attributesNum=Z,i.index=z}function m(){const C=i.newAttributes;for(let j=0,D=C.length;j<D;j++)C[j]=0}function v(C){g(C,0)}function g(C,j){const D=i.newAttributes,z=i.enabledAttributes,H=i.attributeDivisors;D[C]=1,z[C]===0&&(t.enableVertexAttribArray(C),z[C]=1),H[C]!==j&&(t.vertexAttribDivisor(C,j),H[C]=j)}function y(){const C=i.newAttributes,j=i.enabledAttributes;for(let D=0,z=j.length;D<z;D++)j[D]!==C[D]&&(t.disableVertexAttribArray(D),j[D]=0)}function b(C,j,D,z,H,$,Z){Z===!0?t.vertexAttribIPointer(C,j,D,H,$):t.vertexAttribPointer(C,j,D,z,H,$)}function w(C,j,D,z){m();const H=z.attributes,$=D.getAttributes(),Z=j.defaultAttributeValues;for(const B in $){const I=$[B];if(I.location>=0){let V=H[B];if(V===void 0&&(B==="instanceMatrix"&&C.instanceMatrix&&(V=C.instanceMatrix),B==="instanceColor"&&C.instanceColor&&(V=C.instanceColor)),V!==void 0){const K=V.normalized,se=V.itemSize,de=e.get(V);if(de===void 0)continue;const Ee=de.buffer,qe=de.type,it=de.bytesPerElement,ne=qe===t.INT||qe===t.UNSIGNED_INT||V.gpuType===Qy;if(V.isInterleavedBufferAttribute){const re=V.data,_e=re.stride,Fe=V.offset;if(re.isInstancedInterleavedBuffer){for(let Me=0;Me<I.locationSize;Me++)g(I.location+Me,re.meshPerAttribute);C.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let Me=0;Me<I.locationSize;Me++)v(I.location+Me);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let Me=0;Me<I.locationSize;Me++)b(I.location+Me,se/I.locationSize,qe,K,_e*it,(Fe+se/I.locationSize*Me)*it,ne)}else{if(V.isInstancedBufferAttribute){for(let re=0;re<I.locationSize;re++)g(I.location+re,V.meshPerAttribute);C.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let re=0;re<I.locationSize;re++)v(I.location+re);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let re=0;re<I.locationSize;re++)b(I.location+re,se/I.locationSize,qe,K,se*it,se/I.locationSize*re*it,ne)}}else if(Z!==void 0){const K=Z[B];if(K!==void 0)switch(K.length){case 2:t.vertexAttrib2fv(I.location,K);break;case 3:t.vertexAttrib3fv(I.location,K);break;case 4:t.vertexAttrib4fv(I.location,K);break;default:t.vertexAttrib1fv(I.location,K)}}}}y()}function S(){A();for(const C in r){const j=r[C];for(const D in j){const z=j[D];for(const H in z)d(z[H].object),delete z[H];delete j[D]}delete r[C]}}function N(C){if(r[C.id]===void 0)return;const j=r[C.id];for(const D in j){const z=j[D];for(const H in z)d(z[H].object),delete z[H];delete j[D]}delete r[C.id]}function M(C){for(const j in r){const D=r[j];if(D[C.id]===void 0)continue;const z=D[C.id];for(const H in z)d(z[H].object),delete z[H];delete D[C.id]}}function A(){T(),a=!0,i!==s&&(i=s,u(i.object))}function T(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:A,resetDefaultState:T,dispose:S,releaseStatesOfGeometry:N,releaseStatesOfProgram:M,initAttributes:m,enableAttribute:v,disableUnusedAttributes:y}}function sY(t,e,n){let r;function s(u){r=u}function i(u,d){t.drawArrays(r,u,d),n.update(d,r,1)}function a(u,d,h){h!==0&&(t.drawArraysInstanced(r,u,d,h),n.update(d,r,h))}function l(u,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,h);let p=0;for(let x=0;x<h;x++)p+=d[x];n.update(p,r,1)}function c(u,d,h,f){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let x=0;x<u.length;x++)a(u[x],d[x],f[x]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,d,0,f,0,h);let x=0;for(let m=0;m<h;m++)x+=d[m]*f[m];n.update(x,r,1)}}this.setMode=s,this.render=i,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function iY(t,e,n,r){let s;function i(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function a(M){return!(M!==as&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(M){const A=M===Zl&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==ai&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==Xs&&!A)}function c(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=c(u);d!==u&&(Qe("WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const h=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=x>0,N=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:l,precision:u,logarithmicDepthBuffer:h,reversedDepthBuffer:f,maxTextures:p,maxVertexTextures:x,maxTextureSize:m,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:w,vertexTextures:S,maxSamples:N}}function aY(t){const e=this;let n=null,r=0,s=!1,i=!1;const a=new Ma,l=new tt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const p=h.length!==0||f||r!==0||s;return s=f,r=h.length,p},this.beginShadows=function(){i=!0,d(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(h,f){n=d(h,f,0)},this.setState=function(h,f,p){const x=h.clippingPlanes,m=h.clipIntersection,v=h.clipShadows,g=t.get(h);if(!s||x===null||x.length===0||i&&!v)i?d(null):u();else{const y=i?0:r,b=y*4;let w=g.clippingState||null;c.value=w,w=d(x,f,b,p);for(let S=0;S!==b;++S)w[S]=n[S];g.clippingState=w,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,f,p,x){const m=h!==null?h.length:0;let v=null;if(m!==0){if(v=c.value,x!==!0||v===null){const g=p+m*4,y=f.matrixWorldInverse;l.getNormalMatrix(y),(v===null||v.length<g)&&(v=new Float32Array(g));for(let b=0,w=p;b!==m;++b,w+=4)a.copy(h[b]).applyMatrix4(y,l),a.normal.toArray(v,w),v[w+3]=a.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function oY(t){let e=new WeakMap;function n(a,l){return l===cx?a.mapping=kl:l===ux&&(a.mapping=Dl),a}function r(a){if(a&&a.isTexture){const l=a.mapping;if(l===cx||l===ux)if(e.has(a)){const c=e.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new lq(c.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",s),n(u.texture,a.mapping)}else return null}}return a}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function i(){e=new WeakMap}return{get:r,dispose:i}}const Li=4,m2=[.125,.215,.35,.446,.526,.582],ka=20,lY=256,bc=new vq,g2=new pt;let l0=null,c0=0,u0=0,d0=!1;const cY=new te;class x2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,s=100,i={}){const{size:a=256,position:l=cY}=i;l0=this._renderer.getRenderTarget(),c0=this._renderer.getActiveCubeFace(),u0=this._renderer.getActiveMipmapLevel(),d0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,r,s,c,l),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=b2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=y2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(l0,c0,u0),this._renderer.xr.enabled=d0,e.scissorTest=!1,Lo(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===kl||e.mapping===Dl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),l0=this._renderer.getRenderTarget(),c0=this._renderer.getActiveCubeFace(),u0=this._renderer.getActiveMipmapLevel(),d0=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Or,minFilter:Or,generateMipmaps:!1,type:Zl,format:as,colorSpace:Il,depthBuffer:!1},s=v2(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=v2(e,n,r);const{_lodMax:i}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=uY(i)),this._blurMaterial=hY(i,e,n),this._ggxMaterial=dY(i,e,n)}return s}_compileMaterial(e){const n=new ea(new As,e);this._renderer.compile(n,bc)}_sceneToCubeUV(e,n,r,s,i){const c=new Dr(90,1,n,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,p=h.toneMapping;h.getClearColor(g2),h.toneMapping=Ki,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(s),h.clearDepth(),h.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ea(new Ju,new xR({name:"PMREM.Background",side:ir,depthWrite:!1,depthTest:!1})));const m=this._backgroundBox,v=m.material;let g=!1;const y=e.background;y?y.isColor&&(v.color.copy(y),e.background=null,g=!0):(v.color.copy(g2),g=!0);for(let b=0;b<6;b++){const w=b%3;w===0?(c.up.set(0,u[b],0),c.position.set(i.x,i.y,i.z),c.lookAt(i.x+d[b],i.y,i.z)):w===1?(c.up.set(0,0,u[b]),c.position.set(i.x,i.y,i.z),c.lookAt(i.x,i.y+d[b],i.z)):(c.up.set(0,u[b],0),c.position.set(i.x,i.y,i.z),c.lookAt(i.x,i.y,i.z+d[b]));const S=this._cubeSize;Lo(s,w*S,b>2?S:0,S,S),h.setRenderTarget(s),g&&h.render(m,c),h.render(e,c)}h.toneMapping=p,h.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,s=e.mapping===kl||e.mapping===Dl;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=b2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=y2());const i=s?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=i;const l=i.uniforms;l.envMap.value=e;const c=this._cubeSize;Lo(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(a,bc)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const s=this._lodMeshes.length;for(let i=1;i<s;i++)this._applyGGXFilter(e,i-1,i);n.autoClear=r}_applyGGXFilter(e,n,r){const s=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,l=this._lodMeshes[r];l.material=a;const c=a.uniforms,u=r/(this._lodMeshes.length-1),d=n/(this._lodMeshes.length-1),h=Math.sqrt(u*u-d*d),f=.05+u*.95,p=h*f,{_lodMax:x}=this,m=this._sizeLods[r],v=3*m*(r>x-Li?r-x+Li:0),g=4*(this._cubeSize-m);c.envMap.value=e.texture,c.roughness.value=p,c.mipInt.value=x-n,Lo(i,v,g,3*m,2*m),s.setRenderTarget(i),s.render(l,bc),c.envMap.value=i.texture,c.roughness.value=0,c.mipInt.value=x-r,Lo(e,v,g,3*m,2*m),s.setRenderTarget(e),s.render(l,bc)}_blur(e,n,r,s,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,s,"latitudinal",i),this._halfBlur(a,e,r,r,s,"longitudinal",i)}_halfBlur(e,n,r,s,i,a,l){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&Qt("blur direction must be either latitudinal or longitudinal!");const d=3,h=this._lodMeshes[s];h.material=u;const f=u.uniforms,p=this._sizeLods[r]-1,x=isFinite(i)?Math.PI/(2*p):2*Math.PI/(2*ka-1),m=i/x,v=isFinite(i)?1+Math.floor(d*m):ka;v>ka&&Qe(`sigmaRadians, ${i}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${ka}`);const g=[];let y=0;for(let M=0;M<ka;++M){const A=M/m,T=Math.exp(-A*A/2);g.push(T),M===0?y+=T:M<v&&(y+=2*T)}for(let M=0;M<g.length;M++)g[M]=g[M]/y;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=g,f.latitudinal.value=a==="latitudinal",l&&(f.poleAxis.value=l);const{_lodMax:b}=this;f.dTheta.value=x,f.mipInt.value=b-r;const w=this._sizeLods[s],S=3*w*(s>b-Li?s-b+Li:0),N=4*(this._cubeSize-w);Lo(n,S,N,3*w,2*w),c.setRenderTarget(n),c.render(h,bc)}}function uY(t){const e=[],n=[],r=[];let s=t;const i=t-Li+1+m2.length;for(let a=0;a<i;a++){const l=Math.pow(2,s);e.push(l);let c=1/l;a>t-Li?c=m2[a-t+Li-1]:a===0&&(c=0),n.push(c);const u=1/(l-2),d=-u,h=1+u,f=[d,d,h,d,h,h,d,d,h,h,d,h],p=6,x=6,m=3,v=2,g=1,y=new Float32Array(m*x*p),b=new Float32Array(v*x*p),w=new Float32Array(g*x*p);for(let N=0;N<p;N++){const M=N%3*2/3-1,A=N>2?0:-1,T=[M,A,0,M+2/3,A,0,M+2/3,A+1,0,M,A,0,M+2/3,A+1,0,M,A+1,0];y.set(T,m*x*N),b.set(f,v*x*N);const C=[N,N,N,N,N,N];w.set(C,g*x*N)}const S=new As;S.setAttribute("position",new Ns(y,m)),S.setAttribute("uv",new Ns(b,v)),S.setAttribute("faceIndex",new Ns(w,g)),r.push(new ea(S,null)),s>Li&&s--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function v2(t,e,n){const r=new to(t,e,n);return r.texture.mapping=_p,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Lo(t,e,n,r,s){t.viewport.set(e,n,r,s),t.scissor.set(e,n,r,s)}function dY(t,e,n){return new li({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:lY,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Ep(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Js,depthTest:!1,depthWrite:!1})}function hY(t,e,n){const r=new Float32Array(ka),s=new te(0,1,0);return new li({name:"SphericalGaussianBlur",defines:{n:ka,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:Ep(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Js,depthTest:!1,depthWrite:!1})}function y2(){return new li({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Ep(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Js,depthTest:!1,depthWrite:!1})}function b2(){return new li({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ep(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Js,depthTest:!1,depthWrite:!1})}function Ep(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fY(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const c=l.mapping,u=c===cx||c===ux,d=c===kl||c===Dl;if(u||d){let h=e.get(l);const f=h!==void 0?h.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==f)return n===null&&(n=new x2(t)),h=u?n.fromEquirectangular(l,h):n.fromCubemap(l,h),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),h.texture;if(h!==void 0)return h.texture;{const p=l.image;return u&&p&&p.height>0||d&&p&&s(p)?(n===null&&(n=new x2(t)),h=u?n.fromEquirectangular(l):n.fromCubemap(l),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),l.addEventListener("dispose",i),h.texture):null}}}return l}function s(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function i(l){const c=l.target;c.removeEventListener("dispose",i);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function pY(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const s=t.getExtension(r);return e[r]=s,s}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const s=n(r);return s===null&&Pu("WebGLRenderer: "+r+" extension not supported."),s}}}function mY(t,e,n,r){const s={},i=new WeakMap;function a(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const x in f.attributes)e.remove(f.attributes[x]);f.removeEventListener("dispose",a),delete s[f.id];const p=i.get(f);p&&(e.remove(p),i.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function l(h,f){return s[f.id]===!0||(f.addEventListener("dispose",a),s[f.id]=!0,n.memory.geometries++),f}function c(h){const f=h.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER)}function u(h){const f=[],p=h.index,x=h.attributes.position;let m=0;if(p!==null){const y=p.array;m=p.version;for(let b=0,w=y.length;b<w;b+=3){const S=y[b+0],N=y[b+1],M=y[b+2];f.push(S,N,N,M,M,S)}}else if(x!==void 0){const y=x.array;m=x.version;for(let b=0,w=y.length/3-1;b<w;b+=3){const S=b+0,N=b+1,M=b+2;f.push(S,N,N,M,M,S)}}else return;const v=new(hR(f)?yR:vR)(f,1);v.version=m;const g=i.get(h);g&&e.remove(g),i.set(h,v)}function d(h){const f=i.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&u(h)}else u(h);return i.get(h)}return{get:l,update:c,getWireframeAttribute:d}}function gY(t,e,n){let r;function s(f){r=f}let i,a;function l(f){i=f.type,a=f.bytesPerElement}function c(f,p){t.drawElements(r,p,i,f*a),n.update(p,r,1)}function u(f,p,x){x!==0&&(t.drawElementsInstanced(r,p,i,f*a,x),n.update(p,r,x))}function d(f,p,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,i,f,0,x);let v=0;for(let g=0;g<x;g++)v+=p[g];n.update(v,r,1)}function h(f,p,x,m){if(x===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<f.length;g++)u(f[g]/a,p[g],m[g]);else{v.multiDrawElementsInstancedWEBGL(r,p,0,i,f,0,m,0,x);let g=0;for(let y=0;y<x;y++)g+=p[y]*m[y];n.update(g,r,1)}}this.setMode=s,this.setIndex=l,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function xY(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(i,a,l){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=l*(i/3);break;case t.LINES:n.lines+=l*(i/2);break;case t.LINE_STRIP:n.lines+=l*(i-1);break;case t.LINE_LOOP:n.lines+=l*i;break;case t.POINTS:n.points+=l*i;break;default:Qt("WebGLInfo: Unknown draw mode:",a);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:r}}function vY(t,e,n){const r=new WeakMap,s=new en;function i(a,l,c){const u=a.morphTargetInfluences,d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=d!==void 0?d.length:0;let f=r.get(l);if(f===void 0||f.count!==h){let C=function(){A.dispose(),r.delete(l),l.removeEventListener("dispose",C)};var p=C;f!==void 0&&f.texture.dispose();const x=l.morphAttributes.position!==void 0,m=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,g=l.morphAttributes.position||[],y=l.morphAttributes.normal||[],b=l.morphAttributes.color||[];let w=0;x===!0&&(w=1),m===!0&&(w=2),v===!0&&(w=3);let S=l.attributes.position.count*w,N=1;S>e.maxTextureSize&&(N=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const M=new Float32Array(S*N*4*h),A=new fR(M,S,N,h);A.type=Xs,A.needsUpdate=!0;const T=w*4;for(let j=0;j<h;j++){const D=g[j],z=y[j],H=b[j],$=S*N*4*j;for(let Z=0;Z<D.count;Z++){const B=Z*T;x===!0&&(s.fromBufferAttribute(D,Z),M[$+B+0]=s.x,M[$+B+1]=s.y,M[$+B+2]=s.z,M[$+B+3]=0),m===!0&&(s.fromBufferAttribute(z,Z),M[$+B+4]=s.x,M[$+B+5]=s.y,M[$+B+6]=s.z,M[$+B+7]=0),v===!0&&(s.fromBufferAttribute(H,Z),M[$+B+8]=s.x,M[$+B+9]=s.y,M[$+B+10]=s.z,M[$+B+11]=H.itemSize===4?s.w:1)}}f={count:h,texture:A,size:new yt(S,N)},r.set(l,f),l.addEventListener("dispose",C)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let x=0;for(let v=0;v<u.length;v++)x+=u[v];const m=l.morphTargetsRelative?1:1-x;c.getUniforms().setValue(t,"morphTargetBaseInfluence",m),c.getUniforms().setValue(t,"morphTargetInfluences",u)}c.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:i}}function yY(t,e,n,r){let s=new WeakMap;function i(c){const u=r.render.frame,d=c.geometry,h=e.get(c,d);if(s.get(h)!==u&&(e.update(h),s.set(h,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),s.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),s.set(c,u))),c.isSkinnedMesh){const f=c.skeleton;s.get(f)!==u&&(f.update(),s.set(f,u))}return h}function a(){s=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:i,dispose:a}}const MR=new Fn,_2=new CR(1,1),AR=new fR,RR=new GW,jR=new wR,w2=[],S2=[],E2=new Float32Array(16),C2=new Float32Array(9),N2=new Float32Array(4);function Ql(t,e,n){const r=t[0];if(r<=0||r>0)return t;const s=e*n;let i=w2[s];if(i===void 0&&(i=new Float32Array(s),w2[s]=i),e!==0){r.toArray(i,0);for(let a=1,l=0;a!==e;++a)l+=n,t[a].toArray(i,l)}return i}function xn(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function vn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Cp(t,e){let n=S2[e];n===void 0&&(n=new Int32Array(e),S2[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function bY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function _Y(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xn(n,e))return;t.uniform2fv(this.addr,e),vn(n,e)}}function wY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(xn(n,e))return;t.uniform3fv(this.addr,e),vn(n,e)}}function SY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xn(n,e))return;t.uniform4fv(this.addr,e),vn(n,e)}}function EY(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),vn(n,e)}else{if(xn(n,r))return;N2.set(r),t.uniformMatrix2fv(this.addr,!1,N2),vn(n,r)}}function CY(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),vn(n,e)}else{if(xn(n,r))return;C2.set(r),t.uniformMatrix3fv(this.addr,!1,C2),vn(n,r)}}function NY(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),vn(n,e)}else{if(xn(n,r))return;E2.set(r),t.uniformMatrix4fv(this.addr,!1,E2),vn(n,r)}}function TY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function MY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xn(n,e))return;t.uniform2iv(this.addr,e),vn(n,e)}}function AY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xn(n,e))return;t.uniform3iv(this.addr,e),vn(n,e)}}function RY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xn(n,e))return;t.uniform4iv(this.addr,e),vn(n,e)}}function jY(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function PY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xn(n,e))return;t.uniform2uiv(this.addr,e),vn(n,e)}}function kY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xn(n,e))return;t.uniform3uiv(this.addr,e),vn(n,e)}}function DY(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xn(n,e))return;t.uniform4uiv(this.addr,e),vn(n,e)}}function IY(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s);let i;this.type===t.SAMPLER_2D_SHADOW?(_2.compareFunction=dR,i=_2):i=MR,n.setTexture2D(e||i,s)}function LY(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),n.setTexture3D(e||RR,s)}function OY(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),n.setTextureCube(e||jR,s)}function UY(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),n.setTexture2DArray(e||AR,s)}function FY(t){switch(t){case 5126:return bY;case 35664:return _Y;case 35665:return wY;case 35666:return SY;case 35674:return EY;case 35675:return CY;case 35676:return NY;case 5124:case 35670:return TY;case 35667:case 35671:return MY;case 35668:case 35672:return AY;case 35669:case 35673:return RY;case 5125:return jY;case 36294:return PY;case 36295:return kY;case 36296:return DY;case 35678:case 36198:case 36298:case 36306:case 35682:return IY;case 35679:case 36299:case 36307:return LY;case 35680:case 36300:case 36308:case 36293:return OY;case 36289:case 36303:case 36311:case 36292:return UY}}function zY(t,e){t.uniform1fv(this.addr,e)}function BY(t,e){const n=Ql(e,this.size,2);t.uniform2fv(this.addr,n)}function VY(t,e){const n=Ql(e,this.size,3);t.uniform3fv(this.addr,n)}function $Y(t,e){const n=Ql(e,this.size,4);t.uniform4fv(this.addr,n)}function HY(t,e){const n=Ql(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function GY(t,e){const n=Ql(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function WY(t,e){const n=Ql(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function qY(t,e){t.uniform1iv(this.addr,e)}function XY(t,e){t.uniform2iv(this.addr,e)}function KY(t,e){t.uniform3iv(this.addr,e)}function YY(t,e){t.uniform4iv(this.addr,e)}function ZY(t,e){t.uniform1uiv(this.addr,e)}function JY(t,e){t.uniform2uiv(this.addr,e)}function QY(t,e){t.uniform3uiv(this.addr,e)}function eZ(t,e){t.uniform4uiv(this.addr,e)}function tZ(t,e,n){const r=this.cache,s=e.length,i=Cp(n,s);xn(r,i)||(t.uniform1iv(this.addr,i),vn(r,i));for(let a=0;a!==s;++a)n.setTexture2D(e[a]||MR,i[a])}function nZ(t,e,n){const r=this.cache,s=e.length,i=Cp(n,s);xn(r,i)||(t.uniform1iv(this.addr,i),vn(r,i));for(let a=0;a!==s;++a)n.setTexture3D(e[a]||RR,i[a])}function rZ(t,e,n){const r=this.cache,s=e.length,i=Cp(n,s);xn(r,i)||(t.uniform1iv(this.addr,i),vn(r,i));for(let a=0;a!==s;++a)n.setTextureCube(e[a]||jR,i[a])}function sZ(t,e,n){const r=this.cache,s=e.length,i=Cp(n,s);xn(r,i)||(t.uniform1iv(this.addr,i),vn(r,i));for(let a=0;a!==s;++a)n.setTexture2DArray(e[a]||AR,i[a])}function iZ(t){switch(t){case 5126:return zY;case 35664:return BY;case 35665:return VY;case 35666:return $Y;case 35674:return HY;case 35675:return GY;case 35676:return WY;case 5124:case 35670:return qY;case 35667:case 35671:return XY;case 35668:case 35672:return KY;case 35669:case 35673:return YY;case 5125:return ZY;case 36294:return JY;case 36295:return QY;case 36296:return eZ;case 35678:case 36198:case 36298:case 36306:case 35682:return tZ;case 35679:case 36299:case 36307:return nZ;case 35680:case 36300:case 36308:case 36293:return rZ;case 36289:case 36303:case 36311:case 36292:return sZ}}class aZ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=FY(n.type)}}class oZ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=iZ(n.type)}}class lZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const s=this.seq;for(let i=0,a=s.length;i!==a;++i){const l=s[i];l.setValue(e,n[l.id],r)}}}const h0=/(\w+)(\])?(\[|\.)?/g;function T2(t,e){t.seq.push(e),t.map[e.id]=e}function cZ(t,e,n){const r=t.name,s=r.length;for(h0.lastIndex=0;;){const i=h0.exec(r),a=h0.lastIndex;let l=i[1];const c=i[2]==="]",u=i[3];if(c&&(l=l|0),u===void 0||u==="["&&a+2===s){T2(n,u===void 0?new aZ(l,t,e):new oZ(l,t,e));break}else{let h=n.map[l];h===void 0&&(h=new lZ(l),T2(n,h)),n=h}}}class Lh{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const i=e.getActiveUniform(n,s),a=e.getUniformLocation(n,i.name);cZ(i,a,this)}}setValue(e,n,r,s){const i=this.map[n];i!==void 0&&i.setValue(e,r,s)}setOptional(e,n,r){const s=n[r];s!==void 0&&this.setValue(e,r,s)}static upload(e,n,r,s){for(let i=0,a=n.length;i!==a;++i){const l=n[i],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,s)}}static seqWithValue(e,n){const r=[];for(let s=0,i=e.length;s!==i;++s){const a=e[s];a.id in n&&r.push(a)}return r}}function M2(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const uZ=37297;let dZ=0;function hZ(t,e){const n=t.split(`
`),r=[],s=Math.max(e-6,0),i=Math.min(e+6,n.length);for(let a=s;a<i;a++){const l=a+1;r.push(`${l===e?">":" "} ${l}: ${n[a]}`)}return r.join(`
`)}const A2=new tt;function fZ(t){ft._getMatrix(A2,ft.workingColorSpace,t);const e=`mat3( ${A2.elements.map(n=>n.toFixed(4))} )`;switch(ft.getTransfer(t)){case Af:return[e,"LinearTransferOETF"];case vt:return[e,"sRGBTransferOETF"];default:return Qe("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function R2(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=(t.getShaderInfoLog(e)||"").trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const l=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+hZ(t.getShaderSource(e),l)}else return i}function pZ(t,e){const n=fZ(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function mZ(t,e){let n;switch(e){case vW:n="Linear";break;case yW:n="Reinhard";break;case bW:n="Cineon";break;case _W:n="ACESFilmic";break;case SW:n="AgX";break;case EW:n="Neutral";break;case wW:n="Custom";break;default:Qe("WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const hh=new te;function gZ(){ft.getLuminanceCoefficients(hh);const t=hh.x.toFixed(4),e=hh.y.toFixed(4),n=hh.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function xZ(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ac).join(`
`)}function vZ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function yZ(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const i=t.getActiveAttrib(e,s),a=i.name;let l=1;i.type===t.FLOAT_MAT2&&(l=2),i.type===t.FLOAT_MAT3&&(l=3),i.type===t.FLOAT_MAT4&&(l=4),n[a]={type:i.type,location:t.getAttribLocation(e,a),locationSize:l}}return n}function Ac(t){return t!==""}function j2(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function P2(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function $x(t){return t.replace(bZ,wZ)}const _Z=new Map;function wZ(t,e){let n=nt[e];if(n===void 0){const r=_Z.get(e);if(r!==void 0)n=nt[r],Qe('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return $x(n)}const SZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function k2(t){return t.replace(SZ,EZ)}function EZ(t,e,n,r){let s="";for(let i=parseInt(e);i<parseInt(n);i++)s+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return s}function D2(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function CZ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===tR?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ZG?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===zs&&(e="SHADOWMAP_TYPE_VSM"),e}function NZ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case kl:case Dl:e="ENVMAP_TYPE_CUBE";break;case _p:e="ENVMAP_TYPE_CUBE_UV";break}return e}function TZ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Dl:e="ENVMAP_MODE_REFRACTION";break}return e}function MZ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case nR:e="ENVMAP_BLENDING_MULTIPLY";break;case gW:e="ENVMAP_BLENDING_MIX";break;case xW:e="ENVMAP_BLENDING_ADD";break}return e}function AZ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function RZ(t,e,n,r){const s=t.getContext(),i=n.defines;let a=n.vertexShader,l=n.fragmentShader;const c=CZ(n),u=NZ(n),d=TZ(n),h=MZ(n),f=AZ(n),p=xZ(n),x=vZ(i),m=s.createProgram();let v,g,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Ac).join(`
`),v.length>0&&(v+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Ac).join(`
`),g.length>0&&(g+=`
`)):(v=[D2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ac).join(`
`),g=[D2(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ki?"#define TONE_MAPPING":"",n.toneMapping!==Ki?nt.tonemapping_pars_fragment:"",n.toneMapping!==Ki?mZ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",nt.colorspace_pars_fragment,pZ("linearToOutputTexel",n.outputColorSpace),gZ(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ac).join(`
`)),a=$x(a),a=j2(a,n),a=P2(a,n),l=$x(l),l=j2(l,n),l=P2(l,n),a=k2(a),l=k2(l),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",n.glslVersion===WS?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===WS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=y+v+a,w=y+g+l,S=M2(s,s.VERTEX_SHADER,b),N=M2(s,s.FRAGMENT_SHADER,w);s.attachShader(m,S),s.attachShader(m,N),n.index0AttributeName!==void 0?s.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(m,0,"position"),s.linkProgram(m);function M(j){if(t.debug.checkShaderErrors){const D=s.getProgramInfoLog(m)||"",z=s.getShaderInfoLog(S)||"",H=s.getShaderInfoLog(N)||"",$=D.trim(),Z=z.trim(),B=H.trim();let I=!0,V=!0;if(s.getProgramParameter(m,s.LINK_STATUS)===!1)if(I=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,m,S,N);else{const K=R2(s,S,"vertex"),se=R2(s,N,"fragment");Qt("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(m,s.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+$+`
`+K+`
`+se)}else $!==""?Qe("WebGLProgram: Program Info Log:",$):(Z===""||B==="")&&(V=!1);V&&(j.diagnostics={runnable:I,programLog:$,vertexShader:{log:Z,prefix:v},fragmentShader:{log:B,prefix:g}})}s.deleteShader(S),s.deleteShader(N),A=new Lh(s,m),T=yZ(s,m)}let A;this.getUniforms=function(){return A===void 0&&M(this),A};let T;this.getAttributes=function(){return T===void 0&&M(this),T};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=s.getProgramParameter(m,uZ)),C},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=dZ++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=S,this.fragmentShader=N,this}let jZ=0;class PZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,s=this._getShaderStage(n),i=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(s)===!1&&(a.add(s),s.usedTimes++),a.has(i)===!1&&(a.add(i),i.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new kZ(e),n.set(e,r)),r}}class kZ{constructor(e){this.id=jZ++,this.code=e,this.usedTimes=0}}function DZ(t,e,n,r,s,i,a){const l=new mR,c=new PZ,u=new Set,d=[],h=s.logarithmicDepthBuffer,f=s.vertexTextures;let p=s.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(T){return u.add(T),T===0?"uv":`uv${T}`}function v(T,C,j,D,z){const H=D.fog,$=z.geometry,Z=T.isMeshStandardMaterial?D.environment:null,B=(T.isMeshStandardMaterial?n:e).get(T.envMap||Z),I=B&&B.mapping===_p?B.image.height:null,V=x[T.type];T.precision!==null&&(p=s.getMaxPrecision(T.precision),p!==T.precision&&Qe("WebGLProgram.getParameters:",T.precision,"not supported, using",p,"instead."));const K=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,se=K!==void 0?K.length:0;let de=0;$.morphAttributes.position!==void 0&&(de=1),$.morphAttributes.normal!==void 0&&(de=2),$.morphAttributes.color!==void 0&&(de=3);let Ee,qe,it,ne;if(V){const gt=xs[V];Ee=gt.vertexShader,qe=gt.fragmentShader}else Ee=T.vertexShader,qe=T.fragmentShader,c.update(T),it=c.getVertexShaderID(T),ne=c.getFragmentShaderID(T);const re=t.getRenderTarget(),_e=t.state.buffers.depth.getReversed(),Fe=z.isInstancedMesh===!0,Me=z.isBatchedMesh===!0,Ze=!!T.map,Pt=!!T.matcap,Je=!!B,bt=!!T.aoMap,O=!!T.lightMap,rt=!!T.bumpMap,st=!!T.normalMap,_t=!!T.displacementMap,Ae=!!T.emissiveMap,L=!!T.metalnessMap,F=!!T.roughnessMap,q=T.anisotropy>0,R=T.clearcoat>0,E=T.dispersion>0,k=T.iridescence>0,X=T.sheen>0,ee=T.transmission>0,Y=q&&!!T.anisotropyMap,we=R&&!!T.clearcoatMap,pe=R&&!!T.clearcoatNormalMap,ke=R&&!!T.clearcoatRoughnessMap,De=k&&!!T.iridescenceMap,oe=k&&!!T.iridescenceThicknessMap,he=X&&!!T.sheenColorMap,ze=X&&!!T.sheenRoughnessMap,Le=!!T.specularMap,ye=!!T.specularColorMap,$e=!!T.specularIntensityMap,U=ee&&!!T.transmissionMap,ve=ee&&!!T.thicknessMap,me=!!T.gradientMap,ge=!!T.alphaMap,ue=T.alphaTest>0,ie=!!T.alphaHash,Re=!!T.extensions;let Xe=Ki;T.toneMapped&&(re===null||re.isXRRenderTarget===!0)&&(Xe=t.toneMapping);const Tt={shaderID:V,shaderType:T.type,shaderName:T.name,vertexShader:Ee,fragmentShader:qe,defines:T.defines,customVertexShaderID:it,customFragmentShaderID:ne,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:p,batching:Me,batchingColor:Me&&z._colorsTexture!==null,instancing:Fe,instancingColor:Fe&&z.instanceColor!==null,instancingMorph:Fe&&z.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:re===null?t.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:Il,alphaToCoverage:!!T.alphaToCoverage,map:Ze,matcap:Pt,envMap:Je,envMapMode:Je&&B.mapping,envMapCubeUVHeight:I,aoMap:bt,lightMap:O,bumpMap:rt,normalMap:st,displacementMap:f&&_t,emissiveMap:Ae,normalMapObjectSpace:st&&T.normalMapType===AW,normalMapTangentSpace:st&&T.normalMapType===MW,metalnessMap:L,roughnessMap:F,anisotropy:q,anisotropyMap:Y,clearcoat:R,clearcoatMap:we,clearcoatNormalMap:pe,clearcoatRoughnessMap:ke,dispersion:E,iridescence:k,iridescenceMap:De,iridescenceThicknessMap:oe,sheen:X,sheenColorMap:he,sheenRoughnessMap:ze,specularMap:Le,specularColorMap:ye,specularIntensityMap:$e,transmission:ee,transmissionMap:U,thicknessMap:ve,gradientMap:me,opaque:T.transparent===!1&&T.blending===gl&&T.alphaToCoverage===!1,alphaMap:ge,alphaTest:ue,alphaHash:ie,combine:T.combine,mapUv:Ze&&m(T.map.channel),aoMapUv:bt&&m(T.aoMap.channel),lightMapUv:O&&m(T.lightMap.channel),bumpMapUv:rt&&m(T.bumpMap.channel),normalMapUv:st&&m(T.normalMap.channel),displacementMapUv:_t&&m(T.displacementMap.channel),emissiveMapUv:Ae&&m(T.emissiveMap.channel),metalnessMapUv:L&&m(T.metalnessMap.channel),roughnessMapUv:F&&m(T.roughnessMap.channel),anisotropyMapUv:Y&&m(T.anisotropyMap.channel),clearcoatMapUv:we&&m(T.clearcoatMap.channel),clearcoatNormalMapUv:pe&&m(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ke&&m(T.clearcoatRoughnessMap.channel),iridescenceMapUv:De&&m(T.iridescenceMap.channel),iridescenceThicknessMapUv:oe&&m(T.iridescenceThicknessMap.channel),sheenColorMapUv:he&&m(T.sheenColorMap.channel),sheenRoughnessMapUv:ze&&m(T.sheenRoughnessMap.channel),specularMapUv:Le&&m(T.specularMap.channel),specularColorMapUv:ye&&m(T.specularColorMap.channel),specularIntensityMapUv:$e&&m(T.specularIntensityMap.channel),transmissionMapUv:U&&m(T.transmissionMap.channel),thicknessMapUv:ve&&m(T.thicknessMap.channel),alphaMapUv:ge&&m(T.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(st||q),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:z.isPoints===!0&&!!$.attributes.uv&&(Ze||ge),fog:!!H,useFog:T.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:T.flatShading===!0&&T.wireframe===!1,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:_e,skinning:z.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:se,morphTextureStride:de,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:Xe,decodeVideoTexture:Ze&&T.map.isVideoTexture===!0&&ft.getTransfer(T.map.colorSpace)===vt,decodeVideoTextureEmissive:Ae&&T.emissiveMap.isVideoTexture===!0&&ft.getTransfer(T.emissiveMap.colorSpace)===vt,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Hs,flipSided:T.side===ir,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:Re&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Re&&T.extensions.multiDraw===!0||Me)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return Tt.vertexUv1s=u.has(1),Tt.vertexUv2s=u.has(2),Tt.vertexUv3s=u.has(3),u.clear(),Tt}function g(T){const C=[];if(T.shaderID?C.push(T.shaderID):(C.push(T.customVertexShaderID),C.push(T.customFragmentShaderID)),T.defines!==void 0)for(const j in T.defines)C.push(j),C.push(T.defines[j]);return T.isRawShaderMaterial===!1&&(y(C,T),b(C,T),C.push(t.outputColorSpace)),C.push(T.customProgramCacheKey),C.join()}function y(T,C){T.push(C.precision),T.push(C.outputColorSpace),T.push(C.envMapMode),T.push(C.envMapCubeUVHeight),T.push(C.mapUv),T.push(C.alphaMapUv),T.push(C.lightMapUv),T.push(C.aoMapUv),T.push(C.bumpMapUv),T.push(C.normalMapUv),T.push(C.displacementMapUv),T.push(C.emissiveMapUv),T.push(C.metalnessMapUv),T.push(C.roughnessMapUv),T.push(C.anisotropyMapUv),T.push(C.clearcoatMapUv),T.push(C.clearcoatNormalMapUv),T.push(C.clearcoatRoughnessMapUv),T.push(C.iridescenceMapUv),T.push(C.iridescenceThicknessMapUv),T.push(C.sheenColorMapUv),T.push(C.sheenRoughnessMapUv),T.push(C.specularMapUv),T.push(C.specularColorMapUv),T.push(C.specularIntensityMapUv),T.push(C.transmissionMapUv),T.push(C.thicknessMapUv),T.push(C.combine),T.push(C.fogExp2),T.push(C.sizeAttenuation),T.push(C.morphTargetsCount),T.push(C.morphAttributeCount),T.push(C.numDirLights),T.push(C.numPointLights),T.push(C.numSpotLights),T.push(C.numSpotLightMaps),T.push(C.numHemiLights),T.push(C.numRectAreaLights),T.push(C.numDirLightShadows),T.push(C.numPointLightShadows),T.push(C.numSpotLightShadows),T.push(C.numSpotLightShadowsWithMaps),T.push(C.numLightProbes),T.push(C.shadowMapType),T.push(C.toneMapping),T.push(C.numClippingPlanes),T.push(C.numClipIntersection),T.push(C.depthPacking)}function b(T,C){l.disableAll(),C.supportsVertexTextures&&l.enable(0),C.instancing&&l.enable(1),C.instancingColor&&l.enable(2),C.instancingMorph&&l.enable(3),C.matcap&&l.enable(4),C.envMap&&l.enable(5),C.normalMapObjectSpace&&l.enable(6),C.normalMapTangentSpace&&l.enable(7),C.clearcoat&&l.enable(8),C.iridescence&&l.enable(9),C.alphaTest&&l.enable(10),C.vertexColors&&l.enable(11),C.vertexAlphas&&l.enable(12),C.vertexUv1s&&l.enable(13),C.vertexUv2s&&l.enable(14),C.vertexUv3s&&l.enable(15),C.vertexTangents&&l.enable(16),C.anisotropy&&l.enable(17),C.alphaHash&&l.enable(18),C.batching&&l.enable(19),C.dispersion&&l.enable(20),C.batchingColor&&l.enable(21),C.gradientMap&&l.enable(22),T.push(l.mask),l.disableAll(),C.fog&&l.enable(0),C.useFog&&l.enable(1),C.flatShading&&l.enable(2),C.logarithmicDepthBuffer&&l.enable(3),C.reversedDepthBuffer&&l.enable(4),C.skinning&&l.enable(5),C.morphTargets&&l.enable(6),C.morphNormals&&l.enable(7),C.morphColors&&l.enable(8),C.premultipliedAlpha&&l.enable(9),C.shadowMapEnabled&&l.enable(10),C.doubleSided&&l.enable(11),C.flipSided&&l.enable(12),C.useDepthPacking&&l.enable(13),C.dithering&&l.enable(14),C.transmission&&l.enable(15),C.sheen&&l.enable(16),C.opaque&&l.enable(17),C.pointsUvs&&l.enable(18),C.decodeVideoTexture&&l.enable(19),C.decodeVideoTextureEmissive&&l.enable(20),C.alphaToCoverage&&l.enable(21),T.push(l.mask)}function w(T){const C=x[T.type];let j;if(C){const D=xs[C];j=sq.clone(D.uniforms)}else j=T.uniforms;return j}function S(T,C){let j;for(let D=0,z=d.length;D<z;D++){const H=d[D];if(H.cacheKey===C){j=H,++j.usedTimes;break}}return j===void 0&&(j=new RZ(t,C,T,i),d.push(j)),j}function N(T){if(--T.usedTimes===0){const C=d.indexOf(T);d[C]=d[d.length-1],d.pop(),T.destroy()}}function M(T){c.remove(T)}function A(){c.dispose()}return{getParameters:v,getProgramCacheKey:g,getUniforms:w,acquireProgram:S,releaseProgram:N,releaseShaderCache:M,programs:d,dispose:A}}function IZ(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let l=t.get(a);return l===void 0&&(l={},t.set(a,l)),l}function r(a){t.delete(a)}function s(a,l,c){t.get(a)[l]=c}function i(){t=new WeakMap}return{has:e,get:n,remove:r,update:s,dispose:i}}function LZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function I2(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function L2(){const t=[];let e=0;const n=[],r=[],s=[];function i(){e=0,n.length=0,r.length=0,s.length=0}function a(h,f,p,x,m,v){let g=t[e];return g===void 0?(g={id:h.id,object:h,geometry:f,material:p,groupOrder:x,renderOrder:h.renderOrder,z:m,group:v},t[e]=g):(g.id=h.id,g.object=h,g.geometry=f,g.material=p,g.groupOrder=x,g.renderOrder=h.renderOrder,g.z=m,g.group=v),e++,g}function l(h,f,p,x,m,v){const g=a(h,f,p,x,m,v);p.transmission>0?r.push(g):p.transparent===!0?s.push(g):n.push(g)}function c(h,f,p,x,m,v){const g=a(h,f,p,x,m,v);p.transmission>0?r.unshift(g):p.transparent===!0?s.unshift(g):n.unshift(g)}function u(h,f){n.length>1&&n.sort(h||LZ),r.length>1&&r.sort(f||I2),s.length>1&&s.sort(f||I2)}function d(){for(let h=e,f=t.length;h<f;h++){const p=t[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:s,init:i,push:l,unshift:c,finish:d,sort:u}}function OZ(){let t=new WeakMap;function e(r,s){const i=t.get(r);let a;return i===void 0?(a=new L2,t.set(r,[a])):s>=i.length?(a=new L2,i.push(a)):a=i[s],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function UZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new pt};break;case"SpotLight":n={position:new te,direction:new te,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new pt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":n={color:new pt,position:new te,halfWidth:new te,halfHeight:new te};break}return t[e.id]=n,n}}}function FZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let zZ=0;function BZ(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function VZ(t){const e=new UZ,n=FZ(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new te);const s=new te,i=new dn,a=new dn;function l(u){let d=0,h=0,f=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let p=0,x=0,m=0,v=0,g=0,y=0,b=0,w=0,S=0,N=0,M=0;u.sort(BZ);for(let T=0,C=u.length;T<C;T++){const j=u[T],D=j.color,z=j.intensity,H=j.distance,$=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)d+=D.r*z,h+=D.g*z,f+=D.b*z;else if(j.isLightProbe){for(let Z=0;Z<9;Z++)r.probe[Z].addScaledVector(j.sh.coefficients[Z],z);M++}else if(j.isDirectionalLight){const Z=e.get(j);if(Z.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const B=j.shadow,I=n.get(j);I.shadowIntensity=B.intensity,I.shadowBias=B.bias,I.shadowNormalBias=B.normalBias,I.shadowRadius=B.radius,I.shadowMapSize=B.mapSize,r.directionalShadow[p]=I,r.directionalShadowMap[p]=$,r.directionalShadowMatrix[p]=j.shadow.matrix,y++}r.directional[p]=Z,p++}else if(j.isSpotLight){const Z=e.get(j);Z.position.setFromMatrixPosition(j.matrixWorld),Z.color.copy(D).multiplyScalar(z),Z.distance=H,Z.coneCos=Math.cos(j.angle),Z.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),Z.decay=j.decay,r.spot[m]=Z;const B=j.shadow;if(j.map&&(r.spotLightMap[S]=j.map,S++,B.updateMatrices(j),j.castShadow&&N++),r.spotLightMatrix[m]=B.matrix,j.castShadow){const I=n.get(j);I.shadowIntensity=B.intensity,I.shadowBias=B.bias,I.shadowNormalBias=B.normalBias,I.shadowRadius=B.radius,I.shadowMapSize=B.mapSize,r.spotShadow[m]=I,r.spotShadowMap[m]=$,w++}m++}else if(j.isRectAreaLight){const Z=e.get(j);Z.color.copy(D).multiplyScalar(z),Z.halfWidth.set(j.width*.5,0,0),Z.halfHeight.set(0,j.height*.5,0),r.rectArea[v]=Z,v++}else if(j.isPointLight){const Z=e.get(j);if(Z.color.copy(j.color).multiplyScalar(j.intensity),Z.distance=j.distance,Z.decay=j.decay,j.castShadow){const B=j.shadow,I=n.get(j);I.shadowIntensity=B.intensity,I.shadowBias=B.bias,I.shadowNormalBias=B.normalBias,I.shadowRadius=B.radius,I.shadowMapSize=B.mapSize,I.shadowCameraNear=B.camera.near,I.shadowCameraFar=B.camera.far,r.pointShadow[x]=I,r.pointShadowMap[x]=$,r.pointShadowMatrix[x]=j.shadow.matrix,b++}r.point[x]=Z,x++}else if(j.isHemisphereLight){const Z=e.get(j);Z.skyColor.copy(j.color).multiplyScalar(z),Z.groundColor.copy(j.groundColor).multiplyScalar(z),r.hemi[g]=Z,g++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=xe.LTC_FLOAT_1,r.rectAreaLTC2=xe.LTC_FLOAT_2):(r.rectAreaLTC1=xe.LTC_HALF_1,r.rectAreaLTC2=xe.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=f;const A=r.hash;(A.directionalLength!==p||A.pointLength!==x||A.spotLength!==m||A.rectAreaLength!==v||A.hemiLength!==g||A.numDirectionalShadows!==y||A.numPointShadows!==b||A.numSpotShadows!==w||A.numSpotMaps!==S||A.numLightProbes!==M)&&(r.directional.length=p,r.spot.length=m,r.rectArea.length=v,r.point.length=x,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=w+S-N,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=N,r.numLightProbes=M,A.directionalLength=p,A.pointLength=x,A.spotLength=m,A.rectAreaLength=v,A.hemiLength=g,A.numDirectionalShadows=y,A.numPointShadows=b,A.numSpotShadows=w,A.numSpotMaps=S,A.numLightProbes=M,r.version=zZ++)}function c(u,d){let h=0,f=0,p=0,x=0,m=0;const v=d.matrixWorldInverse;for(let g=0,y=u.length;g<y;g++){const b=u[g];if(b.isDirectionalLight){const w=r.directional[h];w.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),h++}else if(b.isSpotLight){const w=r.spot[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),p++}else if(b.isRectAreaLight){const w=r.rectArea[x];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),a.identity(),i.copy(b.matrixWorld),i.premultiply(v),a.extractRotation(i),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),x++}else if(b.isPointLight){const w=r.point[f];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),f++}else if(b.isHemisphereLight){const w=r.hemi[m];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(v),m++}}}return{setup:l,setupView:c,state:r}}function O2(t){const e=new VZ(t),n=[],r=[];function s(d){u.camera=d,n.length=0,r.length=0}function i(d){n.push(d)}function a(d){r.push(d)}function l(){e.setup(n)}function c(d){e.setupView(n,d)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:u,setupLights:l,setupLightsView:c,pushLight:i,pushShadow:a}}function $Z(t){let e=new WeakMap;function n(s,i=0){const a=e.get(s);let l;return a===void 0?(l=new O2(t),e.set(s,[l])):i>=a.length?(l=new O2(t),a.push(l)):l=a[i],l}function r(){e=new WeakMap}return{get:n,dispose:r}}const HZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WZ(t,e,n){let r=new SR;const s=new yt,i=new yt,a=new en,l=new gq({depthPacking:TW}),c=new xq,u={},d=n.maxTextureSize,h={[Qi]:ir,[ir]:Qi,[Hs]:Hs},f=new li({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new yt},radius:{value:4}},vertexShader:HZ,fragmentShader:GZ}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const x=new As;x.setAttribute("position",new Ns(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new ea(x,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=tR;let g=this.type;this.render=function(N,M,A){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||N.length===0)return;const T=t.getRenderTarget(),C=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),D=t.state;D.setBlending(Js),D.buffers.depth.getReversed()===!0?D.buffers.color.setClear(0,0,0,0):D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const z=g!==zs&&this.type===zs,H=g===zs&&this.type!==zs;for(let $=0,Z=N.length;$<Z;$++){const B=N[$],I=B.shadow;if(I===void 0){Qe("WebGLShadowMap:",B,"has no shadow.");continue}if(I.autoUpdate===!1&&I.needsUpdate===!1)continue;s.copy(I.mapSize);const V=I.getFrameExtents();if(s.multiply(V),i.copy(I.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(i.x=Math.floor(d/V.x),s.x=i.x*V.x,I.mapSize.x=i.x),s.y>d&&(i.y=Math.floor(d/V.y),s.y=i.y*V.y,I.mapSize.y=i.y)),I.map===null||z===!0||H===!0){const se=this.type!==zs?{minFilter:br,magFilter:br}:{};I.map!==null&&I.map.dispose(),I.map=new to(s.x,s.y,se),I.map.texture.name=B.name+".shadowMap",I.camera.updateProjectionMatrix()}t.setRenderTarget(I.map),t.clear();const K=I.getViewportCount();for(let se=0;se<K;se++){const de=I.getViewport(se);a.set(i.x*de.x,i.y*de.y,i.x*de.z,i.y*de.w),D.viewport(a),I.updateMatrices(B,se),r=I.getFrustum(),w(M,A,I.camera,B,this.type)}I.isPointLightShadow!==!0&&this.type===zs&&y(I,A),I.needsUpdate=!1}g=this.type,v.needsUpdate=!1,t.setRenderTarget(T,C,j)};function y(N,M){const A=e.update(m);f.defines.VSM_SAMPLES!==N.blurSamples&&(f.defines.VSM_SAMPLES=N.blurSamples,p.defines.VSM_SAMPLES=N.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new to(s.x,s.y)),f.uniforms.shadow_pass.value=N.map.texture,f.uniforms.resolution.value=N.mapSize,f.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(M,null,A,f,m,null),p.uniforms.shadow_pass.value=N.mapPass.texture,p.uniforms.resolution.value=N.mapSize,p.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(M,null,A,p,m,null)}function b(N,M,A,T){let C=null;const j=A.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(j!==void 0)C=j;else if(C=A.isPointLight===!0?c:l,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0||M.alphaToCoverage===!0){const D=C.uuid,z=M.uuid;let H=u[D];H===void 0&&(H={},u[D]=H);let $=H[z];$===void 0&&($=C.clone(),H[z]=$,M.addEventListener("dispose",S)),C=$}if(C.visible=M.visible,C.wireframe=M.wireframe,T===zs?C.side=M.shadowSide!==null?M.shadowSide:M.side:C.side=M.shadowSide!==null?M.shadowSide:h[M.side],C.alphaMap=M.alphaMap,C.alphaTest=M.alphaToCoverage===!0?.5:M.alphaTest,C.map=M.map,C.clipShadows=M.clipShadows,C.clippingPlanes=M.clippingPlanes,C.clipIntersection=M.clipIntersection,C.displacementMap=M.displacementMap,C.displacementScale=M.displacementScale,C.displacementBias=M.displacementBias,C.wireframeLinewidth=M.wireframeLinewidth,C.linewidth=M.linewidth,A.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const D=t.properties.get(C);D.light=A}return C}function w(N,M,A,T,C){if(N.visible===!1)return;if(N.layers.test(M.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&C===zs)&&(!N.frustumCulled||r.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,N.matrixWorld);const z=e.update(N),H=N.material;if(Array.isArray(H)){const $=z.groups;for(let Z=0,B=$.length;Z<B;Z++){const I=$[Z],V=H[I.materialIndex];if(V&&V.visible){const K=b(N,V,T,C);N.onBeforeShadow(t,N,M,A,z,K,I),t.renderBufferDirect(A,null,z,K,N,I),N.onAfterShadow(t,N,M,A,z,K,I)}}}else if(H.visible){const $=b(N,H,T,C);N.onBeforeShadow(t,N,M,A,z,$,null),t.renderBufferDirect(A,null,z,$,N,null),N.onAfterShadow(t,N,M,A,z,$,null)}}const D=N.children;for(let z=0,H=D.length;z<H;z++)w(D[z],M,A,T,C)}function S(N){N.target.removeEventListener("dispose",S);for(const A in u){const T=u[A],C=N.target.uuid;C in T&&(T[C].dispose(),delete T[C])}}}const qZ={[nx]:rx,[sx]:ox,[ix]:lx,[Pl]:ax,[rx]:nx,[ox]:sx,[lx]:ix,[ax]:Pl};function XZ(t,e){function n(){let U=!1;const ve=new en;let me=null;const ge=new en(0,0,0,0);return{setMask:function(ue){me!==ue&&!U&&(t.colorMask(ue,ue,ue,ue),me=ue)},setLocked:function(ue){U=ue},setClear:function(ue,ie,Re,Xe,Tt){Tt===!0&&(ue*=Xe,ie*=Xe,Re*=Xe),ve.set(ue,ie,Re,Xe),ge.equals(ve)===!1&&(t.clearColor(ue,ie,Re,Xe),ge.copy(ve))},reset:function(){U=!1,me=null,ge.set(-1,0,0,0)}}}function r(){let U=!1,ve=!1,me=null,ge=null,ue=null;return{setReversed:function(ie){if(ve!==ie){const Re=e.get("EXT_clip_control");ie?Re.clipControlEXT(Re.LOWER_LEFT_EXT,Re.ZERO_TO_ONE_EXT):Re.clipControlEXT(Re.LOWER_LEFT_EXT,Re.NEGATIVE_ONE_TO_ONE_EXT),ve=ie;const Xe=ue;ue=null,this.setClear(Xe)}},getReversed:function(){return ve},setTest:function(ie){ie?re(t.DEPTH_TEST):_e(t.DEPTH_TEST)},setMask:function(ie){me!==ie&&!U&&(t.depthMask(ie),me=ie)},setFunc:function(ie){if(ve&&(ie=qZ[ie]),ge!==ie){switch(ie){case nx:t.depthFunc(t.NEVER);break;case rx:t.depthFunc(t.ALWAYS);break;case sx:t.depthFunc(t.LESS);break;case Pl:t.depthFunc(t.LEQUAL);break;case ix:t.depthFunc(t.EQUAL);break;case ax:t.depthFunc(t.GEQUAL);break;case ox:t.depthFunc(t.GREATER);break;case lx:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ge=ie}},setLocked:function(ie){U=ie},setClear:function(ie){ue!==ie&&(ve&&(ie=1-ie),t.clearDepth(ie),ue=ie)},reset:function(){U=!1,me=null,ge=null,ue=null,ve=!1}}}function s(){let U=!1,ve=null,me=null,ge=null,ue=null,ie=null,Re=null,Xe=null,Tt=null;return{setTest:function(gt){U||(gt?re(t.STENCIL_TEST):_e(t.STENCIL_TEST))},setMask:function(gt){ve!==gt&&!U&&(t.stencilMask(gt),ve=gt)},setFunc:function(gt,ds,Gr){(me!==gt||ge!==ds||ue!==Gr)&&(t.stencilFunc(gt,ds,Gr),me=gt,ge=ds,ue=Gr)},setOp:function(gt,ds,Gr){(ie!==gt||Re!==ds||Xe!==Gr)&&(t.stencilOp(gt,ds,Gr),ie=gt,Re=ds,Xe=Gr)},setLocked:function(gt){U=gt},setClear:function(gt){Tt!==gt&&(t.clearStencil(gt),Tt=gt)},reset:function(){U=!1,ve=null,me=null,ge=null,ue=null,ie=null,Re=null,Xe=null,Tt=null}}}const i=new n,a=new r,l=new s,c=new WeakMap,u=new WeakMap;let d={},h={},f=new WeakMap,p=[],x=null,m=!1,v=null,g=null,y=null,b=null,w=null,S=null,N=null,M=new pt(0,0,0),A=0,T=!1,C=null,j=null,D=null,z=null,H=null;const $=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,B=0;const I=t.getParameter(t.VERSION);I.indexOf("WebGL")!==-1?(B=parseFloat(/^WebGL (\d)/.exec(I)[1]),Z=B>=1):I.indexOf("OpenGL ES")!==-1&&(B=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),Z=B>=2);let V=null,K={};const se=t.getParameter(t.SCISSOR_BOX),de=t.getParameter(t.VIEWPORT),Ee=new en().fromArray(se),qe=new en().fromArray(de);function it(U,ve,me,ge){const ue=new Uint8Array(4),ie=t.createTexture();t.bindTexture(U,ie),t.texParameteri(U,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(U,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Re=0;Re<me;Re++)U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY?t.texImage3D(ve,0,t.RGBA,1,1,ge,0,t.RGBA,t.UNSIGNED_BYTE,ue):t.texImage2D(ve+Re,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ue);return ie}const ne={};ne[t.TEXTURE_2D]=it(t.TEXTURE_2D,t.TEXTURE_2D,1),ne[t.TEXTURE_CUBE_MAP]=it(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ne[t.TEXTURE_2D_ARRAY]=it(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ne[t.TEXTURE_3D]=it(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),l.setClear(0),re(t.DEPTH_TEST),a.setFunc(Pl),rt(!1),st(zS),re(t.CULL_FACE),bt(Js);function re(U){d[U]!==!0&&(t.enable(U),d[U]=!0)}function _e(U){d[U]!==!1&&(t.disable(U),d[U]=!1)}function Fe(U,ve){return h[U]!==ve?(t.bindFramebuffer(U,ve),h[U]=ve,U===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=ve),U===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=ve),!0):!1}function Me(U,ve){let me=p,ge=!1;if(U){me=f.get(ve),me===void 0&&(me=[],f.set(ve,me));const ue=U.textures;if(me.length!==ue.length||me[0]!==t.COLOR_ATTACHMENT0){for(let ie=0,Re=ue.length;ie<Re;ie++)me[ie]=t.COLOR_ATTACHMENT0+ie;me.length=ue.length,ge=!0}}else me[0]!==t.BACK&&(me[0]=t.BACK,ge=!0);ge&&t.drawBuffers(me)}function Ze(U){return x!==U?(t.useProgram(U),x=U,!0):!1}const Pt={[Pa]:t.FUNC_ADD,[QG]:t.FUNC_SUBTRACT,[eW]:t.FUNC_REVERSE_SUBTRACT};Pt[tW]=t.MIN,Pt[nW]=t.MAX;const Je={[rW]:t.ZERO,[sW]:t.ONE,[iW]:t.SRC_COLOR,[ex]:t.SRC_ALPHA,[dW]:t.SRC_ALPHA_SATURATE,[cW]:t.DST_COLOR,[oW]:t.DST_ALPHA,[aW]:t.ONE_MINUS_SRC_COLOR,[tx]:t.ONE_MINUS_SRC_ALPHA,[uW]:t.ONE_MINUS_DST_COLOR,[lW]:t.ONE_MINUS_DST_ALPHA,[hW]:t.CONSTANT_COLOR,[fW]:t.ONE_MINUS_CONSTANT_COLOR,[pW]:t.CONSTANT_ALPHA,[mW]:t.ONE_MINUS_CONSTANT_ALPHA};function bt(U,ve,me,ge,ue,ie,Re,Xe,Tt,gt){if(U===Js){m===!0&&(_e(t.BLEND),m=!1);return}if(m===!1&&(re(t.BLEND),m=!0),U!==JG){if(U!==v||gt!==T){if((g!==Pa||w!==Pa)&&(t.blendEquation(t.FUNC_ADD),g=Pa,w=Pa),gt)switch(U){case gl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case BS:t.blendFunc(t.ONE,t.ONE);break;case VS:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case $S:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Qt("WebGLState: Invalid blending: ",U);break}else switch(U){case gl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case BS:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case VS:Qt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case $S:Qt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Qt("WebGLState: Invalid blending: ",U);break}y=null,b=null,S=null,N=null,M.set(0,0,0),A=0,v=U,T=gt}return}ue=ue||ve,ie=ie||me,Re=Re||ge,(ve!==g||ue!==w)&&(t.blendEquationSeparate(Pt[ve],Pt[ue]),g=ve,w=ue),(me!==y||ge!==b||ie!==S||Re!==N)&&(t.blendFuncSeparate(Je[me],Je[ge],Je[ie],Je[Re]),y=me,b=ge,S=ie,N=Re),(Xe.equals(M)===!1||Tt!==A)&&(t.blendColor(Xe.r,Xe.g,Xe.b,Tt),M.copy(Xe),A=Tt),v=U,T=!1}function O(U,ve){U.side===Hs?_e(t.CULL_FACE):re(t.CULL_FACE);let me=U.side===ir;ve&&(me=!me),rt(me),U.blending===gl&&U.transparent===!1?bt(Js):bt(U.blending,U.blendEquation,U.blendSrc,U.blendDst,U.blendEquationAlpha,U.blendSrcAlpha,U.blendDstAlpha,U.blendColor,U.blendAlpha,U.premultipliedAlpha),a.setFunc(U.depthFunc),a.setTest(U.depthTest),a.setMask(U.depthWrite),i.setMask(U.colorWrite);const ge=U.stencilWrite;l.setTest(ge),ge&&(l.setMask(U.stencilWriteMask),l.setFunc(U.stencilFunc,U.stencilRef,U.stencilFuncMask),l.setOp(U.stencilFail,U.stencilZFail,U.stencilZPass)),Ae(U.polygonOffset,U.polygonOffsetFactor,U.polygonOffsetUnits),U.alphaToCoverage===!0?re(t.SAMPLE_ALPHA_TO_COVERAGE):_e(t.SAMPLE_ALPHA_TO_COVERAGE)}function rt(U){C!==U&&(U?t.frontFace(t.CW):t.frontFace(t.CCW),C=U)}function st(U){U!==KG?(re(t.CULL_FACE),U!==j&&(U===zS?t.cullFace(t.BACK):U===YG?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):_e(t.CULL_FACE),j=U}function _t(U){U!==D&&(Z&&t.lineWidth(U),D=U)}function Ae(U,ve,me){U?(re(t.POLYGON_OFFSET_FILL),(z!==ve||H!==me)&&(t.polygonOffset(ve,me),z=ve,H=me)):_e(t.POLYGON_OFFSET_FILL)}function L(U){U?re(t.SCISSOR_TEST):_e(t.SCISSOR_TEST)}function F(U){U===void 0&&(U=t.TEXTURE0+$-1),V!==U&&(t.activeTexture(U),V=U)}function q(U,ve,me){me===void 0&&(V===null?me=t.TEXTURE0+$-1:me=V);let ge=K[me];ge===void 0&&(ge={type:void 0,texture:void 0},K[me]=ge),(ge.type!==U||ge.texture!==ve)&&(V!==me&&(t.activeTexture(me),V=me),t.bindTexture(U,ve||ne[U]),ge.type=U,ge.texture=ve)}function R(){const U=K[V];U!==void 0&&U.type!==void 0&&(t.bindTexture(U.type,null),U.type=void 0,U.texture=void 0)}function E(){try{t.compressedTexImage2D(...arguments)}catch(U){U("WebGLState:",U)}}function k(){try{t.compressedTexImage3D(...arguments)}catch(U){U("WebGLState:",U)}}function X(){try{t.texSubImage2D(...arguments)}catch(U){U("WebGLState:",U)}}function ee(){try{t.texSubImage3D(...arguments)}catch(U){U("WebGLState:",U)}}function Y(){try{t.compressedTexSubImage2D(...arguments)}catch(U){U("WebGLState:",U)}}function we(){try{t.compressedTexSubImage3D(...arguments)}catch(U){U("WebGLState:",U)}}function pe(){try{t.texStorage2D(...arguments)}catch(U){U("WebGLState:",U)}}function ke(){try{t.texStorage3D(...arguments)}catch(U){U("WebGLState:",U)}}function De(){try{t.texImage2D(...arguments)}catch(U){U("WebGLState:",U)}}function oe(){try{t.texImage3D(...arguments)}catch(U){U("WebGLState:",U)}}function he(U){Ee.equals(U)===!1&&(t.scissor(U.x,U.y,U.z,U.w),Ee.copy(U))}function ze(U){qe.equals(U)===!1&&(t.viewport(U.x,U.y,U.z,U.w),qe.copy(U))}function Le(U,ve){let me=u.get(ve);me===void 0&&(me=new WeakMap,u.set(ve,me));let ge=me.get(U);ge===void 0&&(ge=t.getUniformBlockIndex(ve,U.name),me.set(U,ge))}function ye(U,ve){const ge=u.get(ve).get(U);c.get(ve)!==ge&&(t.uniformBlockBinding(ve,ge,U.__bindingPointIndex),c.set(ve,ge))}function $e(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},V=null,K={},h={},f=new WeakMap,p=[],x=null,m=!1,v=null,g=null,y=null,b=null,w=null,S=null,N=null,M=new pt(0,0,0),A=0,T=!1,C=null,j=null,D=null,z=null,H=null,Ee.set(0,0,t.canvas.width,t.canvas.height),qe.set(0,0,t.canvas.width,t.canvas.height),i.reset(),a.reset(),l.reset()}return{buffers:{color:i,depth:a,stencil:l},enable:re,disable:_e,bindFramebuffer:Fe,drawBuffers:Me,useProgram:Ze,setBlending:bt,setMaterial:O,setFlipSided:rt,setCullFace:st,setLineWidth:_t,setPolygonOffset:Ae,setScissorTest:L,activeTexture:F,bindTexture:q,unbindTexture:R,compressedTexImage2D:E,compressedTexImage3D:k,texImage2D:De,texImage3D:oe,updateUBOMapping:Le,uniformBlockBinding:ye,texStorage2D:pe,texStorage3D:ke,texSubImage2D:X,texSubImage3D:ee,compressedTexSubImage2D:Y,compressedTexSubImage3D:we,scissor:he,viewport:ze,reset:$e}}function KZ(t,e,n,r,s,i,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new yt,d=new WeakMap;let h;const f=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(R,E){return p?new OffscreenCanvas(R,E):jf("canvas")}function m(R,E,k){let X=1;const ee=q(R);if((ee.width>k||ee.height>k)&&(X=k/Math.max(ee.width,ee.height)),X<1)if(typeof HTMLImageElement<"u"&&R instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&R instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&R instanceof ImageBitmap||typeof VideoFrame<"u"&&R instanceof VideoFrame){const Y=Math.floor(X*ee.width),we=Math.floor(X*ee.height);h===void 0&&(h=x(Y,we));const pe=E?x(Y,we):h;return pe.width=Y,pe.height=we,pe.getContext("2d").drawImage(R,0,0,Y,we),Qe("WebGLRenderer: Texture has been resized from ("+ee.width+"x"+ee.height+") to ("+Y+"x"+we+")."),pe}else return"data"in R&&Qe("WebGLRenderer: Image in DataTexture is too big ("+ee.width+"x"+ee.height+")."),R;return R}function v(R){return R.generateMipmaps}function g(R){t.generateMipmap(R)}function y(R){return R.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:R.isWebGL3DRenderTarget?t.TEXTURE_3D:R.isWebGLArrayRenderTarget||R.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(R,E,k,X,ee=!1){if(R!==null){if(t[R]!==void 0)return t[R];Qe("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+R+"'")}let Y=E;if(E===t.RED&&(k===t.FLOAT&&(Y=t.R32F),k===t.HALF_FLOAT&&(Y=t.R16F),k===t.UNSIGNED_BYTE&&(Y=t.R8)),E===t.RED_INTEGER&&(k===t.UNSIGNED_BYTE&&(Y=t.R8UI),k===t.UNSIGNED_SHORT&&(Y=t.R16UI),k===t.UNSIGNED_INT&&(Y=t.R32UI),k===t.BYTE&&(Y=t.R8I),k===t.SHORT&&(Y=t.R16I),k===t.INT&&(Y=t.R32I)),E===t.RG&&(k===t.FLOAT&&(Y=t.RG32F),k===t.HALF_FLOAT&&(Y=t.RG16F),k===t.UNSIGNED_BYTE&&(Y=t.RG8)),E===t.RG_INTEGER&&(k===t.UNSIGNED_BYTE&&(Y=t.RG8UI),k===t.UNSIGNED_SHORT&&(Y=t.RG16UI),k===t.UNSIGNED_INT&&(Y=t.RG32UI),k===t.BYTE&&(Y=t.RG8I),k===t.SHORT&&(Y=t.RG16I),k===t.INT&&(Y=t.RG32I)),E===t.RGB_INTEGER&&(k===t.UNSIGNED_BYTE&&(Y=t.RGB8UI),k===t.UNSIGNED_SHORT&&(Y=t.RGB16UI),k===t.UNSIGNED_INT&&(Y=t.RGB32UI),k===t.BYTE&&(Y=t.RGB8I),k===t.SHORT&&(Y=t.RGB16I),k===t.INT&&(Y=t.RGB32I)),E===t.RGBA_INTEGER&&(k===t.UNSIGNED_BYTE&&(Y=t.RGBA8UI),k===t.UNSIGNED_SHORT&&(Y=t.RGBA16UI),k===t.UNSIGNED_INT&&(Y=t.RGBA32UI),k===t.BYTE&&(Y=t.RGBA8I),k===t.SHORT&&(Y=t.RGBA16I),k===t.INT&&(Y=t.RGBA32I)),E===t.RGB&&(k===t.UNSIGNED_INT_5_9_9_9_REV&&(Y=t.RGB9_E5),k===t.UNSIGNED_INT_10F_11F_11F_REV&&(Y=t.R11F_G11F_B10F)),E===t.RGBA){const we=ee?Af:ft.getTransfer(X);k===t.FLOAT&&(Y=t.RGBA32F),k===t.HALF_FLOAT&&(Y=t.RGBA16F),k===t.UNSIGNED_BYTE&&(Y=we===vt?t.SRGB8_ALPHA8:t.RGBA8),k===t.UNSIGNED_SHORT_4_4_4_4&&(Y=t.RGBA4),k===t.UNSIGNED_SHORT_5_5_5_1&&(Y=t.RGB5_A1)}return(Y===t.R16F||Y===t.R32F||Y===t.RG16F||Y===t.RG32F||Y===t.RGBA16F||Y===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Y}function w(R,E){let k;return R?E===null||E===eo||E===Au?k=t.DEPTH24_STENCIL8:E===Xs?k=t.DEPTH32F_STENCIL8:E===Mu&&(k=t.DEPTH24_STENCIL8,Qe("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):E===null||E===eo||E===Au?k=t.DEPTH_COMPONENT24:E===Xs?k=t.DEPTH_COMPONENT32F:E===Mu&&(k=t.DEPTH_COMPONENT16),k}function S(R,E){return v(R)===!0||R.isFramebufferTexture&&R.minFilter!==br&&R.minFilter!==Or?Math.log2(Math.max(E.width,E.height))+1:R.mipmaps!==void 0&&R.mipmaps.length>0?R.mipmaps.length:R.isCompressedTexture&&Array.isArray(R.image)?E.mipmaps.length:1}function N(R){const E=R.target;E.removeEventListener("dispose",N),A(E),E.isVideoTexture&&d.delete(E)}function M(R){const E=R.target;E.removeEventListener("dispose",M),C(E)}function A(R){const E=r.get(R);if(E.__webglInit===void 0)return;const k=R.source,X=f.get(k);if(X){const ee=X[E.__cacheKey];ee.usedTimes--,ee.usedTimes===0&&T(R),Object.keys(X).length===0&&f.delete(k)}r.remove(R)}function T(R){const E=r.get(R);t.deleteTexture(E.__webglTexture);const k=R.source,X=f.get(k);delete X[E.__cacheKey],a.memory.textures--}function C(R){const E=r.get(R);if(R.depthTexture&&(R.depthTexture.dispose(),r.remove(R.depthTexture)),R.isWebGLCubeRenderTarget)for(let X=0;X<6;X++){if(Array.isArray(E.__webglFramebuffer[X]))for(let ee=0;ee<E.__webglFramebuffer[X].length;ee++)t.deleteFramebuffer(E.__webglFramebuffer[X][ee]);else t.deleteFramebuffer(E.__webglFramebuffer[X]);E.__webglDepthbuffer&&t.deleteRenderbuffer(E.__webglDepthbuffer[X])}else{if(Array.isArray(E.__webglFramebuffer))for(let X=0;X<E.__webglFramebuffer.length;X++)t.deleteFramebuffer(E.__webglFramebuffer[X]);else t.deleteFramebuffer(E.__webglFramebuffer);if(E.__webglDepthbuffer&&t.deleteRenderbuffer(E.__webglDepthbuffer),E.__webglMultisampledFramebuffer&&t.deleteFramebuffer(E.__webglMultisampledFramebuffer),E.__webglColorRenderbuffer)for(let X=0;X<E.__webglColorRenderbuffer.length;X++)E.__webglColorRenderbuffer[X]&&t.deleteRenderbuffer(E.__webglColorRenderbuffer[X]);E.__webglDepthRenderbuffer&&t.deleteRenderbuffer(E.__webglDepthRenderbuffer)}const k=R.textures;for(let X=0,ee=k.length;X<ee;X++){const Y=r.get(k[X]);Y.__webglTexture&&(t.deleteTexture(Y.__webglTexture),a.memory.textures--),r.remove(k[X])}r.remove(R)}let j=0;function D(){j=0}function z(){const R=j;return R>=s.maxTextures&&Qe("WebGLTextures: Trying to use "+R+" texture units while this GPU supports only "+s.maxTextures),j+=1,R}function H(R){const E=[];return E.push(R.wrapS),E.push(R.wrapT),E.push(R.wrapR||0),E.push(R.magFilter),E.push(R.minFilter),E.push(R.anisotropy),E.push(R.internalFormat),E.push(R.format),E.push(R.type),E.push(R.generateMipmaps),E.push(R.premultiplyAlpha),E.push(R.flipY),E.push(R.unpackAlignment),E.push(R.colorSpace),E.join()}function $(R,E){const k=r.get(R);if(R.isVideoTexture&&L(R),R.isRenderTargetTexture===!1&&R.isExternalTexture!==!0&&R.version>0&&k.__version!==R.version){const X=R.image;if(X===null)Qe("WebGLRenderer: Texture marked for update but no image data found.");else if(X.complete===!1)Qe("WebGLRenderer: Texture marked for update but image is incomplete");else{ne(k,R,E);return}}else R.isExternalTexture&&(k.__webglTexture=R.sourceTexture?R.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,k.__webglTexture,t.TEXTURE0+E)}function Z(R,E){const k=r.get(R);if(R.isRenderTargetTexture===!1&&R.version>0&&k.__version!==R.version){ne(k,R,E);return}else R.isExternalTexture&&(k.__webglTexture=R.sourceTexture?R.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,k.__webglTexture,t.TEXTURE0+E)}function B(R,E){const k=r.get(R);if(R.isRenderTargetTexture===!1&&R.version>0&&k.__version!==R.version){ne(k,R,E);return}n.bindTexture(t.TEXTURE_3D,k.__webglTexture,t.TEXTURE0+E)}function I(R,E){const k=r.get(R);if(R.version>0&&k.__version!==R.version){re(k,R,E);return}n.bindTexture(t.TEXTURE_CUBE_MAP,k.__webglTexture,t.TEXTURE0+E)}const V={[dx]:t.REPEAT,[qs]:t.CLAMP_TO_EDGE,[hx]:t.MIRRORED_REPEAT},K={[br]:t.NEAREST,[CW]:t.NEAREST_MIPMAP_NEAREST,[Hd]:t.NEAREST_MIPMAP_LINEAR,[Or]:t.LINEAR,[Om]:t.LINEAR_MIPMAP_NEAREST,[za]:t.LINEAR_MIPMAP_LINEAR},se={[RW]:t.NEVER,[LW]:t.ALWAYS,[jW]:t.LESS,[dR]:t.LEQUAL,[PW]:t.EQUAL,[IW]:t.GEQUAL,[kW]:t.GREATER,[DW]:t.NOTEQUAL};function de(R,E){if(E.type===Xs&&e.has("OES_texture_float_linear")===!1&&(E.magFilter===Or||E.magFilter===Om||E.magFilter===Hd||E.magFilter===za||E.minFilter===Or||E.minFilter===Om||E.minFilter===Hd||E.minFilter===za)&&Qe("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(R,t.TEXTURE_WRAP_S,V[E.wrapS]),t.texParameteri(R,t.TEXTURE_WRAP_T,V[E.wrapT]),(R===t.TEXTURE_3D||R===t.TEXTURE_2D_ARRAY)&&t.texParameteri(R,t.TEXTURE_WRAP_R,V[E.wrapR]),t.texParameteri(R,t.TEXTURE_MAG_FILTER,K[E.magFilter]),t.texParameteri(R,t.TEXTURE_MIN_FILTER,K[E.minFilter]),E.compareFunction&&(t.texParameteri(R,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(R,t.TEXTURE_COMPARE_FUNC,se[E.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(E.magFilter===br||E.minFilter!==Hd&&E.minFilter!==za||E.type===Xs&&e.has("OES_texture_float_linear")===!1)return;if(E.anisotropy>1||r.get(E).__currentAnisotropy){const k=e.get("EXT_texture_filter_anisotropic");t.texParameterf(R,k.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,s.getMaxAnisotropy())),r.get(E).__currentAnisotropy=E.anisotropy}}}function Ee(R,E){let k=!1;R.__webglInit===void 0&&(R.__webglInit=!0,E.addEventListener("dispose",N));const X=E.source;let ee=f.get(X);ee===void 0&&(ee={},f.set(X,ee));const Y=H(E);if(Y!==R.__cacheKey){ee[Y]===void 0&&(ee[Y]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,k=!0),ee[Y].usedTimes++;const we=ee[R.__cacheKey];we!==void 0&&(ee[R.__cacheKey].usedTimes--,we.usedTimes===0&&T(E)),R.__cacheKey=Y,R.__webglTexture=ee[Y].texture}return k}function qe(R,E,k){return Math.floor(Math.floor(R/k)/E)}function it(R,E,k,X){const Y=R.updateRanges;if(Y.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,E.width,E.height,k,X,E.data);else{Y.sort((oe,he)=>oe.start-he.start);let we=0;for(let oe=1;oe<Y.length;oe++){const he=Y[we],ze=Y[oe],Le=he.start+he.count,ye=qe(ze.start,E.width,4),$e=qe(he.start,E.width,4);ze.start<=Le+1&&ye===$e&&qe(ze.start+ze.count-1,E.width,4)===ye?he.count=Math.max(he.count,ze.start+ze.count-he.start):(++we,Y[we]=ze)}Y.length=we+1;const pe=t.getParameter(t.UNPACK_ROW_LENGTH),ke=t.getParameter(t.UNPACK_SKIP_PIXELS),De=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,E.width);for(let oe=0,he=Y.length;oe<he;oe++){const ze=Y[oe],Le=Math.floor(ze.start/4),ye=Math.ceil(ze.count/4),$e=Le%E.width,U=Math.floor(Le/E.width),ve=ye,me=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,$e),t.pixelStorei(t.UNPACK_SKIP_ROWS,U),n.texSubImage2D(t.TEXTURE_2D,0,$e,U,ve,me,k,X,E.data)}R.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,pe),t.pixelStorei(t.UNPACK_SKIP_PIXELS,ke),t.pixelStorei(t.UNPACK_SKIP_ROWS,De)}}function ne(R,E,k){let X=t.TEXTURE_2D;(E.isDataArrayTexture||E.isCompressedArrayTexture)&&(X=t.TEXTURE_2D_ARRAY),E.isData3DTexture&&(X=t.TEXTURE_3D);const ee=Ee(R,E),Y=E.source;n.bindTexture(X,R.__webglTexture,t.TEXTURE0+k);const we=r.get(Y);if(Y.version!==we.__version||ee===!0){n.activeTexture(t.TEXTURE0+k);const pe=ft.getPrimaries(ft.workingColorSpace),ke=E.colorSpace===Pi?null:ft.getPrimaries(E.colorSpace),De=E.colorSpace===Pi||pe===ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,E.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,E.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,De);let oe=m(E.image,!1,s.maxTextureSize);oe=F(E,oe);const he=i.convert(E.format,E.colorSpace),ze=i.convert(E.type);let Le=b(E.internalFormat,he,ze,E.colorSpace,E.isVideoTexture);de(X,E);let ye;const $e=E.mipmaps,U=E.isVideoTexture!==!0,ve=we.__version===void 0||ee===!0,me=Y.dataReady,ge=S(E,oe);if(E.isDepthTexture)Le=w(E.format===ju,E.type),ve&&(U?n.texStorage2D(t.TEXTURE_2D,1,Le,oe.width,oe.height):n.texImage2D(t.TEXTURE_2D,0,Le,oe.width,oe.height,0,he,ze,null));else if(E.isDataTexture)if($e.length>0){U&&ve&&n.texStorage2D(t.TEXTURE_2D,ge,Le,$e[0].width,$e[0].height);for(let ue=0,ie=$e.length;ue<ie;ue++)ye=$e[ue],U?me&&n.texSubImage2D(t.TEXTURE_2D,ue,0,0,ye.width,ye.height,he,ze,ye.data):n.texImage2D(t.TEXTURE_2D,ue,Le,ye.width,ye.height,0,he,ze,ye.data);E.generateMipmaps=!1}else U?(ve&&n.texStorage2D(t.TEXTURE_2D,ge,Le,oe.width,oe.height),me&&it(E,oe,he,ze)):n.texImage2D(t.TEXTURE_2D,0,Le,oe.width,oe.height,0,he,ze,oe.data);else if(E.isCompressedTexture)if(E.isCompressedArrayTexture){U&&ve&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ge,Le,$e[0].width,$e[0].height,oe.depth);for(let ue=0,ie=$e.length;ue<ie;ue++)if(ye=$e[ue],E.format!==as)if(he!==null)if(U){if(me)if(E.layerUpdates.size>0){const Re=p2(ye.width,ye.height,E.format,E.type);for(const Xe of E.layerUpdates){const Tt=ye.data.subarray(Xe*Re/ye.data.BYTES_PER_ELEMENT,(Xe+1)*Re/ye.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ue,0,0,Xe,ye.width,ye.height,1,he,Tt)}E.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ue,0,0,0,ye.width,ye.height,oe.depth,he,ye.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ue,Le,ye.width,ye.height,oe.depth,0,ye.data,0,0);else Qe("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else U?me&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ue,0,0,0,ye.width,ye.height,oe.depth,he,ze,ye.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ue,Le,ye.width,ye.height,oe.depth,0,he,ze,ye.data)}else{U&&ve&&n.texStorage2D(t.TEXTURE_2D,ge,Le,$e[0].width,$e[0].height);for(let ue=0,ie=$e.length;ue<ie;ue++)ye=$e[ue],E.format!==as?he!==null?U?me&&n.compressedTexSubImage2D(t.TEXTURE_2D,ue,0,0,ye.width,ye.height,he,ye.data):n.compressedTexImage2D(t.TEXTURE_2D,ue,Le,ye.width,ye.height,0,ye.data):Qe("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):U?me&&n.texSubImage2D(t.TEXTURE_2D,ue,0,0,ye.width,ye.height,he,ze,ye.data):n.texImage2D(t.TEXTURE_2D,ue,Le,ye.width,ye.height,0,he,ze,ye.data)}else if(E.isDataArrayTexture)if(U){if(ve&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ge,Le,oe.width,oe.height,oe.depth),me)if(E.layerUpdates.size>0){const ue=p2(oe.width,oe.height,E.format,E.type);for(const ie of E.layerUpdates){const Re=oe.data.subarray(ie*ue/oe.data.BYTES_PER_ELEMENT,(ie+1)*ue/oe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,ie,oe.width,oe.height,1,he,ze,Re)}E.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,oe.width,oe.height,oe.depth,he,ze,oe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Le,oe.width,oe.height,oe.depth,0,he,ze,oe.data);else if(E.isData3DTexture)U?(ve&&n.texStorage3D(t.TEXTURE_3D,ge,Le,oe.width,oe.height,oe.depth),me&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,oe.width,oe.height,oe.depth,he,ze,oe.data)):n.texImage3D(t.TEXTURE_3D,0,Le,oe.width,oe.height,oe.depth,0,he,ze,oe.data);else if(E.isFramebufferTexture){if(ve)if(U)n.texStorage2D(t.TEXTURE_2D,ge,Le,oe.width,oe.height);else{let ue=oe.width,ie=oe.height;for(let Re=0;Re<ge;Re++)n.texImage2D(t.TEXTURE_2D,Re,Le,ue,ie,0,he,ze,null),ue>>=1,ie>>=1}}else if($e.length>0){if(U&&ve){const ue=q($e[0]);n.texStorage2D(t.TEXTURE_2D,ge,Le,ue.width,ue.height)}for(let ue=0,ie=$e.length;ue<ie;ue++)ye=$e[ue],U?me&&n.texSubImage2D(t.TEXTURE_2D,ue,0,0,he,ze,ye):n.texImage2D(t.TEXTURE_2D,ue,Le,he,ze,ye);E.generateMipmaps=!1}else if(U){if(ve){const ue=q(oe);n.texStorage2D(t.TEXTURE_2D,ge,Le,ue.width,ue.height)}me&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,he,ze,oe)}else n.texImage2D(t.TEXTURE_2D,0,Le,he,ze,oe);v(E)&&g(X),we.__version=Y.version,E.onUpdate&&E.onUpdate(E)}R.__version=E.version}function re(R,E,k){if(E.image.length!==6)return;const X=Ee(R,E),ee=E.source;n.bindTexture(t.TEXTURE_CUBE_MAP,R.__webglTexture,t.TEXTURE0+k);const Y=r.get(ee);if(ee.version!==Y.__version||X===!0){n.activeTexture(t.TEXTURE0+k);const we=ft.getPrimaries(ft.workingColorSpace),pe=E.colorSpace===Pi?null:ft.getPrimaries(E.colorSpace),ke=E.colorSpace===Pi||we===pe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,E.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,E.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,E.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ke);const De=E.isCompressedTexture||E.image[0].isCompressedTexture,oe=E.image[0]&&E.image[0].isDataTexture,he=[];for(let ie=0;ie<6;ie++)!De&&!oe?he[ie]=m(E.image[ie],!0,s.maxCubemapSize):he[ie]=oe?E.image[ie].image:E.image[ie],he[ie]=F(E,he[ie]);const ze=he[0],Le=i.convert(E.format,E.colorSpace),ye=i.convert(E.type),$e=b(E.internalFormat,Le,ye,E.colorSpace),U=E.isVideoTexture!==!0,ve=Y.__version===void 0||X===!0,me=ee.dataReady;let ge=S(E,ze);de(t.TEXTURE_CUBE_MAP,E);let ue;if(De){U&&ve&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ge,$e,ze.width,ze.height);for(let ie=0;ie<6;ie++){ue=he[ie].mipmaps;for(let Re=0;Re<ue.length;Re++){const Xe=ue[Re];E.format!==as?Le!==null?U?me&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re,0,0,Xe.width,Xe.height,Le,Xe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re,$e,Xe.width,Xe.height,0,Xe.data):Qe("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):U?me&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re,0,0,Xe.width,Xe.height,Le,ye,Xe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re,$e,Xe.width,Xe.height,0,Le,ye,Xe.data)}}}else{if(ue=E.mipmaps,U&&ve){ue.length>0&&ge++;const ie=q(he[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,ge,$e,ie.width,ie.height)}for(let ie=0;ie<6;ie++)if(oe){U?me&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,0,0,he[ie].width,he[ie].height,Le,ye,he[ie].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,$e,he[ie].width,he[ie].height,0,Le,ye,he[ie].data);for(let Re=0;Re<ue.length;Re++){const Tt=ue[Re].image[ie].image;U?me&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re+1,0,0,Tt.width,Tt.height,Le,ye,Tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re+1,$e,Tt.width,Tt.height,0,Le,ye,Tt.data)}}else{U?me&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,0,0,Le,ye,he[ie]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,0,$e,Le,ye,he[ie]);for(let Re=0;Re<ue.length;Re++){const Xe=ue[Re];U?me&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re+1,0,0,Le,ye,Xe.image[ie]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ie,Re+1,$e,Le,ye,Xe.image[ie])}}}v(E)&&g(t.TEXTURE_CUBE_MAP),Y.__version=ee.version,E.onUpdate&&E.onUpdate(E)}R.__version=E.version}function _e(R,E,k,X,ee,Y){const we=i.convert(k.format,k.colorSpace),pe=i.convert(k.type),ke=b(k.internalFormat,we,pe,k.colorSpace),De=r.get(E),oe=r.get(k);if(oe.__renderTarget=E,!De.__hasExternalTextures){const he=Math.max(1,E.width>>Y),ze=Math.max(1,E.height>>Y);ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY?n.texImage3D(ee,Y,ke,he,ze,E.depth,0,we,pe,null):n.texImage2D(ee,Y,ke,he,ze,0,we,pe,null)}n.bindFramebuffer(t.FRAMEBUFFER,R),Ae(E)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,X,ee,oe.__webglTexture,0,_t(E)):(ee===t.TEXTURE_2D||ee>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ee<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,X,ee,oe.__webglTexture,Y),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Fe(R,E,k){if(t.bindRenderbuffer(t.RENDERBUFFER,R),E.depthBuffer){const X=E.depthTexture,ee=X&&X.isDepthTexture?X.type:null,Y=w(E.stencilBuffer,ee),we=E.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,pe=_t(E);Ae(E)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,pe,Y,E.width,E.height):k?t.renderbufferStorageMultisample(t.RENDERBUFFER,pe,Y,E.width,E.height):t.renderbufferStorage(t.RENDERBUFFER,Y,E.width,E.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,we,t.RENDERBUFFER,R)}else{const X=E.textures;for(let ee=0;ee<X.length;ee++){const Y=X[ee],we=i.convert(Y.format,Y.colorSpace),pe=i.convert(Y.type),ke=b(Y.internalFormat,we,pe,Y.colorSpace),De=_t(E);k&&Ae(E)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,De,ke,E.width,E.height):Ae(E)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,De,ke,E.width,E.height):t.renderbufferStorage(t.RENDERBUFFER,ke,E.width,E.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Me(R,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,R),!(E.depthTexture&&E.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const X=r.get(E.depthTexture);X.__renderTarget=E,(!X.__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),$(E.depthTexture,0);const ee=X.__webglTexture,Y=_t(E);if(E.depthTexture.format===Ru)Ae(E)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ee,0,Y):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ee,0);else if(E.depthTexture.format===ju)Ae(E)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ee,0,Y):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ee,0);else throw new Error("Unknown depthTexture format")}function Ze(R){const E=r.get(R),k=R.isWebGLCubeRenderTarget===!0;if(E.__boundDepthTexture!==R.depthTexture){const X=R.depthTexture;if(E.__depthDisposeCallback&&E.__depthDisposeCallback(),X){const ee=()=>{delete E.__boundDepthTexture,delete E.__depthDisposeCallback,X.removeEventListener("dispose",ee)};X.addEventListener("dispose",ee),E.__depthDisposeCallback=ee}E.__boundDepthTexture=X}if(R.depthTexture&&!E.__autoAllocateDepthBuffer){if(k)throw new Error("target.depthTexture not supported in Cube render targets");const X=R.texture.mipmaps;X&&X.length>0?Me(E.__webglFramebuffer[0],R):Me(E.__webglFramebuffer,R)}else if(k){E.__webglDepthbuffer=[];for(let X=0;X<6;X++)if(n.bindFramebuffer(t.FRAMEBUFFER,E.__webglFramebuffer[X]),E.__webglDepthbuffer[X]===void 0)E.__webglDepthbuffer[X]=t.createRenderbuffer(),Fe(E.__webglDepthbuffer[X],R,!1);else{const ee=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Y=E.__webglDepthbuffer[X];t.bindRenderbuffer(t.RENDERBUFFER,Y),t.framebufferRenderbuffer(t.FRAMEBUFFER,ee,t.RENDERBUFFER,Y)}}else{const X=R.texture.mipmaps;if(X&&X.length>0?n.bindFramebuffer(t.FRAMEBUFFER,E.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,E.__webglFramebuffer),E.__webglDepthbuffer===void 0)E.__webglDepthbuffer=t.createRenderbuffer(),Fe(E.__webglDepthbuffer,R,!1);else{const ee=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Y=E.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Y),t.framebufferRenderbuffer(t.FRAMEBUFFER,ee,t.RENDERBUFFER,Y)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Pt(R,E,k){const X=r.get(R);E!==void 0&&_e(X.__webglFramebuffer,R,R.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),k!==void 0&&Ze(R)}function Je(R){const E=R.texture,k=r.get(R),X=r.get(E);R.addEventListener("dispose",M);const ee=R.textures,Y=R.isWebGLCubeRenderTarget===!0,we=ee.length>1;if(we||(X.__webglTexture===void 0&&(X.__webglTexture=t.createTexture()),X.__version=E.version,a.memory.textures++),Y){k.__webglFramebuffer=[];for(let pe=0;pe<6;pe++)if(E.mipmaps&&E.mipmaps.length>0){k.__webglFramebuffer[pe]=[];for(let ke=0;ke<E.mipmaps.length;ke++)k.__webglFramebuffer[pe][ke]=t.createFramebuffer()}else k.__webglFramebuffer[pe]=t.createFramebuffer()}else{if(E.mipmaps&&E.mipmaps.length>0){k.__webglFramebuffer=[];for(let pe=0;pe<E.mipmaps.length;pe++)k.__webglFramebuffer[pe]=t.createFramebuffer()}else k.__webglFramebuffer=t.createFramebuffer();if(we)for(let pe=0,ke=ee.length;pe<ke;pe++){const De=r.get(ee[pe]);De.__webglTexture===void 0&&(De.__webglTexture=t.createTexture(),a.memory.textures++)}if(R.samples>0&&Ae(R)===!1){k.__webglMultisampledFramebuffer=t.createFramebuffer(),k.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,k.__webglMultisampledFramebuffer);for(let pe=0;pe<ee.length;pe++){const ke=ee[pe];k.__webglColorRenderbuffer[pe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,k.__webglColorRenderbuffer[pe]);const De=i.convert(ke.format,ke.colorSpace),oe=i.convert(ke.type),he=b(ke.internalFormat,De,oe,ke.colorSpace,R.isXRRenderTarget===!0),ze=_t(R);t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,he,R.width,R.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pe,t.RENDERBUFFER,k.__webglColorRenderbuffer[pe])}t.bindRenderbuffer(t.RENDERBUFFER,null),R.depthBuffer&&(k.__webglDepthRenderbuffer=t.createRenderbuffer(),Fe(k.__webglDepthRenderbuffer,R,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Y){n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture),de(t.TEXTURE_CUBE_MAP,E);for(let pe=0;pe<6;pe++)if(E.mipmaps&&E.mipmaps.length>0)for(let ke=0;ke<E.mipmaps.length;ke++)_e(k.__webglFramebuffer[pe][ke],R,E,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+pe,ke);else _e(k.__webglFramebuffer[pe],R,E,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+pe,0);v(E)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(we){for(let pe=0,ke=ee.length;pe<ke;pe++){const De=ee[pe],oe=r.get(De);let he=t.TEXTURE_2D;(R.isWebGL3DRenderTarget||R.isWebGLArrayRenderTarget)&&(he=R.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(he,oe.__webglTexture),de(he,De),_e(k.__webglFramebuffer,R,De,t.COLOR_ATTACHMENT0+pe,he,0),v(De)&&g(he)}n.unbindTexture()}else{let pe=t.TEXTURE_2D;if((R.isWebGL3DRenderTarget||R.isWebGLArrayRenderTarget)&&(pe=R.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(pe,X.__webglTexture),de(pe,E),E.mipmaps&&E.mipmaps.length>0)for(let ke=0;ke<E.mipmaps.length;ke++)_e(k.__webglFramebuffer[ke],R,E,t.COLOR_ATTACHMENT0,pe,ke);else _e(k.__webglFramebuffer,R,E,t.COLOR_ATTACHMENT0,pe,0);v(E)&&g(pe),n.unbindTexture()}R.depthBuffer&&Ze(R)}function bt(R){const E=R.textures;for(let k=0,X=E.length;k<X;k++){const ee=E[k];if(v(ee)){const Y=y(R),we=r.get(ee).__webglTexture;n.bindTexture(Y,we),g(Y),n.unbindTexture()}}}const O=[],rt=[];function st(R){if(R.samples>0){if(Ae(R)===!1){const E=R.textures,k=R.width,X=R.height;let ee=t.COLOR_BUFFER_BIT;const Y=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=r.get(R),pe=E.length>1;if(pe)for(let De=0;De<E.length;De++)n.bindFramebuffer(t.FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,we.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer);const ke=R.texture.mipmaps;ke&&ke.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,we.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let De=0;De<E.length;De++){if(R.resolveDepthBuffer&&(R.depthBuffer&&(ee|=t.DEPTH_BUFFER_BIT),R.stencilBuffer&&R.resolveStencilBuffer&&(ee|=t.STENCIL_BUFFER_BIT)),pe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,we.__webglColorRenderbuffer[De]);const oe=r.get(E[De]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,oe,0)}t.blitFramebuffer(0,0,k,X,0,0,k,X,ee,t.NEAREST),c===!0&&(O.length=0,rt.length=0,O.push(t.COLOR_ATTACHMENT0+De),R.depthBuffer&&R.resolveDepthBuffer===!1&&(O.push(Y),rt.push(Y),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,rt)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,O))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),pe)for(let De=0;De<E.length;De++){n.bindFramebuffer(t.FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.RENDERBUFFER,we.__webglColorRenderbuffer[De]);const oe=r.get(E[De]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,we.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+De,t.TEXTURE_2D,oe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}else if(R.depthBuffer&&R.resolveDepthBuffer===!1&&c){const E=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[E])}}}function _t(R){return Math.min(s.maxSamples,R.samples)}function Ae(R){const E=r.get(R);return R.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&E.__useRenderToTexture!==!1}function L(R){const E=a.render.frame;d.get(R)!==E&&(d.set(R,E),R.update())}function F(R,E){const k=R.colorSpace,X=R.format,ee=R.type;return R.isCompressedTexture===!0||R.isVideoTexture===!0||k!==Il&&k!==Pi&&(ft.getTransfer(k)===vt?(X!==as||ee!==ai)&&Qe("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Qt("WebGLTextures: Unsupported texture color space:",k)),E}function q(R){return typeof HTMLImageElement<"u"&&R instanceof HTMLImageElement?(u.width=R.naturalWidth||R.width,u.height=R.naturalHeight||R.height):typeof VideoFrame<"u"&&R instanceof VideoFrame?(u.width=R.displayWidth,u.height=R.displayHeight):(u.width=R.width,u.height=R.height),u}this.allocateTextureUnit=z,this.resetTextureUnits=D,this.setTexture2D=$,this.setTexture2DArray=Z,this.setTexture3D=B,this.setTextureCube=I,this.rebindTextures=Pt,this.setupRenderTarget=Je,this.updateRenderTargetMipmap=bt,this.updateMultisampleRenderTarget=st,this.setupDepthRenderbuffer=Ze,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=Ae}function YZ(t,e){function n(r,s=Pi){let i;const a=ft.getTransfer(s);if(r===ai)return t.UNSIGNED_BYTE;if(r===eb)return t.UNSIGNED_SHORT_4_4_4_4;if(r===tb)return t.UNSIGNED_SHORT_5_5_5_1;if(r===aR)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===oR)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===sR)return t.BYTE;if(r===iR)return t.SHORT;if(r===Mu)return t.UNSIGNED_SHORT;if(r===Qy)return t.INT;if(r===eo)return t.UNSIGNED_INT;if(r===Xs)return t.FLOAT;if(r===Zl)return t.HALF_FLOAT;if(r===lR)return t.ALPHA;if(r===cR)return t.RGB;if(r===as)return t.RGBA;if(r===Ru)return t.DEPTH_COMPONENT;if(r===ju)return t.DEPTH_STENCIL;if(r===uR)return t.RED;if(r===nb)return t.RED_INTEGER;if(r===rb)return t.RG;if(r===sb)return t.RG_INTEGER;if(r===ib)return t.RGBA_INTEGER;if(r===Ph||r===kh||r===Dh||r===Ih)if(a===vt)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(r===Ph)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===kh)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Dh)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Ih)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(r===Ph)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===kh)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Dh)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Ih)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===fx||r===px||r===mx||r===gx)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(r===fx)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===px)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===mx)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===gx)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===xx||r===vx||r===yx)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(r===xx||r===vx)return a===vt?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(r===yx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===bx||r===_x||r===wx||r===Sx||r===Ex||r===Cx||r===Nx||r===Tx||r===Mx||r===Ax||r===Rx||r===jx||r===Px||r===kx)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(r===bx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===_x)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===wx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Sx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Ex)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Cx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Nx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Tx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Mx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Ax)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Rx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===jx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Px)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===kx)return a===vt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Dx||r===Ix||r===Lx)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(r===Dx)return a===vt?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Ix)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Lx)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Ox||r===Ux||r===Fx||r===zx)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(r===Ox)return i.COMPRESSED_RED_RGTC1_EXT;if(r===Ux)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Fx)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===zx)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Au?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const ZZ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,JZ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class QZ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new NR(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new li({vertexShader:ZZ,fragmentShader:JZ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ea(new Sp(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class eJ extends Jl{constructor(e,n){super();const r=this;let s=null,i=1,a=null,l="local-floor",c=1,u=null,d=null,h=null,f=null,p=null,x=null;const m=typeof XRWebGLBinding<"u",v=new QZ,g={},y=n.getContextAttributes();let b=null,w=null;const S=[],N=[],M=new yt;let A=null;const T=new Dr;T.viewport=new en;const C=new Dr;C.viewport=new en;const j=[T,C],D=new yq;let z=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let re=S[ne];return re===void 0&&(re=new a0,S[ne]=re),re.getTargetRaySpace()},this.getControllerGrip=function(ne){let re=S[ne];return re===void 0&&(re=new a0,S[ne]=re),re.getGripSpace()},this.getHand=function(ne){let re=S[ne];return re===void 0&&(re=new a0,S[ne]=re),re.getHandSpace()};function $(ne){const re=N.indexOf(ne.inputSource);if(re===-1)return;const _e=S[re];_e!==void 0&&(_e.update(ne.inputSource,ne.frame,u||a),_e.dispatchEvent({type:ne.type,data:ne.inputSource}))}function Z(){s.removeEventListener("select",$),s.removeEventListener("selectstart",$),s.removeEventListener("selectend",$),s.removeEventListener("squeeze",$),s.removeEventListener("squeezestart",$),s.removeEventListener("squeezeend",$),s.removeEventListener("end",Z),s.removeEventListener("inputsourceschange",B);for(let ne=0;ne<S.length;ne++){const re=N[ne];re!==null&&(N[ne]=null,S[ne].disconnect(re))}z=null,H=null,v.reset();for(const ne in g)delete g[ne];e.setRenderTarget(b),p=null,f=null,h=null,s=null,w=null,it.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){i=ne,r.isPresenting===!0&&Qe("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){l=ne,r.isPresenting===!0&&Qe("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(ne){u=ne},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return h===null&&m&&(h=new XRWebGLBinding(s,n)),h},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(ne){if(s=ne,s!==null){if(b=e.getRenderTarget(),s.addEventListener("select",$),s.addEventListener("selectstart",$),s.addEventListener("selectend",$),s.addEventListener("squeeze",$),s.addEventListener("squeezestart",$),s.addEventListener("squeezeend",$),s.addEventListener("end",Z),s.addEventListener("inputsourceschange",B),y.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(M),m&&"createProjectionLayer"in XRWebGLBinding.prototype){let _e=null,Fe=null,Me=null;y.depth&&(Me=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,_e=y.stencil?ju:Ru,Fe=y.stencil?Au:eo);const Ze={colorFormat:n.RGBA8,depthFormat:Me,scaleFactor:i};h=this.getBinding(),f=h.createProjectionLayer(Ze),s.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),w=new to(f.textureWidth,f.textureHeight,{format:as,type:ai,depthTexture:new CR(f.textureWidth,f.textureHeight,Fe,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const _e={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:i};p=new XRWebGLLayer(s,n,_e),s.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),w=new to(p.framebufferWidth,p.framebufferHeight,{format:as,type:ai,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await s.requestReferenceSpace(l),it.setContext(s),it.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function B(ne){for(let re=0;re<ne.removed.length;re++){const _e=ne.removed[re],Fe=N.indexOf(_e);Fe>=0&&(N[Fe]=null,S[Fe].disconnect(_e))}for(let re=0;re<ne.added.length;re++){const _e=ne.added[re];let Fe=N.indexOf(_e);if(Fe===-1){for(let Ze=0;Ze<S.length;Ze++)if(Ze>=N.length){N.push(_e),Fe=Ze;break}else if(N[Ze]===null){N[Ze]=_e,Fe=Ze;break}if(Fe===-1)break}const Me=S[Fe];Me&&Me.connect(_e)}}const I=new te,V=new te;function K(ne,re,_e){I.setFromMatrixPosition(re.matrixWorld),V.setFromMatrixPosition(_e.matrixWorld);const Fe=I.distanceTo(V),Me=re.projectionMatrix.elements,Ze=_e.projectionMatrix.elements,Pt=Me[14]/(Me[10]-1),Je=Me[14]/(Me[10]+1),bt=(Me[9]+1)/Me[5],O=(Me[9]-1)/Me[5],rt=(Me[8]-1)/Me[0],st=(Ze[8]+1)/Ze[0],_t=Pt*rt,Ae=Pt*st,L=Fe/(-rt+st),F=L*-rt;if(re.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(F),ne.translateZ(L),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert(),Me[10]===-1)ne.projectionMatrix.copy(re.projectionMatrix),ne.projectionMatrixInverse.copy(re.projectionMatrixInverse);else{const q=Pt+L,R=Je+L,E=_t-F,k=Ae+(Fe-F),X=bt*Je/R*q,ee=O*Je/R*q;ne.projectionMatrix.makePerspective(E,k,X,ee,q,R),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}}function se(ne,re){re===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(re.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(s===null)return;let re=ne.near,_e=ne.far;v.texture!==null&&(v.depthNear>0&&(re=v.depthNear),v.depthFar>0&&(_e=v.depthFar)),D.near=C.near=T.near=re,D.far=C.far=T.far=_e,(z!==D.near||H!==D.far)&&(s.updateRenderState({depthNear:D.near,depthFar:D.far}),z=D.near,H=D.far),D.layers.mask=ne.layers.mask|6,T.layers.mask=D.layers.mask&3,C.layers.mask=D.layers.mask&5;const Fe=ne.parent,Me=D.cameras;se(D,Fe);for(let Ze=0;Ze<Me.length;Ze++)se(Me[Ze],Fe);Me.length===2?K(D,T,C):D.projectionMatrix.copy(T.projectionMatrix),de(ne,D,Fe)};function de(ne,re,_e){_e===null?ne.matrix.copy(re.matrixWorld):(ne.matrix.copy(_e.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(re.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0),ne.projectionMatrix.copy(re.projectionMatrix),ne.projectionMatrixInverse.copy(re.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=Bx*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(f===null&&p===null))return c},this.setFoveation=function(ne){c=ne,f!==null&&(f.fixedFoveation=ne),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ne)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(D)},this.getCameraTexture=function(ne){return g[ne]};let Ee=null;function qe(ne,re){if(d=re.getViewerPose(u||a),x=re,d!==null){const _e=d.views;p!==null&&(e.setRenderTargetFramebuffer(w,p.framebuffer),e.setRenderTarget(w));let Fe=!1;_e.length!==D.cameras.length&&(D.cameras.length=0,Fe=!0);for(let Je=0;Je<_e.length;Je++){const bt=_e[Je];let O=null;if(p!==null)O=p.getViewport(bt);else{const st=h.getViewSubImage(f,bt);O=st.viewport,Je===0&&(e.setRenderTargetTextures(w,st.colorTexture,st.depthStencilTexture),e.setRenderTarget(w))}let rt=j[Je];rt===void 0&&(rt=new Dr,rt.layers.enable(Je),rt.viewport=new en,j[Je]=rt),rt.matrix.fromArray(bt.transform.matrix),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale),rt.projectionMatrix.fromArray(bt.projectionMatrix),rt.projectionMatrixInverse.copy(rt.projectionMatrix).invert(),rt.viewport.set(O.x,O.y,O.width,O.height),Je===0&&(D.matrix.copy(rt.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),Fe===!0&&D.cameras.push(rt)}const Me=s.enabledFeatures;if(Me&&Me.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&m){h=r.getBinding();const Je=h.getDepthInformation(_e[0]);Je&&Je.isValid&&Je.texture&&v.init(Je,s.renderState)}if(Me&&Me.includes("camera-access")&&m){e.state.unbindTexture(),h=r.getBinding();for(let Je=0;Je<_e.length;Je++){const bt=_e[Je].camera;if(bt){let O=g[bt];O||(O=new NR,g[bt]=O);const rt=h.getCameraImage(bt);O.sourceTexture=rt}}}}for(let _e=0;_e<S.length;_e++){const Fe=N[_e],Me=S[_e];Fe!==null&&Me!==void 0&&Me.update(Fe,re,u||a)}Ee&&Ee(ne,re),re.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:re}),x=null}const it=new TR;it.setAnimationLoop(qe),this.setAnimationLoop=function(ne){Ee=ne},this.dispose=function(){}}}const wa=new oi,tJ=new dn;function nJ(t,e){function n(v,g){v.matrixAutoUpdate===!0&&v.updateMatrix(),g.value.copy(v.matrix)}function r(v,g){g.color.getRGB(v.fogColor.value,bR(t)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)}function s(v,g,y,b,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?i(v,g):g.isMeshToonMaterial?(i(v,g),h(v,g)):g.isMeshPhongMaterial?(i(v,g),d(v,g)):g.isMeshStandardMaterial?(i(v,g),f(v,g),g.isMeshPhysicalMaterial&&p(v,g,w)):g.isMeshMatcapMaterial?(i(v,g),x(v,g)):g.isMeshDepthMaterial?i(v,g):g.isMeshDistanceMaterial?(i(v,g),m(v,g)):g.isMeshNormalMaterial?i(v,g):g.isLineBasicMaterial?(a(v,g),g.isLineDashedMaterial&&l(v,g)):g.isPointsMaterial?c(v,g,y,b):g.isSpriteMaterial?u(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function i(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,n(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,g.side===ir&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,n(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),g.side===ir&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,n(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,n(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const y=e.get(g),b=y.envMap,w=y.envMapRotation;b&&(v.envMap.value=b,wa.copy(w),wa.x*=-1,wa.y*=-1,wa.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(wa.y*=-1,wa.z*=-1),v.envMapRotation.value.setFromMatrix4(tJ.makeRotationFromEuler(wa)),v.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap&&(v.lightMap.value=g.lightMap,v.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,v.lightMapTransform)),g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,v.aoMapTransform))}function a(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform))}function l(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}function c(v,g,y,b){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*y,v.scale.value=b*.5,g.map&&(v.map.value=g.map,n(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function u(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function d(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}function h(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}function f(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,v.roughnessMapTransform)),g.envMap&&(v.envMapIntensity.value=g.envMapIntensity)}function p(v,g,y){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===ir&&v.clearcoatNormalScale.value.negate())),g.dispersion>0&&(v.dispersion.value=g.dispersion),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,v.specularIntensityMapTransform))}function x(v,g){g.matcap&&(v.matcap.value=g.matcap)}function m(v,g){const y=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(y.matrixWorld),v.nearDistance.value=y.shadow.camera.near,v.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:s}}function rJ(t,e,n,r){let s={},i={},a=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(y,b){const w=b.program;r.uniformBlockBinding(y,w)}function u(y,b){let w=s[y.id];w===void 0&&(x(y),w=d(y),s[y.id]=w,y.addEventListener("dispose",v));const S=b.program;r.updateUBOMapping(y,S);const N=e.render.frame;i[y.id]!==N&&(f(y),i[y.id]=N)}function d(y){const b=h();y.__bindingPointIndex=b;const w=t.createBuffer(),S=y.__size,N=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,S,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,w),w}function h(){for(let y=0;y<l;y++)if(a.indexOf(y)===-1)return a.push(y),y;return Qt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=s[y.id],w=y.uniforms,S=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let N=0,M=w.length;N<M;N++){const A=Array.isArray(w[N])?w[N]:[w[N]];for(let T=0,C=A.length;T<C;T++){const j=A[T];if(p(j,N,T,S)===!0){const D=j.__offset,z=Array.isArray(j.value)?j.value:[j.value];let H=0;for(let $=0;$<z.length;$++){const Z=z[$],B=m(Z);typeof Z=="number"||typeof Z=="boolean"?(j.__data[0]=Z,t.bufferSubData(t.UNIFORM_BUFFER,D+H,j.__data)):Z.isMatrix3?(j.__data[0]=Z.elements[0],j.__data[1]=Z.elements[1],j.__data[2]=Z.elements[2],j.__data[3]=0,j.__data[4]=Z.elements[3],j.__data[5]=Z.elements[4],j.__data[6]=Z.elements[5],j.__data[7]=0,j.__data[8]=Z.elements[6],j.__data[9]=Z.elements[7],j.__data[10]=Z.elements[8],j.__data[11]=0):(Z.toArray(j.__data,H),H+=B.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(y,b,w,S){const N=y.value,M=b+"_"+w;if(S[M]===void 0)return typeof N=="number"||typeof N=="boolean"?S[M]=N:S[M]=N.clone(),!0;{const A=S[M];if(typeof N=="number"||typeof N=="boolean"){if(A!==N)return S[M]=N,!0}else if(A.equals(N)===!1)return A.copy(N),!0}return!1}function x(y){const b=y.uniforms;let w=0;const S=16;for(let M=0,A=b.length;M<A;M++){const T=Array.isArray(b[M])?b[M]:[b[M]];for(let C=0,j=T.length;C<j;C++){const D=T[C],z=Array.isArray(D.value)?D.value:[D.value];for(let H=0,$=z.length;H<$;H++){const Z=z[H],B=m(Z),I=w%S,V=I%B.boundary,K=I+V;w+=V,K!==0&&S-K<B.storage&&(w+=S-K),D.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=w,w+=B.storage}}}const N=w%S;return N>0&&(w+=S-N),y.__size=w,y.__cache={},this}function m(y){const b={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?Qe("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Qe("WebGLRenderer: Unsupported uniform value type.",y),b}function v(y){const b=y.target;b.removeEventListener("dispose",v);const w=a.indexOf(b.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(s[b.id]),delete s[b.id],delete i[b.id]}function g(){for(const y in s)t.deleteBuffer(s[y]);a=[],s={},i={}}return{bind:c,update:u,dispose:g}}const sJ=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let Us=null;function iJ(){return Us===null&&(Us=new dq(sJ,32,32,rb,Zl),Us.minFilter=Or,Us.magFilter=Or,Us.wrapS=qs,Us.wrapT=qs,Us.generateMipmaps=!1,Us.needsUpdate=!0),Us}class aJ{constructor(e={}){const{canvas:n=OW(),context:r=null,depth:s=!0,stencil:i=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=a;const x=new Set([ib,sb,nb]),m=new Set([ai,eo,Mu,Au,eb,tb]),v=new Uint32Array(4),g=new Int32Array(4);let y=null,b=null;const w=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ki,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let M=!1;this._outputColorSpace=jr;let A=0,T=0,C=null,j=-1,D=null;const z=new en,H=new en;let $=null;const Z=new pt(0);let B=0,I=n.width,V=n.height,K=1,se=null,de=null;const Ee=new en(0,0,I,V),qe=new en(0,0,I,V);let it=!1;const ne=new SR;let re=!1,_e=!1;const Fe=new dn,Me=new te,Ze=new en,Pt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Je=!1;function bt(){return C===null?K:1}let O=r;function rt(P,G){return n.getContext(P,G)}try{const P={alpha:!0,depth:s,stencil:i,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Jy}`),n.addEventListener("webglcontextlost",ue,!1),n.addEventListener("webglcontextrestored",ie,!1),n.addEventListener("webglcontextcreationerror",Re,!1),O===null){const G="webgl2";if(O=rt(G,P),O===null)throw rt(G)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(P){throw P("WebGLRenderer: "+P.message),P}let st,_t,Ae,L,F,q,R,E,k,X,ee,Y,we,pe,ke,De,oe,he,ze,Le,ye,$e,U,ve;function me(){st=new pY(O),st.init(),$e=new YZ(O,st),_t=new iY(O,st,e,$e),Ae=new XZ(O,st),_t.reversedDepthBuffer&&f&&Ae.buffers.depth.setReversed(!0),L=new xY(O),F=new IZ,q=new KZ(O,st,Ae,F,_t,$e,L),R=new oY(N),E=new fY(N),k=new _q(O),U=new rY(O,k),X=new mY(O,k,L,U),ee=new yY(O,X,k,L),ze=new vY(O,_t,q),De=new aY(F),Y=new DZ(N,R,E,st,_t,U,De),we=new nJ(N,F),pe=new OZ,ke=new $Z(st),he=new nY(N,R,E,Ae,ee,p,c),oe=new WZ(N,ee,_t),ve=new rJ(O,L,_t,Ae),Le=new sY(O,st,L),ye=new gY(O,st,L),L.programs=Y.programs,N.capabilities=_t,N.extensions=st,N.properties=F,N.renderLists=pe,N.shadowMap=oe,N.state=Ae,N.info=L}me();const ge=new eJ(N,O);this.xr=ge,this.getContext=function(){return O},this.getContextAttributes=function(){return O.getContextAttributes()},this.forceContextLoss=function(){const P=st.get("WEBGL_lose_context");P&&P.loseContext()},this.forceContextRestore=function(){const P=st.get("WEBGL_lose_context");P&&P.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(P){P!==void 0&&(K=P,this.setSize(I,V,!1))},this.getSize=function(P){return P.set(I,V)},this.setSize=function(P,G,J=!0){if(ge.isPresenting){Qe("WebGLRenderer: Can't change size while VR device is presenting.");return}I=P,V=G,n.width=Math.floor(P*K),n.height=Math.floor(G*K),J===!0&&(n.style.width=P+"px",n.style.height=G+"px"),this.setViewport(0,0,P,G)},this.getDrawingBufferSize=function(P){return P.set(I*K,V*K).floor()},this.setDrawingBufferSize=function(P,G,J){I=P,V=G,K=J,n.width=Math.floor(P*J),n.height=Math.floor(G*J),this.setViewport(0,0,P,G)},this.getCurrentViewport=function(P){return P.copy(z)},this.getViewport=function(P){return P.copy(Ee)},this.setViewport=function(P,G,J,Q){P.isVector4?Ee.set(P.x,P.y,P.z,P.w):Ee.set(P,G,J,Q),Ae.viewport(z.copy(Ee).multiplyScalar(K).round())},this.getScissor=function(P){return P.copy(qe)},this.setScissor=function(P,G,J,Q){P.isVector4?qe.set(P.x,P.y,P.z,P.w):qe.set(P,G,J,Q),Ae.scissor(H.copy(qe).multiplyScalar(K).round())},this.getScissorTest=function(){return it},this.setScissorTest=function(P){Ae.setScissorTest(it=P)},this.setOpaqueSort=function(P){se=P},this.setTransparentSort=function(P){de=P},this.getClearColor=function(P){return P.copy(he.getClearColor())},this.setClearColor=function(){he.setClearColor(...arguments)},this.getClearAlpha=function(){return he.getClearAlpha()},this.setClearAlpha=function(){he.setClearAlpha(...arguments)},this.clear=function(P=!0,G=!0,J=!0){let Q=0;if(P){let W=!1;if(C!==null){const fe=C.texture.format;W=x.has(fe)}if(W){const fe=C.texture.type,be=m.has(fe),je=he.getClearColor(),Ce=he.getClearAlpha(),He=je.r,Ge=je.g,Oe=je.b;be?(v[0]=He,v[1]=Ge,v[2]=Oe,v[3]=Ce,O.clearBufferuiv(O.COLOR,0,v)):(g[0]=He,g[1]=Ge,g[2]=Oe,g[3]=Ce,O.clearBufferiv(O.COLOR,0,g))}else Q|=O.COLOR_BUFFER_BIT}G&&(Q|=O.DEPTH_BUFFER_BIT),J&&(Q|=O.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),O.clear(Q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ue,!1),n.removeEventListener("webglcontextrestored",ie,!1),n.removeEventListener("webglcontextcreationerror",Re,!1),he.dispose(),pe.dispose(),ke.dispose(),F.dispose(),R.dispose(),E.dispose(),ee.dispose(),U.dispose(),ve.dispose(),Y.dispose(),ge.dispose(),ge.removeEventListener("sessionstart",lb),ge.removeEventListener("sessionend",cb),da.stop()};function ue(P){P.preventDefault(),XS("WebGLRenderer: Context Lost."),M=!0}function ie(){XS("WebGLRenderer: Context Restored."),M=!1;const P=L.autoReset,G=oe.enabled,J=oe.autoUpdate,Q=oe.needsUpdate,W=oe.type;me(),L.autoReset=P,oe.enabled=G,oe.autoUpdate=J,oe.needsUpdate=Q,oe.type=W}function Re(P){Qt("WebGLRenderer: A WebGL context could not be created. Reason: ",P.statusMessage)}function Xe(P){const G=P.target;G.removeEventListener("dispose",Xe),Tt(G)}function Tt(P){gt(P),F.remove(P)}function gt(P){const G=F.get(P).programs;G!==void 0&&(G.forEach(function(J){Y.releaseProgram(J)}),P.isShaderMaterial&&Y.releaseShaderCache(P))}this.renderBufferDirect=function(P,G,J,Q,W,fe){G===null&&(G=Pt);const be=W.isMesh&&W.matrixWorld.determinant()<0,je=kR(P,G,J,Q,W);Ae.setMaterial(Q,be);let Ce=J.index,He=1;if(Q.wireframe===!0){if(Ce=X.getWireframeAttribute(J),Ce===void 0)return;He=2}const Ge=J.drawRange,Oe=J.attributes.position;let lt=Ge.start*He,xt=(Ge.start+Ge.count)*He;fe!==null&&(lt=Math.max(lt,fe.start*He),xt=Math.min(xt,(fe.start+fe.count)*He)),Ce!==null?(lt=Math.max(lt,0),xt=Math.min(xt,Ce.count)):Oe!=null&&(lt=Math.max(lt,0),xt=Math.min(xt,Oe.count));const Ht=xt-lt;if(Ht<0||Ht===1/0)return;U.setup(W,Q,je,J,Ce);let Gt,wt=Le;if(Ce!==null&&(Gt=k.get(Ce),wt=ye,wt.setIndex(Gt)),W.isMesh)Q.wireframe===!0?(Ae.setLineWidth(Q.wireframeLinewidth*bt()),wt.setMode(O.LINES)):wt.setMode(O.TRIANGLES);else if(W.isLine){let Ue=Q.linewidth;Ue===void 0&&(Ue=1),Ae.setLineWidth(Ue*bt()),W.isLineSegments?wt.setMode(O.LINES):W.isLineLoop?wt.setMode(O.LINE_LOOP):wt.setMode(O.LINE_STRIP)}else W.isPoints?wt.setMode(O.POINTS):W.isSprite&&wt.setMode(O.TRIANGLES);if(W.isBatchedMesh)if(W._multiDrawInstances!==null)Pu("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),wt.renderMultiDrawInstances(W._multiDrawStarts,W._multiDrawCounts,W._multiDrawCount,W._multiDrawInstances);else if(st.get("WEBGL_multi_draw"))wt.renderMultiDraw(W._multiDrawStarts,W._multiDrawCounts,W._multiDrawCount);else{const Ue=W._multiDrawStarts,Lt=W._multiDrawCounts,ht=W._multiDrawCount,lr=Ce?k.get(Ce).bytesPerElement:1,uo=F.get(Q).currentProgram.getUniforms();for(let cr=0;cr<ht;cr++)uo.setValue(O,"_gl_DrawID",cr),wt.render(Ue[cr]/lr,Lt[cr])}else if(W.isInstancedMesh)wt.renderInstances(lt,Ht,W.count);else if(J.isInstancedBufferGeometry){const Ue=J._maxInstanceCount!==void 0?J._maxInstanceCount:1/0,Lt=Math.min(J.instanceCount,Ue);wt.renderInstances(lt,Ht,Lt)}else wt.render(lt,Ht)};function ds(P,G,J){P.transparent===!0&&P.side===Hs&&P.forceSinglePass===!1?(P.side=ir,P.needsUpdate=!0,ed(P,G,J),P.side=Qi,P.needsUpdate=!0,ed(P,G,J),P.side=Hs):ed(P,G,J)}this.compile=function(P,G,J=null){J===null&&(J=P),b=ke.get(J),b.init(G),S.push(b),J.traverseVisible(function(W){W.isLight&&W.layers.test(G.layers)&&(b.pushLight(W),W.castShadow&&b.pushShadow(W))}),P!==J&&P.traverseVisible(function(W){W.isLight&&W.layers.test(G.layers)&&(b.pushLight(W),W.castShadow&&b.pushShadow(W))}),b.setupLights();const Q=new Set;return P.traverse(function(W){if(!(W.isMesh||W.isPoints||W.isLine||W.isSprite))return;const fe=W.material;if(fe)if(Array.isArray(fe))for(let be=0;be<fe.length;be++){const je=fe[be];ds(je,J,W),Q.add(je)}else ds(fe,J,W),Q.add(fe)}),b=S.pop(),Q},this.compileAsync=function(P,G,J=null){const Q=this.compile(P,G,J);return new Promise(W=>{function fe(){if(Q.forEach(function(be){F.get(be).currentProgram.isReady()&&Q.delete(be)}),Q.size===0){W(P);return}setTimeout(fe,10)}st.get("KHR_parallel_shader_compile")!==null?fe():setTimeout(fe,10)})};let Gr=null;function PR(P){Gr&&Gr(P)}function lb(){da.stop()}function cb(){da.start()}const da=new TR;da.setAnimationLoop(PR),typeof self<"u"&&da.setContext(self),this.setAnimationLoop=function(P){Gr=P,ge.setAnimationLoop(P),P===null?da.stop():da.start()},ge.addEventListener("sessionstart",lb),ge.addEventListener("sessionend",cb),this.render=function(P,G){if(G!==void 0&&G.isCamera!==!0){Qt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;if(P.matrixWorldAutoUpdate===!0&&P.updateMatrixWorld(),G.parent===null&&G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),ge.enabled===!0&&ge.isPresenting===!0&&(ge.cameraAutoUpdate===!0&&ge.updateCamera(G),G=ge.getCamera()),P.isScene===!0&&P.onBeforeRender(N,P,G,C),b=ke.get(P,S.length),b.init(G),S.push(b),Fe.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse),ne.setFromProjectionMatrix(Fe,bs,G.reversedDepth),_e=this.localClippingEnabled,re=De.init(this.clippingPlanes,_e),y=pe.get(P,w.length),y.init(),w.push(y),ge.enabled===!0&&ge.isPresenting===!0){const fe=N.xr.getDepthSensingMesh();fe!==null&&Np(fe,G,-1/0,N.sortObjects)}Np(P,G,0,N.sortObjects),y.finish(),N.sortObjects===!0&&y.sort(se,de),Je=ge.enabled===!1||ge.isPresenting===!1||ge.hasDepthSensing()===!1,Je&&he.addToRenderList(y,P),this.info.render.frame++,re===!0&&De.beginShadows();const J=b.state.shadowsArray;oe.render(J,P,G),re===!0&&De.endShadows(),this.info.autoReset===!0&&this.info.reset();const Q=y.opaque,W=y.transmissive;if(b.setupLights(),G.isArrayCamera){const fe=G.cameras;if(W.length>0)for(let be=0,je=fe.length;be<je;be++){const Ce=fe[be];db(Q,W,P,Ce)}Je&&he.render(P);for(let be=0,je=fe.length;be<je;be++){const Ce=fe[be];ub(y,P,Ce,Ce.viewport)}}else W.length>0&&db(Q,W,P,G),Je&&he.render(P),ub(y,P,G);C!==null&&T===0&&(q.updateMultisampleRenderTarget(C),q.updateRenderTargetMipmap(C)),P.isScene===!0&&P.onAfterRender(N,P,G),U.resetDefaultState(),j=-1,D=null,S.pop(),S.length>0?(b=S[S.length-1],re===!0&&De.setGlobalState(N.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?y=w[w.length-1]:y=null};function Np(P,G,J,Q){if(P.visible===!1)return;if(P.layers.test(G.layers)){if(P.isGroup)J=P.renderOrder;else if(P.isLOD)P.autoUpdate===!0&&P.update(G);else if(P.isLight)b.pushLight(P),P.castShadow&&b.pushShadow(P);else if(P.isSprite){if(!P.frustumCulled||ne.intersectsSprite(P)){Q&&Ze.setFromMatrixPosition(P.matrixWorld).applyMatrix4(Fe);const be=ee.update(P),je=P.material;je.visible&&y.push(P,be,je,J,Ze.z,null)}}else if((P.isMesh||P.isLine||P.isPoints)&&(!P.frustumCulled||ne.intersectsObject(P))){const be=ee.update(P),je=P.material;if(Q&&(P.boundingSphere!==void 0?(P.boundingSphere===null&&P.computeBoundingSphere(),Ze.copy(P.boundingSphere.center)):(be.boundingSphere===null&&be.computeBoundingSphere(),Ze.copy(be.boundingSphere.center)),Ze.applyMatrix4(P.matrixWorld).applyMatrix4(Fe)),Array.isArray(je)){const Ce=be.groups;for(let He=0,Ge=Ce.length;He<Ge;He++){const Oe=Ce[He],lt=je[Oe.materialIndex];lt&&lt.visible&&y.push(P,be,lt,J,Ze.z,Oe)}}else je.visible&&y.push(P,be,je,J,Ze.z,null)}}const fe=P.children;for(let be=0,je=fe.length;be<je;be++)Np(fe[be],G,J,Q)}function ub(P,G,J,Q){const{opaque:W,transmissive:fe,transparent:be}=P;b.setupLightsView(J),re===!0&&De.setGlobalState(N.clippingPlanes,J),Q&&Ae.viewport(z.copy(Q)),W.length>0&&Qu(W,G,J),fe.length>0&&Qu(fe,G,J),be.length>0&&Qu(be,G,J),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function db(P,G,J,Q){if((J.isScene===!0?J.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[Q.id]===void 0&&(b.state.transmissionRenderTarget[Q.id]=new to(1,1,{generateMipmaps:!0,type:st.has("EXT_color_buffer_half_float")||st.has("EXT_color_buffer_float")?Zl:ai,minFilter:za,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ft.workingColorSpace}));const fe=b.state.transmissionRenderTarget[Q.id],be=Q.viewport||z;fe.setSize(be.z*N.transmissionResolutionScale,be.w*N.transmissionResolutionScale);const je=N.getRenderTarget(),Ce=N.getActiveCubeFace(),He=N.getActiveMipmapLevel();N.setRenderTarget(fe),N.getClearColor(Z),B=N.getClearAlpha(),B<1&&N.setClearColor(16777215,.5),N.clear(),Je&&he.render(J);const Ge=N.toneMapping;N.toneMapping=Ki;const Oe=Q.viewport;if(Q.viewport!==void 0&&(Q.viewport=void 0),b.setupLightsView(Q),re===!0&&De.setGlobalState(N.clippingPlanes,Q),Qu(P,J,Q),q.updateMultisampleRenderTarget(fe),q.updateRenderTargetMipmap(fe),st.has("WEBGL_multisampled_render_to_texture")===!1){let lt=!1;for(let xt=0,Ht=G.length;xt<Ht;xt++){const Gt=G[xt],{object:wt,geometry:Ue,material:Lt,group:ht}=Gt;if(Lt.side===Hs&&wt.layers.test(Q.layers)){const lr=Lt.side;Lt.side=ir,Lt.needsUpdate=!0,hb(wt,J,Q,Ue,Lt,ht),Lt.side=lr,Lt.needsUpdate=!0,lt=!0}}lt===!0&&(q.updateMultisampleRenderTarget(fe),q.updateRenderTargetMipmap(fe))}N.setRenderTarget(je,Ce,He),N.setClearColor(Z,B),Oe!==void 0&&(Q.viewport=Oe),N.toneMapping=Ge}function Qu(P,G,J){const Q=G.isScene===!0?G.overrideMaterial:null;for(let W=0,fe=P.length;W<fe;W++){const be=P[W],{object:je,geometry:Ce,group:He}=be;let Ge=be.material;Ge.allowOverride===!0&&Q!==null&&(Ge=Q),je.layers.test(J.layers)&&hb(je,G,J,Ce,Ge,He)}}function hb(P,G,J,Q,W,fe){P.onBeforeRender(N,G,J,Q,W,fe),P.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,P.matrixWorld),P.normalMatrix.getNormalMatrix(P.modelViewMatrix),W.onBeforeRender(N,G,J,Q,P,fe),W.transparent===!0&&W.side===Hs&&W.forceSinglePass===!1?(W.side=ir,W.needsUpdate=!0,N.renderBufferDirect(J,G,Q,W,P,fe),W.side=Qi,W.needsUpdate=!0,N.renderBufferDirect(J,G,Q,W,P,fe),W.side=Hs):N.renderBufferDirect(J,G,Q,W,P,fe),P.onAfterRender(N,G,J,Q,W,fe)}function ed(P,G,J){G.isScene!==!0&&(G=Pt);const Q=F.get(P),W=b.state.lights,fe=b.state.shadowsArray,be=W.state.version,je=Y.getParameters(P,W.state,fe,G,J),Ce=Y.getProgramCacheKey(je);let He=Q.programs;Q.environment=P.isMeshStandardMaterial?G.environment:null,Q.fog=G.fog,Q.envMap=(P.isMeshStandardMaterial?E:R).get(P.envMap||Q.environment),Q.envMapRotation=Q.environment!==null&&P.envMap===null?G.environmentRotation:P.envMapRotation,He===void 0&&(P.addEventListener("dispose",Xe),He=new Map,Q.programs=He);let Ge=He.get(Ce);if(Ge!==void 0){if(Q.currentProgram===Ge&&Q.lightsStateVersion===be)return pb(P,je),Ge}else je.uniforms=Y.getUniforms(P),P.onBeforeCompile(je,N),Ge=Y.acquireProgram(je,Ce),He.set(Ce,Ge),Q.uniforms=je.uniforms;const Oe=Q.uniforms;return(!P.isShaderMaterial&&!P.isRawShaderMaterial||P.clipping===!0)&&(Oe.clippingPlanes=De.uniform),pb(P,je),Q.needsLights=IR(P),Q.lightsStateVersion=be,Q.needsLights&&(Oe.ambientLightColor.value=W.state.ambient,Oe.lightProbe.value=W.state.probe,Oe.directionalLights.value=W.state.directional,Oe.directionalLightShadows.value=W.state.directionalShadow,Oe.spotLights.value=W.state.spot,Oe.spotLightShadows.value=W.state.spotShadow,Oe.rectAreaLights.value=W.state.rectArea,Oe.ltc_1.value=W.state.rectAreaLTC1,Oe.ltc_2.value=W.state.rectAreaLTC2,Oe.pointLights.value=W.state.point,Oe.pointLightShadows.value=W.state.pointShadow,Oe.hemisphereLights.value=W.state.hemi,Oe.directionalShadowMap.value=W.state.directionalShadowMap,Oe.directionalShadowMatrix.value=W.state.directionalShadowMatrix,Oe.spotShadowMap.value=W.state.spotShadowMap,Oe.spotLightMatrix.value=W.state.spotLightMatrix,Oe.spotLightMap.value=W.state.spotLightMap,Oe.pointShadowMap.value=W.state.pointShadowMap,Oe.pointShadowMatrix.value=W.state.pointShadowMatrix),Q.currentProgram=Ge,Q.uniformsList=null,Ge}function fb(P){if(P.uniformsList===null){const G=P.currentProgram.getUniforms();P.uniformsList=Lh.seqWithValue(G.seq,P.uniforms)}return P.uniformsList}function pb(P,G){const J=F.get(P);J.outputColorSpace=G.outputColorSpace,J.batching=G.batching,J.batchingColor=G.batchingColor,J.instancing=G.instancing,J.instancingColor=G.instancingColor,J.instancingMorph=G.instancingMorph,J.skinning=G.skinning,J.morphTargets=G.morphTargets,J.morphNormals=G.morphNormals,J.morphColors=G.morphColors,J.morphTargetsCount=G.morphTargetsCount,J.numClippingPlanes=G.numClippingPlanes,J.numIntersection=G.numClipIntersection,J.vertexAlphas=G.vertexAlphas,J.vertexTangents=G.vertexTangents,J.toneMapping=G.toneMapping}function kR(P,G,J,Q,W){G.isScene!==!0&&(G=Pt),q.resetTextureUnits();const fe=G.fog,be=Q.isMeshStandardMaterial?G.environment:null,je=C===null?N.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Il,Ce=(Q.isMeshStandardMaterial?E:R).get(Q.envMap||be),He=Q.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,Ge=!!J.attributes.tangent&&(!!Q.normalMap||Q.anisotropy>0),Oe=!!J.morphAttributes.position,lt=!!J.morphAttributes.normal,xt=!!J.morphAttributes.color;let Ht=Ki;Q.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(Ht=N.toneMapping);const Gt=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,wt=Gt!==void 0?Gt.length:0,Ue=F.get(Q),Lt=b.state.lights;if(re===!0&&(_e===!0||P!==D)){const Bn=P===D&&Q.id===j;De.setState(Q,P,Bn)}let ht=!1;Q.version===Ue.__version?(Ue.needsLights&&Ue.lightsStateVersion!==Lt.state.version||Ue.outputColorSpace!==je||W.isBatchedMesh&&Ue.batching===!1||!W.isBatchedMesh&&Ue.batching===!0||W.isBatchedMesh&&Ue.batchingColor===!0&&W.colorTexture===null||W.isBatchedMesh&&Ue.batchingColor===!1&&W.colorTexture!==null||W.isInstancedMesh&&Ue.instancing===!1||!W.isInstancedMesh&&Ue.instancing===!0||W.isSkinnedMesh&&Ue.skinning===!1||!W.isSkinnedMesh&&Ue.skinning===!0||W.isInstancedMesh&&Ue.instancingColor===!0&&W.instanceColor===null||W.isInstancedMesh&&Ue.instancingColor===!1&&W.instanceColor!==null||W.isInstancedMesh&&Ue.instancingMorph===!0&&W.morphTexture===null||W.isInstancedMesh&&Ue.instancingMorph===!1&&W.morphTexture!==null||Ue.envMap!==Ce||Q.fog===!0&&Ue.fog!==fe||Ue.numClippingPlanes!==void 0&&(Ue.numClippingPlanes!==De.numPlanes||Ue.numIntersection!==De.numIntersection)||Ue.vertexAlphas!==He||Ue.vertexTangents!==Ge||Ue.morphTargets!==Oe||Ue.morphNormals!==lt||Ue.morphColors!==xt||Ue.toneMapping!==Ht||Ue.morphTargetsCount!==wt)&&(ht=!0):(ht=!0,Ue.__version=Q.version);let lr=Ue.currentProgram;ht===!0&&(lr=ed(Q,G,W));let uo=!1,cr=!1,ec=!1;const Ot=lr.getUniforms(),Yn=Ue.uniforms;if(Ae.useProgram(lr.program)&&(uo=!0,cr=!0,ec=!0),Q.id!==j&&(j=Q.id,cr=!0),uo||D!==P){Ae.buffers.depth.getReversed()&&P.reversedDepth!==!0&&(P._reversedDepth=!0,P.updateProjectionMatrix()),Ot.setValue(O,"projectionMatrix",P.projectionMatrix),Ot.setValue(O,"viewMatrix",P.matrixWorldInverse);const Zn=Ot.map.cameraPosition;Zn!==void 0&&Zn.setValue(O,Me.setFromMatrixPosition(P.matrixWorld)),_t.logarithmicDepthBuffer&&Ot.setValue(O,"logDepthBufFC",2/(Math.log(P.far+1)/Math.LN2)),(Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshLambertMaterial||Q.isMeshBasicMaterial||Q.isMeshStandardMaterial||Q.isShaderMaterial)&&Ot.setValue(O,"isOrthographic",P.isOrthographicCamera===!0),D!==P&&(D=P,cr=!0,ec=!0)}if(W.isSkinnedMesh){Ot.setOptional(O,W,"bindMatrix"),Ot.setOptional(O,W,"bindMatrixInverse");const Bn=W.skeleton;Bn&&(Bn.boneTexture===null&&Bn.computeBoneTexture(),Ot.setValue(O,"boneTexture",Bn.boneTexture,q))}W.isBatchedMesh&&(Ot.setOptional(O,W,"batchingTexture"),Ot.setValue(O,"batchingTexture",W._matricesTexture,q),Ot.setOptional(O,W,"batchingIdTexture"),Ot.setValue(O,"batchingIdTexture",W._indirectTexture,q),Ot.setOptional(O,W,"batchingColorTexture"),W._colorsTexture!==null&&Ot.setValue(O,"batchingColorTexture",W._colorsTexture,q));const Nr=J.morphAttributes;if((Nr.position!==void 0||Nr.normal!==void 0||Nr.color!==void 0)&&ze.update(W,J,lr),(cr||Ue.receiveShadow!==W.receiveShadow)&&(Ue.receiveShadow=W.receiveShadow,Ot.setValue(O,"receiveShadow",W.receiveShadow)),Q.isMeshGouraudMaterial&&Q.envMap!==null&&(Yn.envMap.value=Ce,Yn.flipEnvMap.value=Ce.isCubeTexture&&Ce.isRenderTargetTexture===!1?-1:1),Q.isMeshStandardMaterial&&Q.envMap===null&&G.environment!==null&&(Yn.envMapIntensity.value=G.environmentIntensity),Yn.dfgLUT!==void 0&&(Yn.dfgLUT.value=iJ()),cr&&(Ot.setValue(O,"toneMappingExposure",N.toneMappingExposure),Ue.needsLights&&DR(Yn,ec),fe&&Q.fog===!0&&we.refreshFogUniforms(Yn,fe),we.refreshMaterialUniforms(Yn,Q,K,V,b.state.transmissionRenderTarget[P.id]),Lh.upload(O,fb(Ue),Yn,q)),Q.isShaderMaterial&&Q.uniformsNeedUpdate===!0&&(Lh.upload(O,fb(Ue),Yn,q),Q.uniformsNeedUpdate=!1),Q.isSpriteMaterial&&Ot.setValue(O,"center",W.center),Ot.setValue(O,"modelViewMatrix",W.modelViewMatrix),Ot.setValue(O,"normalMatrix",W.normalMatrix),Ot.setValue(O,"modelMatrix",W.matrixWorld),Q.isShaderMaterial||Q.isRawShaderMaterial){const Bn=Q.uniformsGroups;for(let Zn=0,Tp=Bn.length;Zn<Tp;Zn++){const ha=Bn[Zn];ve.update(ha,lr),ve.bind(ha,lr)}}return lr}function DR(P,G){P.ambientLightColor.needsUpdate=G,P.lightProbe.needsUpdate=G,P.directionalLights.needsUpdate=G,P.directionalLightShadows.needsUpdate=G,P.pointLights.needsUpdate=G,P.pointLightShadows.needsUpdate=G,P.spotLights.needsUpdate=G,P.spotLightShadows.needsUpdate=G,P.rectAreaLights.needsUpdate=G,P.hemisphereLights.needsUpdate=G}function IR(P){return P.isMeshLambertMaterial||P.isMeshToonMaterial||P.isMeshPhongMaterial||P.isMeshStandardMaterial||P.isShadowMaterial||P.isShaderMaterial&&P.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(P,G,J){const Q=F.get(P);Q.__autoAllocateDepthBuffer=P.resolveDepthBuffer===!1,Q.__autoAllocateDepthBuffer===!1&&(Q.__useRenderToTexture=!1),F.get(P.texture).__webglTexture=G,F.get(P.depthTexture).__webglTexture=Q.__autoAllocateDepthBuffer?void 0:J,Q.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(P,G){const J=F.get(P);J.__webglFramebuffer=G,J.__useDefaultFramebuffer=G===void 0};const LR=O.createFramebuffer();this.setRenderTarget=function(P,G=0,J=0){C=P,A=G,T=J;let Q=!0,W=null,fe=!1,be=!1;if(P){const Ce=F.get(P);if(Ce.__useDefaultFramebuffer!==void 0)Ae.bindFramebuffer(O.FRAMEBUFFER,null),Q=!1;else if(Ce.__webglFramebuffer===void 0)q.setupRenderTarget(P);else if(Ce.__hasExternalTextures)q.rebindTextures(P,F.get(P.texture).__webglTexture,F.get(P.depthTexture).__webglTexture);else if(P.depthBuffer){const Oe=P.depthTexture;if(Ce.__boundDepthTexture!==Oe){if(Oe!==null&&F.has(Oe)&&(P.width!==Oe.image.width||P.height!==Oe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");q.setupDepthRenderbuffer(P)}}const He=P.texture;(He.isData3DTexture||He.isDataArrayTexture||He.isCompressedArrayTexture)&&(be=!0);const Ge=F.get(P).__webglFramebuffer;P.isWebGLCubeRenderTarget?(Array.isArray(Ge[G])?W=Ge[G][J]:W=Ge[G],fe=!0):P.samples>0&&q.useMultisampledRTT(P)===!1?W=F.get(P).__webglMultisampledFramebuffer:Array.isArray(Ge)?W=Ge[J]:W=Ge,z.copy(P.viewport),H.copy(P.scissor),$=P.scissorTest}else z.copy(Ee).multiplyScalar(K).floor(),H.copy(qe).multiplyScalar(K).floor(),$=it;if(J!==0&&(W=LR),Ae.bindFramebuffer(O.FRAMEBUFFER,W)&&Q&&Ae.drawBuffers(P,W),Ae.viewport(z),Ae.scissor(H),Ae.setScissorTest($),fe){const Ce=F.get(P.texture);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_CUBE_MAP_POSITIVE_X+G,Ce.__webglTexture,J)}else if(be){const Ce=G;for(let He=0;He<P.textures.length;He++){const Ge=F.get(P.textures[He]);O.framebufferTextureLayer(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0+He,Ge.__webglTexture,J,Ce)}}else if(P!==null&&J!==0){const Ce=F.get(P.texture);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,Ce.__webglTexture,J)}j=-1},this.readRenderTargetPixels=function(P,G,J,Q,W,fe,be,je=0){if(!(P&&P.isWebGLRenderTarget)){Qt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ce=F.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&be!==void 0&&(Ce=Ce[be]),Ce){Ae.bindFramebuffer(O.FRAMEBUFFER,Ce);try{const He=P.textures[je],Ge=He.format,Oe=He.type;if(!_t.textureFormatReadable(Ge)){Qt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!_t.textureTypeReadable(Oe)){Qt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}G>=0&&G<=P.width-Q&&J>=0&&J<=P.height-W&&(P.textures.length>1&&O.readBuffer(O.COLOR_ATTACHMENT0+je),O.readPixels(G,J,Q,W,$e.convert(Ge),$e.convert(Oe),fe))}finally{const He=C!==null?F.get(C).__webglFramebuffer:null;Ae.bindFramebuffer(O.FRAMEBUFFER,He)}}},this.readRenderTargetPixelsAsync=async function(P,G,J,Q,W,fe,be,je=0){if(!(P&&P.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ce=F.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&be!==void 0&&(Ce=Ce[be]),Ce)if(G>=0&&G<=P.width-Q&&J>=0&&J<=P.height-W){Ae.bindFramebuffer(O.FRAMEBUFFER,Ce);const He=P.textures[je],Ge=He.format,Oe=He.type;if(!_t.textureFormatReadable(Ge))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!_t.textureTypeReadable(Oe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const lt=O.createBuffer();O.bindBuffer(O.PIXEL_PACK_BUFFER,lt),O.bufferData(O.PIXEL_PACK_BUFFER,fe.byteLength,O.STREAM_READ),P.textures.length>1&&O.readBuffer(O.COLOR_ATTACHMENT0+je),O.readPixels(G,J,Q,W,$e.convert(Ge),$e.convert(Oe),0);const xt=C!==null?F.get(C).__webglFramebuffer:null;Ae.bindFramebuffer(O.FRAMEBUFFER,xt);const Ht=O.fenceSync(O.SYNC_GPU_COMMANDS_COMPLETE,0);return O.flush(),await UW(O,Ht,4),O.bindBuffer(O.PIXEL_PACK_BUFFER,lt),O.getBufferSubData(O.PIXEL_PACK_BUFFER,0,fe),O.deleteBuffer(lt),O.deleteSync(Ht),fe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(P,G=null,J=0){const Q=Math.pow(2,-J),W=Math.floor(P.image.width*Q),fe=Math.floor(P.image.height*Q),be=G!==null?G.x:0,je=G!==null?G.y:0;q.setTexture2D(P,0),O.copyTexSubImage2D(O.TEXTURE_2D,J,0,0,be,je,W,fe),Ae.unbindTexture()};const OR=O.createFramebuffer(),UR=O.createFramebuffer();this.copyTextureToTexture=function(P,G,J=null,Q=null,W=0,fe=null){fe===null&&(W!==0?(Pu("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),fe=W,W=0):fe=0);let be,je,Ce,He,Ge,Oe,lt,xt,Ht;const Gt=P.isCompressedTexture?P.mipmaps[fe]:P.image;if(J!==null)be=J.max.x-J.min.x,je=J.max.y-J.min.y,Ce=J.isBox3?J.max.z-J.min.z:1,He=J.min.x,Ge=J.min.y,Oe=J.isBox3?J.min.z:0;else{const Nr=Math.pow(2,-W);be=Math.floor(Gt.width*Nr),je=Math.floor(Gt.height*Nr),P.isDataArrayTexture?Ce=Gt.depth:P.isData3DTexture?Ce=Math.floor(Gt.depth*Nr):Ce=1,He=0,Ge=0,Oe=0}Q!==null?(lt=Q.x,xt=Q.y,Ht=Q.z):(lt=0,xt=0,Ht=0);const wt=$e.convert(G.format),Ue=$e.convert(G.type);let Lt;G.isData3DTexture?(q.setTexture3D(G,0),Lt=O.TEXTURE_3D):G.isDataArrayTexture||G.isCompressedArrayTexture?(q.setTexture2DArray(G,0),Lt=O.TEXTURE_2D_ARRAY):(q.setTexture2D(G,0),Lt=O.TEXTURE_2D),O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,G.flipY),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),O.pixelStorei(O.UNPACK_ALIGNMENT,G.unpackAlignment);const ht=O.getParameter(O.UNPACK_ROW_LENGTH),lr=O.getParameter(O.UNPACK_IMAGE_HEIGHT),uo=O.getParameter(O.UNPACK_SKIP_PIXELS),cr=O.getParameter(O.UNPACK_SKIP_ROWS),ec=O.getParameter(O.UNPACK_SKIP_IMAGES);O.pixelStorei(O.UNPACK_ROW_LENGTH,Gt.width),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,Gt.height),O.pixelStorei(O.UNPACK_SKIP_PIXELS,He),O.pixelStorei(O.UNPACK_SKIP_ROWS,Ge),O.pixelStorei(O.UNPACK_SKIP_IMAGES,Oe);const Ot=P.isDataArrayTexture||P.isData3DTexture,Yn=G.isDataArrayTexture||G.isData3DTexture;if(P.isDepthTexture){const Nr=F.get(P),Bn=F.get(G),Zn=F.get(Nr.__renderTarget),Tp=F.get(Bn.__renderTarget);Ae.bindFramebuffer(O.READ_FRAMEBUFFER,Zn.__webglFramebuffer),Ae.bindFramebuffer(O.DRAW_FRAMEBUFFER,Tp.__webglFramebuffer);for(let ha=0;ha<Ce;ha++)Ot&&(O.framebufferTextureLayer(O.READ_FRAMEBUFFER,O.COLOR_ATTACHMENT0,F.get(P).__webglTexture,W,Oe+ha),O.framebufferTextureLayer(O.DRAW_FRAMEBUFFER,O.COLOR_ATTACHMENT0,F.get(G).__webglTexture,fe,Ht+ha)),O.blitFramebuffer(He,Ge,be,je,lt,xt,be,je,O.DEPTH_BUFFER_BIT,O.NEAREST);Ae.bindFramebuffer(O.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(O.DRAW_FRAMEBUFFER,null)}else if(W!==0||P.isRenderTargetTexture||F.has(P)){const Nr=F.get(P),Bn=F.get(G);Ae.bindFramebuffer(O.READ_FRAMEBUFFER,OR),Ae.bindFramebuffer(O.DRAW_FRAMEBUFFER,UR);for(let Zn=0;Zn<Ce;Zn++)Ot?O.framebufferTextureLayer(O.READ_FRAMEBUFFER,O.COLOR_ATTACHMENT0,Nr.__webglTexture,W,Oe+Zn):O.framebufferTexture2D(O.READ_FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,Nr.__webglTexture,W),Yn?O.framebufferTextureLayer(O.DRAW_FRAMEBUFFER,O.COLOR_ATTACHMENT0,Bn.__webglTexture,fe,Ht+Zn):O.framebufferTexture2D(O.DRAW_FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,Bn.__webglTexture,fe),W!==0?O.blitFramebuffer(He,Ge,be,je,lt,xt,be,je,O.COLOR_BUFFER_BIT,O.NEAREST):Yn?O.copyTexSubImage3D(Lt,fe,lt,xt,Ht+Zn,He,Ge,be,je):O.copyTexSubImage2D(Lt,fe,lt,xt,He,Ge,be,je);Ae.bindFramebuffer(O.READ_FRAMEBUFFER,null),Ae.bindFramebuffer(O.DRAW_FRAMEBUFFER,null)}else Yn?P.isDataTexture||P.isData3DTexture?O.texSubImage3D(Lt,fe,lt,xt,Ht,be,je,Ce,wt,Ue,Gt.data):G.isCompressedArrayTexture?O.compressedTexSubImage3D(Lt,fe,lt,xt,Ht,be,je,Ce,wt,Gt.data):O.texSubImage3D(Lt,fe,lt,xt,Ht,be,je,Ce,wt,Ue,Gt):P.isDataTexture?O.texSubImage2D(O.TEXTURE_2D,fe,lt,xt,be,je,wt,Ue,Gt.data):P.isCompressedTexture?O.compressedTexSubImage2D(O.TEXTURE_2D,fe,lt,xt,Gt.width,Gt.height,wt,Gt.data):O.texSubImage2D(O.TEXTURE_2D,fe,lt,xt,be,je,wt,Ue,Gt);O.pixelStorei(O.UNPACK_ROW_LENGTH,ht),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,lr),O.pixelStorei(O.UNPACK_SKIP_PIXELS,uo),O.pixelStorei(O.UNPACK_SKIP_ROWS,cr),O.pixelStorei(O.UNPACK_SKIP_IMAGES,ec),fe===0&&G.generateMipmaps&&O.generateMipmap(Lt),Ae.unbindTexture()},this.initRenderTarget=function(P){F.get(P).__webglFramebuffer===void 0&&q.setupRenderTarget(P)},this.initTexture=function(P){P.isCubeTexture?q.setTextureCube(P,0):P.isData3DTexture?q.setTexture3D(P,0):P.isDataArrayTexture||P.isCompressedArrayTexture?q.setTexture2DArray(P,0):q.setTexture2D(P,0),Ae.unbindTexture()},this.resetState=function(){A=0,T=0,C=null,Ae.reset(),U.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=ft._getDrawingBufferColorSpace(e),n.unpackColorSpace=ft._getUnpackColorSpace()}}function oJ({className:t,...e}){const n=_.useRef(null),r=_.useRef(null);return _.useEffect(()=>{if(!n.current)return;const s=150,i=40,a=60,l=new uq,c=16776176;l.fog=new ob(c,2e3,1e4);const u=new Dr(60,window.innerWidth/window.innerHeight,1,1e4);u.position.set(0,355,1220);const d=new aJ({alpha:!0,antialias:!0});d.setPixelRatio(window.devicePixelRatio),d.setSize(window.innerWidth,window.innerHeight),d.setClearColor(l.fog.color,1),n.current.appendChild(d.domElement);const h=[],f=[],p=new As;for(let M=0;M<i;M++)for(let A=0;A<a;A++){const T=M*s-i*s/2,C=0,j=A*s-a*s/2;h.push(T,C,j),f.push(0,0,0)}p.setAttribute("position",new ei(h,3)),p.setAttribute("color",new ei(f,3));const x=document.createElement("canvas");x.width=32,x.height=32;const m=x.getContext("2d");m&&(m.beginPath(),m.arc(16,16,16,0,2*Math.PI),m.fillStyle="white",m.fill());const v=new mq(x),g=new ER({size:12,map:v,vertexColors:!0,transparent:!1,opacity:1,sizeAttenuation:!0}),y=new h2(p,g);l.add(y);let b=0,w=0;const S=()=>{w=requestAnimationFrame(S);const M=p.attributes.position,A=M.array;let T=0;for(let C=0;C<i;C++)for(let j=0;j<a;j++){const D=T*3;A[D+1]=Math.sin((C+b)*.3)*50+Math.sin((j+b)*.5)*50,T++}M.needsUpdate=!0,d.render(l,u),b+=.05},N=()=>{u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",N),S(),r.current={scene:l,camera:u,renderer:d,particles:[y],animationId:w,count:b},()=>{window.removeEventListener("resize",N),r.current&&(cancelAnimationFrame(r.current.animationId),r.current.scene.traverse(M=>{M instanceof h2&&(M.geometry.dispose(),Array.isArray(M.material)?M.material.forEach(A=>A.dispose()):M.material.dispose())}),r.current.renderer.dispose(),n.current&&r.current.renderer.domElement&&n.current.removeChild(r.current.renderer.domElement))}},[]),o.jsx("div",{ref:n,className:Dt("pointer-events-none fixed inset-0 -z-10 bg-[#FFFBF0]",t),...e})}function lJ(){_.useEffect(()=>{const t=n=>{const r="!@#$%^&*()_+-=[]{}|;:,.<>?/~`";return n.split("").map(()=>r[Math.floor(Math.random()*r.length)]).join("")},e=n=>{n.preventDefault();const r=window.getSelection();if(r){const s=r.toString(),i=t(s);n.clipboardData&&n.clipboardData.setData("text/plain",i)}};return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}},[])}function U2(){const t=ui();return t.pathname.startsWith("/admin")?o.jsxs(R_,{location:t,children:[o.jsx(bn,{path:"/admin",element:o.jsx(kB,{})}),o.jsx(bn,{path:"/admin/dashboard",element:o.jsx(BB,{})})]}):o.jsx(io,{mode:"wait",children:o.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.22,1,.36,1]},children:o.jsxs(R_,{location:t,children:[o.jsx(bn,{path:"/",element:o.jsx(H8,{})}),o.jsx(bn,{path:"/about",element:o.jsx(r9,{})}),o.jsx(bn,{path:"/join",element:o.jsx(XG,{})}),o.jsx(bn,{path:"/why-join",element:o.jsx(d9,{})}),o.jsx(bn,{path:"/team",element:o.jsx(c9,{})}),o.jsx(bn,{path:"/team/:id",element:o.jsx(h9,{})}),o.jsx(bn,{path:"/team/alumni",element:o.jsx(m9,{})}),o.jsx(bn,{path:"/events",element:o.jsx(yB,{})}),o.jsx(bn,{path:"/blog",element:o.jsx(SB,{})}),o.jsx(bn,{path:"/blog/:id",element:o.jsx(EB,{})}),o.jsx(bn,{path:"/gallery",element:o.jsx(AB,{})}),o.jsx(bn,{path:"/contact",element:o.jsx(jB,{})}),o.jsx(bn,{path:"/nfc/:id",element:o.jsx(PB,{})}),o.jsx(bn,{path:"/event-register/:formId",element:o.jsx(VB,{})}),o.jsx(bn,{path:"/unsubscribe",element:o.jsx(HB,{})})]})},t.pathname)})}function cJ(){return lJ(),ui().pathname.startsWith("/admin")?o.jsx(U2,{}):o.jsxs(o.Fragment,{children:[o.jsx(NF,{}),o.jsx(p8,{}),o.jsx(g8,{}),o.jsx(CF,{}),o.jsxs("div",{className:"min-h-screen text-gray-900 relative",children:[o.jsx(oJ,{}),o.jsx(SF,{}),o.jsx(bF,{}),o.jsx(U2,{}),o.jsx(wF,{})]})]})}f0.createRoot(document.getElementById("root")).render(o.jsx(Ke.StrictMode,{children:o.jsx(u5,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(cJ,{})})}));
