function hS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function fS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var pS={exports:{}},Ih={},mS={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=Symbol.for("react.element"),vM=Symbol.for("react.portal"),yM=Symbol.for("react.fragment"),bM=Symbol.for("react.strict_mode"),_M=Symbol.for("react.profiler"),wM=Symbol.for("react.provider"),SM=Symbol.for("react.context"),EM=Symbol.for("react.forward_ref"),NM=Symbol.for("react.suspense"),CM=Symbol.for("react.memo"),TM=Symbol.for("react.lazy"),gy=Symbol.iterator;function MM(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var gS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xS=Object.assign,vS={};function tl(t,e,n){this.props=t,this.context=e,this.refs=vS,this.updater=n||gS}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yS(){}yS.prototype=tl.prototype;function Kg(t,e,n){this.props=t,this.context=e,this.refs=vS,this.updater=n||gS}var Yg=Kg.prototype=new yS;Yg.constructor=Kg;xS(Yg,tl.prototype);Yg.isPureReactComponent=!0;var xy=Array.isArray,bS=Object.prototype.hasOwnProperty,Jg={current:null},_S={key:!0,ref:!0,__self:!0,__source:!0};function wS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)bS.call(e,r)&&!_S.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Wc,type:t,key:i,ref:a,props:s,_owner:Jg.current}}function AM(t,e){return{$$typeof:Wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wc}function jM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vy=/\/+/g;function Rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jM(""+t.key):e.toString(36)}function _d(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wc:case vM:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Rf(a,0):r,xy(s)?(n="",t!=null&&(n=t.replace(vy,"$&/")+"/"),_d(s,e,n,"",function(u){return u})):s!=null&&(Qg(s)&&(s=AM(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vy,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",xy(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Rf(i,l);a+=_d(i,e,n,c,s)}else if(c=MM(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Rf(i,l++),a+=_d(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function du(t,e,n){if(t==null)return t;var r=[],s=0;return _d(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rn={current:null},wd={transition:null},PM={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:wd,ReactCurrentOwner:Jg};function SS(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:du,forEach:function(t,e,n){du(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return du(t,function(){e++}),e},toArray:function(t){return du(t,function(e){return e})||[]},only:function(t){if(!Qg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=tl;Qe.Fragment=yM;Qe.Profiler=_M;Qe.PureComponent=Kg;Qe.StrictMode=bM;Qe.Suspense=NM;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PM;Qe.act=SS;Qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Jg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)bS.call(e,c)&&!_S.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Wc,type:t.type,key:s,ref:i,props:r,_owner:a}};Qe.createContext=function(t){return t={$$typeof:SM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wM,_context:t},t.Consumer=t};Qe.createElement=wS;Qe.createFactory=function(t){var e=wS.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:EM,render:t}};Qe.isValidElement=Qg;Qe.lazy=function(t){return{$$typeof:TM,_payload:{_status:-1,_result:t},_init:RM}};Qe.memo=function(t,e){return{$$typeof:CM,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=wd.transition;wd.transition={};try{t()}finally{wd.transition=e}};Qe.unstable_act=SS;Qe.useCallback=function(t,e){return Rn.current.useCallback(t,e)};Qe.useContext=function(t){return Rn.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return Rn.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return Rn.current.useEffect(t,e)};Qe.useId=function(){return Rn.current.useId()};Qe.useImperativeHandle=function(t,e,n){return Rn.current.useImperativeHandle(t,e,n)};Qe.useInsertionEffect=function(t,e){return Rn.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return Rn.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return Rn.current.useMemo(t,e)};Qe.useReducer=function(t,e,n){return Rn.current.useReducer(t,e,n)};Qe.useRef=function(t){return Rn.current.useRef(t)};Qe.useState=function(t){return Rn.current.useState(t)};Qe.useSyncExternalStore=function(t,e,n){return Rn.current.useSyncExternalStore(t,e,n)};Qe.useTransition=function(){return Rn.current.useTransition()};Qe.version="18.3.1";mS.exports=Qe;var _=mS.exports;const Lo=fS(_),Oh=hS({__proto__:null,default:Lo},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kM=_,DM=Symbol.for("react.element"),LM=Symbol.for("react.fragment"),IM=Object.prototype.hasOwnProperty,OM=kM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UM={key:!0,ref:!0,__self:!0,__source:!0};function ES(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)IM.call(e,r)&&!UM.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:DM,type:t,key:i,ref:a,props:s,_owner:OM.current}}Ih.Fragment=LM;Ih.jsx=ES;Ih.jsxs=ES;pS.exports=Ih;var o=pS.exports,Sm={},NS={exports:{}},ar={},CS={exports:{}},TS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var W=L.length;L.push(z);e:for(;0<W;){var ne=W-1>>>1,le=L[ne];if(0<s(le,z))L[ne]=z,L[W]=le,W=ne;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],W=L.pop();if(W!==z){L[0]=W;e:for(var ne=0,le=L.length,Ee=le>>>1;ne<Ee;){var We=2*(ne+1)-1,rt=L[We],J=We+1,ee=L[J];if(0>s(rt,W))J<le&&0>s(ee,rt)?(L[ne]=ee,L[J]=W,ne=J):(L[ne]=rt,L[We]=W,ne=We);else if(J<le&&0>s(ee,W))L[ne]=ee,L[J]=W,ne=J;else break e}}return z}function s(L,z){var W=L.sortIndex-z.sortIndex;return W!==0?W:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function w(L){if(g=!1,b(L),!x)if(n(c)!==null)x=!0,H(S);else{var z=n(u);z!==null&&$(w,z.startTime-L)}}function S(L,z){x=!1,g&&(g=!1,m(M),M=-1),p=!0;var W=f;try{for(b(z),h=n(c);h!==null&&(!(h.expirationTime>z)||L&&!j());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var le=ne(h.expirationTime<=z);z=t.unstable_now(),typeof le=="function"?h.callback=le:h===n(c)&&r(c),b(z)}else r(c);h=n(c)}if(h!==null)var Ee=!0;else{var We=n(u);We!==null&&$(w,We.startTime-z),Ee=!1}return Ee}finally{h=null,f=W,p=!1}}var E=!1,T=null,M=-1,C=5,N=-1;function j(){return!(t.unstable_now()-N<C)}function k(){if(T!==null){var L=t.unstable_now();N=L;var z=!0;try{z=T(!0,L)}finally{z?U():(E=!1,T=null)}}else E=!1}var U;if(typeof y=="function")U=function(){y(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,O=G.port2;G.port1.onmessage=k,U=function(){O.postMessage(null)}}else U=function(){v(k,0)};function H(L){T=L,E||(E=!0,U())}function $(L,z){M=v(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,H(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var W=f;f=z;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return z()}finally{f=W}},t.unstable_scheduleCallback=function(L,z,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,L){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=W+le,L={id:d++,callback:z,priorityLevel:L,startTime:W,expirationTime:le,sortIndex:-1},W>ne?(L.sortIndex=W,e(u,L),n(c)===null&&L===n(u)&&(g?(m(M),M=-1):g=!0,$(w,W-ne))):(L.sortIndex=le,e(c,L),x||p||(x=!0,H(S))),L},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(L){var z=f;return function(){var W=f;f=z;try{return L.apply(this,arguments)}finally{f=W}}}})(TS);CS.exports=TS;var FM=CS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BM=_,sr=FM;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MS=new Set,uc={};function Ca(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(uc[t]=e,t=0;t<e.length;t++)MS.add(e[t])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=Object.prototype.hasOwnProperty,zM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yy={},by={};function VM(t){return Em.call(by,t)?!0:Em.call(yy,t)?!1:zM.test(t)?by[t]=!0:(yy[t]=!0,!1)}function HM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GM(t,e,n,r){if(e===null||typeof e>"u"||HM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zg=/[\-:]([a-z])/g;function ex(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zg,ex);fn[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zg,ex);fn[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zg,ex);fn[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function tx(t,e,n,r){var s=fn.hasOwnProperty(e)?fn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GM(e,n,s,r)&&(n=null),r||s===null?VM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Us=BM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),ao=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),AS=Symbol.for("react.provider"),jS=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),sx=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),RS=Symbol.for("react.offscreen"),_y=Symbol.iterator;function vl(t){return t===null||typeof t!="object"?null:(t=_y&&t[_y]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,Pf;function Ol(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var kf=!1;function Df(t,e){if(!t||kf)return"";kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{kf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ol(t):""}function WM(t){switch(t.tag){case 5:return Ol(t.type);case 16:return Ol("Lazy");case 13:return Ol("Suspense");case 19:return Ol("SuspenseList");case 0:case 2:case 15:return t=Df(t.type,!1),t;case 11:return t=Df(t.type.render,!1),t;case 1:return t=Df(t.type,!0),t;default:return""}}function Mm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case ao:return"Portal";case Nm:return"Profiler";case nx:return"StrictMode";case Cm:return"Suspense";case Tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jS:return(t.displayName||"Context")+".Consumer";case AS:return(t._context.displayName||"Context")+".Provider";case rx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sx:return e=t.displayName||null,e!==null?e:Mm(t.type)||"Memo";case ei:e=t._payload,t=t._init;try{return Mm(t(e))}catch{}}return null}function $M(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mm(e);case 8:return e===nx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qM(t){var e=PS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fu(t){t._valueTracker||(t._valueTracker=qM(t))}function kS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Am(t,e){var n=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DS(t,e){e=e.checked,e!=null&&tx(t,"checked",e,!1)}function jm(t,e){DS(t,e);var n=wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||Wd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ul=Array.isArray;function Eo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ey(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(Ul(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wi(n)}}function LS(t,e){var n=wi(e.value),r=wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ny(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function km(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pu,OS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XM=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(t){XM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$l[e]=$l[t]})});function US(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$l.hasOwnProperty(t)&&$l[t]?(""+e).trim():e+"px"}function FS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=US(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var KM=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(t,e){if(e){if(KM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function Lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function ix(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Om=null,No=null,Co=null;function Cy(t){if(t=Xc(t)){if(typeof Om!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Vh(e),Om(t.stateNode,t.type,e))}}function BS(t){No?Co?Co.push(t):Co=[t]:No=t}function zS(){if(No){var t=No,e=Co;if(Co=No=null,Cy(t),e)for(t=0;t<e.length;t++)Cy(e[t])}}function VS(t,e){return t(e)}function HS(){}var Lf=!1;function GS(t,e,n){if(Lf)return t(e,n);Lf=!0;try{return VS(t,e,n)}finally{Lf=!1,(No!==null||Co!==null)&&(HS(),zS())}}function hc(t,e){var n=t.stateNode;if(n===null)return null;var r=Vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var Um=!1;if(As)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){Um=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Um=!1}function YM(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ql=!1,$d=null,qd=!1,Fm=null,JM={onError:function(t){ql=!0,$d=t}};function QM(t,e,n,r,s,i,a,l,c){ql=!1,$d=null,YM.apply(JM,arguments)}function ZM(t,e,n,r,s,i,a,l,c){if(QM.apply(this,arguments),ql){if(ql){var u=$d;ql=!1,$d=null}else throw Error(ie(198));qd||(qd=!0,Fm=u)}}function Ta(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function WS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ty(t){if(Ta(t)!==t)throw Error(ie(188))}function eA(t){var e=t.alternate;if(!e){if(e=Ta(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ty(s),t;if(i===r)return Ty(s),e;i=i.sibling}throw Error(ie(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function $S(t){return t=eA(t),t!==null?qS(t):null}function qS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qS(t);if(e!==null)return e;t=t.sibling}return null}var XS=sr.unstable_scheduleCallback,My=sr.unstable_cancelCallback,tA=sr.unstable_shouldYield,nA=sr.unstable_requestPaint,Vt=sr.unstable_now,rA=sr.unstable_getCurrentPriorityLevel,ax=sr.unstable_ImmediatePriority,KS=sr.unstable_UserBlockingPriority,Xd=sr.unstable_NormalPriority,sA=sr.unstable_LowPriority,YS=sr.unstable_IdlePriority,Uh=null,Jr=null;function iA(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Uh,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:lA,aA=Math.log,oA=Math.LN2;function lA(t){return t>>>=0,t===0?32:31-(aA(t)/oA|0)|0}var mu=64,gu=4194304;function Fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Fl(l):(i&=a,i!==0&&(r=Fl(i)))}else a=n&~s,a!==0?r=Fl(a):i!==0&&(r=Fl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),s=1<<n,r|=t[n],e&=~s;return r}function cA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ur(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=cA(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JS(){var t=mu;return mu<<=1,!(mu&4194240)&&(mu=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function dA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ox(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ct=0;function QS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZS,lx,e2,t2,n2,zm=!1,xu=[],di=null,hi=null,fi=null,fc=new Map,pc=new Map,ni=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ay(t,e){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(e.pointerId)}}function bl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xc(e),e!==null&&lx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fA(t,e,n,r,s){switch(e){case"focusin":return di=bl(di,t,e,n,r,s),!0;case"dragenter":return hi=bl(hi,t,e,n,r,s),!0;case"mouseover":return fi=bl(fi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return fc.set(i,bl(fc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pc.set(i,bl(pc.get(i)||null,t,e,n,r,s)),!0}return!1}function r2(t){var e=aa(t.target);if(e!==null){var n=Ta(e);if(n!==null){if(e=n.tag,e===13){if(e=WS(n),e!==null){t.blockedOn=e,n2(t.priority,function(){e2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Im=r,n.target.dispatchEvent(r),Im=null}else return e=Xc(n),e!==null&&lx(e),t.blockedOn=n,!1;e.shift()}return!0}function jy(t,e,n){Sd(t)&&n.delete(e)}function pA(){zm=!1,di!==null&&Sd(di)&&(di=null),hi!==null&&Sd(hi)&&(hi=null),fi!==null&&Sd(fi)&&(fi=null),fc.forEach(jy),pc.forEach(jy)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,pA)))}function mc(t){function e(s){return _l(s,t)}if(0<xu.length){_l(xu[0],t);for(var n=1;n<xu.length;n++){var r=xu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(di!==null&&_l(di,t),hi!==null&&_l(hi,t),fi!==null&&_l(fi,t),fc.forEach(e),pc.forEach(e),n=0;n<ni.length;n++)r=ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)r2(n),n.blockedOn===null&&ni.shift()}var To=Us.ReactCurrentBatchConfig,Yd=!0;function mA(t,e,n,r){var s=ct,i=To.transition;To.transition=null;try{ct=1,cx(t,e,n,r)}finally{ct=s,To.transition=i}}function gA(t,e,n,r){var s=ct,i=To.transition;To.transition=null;try{ct=4,cx(t,e,n,r)}finally{ct=s,To.transition=i}}function cx(t,e,n,r){if(Yd){var s=Vm(t,e,n,r);if(s===null)$f(t,e,r,Jd,n),Ay(t,r);else if(fA(s,t,e,n,r))r.stopPropagation();else if(Ay(t,r),e&4&&-1<hA.indexOf(t)){for(;s!==null;){var i=Xc(s);if(i!==null&&ZS(i),i=Vm(t,e,n,r),i===null&&$f(t,e,r,Jd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var Jd=null;function Vm(t,e,n,r){if(Jd=null,t=ix(r),t=aa(t),t!==null)if(e=Ta(t),e===null)t=null;else if(n=e.tag,n===13){if(t=WS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jd=t,null}function s2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rA()){case ax:return 1;case KS:return 4;case Xd:case sA:return 16;case YS:return 536870912;default:return 16}default:return 16}}var ai=null,ux=null,Ed=null;function i2(){if(Ed)return Ed;var t,e=ux,n=e.length,r,s="value"in ai?ai.value:ai.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Ed=s.slice(t,1<r?1-r:void 0)}function Nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vu(){return!0}function Ry(){return!1}function or(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vu:Ry,this.isPropagationStopped=Ry,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dx=or(nl),qc=Dt({},nl,{view:0,detail:0}),xA=or(qc),Of,Uf,wl,Fh=Dt({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wl&&(wl&&t.type==="mousemove"?(Of=t.screenX-wl.screenX,Uf=t.screenY-wl.screenY):Uf=Of=0,wl=t),Of)},movementY:function(t){return"movementY"in t?t.movementY:Uf}}),Py=or(Fh),vA=Dt({},Fh,{dataTransfer:0}),yA=or(vA),bA=Dt({},qc,{relatedTarget:0}),Ff=or(bA),_A=Dt({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),wA=or(_A),SA=Dt({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EA=or(SA),NA=Dt({},nl,{data:0}),ky=or(NA),CA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MA[t])?!!e[t]:!1}function hx(){return AA}var jA=Dt({},qc,{key:function(t){if(t.key){var e=CA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hx,charCode:function(t){return t.type==="keypress"?Nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RA=or(jA),PA=Dt({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dy=or(PA),kA=Dt({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hx}),DA=or(kA),LA=Dt({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),IA=or(LA),OA=Dt({},Fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UA=or(OA),FA=[9,13,27,32],fx=As&&"CompositionEvent"in window,Xl=null;As&&"documentMode"in document&&(Xl=document.documentMode);var BA=As&&"TextEvent"in window&&!Xl,a2=As&&(!fx||Xl&&8<Xl&&11>=Xl),Ly=" ",Iy=!1;function o2(t,e){switch(t){case"keyup":return FA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function zA(t,e){switch(t){case"compositionend":return l2(e);case"keypress":return e.which!==32?null:(Iy=!0,Ly);case"textInput":return t=e.data,t===Ly&&Iy?null:t;default:return null}}function VA(t,e){if(lo)return t==="compositionend"||!fx&&o2(t,e)?(t=i2(),Ed=ux=ai=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a2&&e.locale!=="ko"?null:e.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HA[t.type]:e==="textarea"}function c2(t,e,n,r){BS(r),e=Qd(e,"onChange"),0<e.length&&(n=new dx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kl=null,gc=null;function GA(t){b2(t,0)}function Bh(t){var e=ho(t);if(kS(e))return t}function WA(t,e){if(t==="change")return e}var u2=!1;if(As){var Bf;if(As){var zf="oninput"in document;if(!zf){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),zf=typeof Uy.oninput=="function"}Bf=zf}else Bf=!1;u2=Bf&&(!document.documentMode||9<document.documentMode)}function Fy(){Kl&&(Kl.detachEvent("onpropertychange",d2),gc=Kl=null)}function d2(t){if(t.propertyName==="value"&&Bh(gc)){var e=[];c2(e,gc,t,ix(t)),GS(GA,e)}}function $A(t,e,n){t==="focusin"?(Fy(),Kl=e,gc=n,Kl.attachEvent("onpropertychange",d2)):t==="focusout"&&Fy()}function qA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bh(gc)}function XA(t,e){if(t==="click")return Bh(e)}function KA(t,e){if(t==="input"||t==="change")return Bh(e)}function YA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Br=typeof Object.is=="function"?Object.is:YA;function xc(t,e){if(Br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Em.call(e,s)||!Br(t[s],e[s]))return!1}return!0}function By(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zy(t,e){var n=By(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=By(n)}}function h2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f2(){for(var t=window,e=Wd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wd(t.document)}return e}function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JA(t){var e=f2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h2(n.ownerDocument.documentElement,n)){if(r!==null&&px(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zy(n,i);var a=zy(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QA=As&&"documentMode"in document&&11>=document.documentMode,co=null,Hm=null,Yl=null,Gm=!1;function Vy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gm||co==null||co!==Wd(r)||(r=co,"selectionStart"in r&&px(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yl&&xc(Yl,r)||(Yl=r,r=Qd(Hm,"onSelect"),0<r.length&&(e=new dx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=co)))}function yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Vf={},p2={};As&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function zh(t){if(Vf[t])return Vf[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p2)return Vf[t]=e[n];return t}var m2=zh("animationend"),g2=zh("animationiteration"),x2=zh("animationstart"),v2=zh("transitionend"),y2=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){y2.set(t,e),Ca(e,[t])}for(var Hf=0;Hf<Hy.length;Hf++){var Gf=Hy[Hf],ZA=Gf.toLowerCase(),ej=Gf[0].toUpperCase()+Gf.slice(1);Ti(ZA,"on"+ej)}Ti(m2,"onAnimationEnd");Ti(g2,"onAnimationIteration");Ti(x2,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(v2,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bl));function Gy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZM(r,e,void 0,t),t.currentTarget=null}function b2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Gy(s,l,u),i=c}}}if(qd)throw t=Fm,qd=!1,Fm=null,t}function _t(t,e){var n=e[Km];n===void 0&&(n=e[Km]=new Set);var r=t+"__bubble";n.has(r)||(_2(e,t,2,!1),n.add(r))}function Wf(t,e,n){var r=0;e&&(r|=4),_2(n,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function vc(t){if(!t[bu]){t[bu]=!0,MS.forEach(function(n){n!=="selectionchange"&&(tj.has(n)||Wf(n,!1,t),Wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,Wf("selectionchange",!1,e))}}function _2(t,e,n,r){switch(s2(e)){case 1:var s=mA;break;case 4:s=gA;break;default:s=cx}n=s.bind(null,e,n,t),s=void 0,!Um||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=aa(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}GS(function(){var u=i,d=ix(n),h=[];e:{var f=y2.get(t);if(f!==void 0){var p=dx,x=t;switch(t){case"keypress":if(Nd(n)===0)break e;case"keydown":case"keyup":p=RA;break;case"focusin":x="focus",p=Ff;break;case"focusout":x="blur",p=Ff;break;case"beforeblur":case"afterblur":p=Ff;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DA;break;case m2:case g2:case x2:p=wA;break;case v2:p=IA;break;case"scroll":p=xA;break;case"wheel":p=UA;break;case"copy":case"cut":case"paste":p=EA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dy}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,m!==null&&(w=hc(y,m),w!=null&&g.push(yc(y,w,b)))),v)break;y=y.return}0<g.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Im&&(x=n.relatedTarget||n.fromElement)&&(aa(x)||x[js]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?aa(x):null,x!==null&&(v=Ta(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=Py,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Dy,w="onPointerLeave",m="onPointerEnter",y="pointer"),v=p==null?f:ho(p),b=x==null?f:ho(x),f=new g(w,y+"leave",p,n,d),f.target=v,f.relatedTarget=b,w=null,aa(d)===u&&(g=new g(m,y+"enter",x,n,d),g.target=b,g.relatedTarget=v,w=g),v=w,p&&x)t:{for(g=p,m=x,y=0,b=g;b;b=Da(b))y++;for(b=0,w=m;w;w=Da(w))b++;for(;0<y-b;)g=Da(g),y--;for(;0<b-y;)m=Da(m),b--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Da(g),m=Da(m)}g=null}else g=null;p!==null&&Wy(h,f,p,g,!1),x!==null&&v!==null&&Wy(h,v,x,g,!0)}}e:{if(f=u?ho(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=WA;else if(Oy(f))if(u2)S=KA;else{S=qA;var E=$A}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=XA);if(S&&(S=S(t,u))){c2(h,S,n,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Rm(f,"number",f.value)}switch(E=u?ho(u):window,t){case"focusin":(Oy(E)||E.contentEditable==="true")&&(co=E,Hm=u,Yl=null);break;case"focusout":Yl=Hm=co=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,Vy(h,n,d);break;case"selectionchange":if(QA)break;case"keydown":case"keyup":Vy(h,n,d)}var T;if(fx)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else lo?o2(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(a2&&n.locale!=="ko"&&(lo||M!=="onCompositionStart"?M==="onCompositionEnd"&&lo&&(T=i2()):(ai=d,ux="value"in ai?ai.value:ai.textContent,lo=!0)),E=Qd(u,M),0<E.length&&(M=new ky(M,t,null,n,d),h.push({event:M,listeners:E}),T?M.data=T:(T=l2(n),T!==null&&(M.data=T)))),(T=BA?zA(t,n):VA(t,n))&&(u=Qd(u,"onBeforeInput"),0<u.length&&(d=new ky("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}b2(h,e)})}function yc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hc(t,n),i!=null&&r.unshift(yc(t,i,s)),i=hc(t,e),i!=null&&r.push(yc(t,i,s))),t=t.return}return r}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wy(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=hc(n,i),c!=null&&a.unshift(yc(n,c,l))):s||(c=hc(n,i),c!=null&&a.push(yc(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var nj=/\r\n?/g,rj=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(nj,`
`).replace(rj,"")}function _u(t,e,n){if(e=$y(e),$y(t)!==e&&n)throw Error(ie(425))}function Zd(){}var Wm=null,$m=null;function qm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,sj=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,ij=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(t){return qy.resolve(null).then(t).catch(aj)}:Xm;function aj(t){setTimeout(function(){throw t})}function qf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);mc(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Xr="__reactFiber$"+rl,bc="__reactProps$"+rl,js="__reactContainer$"+rl,Km="__reactEvents$"+rl,oj="__reactListeners$"+rl,lj="__reactHandles$"+rl;function aa(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[js]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xy(t);t!==null;){if(n=t[Xr])return n;t=Xy(t)}return e}t=n,n=t.parentNode}return null}function Xc(t){return t=t[Xr]||t[js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Vh(t){return t[bc]||null}var Ym=[],fo=-1;function Mi(t){return{current:t}}function St(t){0>fo||(t.current=Ym[fo],Ym[fo]=null,fo--)}function vt(t,e){fo++,Ym[fo]=t.current,t.current=e}var Si={},_n=Mi(Si),Fn=Mi(!1),xa=Si;function Oo(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bn(t){return t=t.childContextTypes,t!=null}function eh(){St(Fn),St(_n)}function Ky(t,e,n){if(_n.current!==Si)throw Error(ie(168));vt(_n,e),vt(Fn,n)}function w2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ie(108,$M(t)||"Unknown",s));return Dt({},n,r)}function th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,xa=_n.current,vt(_n,t),vt(Fn,Fn.current),!0}function Yy(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=w2(t,e,xa),r.__reactInternalMemoizedMergedChildContext=t,St(Fn),St(_n),vt(_n,t)):St(Fn),vt(Fn,n)}var xs=null,Hh=!1,Xf=!1;function S2(t){xs===null?xs=[t]:xs.push(t)}function cj(t){Hh=!0,S2(t)}function Ai(){if(!Xf&&xs!==null){Xf=!0;var t=0,e=ct;try{var n=xs;for(ct=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,Hh=!1}catch(s){throw xs!==null&&(xs=xs.slice(t+1)),XS(ax,Ai),s}finally{ct=e,Xf=!1}}return null}var po=[],mo=0,nh=null,rh=0,mr=[],gr=0,va=null,ys=1,bs="";function Ki(t,e){po[mo++]=rh,po[mo++]=nh,nh=t,rh=e}function E2(t,e,n){mr[gr++]=ys,mr[gr++]=bs,mr[gr++]=va,va=t;var r=ys;t=bs;var s=32-Ur(r)-1;r&=~(1<<s),n+=1;var i=32-Ur(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ys=1<<32-Ur(e)+s|n<<s|r,bs=i+t}else ys=1<<i|n<<s|r,bs=t}function mx(t){t.return!==null&&(Ki(t,1),E2(t,1,0))}function gx(t){for(;t===nh;)nh=po[--mo],po[mo]=null,rh=po[--mo],po[mo]=null;for(;t===va;)va=mr[--gr],mr[gr]=null,bs=mr[--gr],mr[gr]=null,ys=mr[--gr],mr[gr]=null}var nr=null,tr=null,Nt=!1,Lr=null;function N2(t,e){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nr=t,tr=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=va!==null?{id:ys,overflow:bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nr=t,tr=null,!0):!1;default:return!1}}function Jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qm(t){if(Nt){var e=tr;if(e){var n=e;if(!Jy(t,e)){if(Jm(t))throw Error(ie(418));e=pi(n.nextSibling);var r=nr;e&&Jy(t,e)?N2(r,n):(t.flags=t.flags&-4097|2,Nt=!1,nr=t)}}else{if(Jm(t))throw Error(ie(418));t.flags=t.flags&-4097|2,Nt=!1,nr=t}}}function Qy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function wu(t){if(t!==nr)return!1;if(!Nt)return Qy(t),Nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qm(t.type,t.memoizedProps)),e&&(e=tr)){if(Jm(t))throw C2(),Error(ie(418));for(;e;)N2(t,e),e=pi(e.nextSibling)}if(Qy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tr=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=nr?pi(t.stateNode.nextSibling):null;return!0}function C2(){for(var t=tr;t;)t=pi(t.nextSibling)}function Uo(){tr=nr=null,Nt=!1}function xx(t){Lr===null?Lr=[t]:Lr.push(t)}var uj=Us.ReactCurrentBatchConfig;function Sl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function Su(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zy(t){var e=t._init;return e(t._payload)}function T2(t){function e(m,y){if(t){var b=m.deletions;b===null?(m.deletions=[y],m.flags|=16):b.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=vi(m,y),m.index=0,m.sibling=null,m}function i(m,y,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<y?(m.flags|=2,y):b):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,b,w){return y===null||y.tag!==6?(y=tp(b,m.mode,w),y.return=m,y):(y=s(y,b),y.return=m,y)}function c(m,y,b,w){var S=b.type;return S===oo?d(m,y,b.props.children,w,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&Zy(S)===y.type)?(w=s(y,b.props),w.ref=Sl(m,y,b),w.return=m,w):(w=Pd(b.type,b.key,b.props,null,m.mode,w),w.ref=Sl(m,y,b),w.return=m,w)}function u(m,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=np(b,m.mode,w),y.return=m,y):(y=s(y,b.children||[]),y.return=m,y)}function d(m,y,b,w,S){return y===null||y.tag!==7?(y=pa(b,m.mode,w,S),y.return=m,y):(y=s(y,b),y.return=m,y)}function h(m,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tp(""+y,m.mode,b),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hu:return b=Pd(y.type,y.key,y.props,null,m.mode,b),b.ref=Sl(m,null,y),b.return=m,b;case ao:return y=np(y,m.mode,b),y.return=m,y;case ei:var w=y._init;return h(m,w(y._payload),b)}if(Ul(y)||vl(y))return y=pa(y,m.mode,b,null),y.return=m,y;Su(m,y)}return null}function f(m,y,b,w){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(m,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hu:return b.key===S?c(m,y,b,w):null;case ao:return b.key===S?u(m,y,b,w):null;case ei:return S=b._init,f(m,y,S(b._payload),w)}if(Ul(b)||vl(b))return S!==null?null:d(m,y,b,w,null);Su(m,b)}return null}function p(m,y,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(b)||null,l(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hu:return m=m.get(w.key===null?b:w.key)||null,c(y,m,w,S);case ao:return m=m.get(w.key===null?b:w.key)||null,u(y,m,w,S);case ei:var E=w._init;return p(m,y,b,E(w._payload),S)}if(Ul(w)||vl(w))return m=m.get(b)||null,d(y,m,w,S,null);Su(y,w)}return null}function x(m,y,b,w){for(var S=null,E=null,T=y,M=y=0,C=null;T!==null&&M<b.length;M++){T.index>M?(C=T,T=null):C=T.sibling;var N=f(m,T,b[M],w);if(N===null){T===null&&(T=C);break}t&&T&&N.alternate===null&&e(m,T),y=i(N,y,M),E===null?S=N:E.sibling=N,E=N,T=C}if(M===b.length)return n(m,T),Nt&&Ki(m,M),S;if(T===null){for(;M<b.length;M++)T=h(m,b[M],w),T!==null&&(y=i(T,y,M),E===null?S=T:E.sibling=T,E=T);return Nt&&Ki(m,M),S}for(T=r(m,T);M<b.length;M++)C=p(T,m,M,b[M],w),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?M:C.key),y=i(C,y,M),E===null?S=C:E.sibling=C,E=C);return t&&T.forEach(function(j){return e(m,j)}),Nt&&Ki(m,M),S}function g(m,y,b,w){var S=vl(b);if(typeof S!="function")throw Error(ie(150));if(b=S.call(b),b==null)throw Error(ie(151));for(var E=S=null,T=y,M=y=0,C=null,N=b.next();T!==null&&!N.done;M++,N=b.next()){T.index>M?(C=T,T=null):C=T.sibling;var j=f(m,T,N.value,w);if(j===null){T===null&&(T=C);break}t&&T&&j.alternate===null&&e(m,T),y=i(j,y,M),E===null?S=j:E.sibling=j,E=j,T=C}if(N.done)return n(m,T),Nt&&Ki(m,M),S;if(T===null){for(;!N.done;M++,N=b.next())N=h(m,N.value,w),N!==null&&(y=i(N,y,M),E===null?S=N:E.sibling=N,E=N);return Nt&&Ki(m,M),S}for(T=r(m,T);!N.done;M++,N=b.next())N=p(T,m,M,N.value,w),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?M:N.key),y=i(N,y,M),E===null?S=N:E.sibling=N,E=N);return t&&T.forEach(function(k){return e(m,k)}),Nt&&Ki(m,M),S}function v(m,y,b,w){if(typeof b=="object"&&b!==null&&b.type===oo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case hu:e:{for(var S=b.key,E=y;E!==null;){if(E.key===S){if(S=b.type,S===oo){if(E.tag===7){n(m,E.sibling),y=s(E,b.props.children),y.return=m,m=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&Zy(S)===E.type){n(m,E.sibling),y=s(E,b.props),y.ref=Sl(m,E,b),y.return=m,m=y;break e}n(m,E);break}else e(m,E);E=E.sibling}b.type===oo?(y=pa(b.props.children,m.mode,w,b.key),y.return=m,m=y):(w=Pd(b.type,b.key,b.props,null,m.mode,w),w.ref=Sl(m,y,b),w.return=m,m=w)}return a(m);case ao:e:{for(E=b.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(m,y.sibling),y=s(y,b.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=np(b,m.mode,w),y.return=m,m=y}return a(m);case ei:return E=b._init,v(m,y,E(b._payload),w)}if(Ul(b))return x(m,y,b,w);if(vl(b))return g(m,y,b,w);Su(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,b),y.return=m,m=y):(n(m,y),y=tp(b,m.mode,w),y.return=m,m=y),a(m)):n(m,y)}return v}var Fo=T2(!0),M2=T2(!1),sh=Mi(null),ih=null,go=null,vx=null;function yx(){vx=go=ih=null}function bx(t){var e=sh.current;St(sh),t._currentValue=e}function Zm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){ih=t,vx=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function wr(t){var e=t._currentValue;if(vx!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(ih===null)throw Error(ie(308));go=t,ih.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var oa=null;function _x(t){oa===null?oa=[t]:oa.push(t)}function A2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,_x(e)):(n.next=s.next,s.next=n),e.interleaved=n,Rs(t,r)}function Rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ti=!1;function wx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Rs(t,n)}return s=r.interleaved,s===null?(e.next=e,_x(r)):(e.next=s.next,s.next=e),r.interleaved=e,Rs(t,n)}function Cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ox(t,n)}}function eb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ah(t,e,n,r){var s=t.updateQueue;ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,g=l;switch(f=e,p=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=Dt({},h,f);break e;case 2:ti=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ba|=a,t.lanes=a,t.memoizedState=h}}function tb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ie(191,s));s.call(r)}}}var Kc={},Qr=Mi(Kc),_c=Mi(Kc),wc=Mi(Kc);function la(t){if(t===Kc)throw Error(ie(174));return t}function Sx(t,e){switch(vt(wc,e),vt(_c,t),vt(Qr,Kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:km(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=km(e,t)}St(Qr),vt(Qr,e)}function Bo(){St(Qr),St(_c),St(wc)}function R2(t){la(wc.current);var e=la(Qr.current),n=km(e,t.type);e!==n&&(vt(_c,t),vt(Qr,n))}function Ex(t){_c.current===t&&(St(Qr),St(_c))}var Rt=Mi(0);function oh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kf=[];function Nx(){for(var t=0;t<Kf.length;t++)Kf[t]._workInProgressVersionPrimary=null;Kf.length=0}var Td=Us.ReactCurrentDispatcher,Yf=Us.ReactCurrentBatchConfig,ya=0,kt=null,Qt=null,an=null,lh=!1,Jl=!1,Sc=0,dj=0;function pn(){throw Error(ie(321))}function Cx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Br(t[n],e[n]))return!1;return!0}function Tx(t,e,n,r,s,i){if(ya=i,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Td.current=t===null||t.memoizedState===null?mj:gj,t=n(r,s),Jl){i=0;do{if(Jl=!1,Sc=0,25<=i)throw Error(ie(301));i+=1,an=Qt=null,e.updateQueue=null,Td.current=xj,t=n(r,s)}while(Jl)}if(Td.current=ch,e=Qt!==null&&Qt.next!==null,ya=0,an=Qt=kt=null,lh=!1,e)throw Error(ie(300));return t}function Mx(){var t=Sc!==0;return Sc=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?kt.memoizedState=an=t:an=an.next=t,an}function Sr(){if(Qt===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=an===null?kt.memoizedState:an.next;if(e!==null)an=e,Qt=t;else{if(t===null)throw Error(ie(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},an===null?kt.memoizedState=an=t:an=an.next=t}return an}function Ec(t,e){return typeof e=="function"?e(t):e}function Jf(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Qt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((ya&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,kt.lanes|=d,ba|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Br(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,kt.lanes|=i,ba|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qf(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Br(i,e.memoizedState)||(Un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function P2(){}function k2(t,e){var n=kt,r=Sr(),s=e(),i=!Br(r.memoizedState,s);if(i&&(r.memoizedState=s,Un=!0),r=r.queue,Ax(I2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,Nc(9,L2.bind(null,n,r,s,e),void 0,null),ln===null)throw Error(ie(349));ya&30||D2(n,e,s)}return s}function D2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L2(t,e,n,r){e.value=n,e.getSnapshot=r,O2(e)&&U2(t)}function I2(t,e,n){return n(function(){O2(e)&&U2(t)})}function O2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Br(t,n)}catch{return!0}}function U2(t){var e=Rs(t,1);e!==null&&Fr(e,t,1,-1)}function nb(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ec,lastRenderedState:t},e.queue=t,t=t.dispatch=pj.bind(null,kt,t),[e.memoizedState,t]}function Nc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F2(){return Sr().memoizedState}function Md(t,e,n,r){var s=$r();kt.flags|=t,s.memoizedState=Nc(1|e,n,void 0,r===void 0?null:r)}function Gh(t,e,n,r){var s=Sr();r=r===void 0?null:r;var i=void 0;if(Qt!==null){var a=Qt.memoizedState;if(i=a.destroy,r!==null&&Cx(r,a.deps)){s.memoizedState=Nc(e,n,i,r);return}}kt.flags|=t,s.memoizedState=Nc(1|e,n,i,r)}function rb(t,e){return Md(8390656,8,t,e)}function Ax(t,e){return Gh(2048,8,t,e)}function B2(t,e){return Gh(4,2,t,e)}function z2(t,e){return Gh(4,4,t,e)}function V2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H2(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4,4,V2.bind(null,e,t),n)}function jx(){}function G2(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function W2(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $2(t,e,n){return ya&21?(Br(n,e)||(n=JS(),kt.lanes|=n,ba|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function hj(t,e){var n=ct;ct=n!==0&&4>n?n:4,t(!0);var r=Yf.transition;Yf.transition={};try{t(!1),e()}finally{ct=n,Yf.transition=r}}function q2(){return Sr().memoizedState}function fj(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X2(t))K2(e,n);else if(n=A2(t,e,n,r),n!==null){var s=Tn();Fr(n,t,r,s),Y2(n,e,r)}}function pj(t,e,n){var r=xi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X2(t))K2(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Br(l,a)){var c=e.interleaved;c===null?(s.next=s,_x(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=A2(t,e,s,r),n!==null&&(s=Tn(),Fr(n,t,r,s),Y2(n,e,r))}}function X2(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function K2(t,e){Jl=lh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ox(t,n)}}var ch={readContext:wr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},mj={readContext:wr,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:wr,useEffect:rb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,V2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fj.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:nb,useDebugValue:jx,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=nb(!1),e=t[0];return t=hj.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kt,s=$r();if(Nt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),ln===null)throw Error(ie(349));ya&30||D2(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,rb(I2.bind(null,r,i,t),[t]),r.flags|=2048,Nc(9,L2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$r(),e=ln.identifierPrefix;if(Nt){var n=bs,r=ys;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gj={readContext:wr,useCallback:G2,useContext:wr,useEffect:Ax,useImperativeHandle:H2,useInsertionEffect:B2,useLayoutEffect:z2,useMemo:W2,useReducer:Jf,useRef:F2,useState:function(){return Jf(Ec)},useDebugValue:jx,useDeferredValue:function(t){var e=Sr();return $2(e,Qt.memoizedState,t)},useTransition:function(){var t=Jf(Ec)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:P2,useSyncExternalStore:k2,useId:q2,unstable_isNewReconciler:!1},xj={readContext:wr,useCallback:G2,useContext:wr,useEffect:Ax,useImperativeHandle:H2,useInsertionEffect:B2,useLayoutEffect:z2,useMemo:W2,useReducer:Qf,useRef:F2,useState:function(){return Qf(Ec)},useDebugValue:jx,useDeferredValue:function(t){var e=Sr();return Qt===null?e.memoizedState=t:$2(e,Qt.memoizedState,t)},useTransition:function(){var t=Qf(Ec)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:P2,useSyncExternalStore:k2,useId:q2,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function e0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wh={isMounted:function(t){return(t=t._reactInternals)?Ta(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=xi(t),i=Ss(r,s);i.payload=e,n!=null&&(i.callback=n),e=mi(t,i,s),e!==null&&(Fr(e,t,s,r),Cd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=xi(t),i=Ss(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=mi(t,i,s),e!==null&&(Fr(e,t,s,r),Cd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=xi(t),s=Ss(n,r);s.tag=2,e!=null&&(s.callback=e),e=mi(t,s,r),e!==null&&(Fr(e,t,r,n),Cd(e,t,r))}};function sb(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!xc(n,r)||!xc(s,i):!0}function J2(t,e,n){var r=!1,s=Si,i=e.contextType;return typeof i=="object"&&i!==null?i=wr(i):(s=Bn(e)?xa:_n.current,r=e.contextTypes,i=(r=r!=null)?Oo(t,s):Si),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ib(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function t0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wr(i):(i=Bn(e)?xa:_n.current,s.context=Oo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(e0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wh.enqueueReplaceState(s,s.state,null),ah(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zo(t,e){try{var n="",r=e;do n+=WM(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function n0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vj=typeof WeakMap=="function"?WeakMap:Map;function Q2(t,e,n){n=Ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dh||(dh=!0,h0=r),n0(t,e)},n}function Z2(t,e,n){n=Ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){n0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){n0(t,e),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function ab(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Pj.bind(null,t,e,n),e.then(t,t))}function ob(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ss(-1,1),e.tag=2,mi(n,e,1))),n.lanes|=1),t)}var yj=Us.ReactCurrentOwner,Un=!1;function En(t,e,n,r){e.child=t===null?M2(e,null,n,r):Fo(e,t.child,n,r)}function cb(t,e,n,r,s){n=n.render;var i=e.ref;return Mo(e,s),r=Tx(t,e,n,r,i,s),n=Mx(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ps(t,e,s)):(Nt&&n&&mx(e),e.flags|=1,En(t,e,r,s),e.child)}function ub(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ux(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,eE(t,e,i,r,s)):(t=Pd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:xc,n(a,r)&&t.ref===e.ref)return Ps(t,e,s)}return e.flags|=1,t=vi(i,r),t.ref=e.ref,t.return=e,e.child=t}function eE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xc(i,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,Ps(t,e,s)}return r0(t,e,n,r,s)}function tE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(vo,Jn),Jn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(vo,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,vt(vo,Jn),Jn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,vt(vo,Jn),Jn|=r;return En(t,e,s,n),e.child}function nE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function r0(t,e,n,r,s){var i=Bn(n)?xa:_n.current;return i=Oo(e,i),Mo(e,s),n=Tx(t,e,n,r,i,s),r=Mx(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ps(t,e,s)):(Nt&&r&&mx(e),e.flags|=1,En(t,e,n,s),e.child)}function db(t,e,n,r,s){if(Bn(n)){var i=!0;th(e)}else i=!1;if(Mo(e,s),e.stateNode===null)Ad(t,e),J2(e,n,r),t0(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=wr(u):(u=Bn(n)?xa:_n.current,u=Oo(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ib(e,a,r,u),ti=!1;var f=e.memoizedState;a.state=f,ah(e,r,a,s),c=e.memoizedState,l!==r||f!==c||Fn.current||ti?(typeof d=="function"&&(e0(e,n,d,r),c=e.memoizedState),(l=ti||sb(e,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,j2(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Rr(e.type,l),a.props=u,h=e.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=wr(c):(c=Bn(n)?xa:_n.current,c=Oo(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ib(e,a,r,c),ti=!1,f=e.memoizedState,a.state=f,ah(e,r,a,s);var x=e.memoizedState;l!==h||f!==x||Fn.current||ti?(typeof p=="function"&&(e0(e,n,p,r),x=e.memoizedState),(u=ti||sb(e,n,u,r,f,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return s0(t,e,n,r,i,s)}function s0(t,e,n,r,s,i){nE(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Yy(e,n,!1),Ps(t,e,i);r=e.stateNode,yj.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Fo(e,t.child,null,i),e.child=Fo(e,null,l,i)):En(t,e,l,i),e.memoizedState=r.state,s&&Yy(e,n,!0),e.child}function rE(t){var e=t.stateNode;e.pendingContext?Ky(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ky(t,e.context,!1),Sx(t,e.containerInfo)}function hb(t,e,n,r,s){return Uo(),xx(s),e.flags|=256,En(t,e,n,r),e.child}var i0={dehydrated:null,treeContext:null,retryLane:0};function a0(t){return{baseLanes:t,cachePool:null,transitions:null}}function sE(t,e,n){var r=e.pendingProps,s=Rt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),vt(Rt,s&1),t===null)return Qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Xh(a,r,0,null),t=pa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=a0(n),e.memoizedState=i0,t):Rx(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bj(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=vi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=vi(l,i):(i=pa(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?a0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=i0,r}return i=t.child,t=i.sibling,r=vi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rx(t,e){return e=Xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eu(t,e,n,r){return r!==null&&xx(r),Fo(e,t.child,null,n),t=Rx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bj(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Zf(Error(ie(422))),Eu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Xh({mode:"visible",children:r.children},s,0,null),i=pa(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fo(e,t.child,null,a),e.child.memoizedState=a0(a),e.memoizedState=i0,i);if(!(e.mode&1))return Eu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ie(419)),r=Zf(i,r,void 0),Eu(t,e,a,r)}if(l=(a&t.childLanes)!==0,Un||l){if(r=ln,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rs(t,s),Fr(r,t,s,-1))}return Ox(),r=Zf(Error(ie(421))),Eu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=kj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,tr=pi(s.nextSibling),nr=e,Nt=!0,Lr=null,t!==null&&(mr[gr++]=ys,mr[gr++]=bs,mr[gr++]=va,ys=t.id,bs=t.overflow,va=e),e=Rx(e,r.children),e.flags|=4096,e)}function fb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zm(t.return,e,n)}function ep(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function iE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(En(t,e,r.children,n),r=Rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fb(t,n,e);else if(t.tag===19)fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vt(Rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&oh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ep(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&oh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ep(e,!0,n,null,i);break;case"together":ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ba|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _j(t,e,n){switch(e.tag){case 3:rE(e),Uo();break;case 5:R2(e);break;case 1:Bn(e.type)&&th(e);break;case 4:Sx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;vt(sh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vt(Rt,Rt.current&1),e.flags|=128,null):n&e.child.childLanes?sE(t,e,n):(vt(Rt,Rt.current&1),t=Ps(t,e,n),t!==null?t.sibling:null);vt(Rt,Rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Rt,Rt.current),r)break;return null;case 22:case 23:return e.lanes=0,tE(t,e,n)}return Ps(t,e,n)}var aE,o0,oE,lE;aE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o0=function(){};oE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,la(Qr.current);var i=null;switch(n){case"input":s=Am(t,s),r=Am(t,r),i=[];break;case"select":s=Dt({},s,{value:void 0}),r=Dt({},r,{value:void 0}),i=[];break;case"textarea":s=Pm(t,s),r=Pm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zd)}Dm(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&_t("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};lE=function(t,e,n,r){n!==r&&(e.flags|=4)};function El(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wj(t,e,n){var r=e.pendingProps;switch(gx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return Bn(e.type)&&eh(),mn(e),null;case 3:return r=e.stateNode,Bo(),St(Fn),St(_n),Nx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(m0(Lr),Lr=null))),o0(t,e),mn(e),null;case 5:Ex(e);var s=la(wc.current);if(n=e.type,t!==null&&e.stateNode!=null)oE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return mn(e),null}if(t=la(Qr.current),wu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xr]=e,r[bc]=i,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(s=0;s<Bl.length;s++)_t(Bl[s],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":wy(r,i),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_t("invalid",r);break;case"textarea":Ey(r,i),_t("invalid",r)}Dm(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&_u(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&_u(r.textContent,l,t),s=["children",""+l]):uc.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&_t("scroll",r)}switch(n){case"input":fu(r),Sy(r,i,!0);break;case"textarea":fu(r),Ny(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Xr]=e,t[bc]=r,aE(t,e,!1,!1),e.stateNode=t;e:{switch(a=Lm(n,r),n){case"dialog":_t("cancel",t),_t("close",t),s=r;break;case"iframe":case"object":case"embed":_t("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bl.length;s++)_t(Bl[s],t);s=r;break;case"source":_t("error",t),s=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),s=r;break;case"details":_t("toggle",t),s=r;break;case"input":wy(t,r),s=Am(t,r),_t("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Dt({},r,{value:void 0}),_t("invalid",t);break;case"textarea":Ey(t,r),s=Pm(t,r),_t("invalid",t);break;default:s=r}Dm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?FS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&dc(t,c):typeof c=="number"&&dc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&_t("scroll",t):c!=null&&tx(t,i,c,a))}switch(n){case"input":fu(t),Sy(t,r,!1);break;case"textarea":fu(t),Ny(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Eo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)lE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=la(wc.current),la(Qr.current),wu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(i=r.nodeValue!==n)&&(t=nr,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return mn(e),null;case 13:if(St(Rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&tr!==null&&e.mode&1&&!(e.flags&128))C2(),Uo(),e.flags|=98560,i=!1;else if(i=wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ie(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[Xr]=e}else Uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),i=!1}else Lr!==null&&(m0(Lr),Lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?Zt===0&&(Zt=3):Ox())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return Bo(),o0(t,e),t===null&&vc(e.stateNode.containerInfo),mn(e),null;case 10:return bx(e.type._context),mn(e),null;case 17:return Bn(e.type)&&eh(),mn(e),null;case 19:if(St(Rt),i=e.memoizedState,i===null)return mn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)El(i,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=oh(t),a!==null){for(e.flags|=128,El(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vt(Rt,Rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Vt()>Vo&&(e.flags|=128,r=!0,El(i,!1),e.lanes=4194304)}else{if(!r)if(t=oh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),El(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Nt)return mn(e),null}else 2*Vt()-i.renderingStartTime>Vo&&n!==1073741824&&(e.flags|=128,r=!0,El(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Vt(),e.sibling=null,n=Rt.current,vt(Rt,r?n&1|2:n&1),e):(mn(e),null);case 22:case 23:return Ix(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function Sj(t,e){switch(gx(e),e.tag){case 1:return Bn(e.type)&&eh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bo(),St(Fn),St(_n),Nx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ex(e),null;case 13:if(St(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Rt),null;case 4:return Bo(),null;case 10:return bx(e.type._context),null;case 22:case 23:return Ix(),null;case 24:return null;default:return null}}var Nu=!1,yn=!1,Ej=typeof WeakSet=="function"?WeakSet:Set,ve=null;function xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function l0(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var pb=!1;function Nj(t,e){if(Wm=Yd,t=f2(),px(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($m={focusedElem:t,selectionRange:n},Yd=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Rr(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(w){Ut(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return x=pb,pb=!1,x}function Ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&l0(e,n,i)}s=s.next}while(s!==r)}}function $h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function c0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cE(t){var e=t.alternate;e!==null&&(t.alternate=null,cE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[bc],delete e[Km],delete e[oj],delete e[lj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uE(t){return t.tag===5||t.tag===3||t.tag===4}function mb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function u0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zd));else if(r!==4&&(t=t.child,t!==null))for(u0(t,e,n),t=t.sibling;t!==null;)u0(t,e,n),t=t.sibling}function d0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(d0(t,e,n),t=t.sibling;t!==null;)d0(t,e,n),t=t.sibling}var dn=null,kr=!1;function zs(t,e,n){for(n=n.child;n!==null;)dE(t,e,n),n=n.sibling}function dE(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:yn||xo(n,e);case 6:var r=dn,s=kr;dn=null,zs(t,e,n),dn=r,kr=s,dn!==null&&(kr?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(kr?(t=dn,n=n.stateNode,t.nodeType===8?qf(t.parentNode,n):t.nodeType===1&&qf(t,n),mc(t)):qf(dn,n.stateNode));break;case 4:r=dn,s=kr,dn=n.stateNode.containerInfo,kr=!0,zs(t,e,n),dn=r,kr=s;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&l0(n,e,a),s=s.next}while(s!==r)}zs(t,e,n);break;case 1:if(!yn&&(xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ut(n,e,l)}zs(t,e,n);break;case 21:zs(t,e,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,zs(t,e,n),yn=r):zs(t,e,n);break;default:zs(t,e,n)}}function gb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ej),e.forEach(function(r){var s=Dj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:dn=l.stateNode,kr=!1;break e;case 3:dn=l.stateNode.containerInfo,kr=!0;break e;case 4:dn=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(dn===null)throw Error(ie(160));dE(i,a,s),dn=null,kr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ut(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hE(e,t),e=e.sibling}function hE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nr(e,t),Wr(t),r&4){try{Ql(3,t,t.return),$h(3,t)}catch(g){Ut(t,t.return,g)}try{Ql(5,t,t.return)}catch(g){Ut(t,t.return,g)}}break;case 1:Nr(e,t),Wr(t),r&512&&n!==null&&xo(n,n.return);break;case 5:if(Nr(e,t),Wr(t),r&512&&n!==null&&xo(n,n.return),t.flags&32){var s=t.stateNode;try{dc(s,"")}catch(g){Ut(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&DS(s,i),Lm(l,a);var u=Lm(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?FS(s,h):d==="dangerouslySetInnerHTML"?OS(s,h):d==="children"?dc(s,h):tx(s,d,h,u)}switch(l){case"input":jm(s,i);break;case"textarea":LS(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Eo(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Eo(s,!!i.multiple,i.defaultValue,!0):Eo(s,!!i.multiple,i.multiple?[]:"",!1))}s[bc]=i}catch(g){Ut(t,t.return,g)}}break;case 6:if(Nr(e,t),Wr(t),r&4){if(t.stateNode===null)throw Error(ie(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Ut(t,t.return,g)}}break;case 3:if(Nr(e,t),Wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mc(e.containerInfo)}catch(g){Ut(t,t.return,g)}break;case 4:Nr(e,t),Wr(t);break;case 13:Nr(e,t),Wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dx=Vt())),r&4&&gb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(yn=(u=yn)||d,Nr(e,t),yn=u):Nr(e,t),Wr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(h=ve=d;ve!==null;){switch(f=ve,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ql(4,f,f.return);break;case 1:xo(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(g){Ut(r,n,g)}}break;case 5:xo(f,f.return);break;case 22:if(f.memoizedState!==null){vb(h);continue}}p!==null?(p.return=f,ve=p):vb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=US("display",a))}catch(g){Ut(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ut(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nr(e,t),Wr(t),r&4&&gb(t);break;case 21:break;default:Nr(e,t),Wr(t)}}function Wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uE(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(dc(s,""),r.flags&=-33);var i=mb(t);d0(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=mb(t);u0(t,l,a);break;default:throw Error(ie(161))}}catch(c){Ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cj(t,e,n){ve=t,fE(t)}function fE(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var s=ve,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Nu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||yn;l=Nu;var u=yn;if(Nu=a,(yn=c)&&!u)for(ve=s;ve!==null;)a=ve,c=a.child,a.tag===22&&a.memoizedState!==null?yb(s):c!==null?(c.return=a,ve=c):yb(s);for(;i!==null;)ve=i,fE(i),i=i.sibling;ve=s,Nu=l,yn=u}xb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ve=i):xb(t)}}function xb(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yn||$h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&tb(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tb(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&mc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}yn||e.flags&512&&c0(e)}catch(f){Ut(e,e.return,f)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function vb(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function yb(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$h(4,e)}catch(c){Ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ut(e,s,c)}}var i=e.return;try{c0(e)}catch(c){Ut(e,i,c)}break;case 5:var a=e.return;try{c0(e)}catch(c){Ut(e,a,c)}}}catch(c){Ut(e,e.return,c)}if(e===t){ve=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ve=l;break}ve=e.return}}var Tj=Math.ceil,uh=Us.ReactCurrentDispatcher,Px=Us.ReactCurrentOwner,_r=Us.ReactCurrentBatchConfig,st=0,ln=null,Xt=null,hn=0,Jn=0,vo=Mi(0),Zt=0,Cc=null,ba=0,qh=0,kx=0,Zl=null,In=null,Dx=0,Vo=1/0,ms=null,dh=!1,h0=null,gi=null,Cu=!1,oi=null,hh=0,ec=0,f0=null,jd=-1,Rd=0;function Tn(){return st&6?Vt():jd!==-1?jd:jd=Vt()}function xi(t){return t.mode&1?st&2&&hn!==0?hn&-hn:uj.transition!==null?(Rd===0&&(Rd=JS()),Rd):(t=ct,t!==0||(t=window.event,t=t===void 0?16:s2(t.type)),t):1}function Fr(t,e,n,r){if(50<ec)throw ec=0,f0=null,Error(ie(185));$c(t,n,r),(!(st&2)||t!==ln)&&(t===ln&&(!(st&2)&&(qh|=n),Zt===4&&ri(t,hn)),zn(t,r),n===1&&st===0&&!(e.mode&1)&&(Vo=Vt()+500,Hh&&Ai()))}function zn(t,e){var n=t.callbackNode;uA(t,e);var r=Kd(t,t===ln?hn:0);if(r===0)n!==null&&My(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&My(n),e===1)t.tag===0?cj(bb.bind(null,t)):S2(bb.bind(null,t)),ij(function(){!(st&6)&&Ai()}),n=null;else{switch(QS(r)){case 1:n=ax;break;case 4:n=KS;break;case 16:n=Xd;break;case 536870912:n=YS;break;default:n=Xd}n=_E(n,pE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pE(t,e){if(jd=-1,Rd=0,st&6)throw Error(ie(327));var n=t.callbackNode;if(Ao()&&t.callbackNode!==n)return null;var r=Kd(t,t===ln?hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fh(t,r);else{e=r;var s=st;st|=2;var i=gE();(ln!==t||hn!==e)&&(ms=null,Vo=Vt()+500,fa(t,e));do try{jj();break}catch(l){mE(t,l)}while(!0);yx(),uh.current=i,st=s,Xt!==null?e=0:(ln=null,hn=0,e=Zt)}if(e!==0){if(e===2&&(s=Bm(t),s!==0&&(r=s,e=p0(t,s))),e===1)throw n=Cc,fa(t,0),ri(t,r),zn(t,Vt()),n;if(e===6)ri(t,r);else{if(s=t.current.alternate,!(r&30)&&!Mj(s)&&(e=fh(t,r),e===2&&(i=Bm(t),i!==0&&(r=i,e=p0(t,i))),e===1))throw n=Cc,fa(t,0),ri(t,r),zn(t,Vt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:Yi(t,In,ms);break;case 3:if(ri(t,r),(r&130023424)===r&&(e=Dx+500-Vt(),10<e)){if(Kd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xm(Yi.bind(null,t,In,ms),e);break}Yi(t,In,ms);break;case 4:if(ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Ur(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tj(r/1960))-r,10<r){t.timeoutHandle=Xm(Yi.bind(null,t,In,ms),r);break}Yi(t,In,ms);break;case 5:Yi(t,In,ms);break;default:throw Error(ie(329))}}}return zn(t,Vt()),t.callbackNode===n?pE.bind(null,t):null}function p0(t,e){var n=Zl;return t.current.memoizedState.isDehydrated&&(fa(t,e).flags|=256),t=fh(t,e),t!==2&&(e=In,In=n,e!==null&&m0(e)),t}function m0(t){In===null?In=t:In.push.apply(In,t)}function Mj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Br(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ri(t,e){for(e&=~kx,e&=~qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function bb(t){if(st&6)throw Error(ie(327));Ao();var e=Kd(t,0);if(!(e&1))return zn(t,Vt()),null;var n=fh(t,e);if(t.tag!==0&&n===2){var r=Bm(t);r!==0&&(e=r,n=p0(t,r))}if(n===1)throw n=Cc,fa(t,0),ri(t,e),zn(t,Vt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yi(t,In,ms),zn(t,Vt()),null}function Lx(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(Vo=Vt()+500,Hh&&Ai())}}function _a(t){oi!==null&&oi.tag===0&&!(st&6)&&Ao();var e=st;st|=1;var n=_r.transition,r=ct;try{if(_r.transition=null,ct=1,t)return t()}finally{ct=r,_r.transition=n,st=e,!(st&6)&&Ai()}}function Ix(){Jn=vo.current,St(vo)}function fa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sj(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(gx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eh();break;case 3:Bo(),St(Fn),St(_n),Nx();break;case 5:Ex(r);break;case 4:Bo();break;case 13:St(Rt);break;case 19:St(Rt);break;case 10:bx(r.type._context);break;case 22:case 23:Ix()}n=n.return}if(ln=t,Xt=t=vi(t.current,null),hn=Jn=e,Zt=0,Cc=null,kx=qh=ba=0,In=Zl=null,oa!==null){for(e=0;e<oa.length;e++)if(n=oa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}oa=null}return t}function mE(t,e){do{var n=Xt;try{if(yx(),Td.current=ch,lh){for(var r=kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lh=!1}if(ya=0,an=Qt=kt=null,Jl=!1,Sc=0,Px.current=null,n===null||n.return===null){Zt=1,Cc=e,Xt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ob(a);if(p!==null){p.flags&=-257,lb(p,a,l,i,e),p.mode&1&&ab(i,u,e),e=p,c=u;var x=e.updateQueue;if(x===null){var g=new Set;g.add(c),e.updateQueue=g}else x.add(c);break e}else{if(!(e&1)){ab(i,u,e),Ox();break e}c=Error(ie(426))}}else if(Nt&&l.mode&1){var v=ob(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),lb(v,a,l,i,e),xx(zo(c,l));break e}}i=c=zo(c,l),Zt!==4&&(Zt=2),Zl===null?Zl=[i]:Zl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Q2(i,c,e);eb(i,m);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gi===null||!gi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Z2(i,l,e);eb(i,w);break e}}i=i.return}while(i!==null)}vE(n)}catch(S){e=S,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function gE(){var t=uh.current;return uh.current=ch,t===null?ch:t}function Ox(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),ln===null||!(ba&268435455)&&!(qh&268435455)||ri(ln,hn)}function fh(t,e){var n=st;st|=2;var r=gE();(ln!==t||hn!==e)&&(ms=null,fa(t,e));do try{Aj();break}catch(s){mE(t,s)}while(!0);if(yx(),st=n,uh.current=r,Xt!==null)throw Error(ie(261));return ln=null,hn=0,Zt}function Aj(){for(;Xt!==null;)xE(Xt)}function jj(){for(;Xt!==null&&!tA();)xE(Xt)}function xE(t){var e=bE(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?vE(t):Xt=e,Px.current=null}function vE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Sj(n,e),n!==null){n.flags&=32767,Xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Xt=null;return}}else if(n=wj(n,e,Jn),n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);Zt===0&&(Zt=5)}function Yi(t,e,n){var r=ct,s=_r.transition;try{_r.transition=null,ct=1,Rj(t,e,n,r)}finally{_r.transition=s,ct=r}return null}function Rj(t,e,n,r){do Ao();while(oi!==null);if(st&6)throw Error(ie(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dA(t,i),t===ln&&(Xt=ln=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,_E(Xd,function(){return Ao(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_r.transition,_r.transition=null;var a=ct;ct=1;var l=st;st|=4,Px.current=null,Nj(t,n),hE(n,t),JA($m),Yd=!!Wm,$m=Wm=null,t.current=n,Cj(n),nA(),st=l,ct=a,_r.transition=i}else t.current=n;if(Cu&&(Cu=!1,oi=t,hh=s),i=t.pendingLanes,i===0&&(gi=null),iA(n.stateNode),zn(t,Vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(dh)throw dh=!1,t=h0,h0=null,t;return hh&1&&t.tag!==0&&Ao(),i=t.pendingLanes,i&1?t===f0?ec++:(ec=0,f0=t):ec=0,Ai(),null}function Ao(){if(oi!==null){var t=QS(hh),e=_r.transition,n=ct;try{if(_r.transition=null,ct=16>t?16:t,oi===null)var r=!1;else{if(t=oi,oi=null,hh=0,st&6)throw Error(ie(331));var s=st;for(st|=4,ve=t.current;ve!==null;){var i=ve,a=i.child;if(ve.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Ql(8,d,i)}var h=d.child;if(h!==null)h.return=d,ve=h;else for(;ve!==null;){d=ve;var f=d.sibling,p=d.return;if(cE(d),d===u){ve=null;break}if(f!==null){f.return=p,ve=f;break}ve=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ve=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ve=a;else e:for(;ve!==null;){if(i=ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ql(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,ve=m;break e}ve=i.return}}var y=t.current;for(ve=y;ve!==null;){a=ve;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ve=b;else e:for(a=y;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$h(9,l)}}catch(S){Ut(l,l.return,S)}if(l===a){ve=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ve=w;break e}ve=l.return}}if(st=s,Ai(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Uh,t)}catch{}r=!0}return r}finally{ct=n,_r.transition=e}}return!1}function _b(t,e,n){e=zo(n,e),e=Q2(t,e,1),t=mi(t,e,1),e=Tn(),t!==null&&($c(t,1,e),zn(t,e))}function Ut(t,e,n){if(t.tag===3)_b(t,t,n);else for(;e!==null;){if(e.tag===3){_b(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){t=zo(n,t),t=Z2(e,t,1),e=mi(e,t,1),t=Tn(),e!==null&&($c(e,1,t),zn(e,t));break}}e=e.return}}function Pj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,ln===t&&(hn&n)===n&&(Zt===4||Zt===3&&(hn&130023424)===hn&&500>Vt()-Dx?fa(t,0):kx|=n),zn(t,e)}function yE(t,e){e===0&&(t.mode&1?(e=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):e=1);var n=Tn();t=Rs(t,e),t!==null&&($c(t,e,n),zn(t,n))}function kj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yE(t,n)}function Dj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),yE(t,n)}var bE;bE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,_j(t,e,n);Un=!!(t.flags&131072)}else Un=!1,Nt&&e.flags&1048576&&E2(e,rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ad(t,e),t=e.pendingProps;var s=Oo(e,_n.current);Mo(e,n),s=Tx(null,e,r,t,s,n);var i=Mx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(i=!0,th(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wx(e),s.updater=Wh,e.stateNode=s,s._reactInternals=e,t0(e,r,t,n),e=s0(null,e,r,!0,i,n)):(e.tag=0,Nt&&i&&mx(e),En(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ad(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ij(r),t=Rr(r,t),s){case 0:e=r0(null,e,r,t,n);break e;case 1:e=db(null,e,r,t,n);break e;case 11:e=cb(null,e,r,t,n);break e;case 14:e=ub(null,e,r,Rr(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),r0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),db(t,e,r,s,n);case 3:e:{if(rE(e),t===null)throw Error(ie(387));r=e.pendingProps,i=e.memoizedState,s=i.element,j2(t,e),ah(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zo(Error(ie(423)),e),e=hb(t,e,r,n,s);break e}else if(r!==s){s=zo(Error(ie(424)),e),e=hb(t,e,r,n,s);break e}else for(tr=pi(e.stateNode.containerInfo.firstChild),nr=e,Nt=!0,Lr=null,n=M2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),r===s){e=Ps(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return R2(e),t===null&&Qm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,qm(r,s)?a=null:i!==null&&qm(r,i)&&(e.flags|=32),nE(t,e),En(t,e,a,n),e.child;case 6:return t===null&&Qm(e),null;case 13:return sE(t,e,n);case 4:return Sx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),cb(t,e,r,s,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,vt(sh,r._currentValue),r._currentValue=a,i!==null)if(Br(i.value,a)){if(i.children===s.children&&!Fn.current){e=Ps(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ss(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Zm(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ie(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zm(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}En(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mo(e,n),s=wr(s),r=r(s),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,s=Rr(r,e.pendingProps),s=Rr(r.type,s),ub(t,e,r,s,n);case 15:return eE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),Ad(t,e),e.tag=1,Bn(r)?(t=!0,th(e)):t=!1,Mo(e,n),J2(e,r,s),t0(e,r,s,n),s0(null,e,r,!0,t,n);case 19:return iE(t,e,n);case 22:return tE(t,e,n)}throw Error(ie(156,e.tag))};function _E(t,e){return XS(t,e)}function Lj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(t,e,n,r){return new Lj(t,e,n,r)}function Ux(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ij(t){if(typeof t=="function")return Ux(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rx)return 11;if(t===sx)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=yr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pd(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Ux(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case oo:return pa(n.children,s,i,e);case nx:a=8,s|=8;break;case Nm:return t=yr(12,n,e,s|2),t.elementType=Nm,t.lanes=i,t;case Cm:return t=yr(13,n,e,s),t.elementType=Cm,t.lanes=i,t;case Tm:return t=yr(19,n,e,s),t.elementType=Tm,t.lanes=i,t;case RS:return Xh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AS:a=10;break e;case jS:a=9;break e;case rx:a=11;break e;case sx:a=14;break e;case ei:a=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=yr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pa(t,e,n,r){return t=yr(7,t,r,e),t.lanes=n,t}function Xh(t,e,n,r){return t=yr(22,t,r,e),t.elementType=RS,t.lanes=n,t.stateNode={isHidden:!1},t}function tp(t,e,n){return t=yr(6,t,null,e),t.lanes=n,t}function np(t,e,n){return e=yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Oj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fx(t,e,n,r,s,i,a,l,c){return t=new Oj(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wx(i),t}function Uj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wE(t){if(!t)return Si;t=t._reactInternals;e:{if(Ta(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(Bn(n))return w2(t,n,e)}return e}function SE(t,e,n,r,s,i,a,l,c){return t=Fx(n,r,!0,t,s,i,a,l,c),t.context=wE(null),n=t.current,r=Tn(),s=xi(n),i=Ss(r,s),i.callback=e??null,mi(n,i,s),t.current.lanes=s,$c(t,s,r),zn(t,r),t}function Kh(t,e,n,r){var s=e.current,i=Tn(),a=xi(s);return n=wE(n),e.context===null?e.context=n:e.pendingContext=n,e=Ss(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mi(s,e,a),t!==null&&(Fr(t,s,a,i),Cd(t,s,a)),a}function ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bx(t,e){wb(t,e),(t=t.alternate)&&wb(t,e)}function Fj(){return null}var EE=typeof reportError=="function"?reportError:function(t){console.error(t)};function zx(t){this._internalRoot=t}Yh.prototype.render=zx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Kh(t,e,null,null)};Yh.prototype.unmount=zx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_a(function(){Kh(null,t,null,null)}),e[js]=null}};function Yh(t){this._internalRoot=t}Yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=t2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&r2(t)}};function Vx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sb(){}function Bj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ph(a);i.call(u)}}var a=SE(e,r,t,0,null,!1,!1,"",Sb);return t._reactRootContainer=a,t[js]=a.current,vc(t.nodeType===8?t.parentNode:t),_a(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ph(c);l.call(u)}}var c=Fx(t,0,!1,null,null,!1,!1,"",Sb);return t._reactRootContainer=c,t[js]=c.current,vc(t.nodeType===8?t.parentNode:t),_a(function(){Kh(e,c,n,r)}),c}function Qh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ph(a);l.call(c)}}Kh(e,a,t,s)}else a=Bj(n,e,t,s,r);return ph(a)}ZS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fl(e.pendingLanes);n!==0&&(ox(e,n|1),zn(e,Vt()),!(st&6)&&(Vo=Vt()+500,Ai()))}break;case 13:_a(function(){var r=Rs(t,1);if(r!==null){var s=Tn();Fr(r,t,1,s)}}),Bx(t,1)}};lx=function(t){if(t.tag===13){var e=Rs(t,134217728);if(e!==null){var n=Tn();Fr(e,t,134217728,n)}Bx(t,134217728)}};e2=function(t){if(t.tag===13){var e=xi(t),n=Rs(t,e);if(n!==null){var r=Tn();Fr(n,t,e,r)}Bx(t,e)}};t2=function(){return ct};n2=function(t,e){var n=ct;try{return ct=t,e()}finally{ct=n}};Om=function(t,e,n){switch(e){case"input":if(jm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Vh(r);if(!s)throw Error(ie(90));kS(r),jm(r,s)}}}break;case"textarea":LS(t,n);break;case"select":e=n.value,e!=null&&Eo(t,!!n.multiple,e,!1)}};VS=Lx;HS=_a;var zj={usingClientEntryPoint:!1,Events:[Xc,ho,Vh,BS,zS,Lx]},Nl={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vj={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$S(t),t===null?null:t.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||Fj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Uh=Tu.inject(Vj),Jr=Tu}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zj;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(e))throw Error(ie(200));return Uj(t,e,null,n)};ar.createRoot=function(t,e){if(!Vx(t))throw Error(ie(299));var n=!1,r="",s=EE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fx(t,1,!1,null,null,n,!1,r,s),t[js]=e.current,vc(t.nodeType===8?t.parentNode:t),new zx(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=$S(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return _a(t)};ar.hydrate=function(t,e,n){if(!Jh(e))throw Error(ie(200));return Qh(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!Vx(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=EE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=SE(e,null,t,1,n??null,s,!1,i,a),t[js]=e.current,vc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yh(e)};ar.render=function(t,e,n){if(!Jh(e))throw Error(ie(200));return Qh(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(ie(40));return t._reactRootContainer?(_a(function(){Qh(null,null,t,!1,function(){t._reactRootContainer=null,t[js]=null})}),!0):!1};ar.unstable_batchedUpdates=Lx;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jh(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Qh(t,e,n,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function NE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NE)}catch(t){console.error(t)}}NE(),NS.exports=ar;var Hx=NS.exports;const Hj=fS(Hx);var Eb=Hx;Sm.createRoot=Eb.createRoot,Sm.hydrateRoot=Eb.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}var li;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(li||(li={}));const Nb="popstate";function Gj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return g0("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mh(s)}return $j(e,n,null,t)}function Kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wj(){return Math.random().toString(36).substr(2,8)}function Cb(t,e){return{usr:t.state,key:t.key,idx:e}}function g0(t,e,n,r){return n===void 0&&(n=null),Tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sl(e):e,{state:n,key:e&&e.key||r||Wj()})}function mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $j(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=li.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Tc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=li.Pop;let v=d(),m=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:m})}function f(v,m){l=li.Push;let y=g0(g.location,v,m);u=d()+1;let b=Cb(y,u),w=g.createHref(y);try{a.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,m){l=li.Replace;let y=g0(g.location,v,m);u=d();let b=Cb(y,u),w=g.createHref(y);a.replaceState(b,"",w),i&&c&&c({action:l,location:g.location,delta:0})}function x(v){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:mh(v);return y=y.replace(/ $/,"%20"),Kt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return l},get location(){return t(s,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Nb,h),c=v,()=>{s.removeEventListener(Nb,h),c=null}},createHref(v){return e(s,v)},createURL:x,encodeLocation(v){let m=x(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(v){return a.go(v)}};return g}var Tb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tb||(Tb={}));function qj(t,e,n){return n===void 0&&(n="/"),Xj(t,e,n)}function Xj(t,e,n,r){let s=typeof e=="string"?sl(e):e,i=Wx(s.pathname||"/",n);if(i==null)return null;let a=CE(t);Kj(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=oR(i);l=sR(a[c],u)}return l}function CE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Kt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=yi([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CE(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:nR(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of TE(i.path))s(i,a,c)}),e}function TE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=TE(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Kj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Yj=/^:[\w-]+$/,Jj=3,Qj=2,Zj=1,eR=10,tR=-2,Mb=t=>t==="*";function nR(t,e){let n=t.split("/"),r=n.length;return n.some(Mb)&&(r+=tR),e&&(r+=Qj),n.filter(s=>!Mb(s)).reduce((s,i)=>s+(Yj.test(i)?Jj:i===""?Zj:eR),r)}function rR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sR(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=iR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:yi([i,h.pathname]),pathnameBase:hR(yi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=yi([i,h.pathnameBase]))}return a}function iR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function aR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function oR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const lR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cR=t=>lR.test(t);function uR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?sl(t):t,i;if(n)if(cR(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Gx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Ab(n.substring(1),"/"):i=Ab(n,e)}else i=e;return{pathname:i,search:fR(r),hash:pR(s)}}function Ab(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ME(t,e){let n=dR(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=sl(t):(s=Tc({},t),Kt(!s.pathname||!s.pathname.includes("?"),rp("?","pathname","search",s)),Kt(!s.pathname||!s.pathname.includes("#"),rp("#","pathname","hash",s)),Kt(!s.search||!s.search.includes("#"),rp("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=uR(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),hR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jE=["post","put","patch","delete"];new Set(jE);const gR=["get",...jE];new Set(gR);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}const $x=_.createContext(null),xR=_.createContext(null),Ma=_.createContext(null),Zh=_.createContext(null),ji=_.createContext({outlet:null,matches:[],isDataRoute:!1}),RE=_.createContext(null);function vR(t,e){let{relative:n}=e===void 0?{}:e;Yc()||Kt(!1);let{basename:r,navigator:s}=_.useContext(Ma),{hash:i,pathname:a,search:l}=kE(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:yi([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Yc(){return _.useContext(Zh)!=null}function Fs(){return Yc()||Kt(!1),_.useContext(Zh).location}function PE(t){_.useContext(Ma).static||_.useLayoutEffect(t)}function lr(){let{isDataRoute:t}=_.useContext(ji);return t?RR():yR()}function yR(){Yc()||Kt(!1);let t=_.useContext($x),{basename:e,future:n,navigator:r}=_.useContext(Ma),{matches:s}=_.useContext(ji),{pathname:i}=Fs(),a=JSON.stringify(ME(s,n.v7_relativeSplatPath)),l=_.useRef(!1);return PE(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=AE(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:yi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}function il(){let{matches:t}=_.useContext(ji),e=t[t.length-1];return e?e.params:{}}function kE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Ma),{matches:s}=_.useContext(ji),{pathname:i}=Fs(),a=JSON.stringify(ME(s,r.v7_relativeSplatPath));return _.useMemo(()=>AE(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function bR(t,e){return _R(t,e)}function _R(t,e,n,r){Yc()||Kt(!1);let{navigator:s}=_.useContext(Ma),{matches:i}=_.useContext(ji),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Fs(),d;if(e){var h;let v=typeof e=="string"?sl(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Kt(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=qj(t,{pathname:p}),g=CR(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:yi([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:yi([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&g?_.createElement(Zh.Provider,{value:{location:Mc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:li.Pop}},g):g}function wR(){let t=jR(),e=mR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}const SR=_.createElement(wR,null);class ER extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(ji.Provider,{value:this.props.routeContext},_.createElement(RE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NR(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext($x);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(ji.Provider,{value:e},r)}function CR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Kt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,x=!1,g=null,v=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||SR,c&&(u<0&&f===0?(PR("route-fallback"),x=!0,v=null):u===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),y=()=>{let b;return p?b=g:x?b=v:h.route.Component?b=_.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,_.createElement(NR,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(ER,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var DE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DE||{}),LE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(LE||{});function TR(t){let e=_.useContext($x);return e||Kt(!1),e}function MR(t){let e=_.useContext(xR);return e||Kt(!1),e}function AR(t){let e=_.useContext(ji);return e||Kt(!1),e}function IE(t){let e=AR(),n=e.matches[e.matches.length-1];return n.route.id||Kt(!1),n.route.id}function jR(){var t;let e=_.useContext(RE),n=MR(),r=IE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RR(){let{router:t}=TR(DE.UseNavigateStable),e=IE(LE.UseNavigateStable),n=_.useRef(!1);return PE(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Mc({fromRouteId:e},i)))},[t,e])}const jb={};function PR(t,e,n){jb[t]||(jb[t]=!0)}function kR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function At(t){Kt(!1)}function DR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=li.Pop,navigator:i,static:a=!1,future:l}=t;Yc()&&Kt(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:a,future:Mc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=sl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,g=_.useMemo(()=>{let v=Wx(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:x},navigationType:s}},[c,d,h,f,p,x,s]);return g==null?null:_.createElement(Ma.Provider,{value:u},_.createElement(Zh.Provider,{children:n,value:g}))}function Rb(t){let{children:e,location:n}=t;return bR(x0(e),n)}new Promise(()=>{});function x0(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,x0(r.props.children,i));return}r.type!==At&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=x0(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function LR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function IR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OR(t,e){return t.button===0&&(!e||e==="_self")&&!IR(t)}function y0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function UR(t,e){let n=y0(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const FR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BR="6";try{window.__reactRouterVersion=BR}catch{}const zR="startTransition",Pb=Oh[zR];function VR(t){let{basename:e,children:n,future:r,window:s}=t,i=_.useRef();i.current==null&&(i.current=Gj({window:s,v5Compat:!0}));let a=i.current,[l,c]=_.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=_.useCallback(h=>{u&&Pb?Pb(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>kR(r),[r]),_.createElement(DR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const HR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=LR(e,FR),{basename:p}=_.useContext(Ma),x,g=!1;if(typeof u=="string"&&GR.test(u)&&(x=u,HR))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=Wx(w.pathname,p);w.origin===b.origin&&S!=null?u=S+w.search+w.hash:g=!0}catch{}let v=vR(u,{relative:s}),m=WR(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(b){r&&r(b),b.defaultPrevented||m(b)}return _.createElement("a",v0({},f,{href:x||v,onClick:g||i?r:y,ref:n,target:c}))});var kb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kb||(kb={}));var Db;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Db||(Db={}));function WR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=lr(),u=Fs(),d=kE(t,{relative:a});return _.useCallback(h=>{if(OR(h,n)){h.preventDefault();let f=r!==void 0?r:mh(u)===mh(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}function $R(t){let e=_.useRef(y0(t)),n=_.useRef(!1),r=Fs(),s=_.useMemo(()=>UR(r.search,n.current?null:e.current),[r.search]),i=lr(),a=_.useCallback((l,c)=>{const u=y0(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}const qx=_.createContext({});function al(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const ef=_.createContext(null),tf=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qR extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function XR({children:t,isPresent:e}){const n=_.useId(),r=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=_.useContext(tf);return _.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(qR,{isPresent:e,childRef:r,sizeRef:s,children:_.cloneElement(t,{ref:r})})}const KR=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=al(YR),c=_.useId(),u=_.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=_.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return _.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),_.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=o.jsx(XR,{isPresent:n,children:t})),o.jsx(ef.Provider,{value:d,children:t})};function YR(){return new Map}function OE(t=!0){const e=_.useContext(ef);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=_.useId();_.useEffect(()=>{t&&s(i)},[t]);const a=_.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Mu=t=>t.key||"";function Lb(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const Xx=typeof window<"u",nf=Xx?_.useLayoutEffect:_.useEffect,Aa=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=OE(a),u=_.useMemo(()=>Lb(t),[t]),d=a&&!l?[]:u.map(Mu),h=_.useRef(!0),f=_.useRef(u),p=al(()=>new Map),[x,g]=_.useState(u),[v,m]=_.useState(u);nf(()=>{h.current=!1,f.current=u;for(let w=0;w<v.length;w++){const S=Mu(v[w]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[v,d.length,d.join("-")]);const y=[];if(u!==x){let w=[...u];for(let S=0;S<v.length;S++){const E=v[S],T=Mu(E);d.includes(T)||(w.splice(S,0,E),y.push(E))}i==="wait"&&y.length&&(w=y),m(Lb(w)),g(u);return}const{forceRender:b}=_.useContext(qx);return o.jsx(o.Fragment,{children:v.map(w=>{const S=Mu(w),E=a&&!l?!1:u===v||d.includes(S),T=()=>{if(p.has(S))p.set(S,!0);else return;let M=!0;p.forEach(C=>{C||(M=!1)}),M&&(b==null||b(),m(f.current),a&&(c==null||c()),r&&r())};return o.jsx(KR,{isPresent:E,initial:!h.current||n?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:E?void 0:T,children:w},S)})})},Mn=t=>t;let JR=Mn,UE=Mn;function Kx(t){let e;return()=>(e===void 0&&(e=t()),e)}const wa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Es=t=>t*1e3,Ns=t=>t/1e3,QR={useManualTiming:!1};function ZR(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Au=["read","resolveKeyframes","update","preRender","render","postRender"],eP=40;function FE(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Au.reduce((m,y)=>(m[y]=ZR(i),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=a,p=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,eP),1),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},x=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Au.reduce((m,y)=>{const b=a[y];return m[y]=(w,S=!1,E=!1)=>(n||x(),b.schedule(w,S,E)),m},{}),cancel:m=>{for(let y=0;y<Au.length;y++)a[Au[y]].cancel(m)},state:s,steps:a}}const{schedule:ot,cancel:zr,state:sn,steps:sp}=FE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),BE=_.createContext({strict:!1}),Ib={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ho={};for(const t in Ib)Ho[t]={isEnabled:e=>Ib[t].some(n=>!!e[n])};function tP(t){for(const e in t)Ho[e]={...Ho[e],...t[e]}}const nP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nP.has(t)}let zE=t=>!gh(t);function rP(t){t&&(zE=e=>e.startsWith("on")?!gh(e):t(e))}try{rP(require("@emotion/is-prop-valid").default)}catch{}function sP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(zE(s)||n===!0&&gh(s)||!e&&!gh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function iP(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const rf=_.createContext({});function Ac(t){return typeof t=="string"||Array.isArray(t)}function sf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jx=["initial",...Yx];function af(t){return sf(t.animate)||Jx.some(e=>Ac(t[e]))}function VE(t){return!!(af(t)||t.variants)}function aP(t,e){if(af(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ac(n)?n:void 0,animate:Ac(r)?r:void 0}}return t.inherit!==!1?e:{}}function oP(t){const{initial:e,animate:n}=aP(t,_.useContext(rf));return _.useMemo(()=>({initial:e,animate:n}),[Ob(e),Ob(n)])}function Ob(t){return Array.isArray(t)?t.join(" "):t}const lP=Symbol.for("motionComponentSymbol");function yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cP(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yo(n)&&(n.current=r))},[e])}const Qx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uP="framerAppearId",HE="data-"+Qx(uP),{schedule:Zx}=FE(queueMicrotask,!1),GE=_.createContext({});function dP(t,e,n,r,s){var i,a;const{visualElement:l}=_.useContext(rf),c=_.useContext(BE),u=_.useContext(ef),d=_.useContext(tf).reducedMotion,h=_.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=_.useContext(GE);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&hP(h.current,n,s,p);const x=_.useRef(!1);_.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const g=n[HE],v=_.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,g)));return nf(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Zx.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,g)}),v.current=!1))}),f}function hP(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WE(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&yo(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function WE(t){if(t)return t.options.allowProjection!==!1?t.projection:WE(t.parent)}function fP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,a;t&&tP(t);function l(u,d){let h;const f={..._.useContext(tf),...u,layoutId:pP(u)},{isStatic:p}=f,x=oP(u),g=r(u,p);if(!p&&Xx){mP();const v=gP(f);h=v.MeasureLayout,x.visualElement=dP(s,g,f,e,v.ProjectionNode)}return o.jsxs(rf.Provider,{value:x,children:[h&&x.visualElement?o.jsx(h,{visualElement:x.visualElement,...f}):null,n(s,u,cP(g,x.visualElement,d),g,p,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=_.forwardRef(l);return c[lP]=s,c}function pP({layoutId:t}){const e=_.useContext(qx).id;return e&&t!==void 0?e+"-"+t:t}function mP(t,e){_.useContext(BE).strict}function gP(t){const{drag:e,layout:n}=Ho;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ev(t){return typeof t!="string"||t.includes("-")?!1:!!(xP.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ub(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function tv(t,e,n,r){if(typeof e=="function"){const[s,i]=Ub(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Ub(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const b0=t=>Array.isArray(t),vP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yP=t=>b0(t)?t[t.length-1]||0:t,on=t=>!!(t&&t.getVelocity);function kd(t){const e=on(t)?t.get():t;return vP(e)?e.toValue():e}function bP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const a={latestValues:_P(r,s,i,t),renderState:e()};return n&&(a.onMount=l=>n({props:r,current:l,...a}),a.onUpdate=l=>n(l)),a}const $E=t=>(e,n)=>{const r=_.useContext(rf),s=_.useContext(ef),i=()=>bP(t,e,r,s);return n?i():al(i)};function _P(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=kd(i[f]);let{initial:a,animate:l}=t;const c=af(t),u=VE(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!sf(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=tv(t,f[p]);if(x){const{transitionEnd:g,transition:v,...m}=x;for(const y in m){let b=m[y];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(s[y]=b)}for(const y in g)s[y]=g[y]}}}return s}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ja=new Set(ol),qE=t=>e=>typeof e=="string"&&e.startsWith(t),XE=qE("--"),wP=qE("var(--"),nv=t=>wP(t)?SP.test(t.split("/*")[0].trim()):!1,SP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ns=(t,e,n)=>n>e?e:n<t?t:n,ll={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},jc={...ll,transform:t=>ns(0,1,t)},ju={...ll,default:1},Jc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Js=Jc("deg"),Zr=Jc("%"),Ie=Jc("px"),EP=Jc("vh"),NP=Jc("vw"),Fb={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},CP={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},TP={rotate:Js,rotateX:Js,rotateY:Js,rotateZ:Js,scale:ju,scaleX:ju,scaleY:ju,scaleZ:ju,skew:Js,skewX:Js,skewY:Js,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:jc,originX:Fb,originY:Fb,originZ:Ie},Bb={...ll,transform:Math.round},rv={...CP,...TP,zIndex:Bb,size:Ie,fillOpacity:jc,strokeOpacity:jc,numOctaves:Bb},MP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AP=ol.length;function jP(t,e,n){let r="",s=!0;for(let i=0;i<AP;i++){const a=ol[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=KE(l,rv[a]);if(!c){s=!1;const d=MP[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function sv(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(ja.has(c)){a=!0;continue}else if(XE(c)){s[c]=u;continue}else{const d=KE(u,rv[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=jP(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const RP={offset:"stroke-dashoffset",array:"stroke-dasharray"},PP={offset:"strokeDashoffset",array:"strokeDasharray"};function kP(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?RP:PP;t[i.offset]=Ie.transform(-r);const a=Ie.transform(e),l=Ie.transform(n);t[i.array]=`${a} ${l}`}function zb(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function DP(t,e,n){const r=zb(e,t.x,t.width),s=zb(n,t.y,t.height);return`${r} ${s}`}function iv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(sv(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:x}=t;f.transform&&(x&&(p.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=DP(x,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&kP(f,a,l,c,!1)}const av=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),YE=()=>({...av(),attrs:{}}),ov=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JE(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const QE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZE(t,e,n,r){JE(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(QE.has(s)?s:Qx(s),e.attrs[s])}const xh={};function LP(t){Object.assign(xh,t)}function e3(t,{layout:e,layoutId:n}){return ja.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xh[t]||t==="opacity")}function lv(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(on(s[a])||e.style&&on(e.style[a])||e3(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function t3(t,e,n){const r=lv(t,e,n);for(const s in t)if(on(t[s])||on(e[s])){const i=ol.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function IP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Vb=["x","y","width","height","cx","cy","r"],OP={useVisualState:$E({scrapeMotionValuesFromProps:t3,createRenderState:YE,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(ja.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<Vb.length;l++){const c=Vb[l];t[c]!==e[c]&&(a=!0)}a&&ot.read(()=>{IP(n,r),ot.render(()=>{iv(r,s,ov(n.tagName),t.transformTemplate),ZE(n,r)})})}})},UP={useVisualState:$E({scrapeMotionValuesFromProps:lv,createRenderState:av})};function n3(t,e,n){for(const r in e)!on(e[r])&&!e3(r,n)&&(t[r]=e[r])}function FP({transformTemplate:t},e){return _.useMemo(()=>{const n=av();return sv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function BP(t,e){const n=t.style||{},r={};return n3(r,n,t),Object.assign(r,FP(t,e)),r}function zP(t,e){const n={},r=BP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function VP(t,e,n,r){const s=_.useMemo(()=>{const i=YE();return iv(i,e,ov(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};n3(i,t.style,t),s.style={...i,...s.style}}return s}function HP(t=!1){return(n,r,s,{latestValues:i},a)=>{const c=(ev(n)?VP:zP)(r,i,a,n),u=sP(r,typeof n=="string",t),d=n!==_.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=_.useMemo(()=>on(h)?h.get():h,[h]);return _.createElement(n,{...d,children:f})}}function GP(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...ev(r)?OP:UP,preloadedFeatures:t,useRender:HP(s),createVisualElement:e,Component:r};return fP(a)}}function r3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function of(t,e,n){const r=t.getProps();return tv(r,e,n!==void 0?n:r.custom,t)}const s3=Kx(()=>window.ScrollTimeline!==void 0);class WP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(s3()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $P extends WP{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function cv(t,e){return t?t[e]||t.default||t:void 0}const _0=2e4;function i3(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<_0;)e+=n,r=t.next(e);return e>=_0?1/0:e}function uv(t){return typeof t=="function"}function Hb(t,e){t.timeline=e,t.onfinish=null}const dv=t=>Array.isArray(t)&&typeof t[0]=="number",qP={linearEasing:void 0};function XP(t,e){const n=Kx(t);return()=>{var r;return(r=qP[e])!==null&&r!==void 0?r:n()}}const vh=XP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),a3=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(wa(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function o3(t){return!!(typeof t=="function"&&vh()||!t||typeof t=="string"&&(t in w0||vh())||dv(t)||Array.isArray(t)&&t.every(o3))}const zl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,w0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zl([0,.65,.55,1]),circOut:zl([.55,0,1,.45]),backIn:zl([.31,.01,.66,-.59]),backOut:zl([.33,1.53,.69,.99])};function l3(t,e){if(t)return typeof t=="function"&&vh()?a3(t,e):dv(t)?zl(t):Array.isArray(t)?t.map(n=>l3(n,e)||w0.easeOut):w0[t]}const jr={x:!1,y:!1};function c3(){return jr.x||jr.y}function u3(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function d3(t,e){const n=u3(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Gb(t){return e=>{e.pointerType==="touch"||c3()||t(e)}}function KP(t,e,n={}){const[r,s,i]=d3(t,n),a=Gb(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=Gb(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const h3=(t,e)=>e?t===e?!0:h3(t,e.parentElement):!1,hv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,YP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JP(t){return YP.has(t.tagName)||t.tabIndex!==-1}const Vl=new WeakSet;function Wb(t){return e=>{e.key==="Enter"&&t(e)}}function ip(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QP=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Wb(()=>{if(Vl.has(n))return;ip(n,"down");const s=Wb(()=>{ip(n,"up")}),i=()=>ip(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $b(t){return hv(t)&&!c3()}function ZP(t,e,n={}){const[r,s,i]=d3(t,n),a=l=>{const c=l.currentTarget;if(!$b(l)||Vl.has(c))return;Vl.add(c);const u=e(l),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!$b(p)||!Vl.has(c))&&(Vl.delete(c),typeof u=="function"&&u(p,{success:x}))},h=p=>{d(p,n.useGlobalTarget||h3(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!JP(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l.addEventListener("focus",u=>QP(u,s),s)}),i}function e4(t){return t==="x"||t==="y"?jr[t]?null:(jr[t]=!0,()=>{jr[t]=!1}):jr.x||jr.y?null:(jr.x=jr.y=!0,()=>{jr.x=jr.y=!1})}const f3=new Set(["width","height","top","left","right","bottom",...ol]);let Dd;function t4(){Dd=void 0}const es={now:()=>(Dd===void 0&&es.set(sn.isProcessing||QR.useManualTiming?sn.timestamp:performance.now()),Dd),set:t=>{Dd=t,queueMicrotask(t4)}};function fv(t,e){t.indexOf(e)===-1&&t.push(e)}function pv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class mv{constructor(){this.subscriptions=[]}add(e){return fv(this.subscriptions,e),()=>pv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gv(t,e){return e?t*(1e3/e):0}const qb=30,n4=t=>!isNaN(parseFloat(t)),tc={current:void 0};class r4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=es.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=n4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new mv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return tc.current&&tc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qb);return gv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kr(t,e){return new r4(t,e)}function s4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kr(n))}function i4(t,e){const n=of(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=yP(i[a]);s4(t,a,l)}}function a4(t){return!!(on(t)&&t.add)}function S0(t,e){const n=t.getValue("willChange");if(a4(n))return n.add(e)}function p3(t){return t.props[HE]}const m3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,o4=1e-7,l4=12;function c4(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=m3(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>o4&&++l<l4);return a}function Qc(t,e,n,r){if(t===e&&n===r)return Mn;const s=i=>c4(i,0,1,t,n);return i=>i===0||i===1?i:m3(s(i),e,r)}const g3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,x3=t=>e=>1-t(1-e),v3=Qc(.33,1.53,.69,.99),xv=x3(v3),y3=g3(xv),b3=t=>(t*=2)<1?.5*xv(t):.5*(2-Math.pow(2,-10*(t-1))),vv=t=>1-Math.sin(Math.acos(t)),_3=x3(vv),w3=g3(vv),S3=t=>/^0[^.\s]+$/u.test(t);function u4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||S3(t):!0}const nc=t=>Math.round(t*1e5)/1e5,yv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function d4(t){return t==null}const h4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bv=(t,e)=>n=>!!(typeof n=="string"&&h4.test(n)&&n.startsWith(t)||e&&!d4(n)&&Object.prototype.hasOwnProperty.call(n,e)),E3=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(yv);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},f4=t=>ns(0,255,t),ap={...ll,transform:t=>Math.round(f4(t))},ca={test:bv("rgb","red"),parse:E3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ap.transform(t)+", "+ap.transform(e)+", "+ap.transform(n)+", "+nc(jc.transform(r))+")"};function p4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const E0={test:bv("#"),parse:p4,transform:ca.transform},bo={test:bv("hsl","hue"),parse:E3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zr.transform(nc(e))+", "+Zr.transform(nc(n))+", "+nc(jc.transform(r))+")"},vn={test:t=>ca.test(t)||E0.test(t)||bo.test(t),parse:t=>ca.test(t)?ca.parse(t):bo.test(t)?bo.parse(t):E0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ca.transform(t):bo.transform(t)},m4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(m4))===null||n===void 0?void 0:n.length)||0)>0}const N3="number",C3="color",x4="var",v4="var(",Xb="${}",y4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(y4,c=>(vn.test(c)?(r.color.push(i),s.push(C3),n.push(vn.parse(c))):c.startsWith(v4)?(r.var.push(i),s.push(x4),n.push(c)):(r.number.push(i),s.push(N3),n.push(parseFloat(c))),++i,Xb)).split(Xb);return{values:n,split:l,indexes:r,types:s}}function T3(t){return Rc(t).values}function M3(t){const{split:e,types:n}=Rc(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===N3?i+=nc(s[a]):l===C3?i+=vn.transform(s[a]):i+=s[a]}return i}}const b4=t=>typeof t=="number"?0:t;function _4(t){const e=T3(t);return M3(t)(e.map(b4))}const Ei={test:g4,parse:T3,createTransformer:M3,getAnimatableNone:_4},w4=new Set(["brightness","contrast","saturate","opacity"]);function S4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yv)||[];if(!r)return t;const s=n.replace(r,"");let i=w4.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const E4=/\b([a-z-]*)\(.*?\)/gu,N0={...Ei,getAnimatableNone:t=>{const e=t.match(E4);return e?e.map(S4).join(" "):t}},N4={...rv,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:N0,WebkitFilter:N0},_v=t=>N4[t];function A3(t,e){let n=_v(t);return n!==N0&&(n=Ei),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const C4=new Set(["auto","none","0"]);function T4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!C4.has(i)&&Rc(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=A3(n,s)}const Kb=t=>t===ll||t===Ie,Yb=(t,e)=>parseFloat(t.split(", ")[e]),Jb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Yb(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Yb(i[1],t):0}},M4=new Set(["x","y","z"]),A4=ol.filter(t=>!M4.has(t));function j4(t){const e=[];return A4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Go={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Jb(4,13),y:Jb(5,14)};Go.translateX=Go.x;Go.translateY=Go.y;const ma=new Set;let C0=!1,T0=!1;function j3(){if(T0){const t=Array.from(ma).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=j4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}T0=!1,C0=!1,ma.forEach(t=>t.complete()),ma.clear()}function R3(){ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(T0=!0)})}function R4(){R3(),j3()}class wv{constructor(e,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ma.add(this),C0||(C0=!0,ot.read(R3),ot.resolveKeyframes(j3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const P3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),P4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function k4(t){const e=P4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function k3(t,e,n=1){const[r,s]=k4(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return P3(a)?parseFloat(a):a}return nv(s)?k3(s,e,n+1):s}const D3=t=>e=>e.test(t),D4={test:t=>t==="auto",parse:t=>t},L3=[ll,Ie,Zr,Js,NP,EP,D4],Qb=t=>L3.find(D3(t));class I3 extends wv{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),nv(u))){const d=k3(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!f3.has(r)||e.length!==2)return;const[s,i]=e,a=Qb(s),l=Qb(i);if(a!==l)if(Kb(a)&&Kb(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)u4(e[s])&&r.push(s);r.length&&T4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Go[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Go[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Zb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ei.test(t)||t==="0")&&!t.startsWith("url("));function L4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function I4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Zb(s,e),l=Zb(i,e);return!a||!l?!1:L4(t)||(n==="spring"||uv(n))&&r}const O4=t=>t!==null;function lf(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(O4),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const U4=40;class O3{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=es.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>U4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&R4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=es.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!I4(e,r,s,i))if(a)this.options.duration=0;else{c&&c(lf(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pt=(t,e,n)=>t+(e-t)*n;function op(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function F4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=op(c,l,t+1/3),i=op(c,l,t),a=op(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function yh(t,e){return n=>n>0?e:t}const lp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},B4=[E0,ca,bo],z4=t=>B4.find(e=>e.test(t));function e_(t){const e=z4(t);if(!e)return!1;let n=e.parse(t);return e===bo&&(n=F4(n)),n}const t_=(t,e)=>{const n=e_(t),r=e_(e);if(!n||!r)return yh(t,e);const s={...n};return i=>(s.red=lp(n.red,r.red,i),s.green=lp(n.green,r.green,i),s.blue=lp(n.blue,r.blue,i),s.alpha=Pt(n.alpha,r.alpha,i),ca.transform(s))},V4=(t,e)=>n=>e(t(n)),Zc=(...t)=>t.reduce(V4),M0=new Set(["none","hidden"]);function H4(t,e){return M0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function G4(t,e){return n=>Pt(t,e,n)}function Sv(t){return typeof t=="number"?G4:typeof t=="string"?nv(t)?yh:vn.test(t)?t_:q4:Array.isArray(t)?U3:typeof t=="object"?vn.test(t)?t_:W4:yh}function U3(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>Sv(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function W4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Sv(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function $4(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][s[a]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[a]++}return r}const q4=(t,e)=>{const n=Ei.createTransformer(e),r=Rc(t),s=Rc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?M0.has(t)&&!s.values.length||M0.has(e)&&!r.values.length?H4(t,e):Zc(U3($4(r,s),s.values),n):yh(t,e)};function F3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):Sv(t)(t,e)}const X4=5;function B3(t,e,n){const r=Math.max(e-X4,0);return gv(n-t(r),e-r)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cp=.001;function K4({duration:t=Ot.duration,bounce:e=Ot.bounce,velocity:n=Ot.velocity,mass:r=Ot.mass}){let s,i,a=1-e;a=ns(Ot.minDamping,Ot.maxDamping,a),t=ns(Ot.minDuration,Ot.maxDuration,Ns(t)),a<1?(s=u=>{const d=u*a,h=d*t,f=d-n,p=A0(u,a),x=Math.exp(-h);return cp-f/p*x},i=u=>{const h=u*a*t,f=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),g=A0(Math.pow(u,2),a);return(-s(u)+cp>0?-1:1)*((f-p)*x)/g}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-cp+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=J4(s,i,l);if(t=Es(t),isNaN(c))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Y4=12;function J4(t,e,n){let r=n;for(let s=1;s<Y4;s++)r=r-t(r)/e(r);return r}function A0(t,e){return t*Math.sqrt(1-e*e)}const Q4=["duration","bounce"],Z4=["stiffness","damping","mass"];function n_(t,e){return e.some(n=>t[n]!==void 0)}function e5(t){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...t};if(!n_(t,Z4)&&n_(t,Q4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ns(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ot.mass,stiffness:s,damping:i}}else{const n=K4(t);e={...e,...n,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function z3(t=Ot.visualDuration,e=Ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=e5({...n,velocity:-Ns(n.velocity||0)}),x=f||0,g=u/(2*Math.sqrt(c*d)),v=a-i,m=Ns(Math.sqrt(c/d)),y=Math.abs(v)<5;r||(r=y?Ot.restSpeed.granular:Ot.restSpeed.default),s||(s=y?Ot.restDelta.granular:Ot.restDelta.default);let b;if(g<1){const S=A0(m,g);b=E=>{const T=Math.exp(-g*m*E);return a-T*((x+g*m*v)/S*Math.sin(S*E)+v*Math.cos(S*E))}}else if(g===1)b=S=>a-Math.exp(-m*S)*(v+(x+m*v)*S);else{const S=m*Math.sqrt(g*g-1);b=E=>{const T=Math.exp(-g*m*E),M=Math.min(S*E,300);return a-T*((x+g*m*v)*Math.sinh(M)+S*v*Math.cosh(M))/S}}const w={calculatedDuration:p&&h||null,next:S=>{const E=b(S);if(p)l.done=S>=h;else{let T=0;g<1&&(T=S===0?Es(x):B3(b,S,E));const M=Math.abs(T)<=r,C=Math.abs(a-E)<=s;l.done=M&&C}return l.value=l.done?a:E,l},toString:()=>{const S=Math.min(i3(w),_0),E=a3(T=>w.next(S*T).value,S,30);return S+"ms "+E}};return w}function r_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},p=M=>l!==void 0&&M<l||c!==void 0&&M>c,x=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let g=n*e;const v=h+g,m=a===void 0?v:a(v);m!==v&&(g=m-h);const y=M=>-g*Math.exp(-M/r),b=M=>m+y(M),w=M=>{const C=y(M),N=b(M);f.done=Math.abs(C)<=u,f.value=f.done?m:N};let S,E;const T=M=>{p(f.value)&&(S=M,E=z3({keyframes:[f.value,x(f.value)],velocity:B3(b,M,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:M=>{let C=!1;return!E&&S===void 0&&(C=!0,w(M),T(M)),S!==void 0&&M>=S?E.next(M-S):(!C&&w(M),f)}}}const t5=Qc(.42,0,1,1),n5=Qc(0,0,.58,1),V3=Qc(.42,0,.58,1),r5=t=>Array.isArray(t)&&typeof t[0]!="number",s5={linear:Mn,easeIn:t5,easeInOut:V3,easeOut:n5,circIn:vv,circInOut:w3,circOut:_3,backIn:xv,backInOut:y3,backOut:v3,anticipate:b3},s_=t=>{if(dv(t)){UE(t.length===4);const[e,n,r,s]=t;return Qc(e,n,r,s)}else if(typeof t=="string")return s5[t];return t};function i5(t,e,n){const r=[],s=n||F3,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Mn:e;l=Zc(c,l)}r.push(l)}return r}function Ev(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(UE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=i5(e,r,s),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=wa(t[h],t[h+1],d);return l[h](f)};return n?d=>u(ns(t[0],t[i-1],d)):u}function a5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=wa(0,e,r);t.push(Pt(n,1,s))}}function H3(t){const e=[0];return a5(e,t.length-1),e}function o5(t,e){return t.map(n=>n*e)}function l5(t,e){return t.map(()=>e||V3).splice(0,t.length-1)}function bh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=r5(r)?r.map(s_):s_(r),i={done:!1,value:e[0]},a=o5(n&&n.length===e.length?n:H3(e),t),l=Ev(a,e,{ease:Array.isArray(s)?s:l5(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const c5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ot.update(e,!0),stop:()=>zr(e),now:()=>sn.isProcessing?sn.timestamp:es.now()}},u5={decay:r_,inertia:r_,tween:bh,keyframes:bh,spring:z3},d5=t=>t/100;class Nv extends O3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||wv,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=uv(n)?n:u5[n]||bh;let c,u;l!==bh&&typeof e[0]!="number"&&(c=Zc(d5,F3(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=i3(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:x,repeatDelay:g,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,w=i;if(p){const M=Math.min(this.currentTime,d)/h;let C=Math.floor(M),N=M%1;!N&&M>=1&&(N=1),N===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(x==="reverse"?(N=1-N,g&&(N-=g/h)):x==="mirror"&&(w=a)),b=ns(0,1,N)*h}const S=y?{done:!1,value:c[0]}:w.next(b);l&&(S.value=l(S.value));let{done:E}=S;!y&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&s!==void 0&&(S.value=lf(c,this.options,s)),v&&v(S.value),T&&this.finish(),S}get duration(){const{resolved:e}=this;return e?Ns(e.calculatedDuration):0}get time(){return Ns(this.currentTime)}set time(e){e=Es(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=c5,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const h5=new Set(["opacity","clipPath","filter","transform"]);function f5(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=l3(l,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const p5=Kx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_h=10,m5=2e4;function g5(t){return uv(t.type)||t.type==="spring"||!o3(t.ease)}function x5(t,e){const n=new Nv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<m5;)r=n.sample(i),s.push(r.value),i+=_h;return{times:void 0,keyframes:s,duration:i-_h,ease:"linear"}}const G3={anticipate:b3,backInOut:y3,circInOut:w3};function v5(t){return t in G3}class i_ extends O3{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new I3(i,(a,l)=>this.onKeyframesResolved(a,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&vh()&&v5(i)&&(i=G3[i]),g5(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:x,...g}=this.options,v=x5(e,g);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,s=v.times,i=v.ease,a="keyframes"}const d=f5(l.owner.current,c,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Hb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(lf(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ns(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ns(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Es(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mn;const{animation:r}=n;Hb(r,e)}return Mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,x=new Nv({...p,keyframes:r,duration:s,type:i,ease:a,times:l,isGenerator:!0}),g=Es(this.time);u.setWithVelocity(x.sample(g-_h).value,x.sample(g).value,_h)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return p5()&&r&&h5.has(r)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const y5={type:"spring",stiffness:500,damping:25,restSpeed:10},b5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_5={type:"keyframes",duration:.8},w5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S5=(t,{keyframes:e})=>e.length>2?_5:ja.has(t)?t.startsWith("scale")?b5(e[1]):y5:w5;function E5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Cv=(t,e,n,r={},s,i)=>a=>{const l=cv(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Es(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};E5(l)||(d={...d,...S5(t,d)}),d.duration&&(d.duration=Es(d.duration)),d.repeatDelay&&(d.repeatDelay=Es(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=lf(d.keyframes,l);if(f!==void 0)return ot.update(()=>{d.onUpdate(f),d.onComplete()}),new $P([])}return!i&&i_.supports(d)?new i_(d):new Nv(d)};function N5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function W3(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&N5(d,h))continue;const x={delay:n,...cv(a||{},h)};let g=!1;if(window.MotionHandoffAnimation){const m=p3(t);if(m){const y=window.MotionHandoffAnimation(m,h,ot);y!==null&&(x.startTime=y,g=!0)}}S0(t,h),f.start(Cv(h,f,p,t.shouldReduceMotion&&f3.has(h)?{type:!1}:x,t,g));const v=f.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{ot.update(()=>{l&&i4(t,l)})}),u}function j0(t,e,n={}){var r;const s=of(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(W3(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return C5(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function C5(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(T5).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(j0(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function T5(t,e){return t.sortNodePosition(e)}function M5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>j0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=j0(t,e,n);else{const s=typeof e=="function"?of(t,e,n.custom):e;r=Promise.all(W3(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const A5=Jx.length;function $3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<A5;n++){const r=Jx[n],s=t.props[r];(Ac(s)||s===!1)&&(e[r]=s)}return e}const j5=[...Yx].reverse(),R5=Yx.length;function P5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>M5(t,n,r)))}function k5(t){let e=P5(t),n=a_(),r=!0;const s=c=>(u,d)=>{var h;const f=of(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...g}=f;u={...u,...g,...x}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=$3(t.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let v=0;v<R5;v++){const m=j5[v],y=n[m],b=u[m]!==void 0?u[m]:d[m],w=Ac(b),S=m===c?y.isActive:null;S===!1&&(x=v);let E=b===d[m]&&b!==u[m]&&w;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...p},!y.isActive&&S===null||!b&&!y.prevProp||sf(b)||typeof b=="boolean")continue;const T=D5(y.prevProp,b);let M=T||m===c&&y.isActive&&!E&&w||v>x&&w,C=!1;const N=Array.isArray(b)?b:[b];let j=N.reduce(s(m),{});S===!1&&(j={});const{prevResolvedValues:k={}}=y,U={...k,...j},G=$=>{M=!0,f.has($)&&(C=!0,f.delete($)),y.needsAnimating[$]=!0;const L=t.getValue($);L&&(L.liveStyle=!1)};for(const $ in U){const L=j[$],z=k[$];if(p.hasOwnProperty($))continue;let W=!1;b0(L)&&b0(z)?W=!r3(L,z):W=L!==z,W?L!=null?G($):f.add($):L!==void 0&&f.has($)?G($):y.protectedKeys[$]=!0}y.prevProp=b,y.prevResolvedValues=j,y.isActive&&(p={...p,...j}),r&&t.blockInitialAnimation&&(M=!1),M&&(!(E&&T)||C)&&h.push(...N.map($=>({animation:$,options:{type:m}})))}if(f.size){const v={};f.forEach(m=>{const y=t.getBaseTarget(m),b=t.getValue(m);b&&(b.liveStyle=!0),v[m]=y??null}),h.push({animation:v})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=a_(),r=!0}}}function D5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!r3(e,t):!1}function Fi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function a_(){return{animate:Fi(!0),whileInView:Fi(),whileHover:Fi(),whileTap:Fi(),whileDrag:Fi(),whileFocus:Fi(),exit:Fi()}}let Ri=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};class L5 extends Ri{constructor(e){super(e),e.animationState||(e.animationState=k5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let I5=0;class O5 extends Ri{constructor(){super(...arguments),this.id=I5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const U5={animation:{Feature:L5},exit:{Feature:O5}};function Pc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function eu(t){return{point:{x:t.pageX,y:t.pageY}}}const F5=t=>e=>hv(e)&&t(e,eu(e));function rc(t,e,n,r){return Pc(t,e,F5(n),r)}const o_=(t,e)=>Math.abs(t-e);function B5(t,e){const n=o_(t.x,e.x),r=o_(t.y,e.y);return Math.sqrt(n**2+r**2)}class q3{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=dp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=B5(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:g}=sn;this.history.push({...x,timestamp:g});const{onStart:v,onMove:m}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=up(f,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=dp(h.type==="pointercancel"?this.lastMoveEventInfo:up(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),x&&x(h,v)},!hv(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=eu(e),l=up(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=sn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,dp(l,this.history)),this.removeListeners=Zc(rc(this.contextWindow,"pointermove",this.handlePointerMove),rc(this.contextWindow,"pointerup",this.handlePointerUp),rc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function up(t,e){return e?{point:e(t.point)}:t}function l_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dp({point:t},e){return{point:t,delta:l_(t,X3(e)),offset:l_(t,z5(e)),velocity:V5(e,.1)}}function z5(t){return t[0]}function X3(t){return t[t.length-1]}function V5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=X3(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Es(e)));)n--;if(!r)return{x:0,y:0};const i=Ns(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const K3=1e-4,H5=1-K3,G5=1+K3,Y3=.01,W5=0-Y3,$5=0+Y3;function ir(t){return t.max-t.min}function q5(t,e,n){return Math.abs(t-e)<=n}function c_(t,e,n,r=.5){t.origin=r,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=ir(n)/ir(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=H5&&t.scale<=G5||isNaN(t.scale))&&(t.scale=1),(t.translate>=W5&&t.translate<=$5||isNaN(t.translate))&&(t.translate=0)}function sc(t,e,n,r){c_(t.x,e.x,n.x,r?r.originX:void 0),c_(t.y,e.y,n.y,r?r.originY:void 0)}function u_(t,e,n){t.min=n.min+e.min,t.max=t.min+ir(e)}function X5(t,e,n){u_(t.x,e.x,n.x),u_(t.y,e.y,n.y)}function d_(t,e,n){t.min=e.min-n.min,t.max=t.min+ir(e)}function ic(t,e,n){d_(t.x,e.x,n.x),d_(t.y,e.y,n.y)}function K5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pt(n,t,r.max):Math.min(t,n)),t}function h_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Y5(t,{top:e,left:n,bottom:r,right:s}){return{x:h_(t.x,n,s),y:h_(t.y,e,r)}}function f_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function J5(t,e){return{x:f_(t.x,e.x),y:f_(t.y,e.y)}}function Q5(t,e){let n=.5;const r=ir(t),s=ir(e);return s>r?n=wa(e.min,e.max-r,t.min):r>s&&(n=wa(t.min,t.max-s,e.min)),ns(0,1,n)}function Z5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const R0=.35;function ek(t=R0){return t===!1?t=0:t===!0&&(t=R0),{x:p_(t,"left","right"),y:p_(t,"top","bottom")}}function p_(t,e,n){return{min:m_(t,e),max:m_(t,n)}}function m_(t,e){return typeof t=="number"?t:t[e]||0}const g_=()=>({translate:0,scale:1,origin:0,originPoint:0}),_o=()=>({x:g_(),y:g_()}),x_=()=>({min:0,max:0}),Bt=()=>({x:x_(),y:x_()});function fr(t){return[t("x"),t("y")]}function J3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function tk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hp(t){return t===void 0||t===1}function P0({scale:t,scaleX:e,scaleY:n}){return!hp(t)||!hp(e)||!hp(n)}function Ji(t){return P0(t)||Q3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Q3(t){return v_(t.x)||v_(t.y)}function v_(t){return t&&t!=="0%"}function wh(t,e,n){const r=t-n,s=e*r;return n+s}function y_(t,e,n,r,s){return s!==void 0&&(t=wh(t,s,r)),wh(t,n,r)+e}function k0(t,e=0,n=1,r,s){t.min=y_(t.min,e,n,r,s),t.max=y_(t.max,e,n,r,s)}function Z3(t,{x:e,y:n}){k0(t.x,e.translate,e.scale,e.originPoint),k0(t.y,n.translate,n.scale,n.originPoint)}const b_=.999999999999,__=1.0000000000001;function rk(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&So(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Z3(t,a)),r&&Ji(i.latestValues)&&So(t,i.latestValues))}e.x<__&&e.x>b_&&(e.x=1),e.y<__&&e.y>b_&&(e.y=1)}function wo(t,e){t.min=t.min+e,t.max=t.max+e}function w_(t,e,n,r,s=.5){const i=Pt(t.min,t.max,s);k0(t,e,n,i,r)}function So(t,e){w_(t.x,e.x,e.scaleX,e.scale,e.originX),w_(t.y,e.y,e.scaleY,e.scale,e.originY)}function eN(t,e){return J3(nk(t.getBoundingClientRect(),e))}function sk(t,e,n){const r=eN(t,n),{scroll:s}=e;return s&&(wo(r.x,s.offset.x),wo(r.y,s.offset.y)),r}const tN=({current:t})=>t?t.ownerDocument.defaultView:null,ik=new WeakMap;class ak{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(eu(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e4(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(v=>{let m=this.getAxisMotionValue(v).get()||0;if(Zr.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[v];b&&(m=ir(b)*(parseFloat(m)/100))}}this.originPoint[v]=m}),x&&ot.postRender(()=>x(d,h)),S0(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=ok(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>fr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new q3(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ot.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ru(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=K5(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&yo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Y5(s.layoutBox,n):this.constraints=!1,this.elastic=ek(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Z5(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=sk(r,s.root,this.visualElement.getTransformPagePoint());let a=J5(s.layout.layoutBox,i);if(n){const l=n(tk(a));this.hasMutatedConstraints=!!l,l&&(a=J3(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=fr(d=>{if(!Ru(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return S0(this.visualElement,e),r.start(Cv(e,r,0,n,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fr(n=>{const{drag:r}=this.getProps();if(!Ru(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-Pt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};fr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=Q5({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fr(a=>{if(!Ru(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Pt(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;ik.set(this.visualElement,this);const e=this.visualElement.current,n=rc(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();yo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ot.read(r);const a=Pc(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=R0,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Ru(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ok(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lk extends Ri{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new ak(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const S_=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class ck extends Ri{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new q3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:S_(e),onStart:S_(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ot.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=rc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=E_(t,e.target.x),r=E_(t,e.target.y);return`${n}% ${r}%`}},uk={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ei.parse(t);if(s.length>5)return r;const i=Ei.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=Pt(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class dk extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;LP(hk),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ot.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nN(t){const[e,n]=OE(),r=_.useContext(qx);return o.jsx(dk,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(GE),isPresent:e,safeToRemove:n})}const hk={borderRadius:{...Cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cl,borderTopRightRadius:Cl,borderBottomLeftRadius:Cl,borderBottomRightRadius:Cl,boxShadow:uk};function fk(t,e,n){const r=on(t)?t:Kr(t);return r.start(Cv("",r,e,n)),r.animation}function pk(t){return t instanceof SVGElement&&t.tagName!=="svg"}const mk=(t,e)=>t.depth-e.depth;class gk{constructor(){this.children=[],this.isDirty=!1}add(e){fv(this.children,e),this.isDirty=!0}remove(e){pv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mk),this.isDirty=!1,this.children.forEach(e)}}function xk(t,e){const n=es.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(zr(r),t(i-e))};return ot.read(r,!0),()=>zr(r)}const rN=["TopLeft","TopRight","BottomLeft","BottomRight"],vk=rN.length,N_=t=>typeof t=="string"?parseFloat(t):t,C_=t=>typeof t=="number"||Ie.test(t);function yk(t,e,n,r,s,i){s?(t.opacity=Pt(0,n.opacity!==void 0?n.opacity:1,bk(r)),t.opacityExit=Pt(e.opacity!==void 0?e.opacity:1,0,_k(r))):i&&(t.opacity=Pt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<vk;a++){const l=`border${rN[a]}Radius`;let c=T_(e,l),u=T_(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||C_(c)===C_(u)?(t[l]=Math.max(Pt(N_(c),N_(u),r),0),(Zr.test(u)||Zr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,r))}function T_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bk=sN(0,.5,_3),_k=sN(.5,.95,Mn);function sN(t,e,n){return r=>r<t?0:r>e?1:n(wa(t,e,r))}function M_(t,e){t.min=e.min,t.max=e.max}function dr(t,e){M_(t.x,e.x),M_(t.y,e.y)}function A_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function j_(t,e,n,r,s){return t-=e,t=wh(t,1/n,r),s!==void 0&&(t=wh(t,1/s,r)),t}function wk(t,e=0,n=1,r=.5,s,i=t,a=t){if(Zr.test(e)&&(e=parseFloat(e),e=Pt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Pt(i.min,i.max,r);t===i&&(l-=e),t.min=j_(t.min,e,n,l,s),t.max=j_(t.max,e,n,l,s)}function R_(t,e,[n,r,s],i,a){wk(t,e[n],e[r],e[s],e.scale,i,a)}const Sk=["x","scaleX","originX"],Ek=["y","scaleY","originY"];function P_(t,e,n,r){R_(t.x,e,Sk,n?n.x:void 0,r?r.x:void 0),R_(t.y,e,Ek,n?n.y:void 0,r?r.y:void 0)}function k_(t){return t.translate===0&&t.scale===1}function iN(t){return k_(t.x)&&k_(t.y)}function D_(t,e){return t.min===e.min&&t.max===e.max}function Nk(t,e){return D_(t.x,e.x)&&D_(t.y,e.y)}function L_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aN(t,e){return L_(t.x,e.x)&&L_(t.y,e.y)}function I_(t){return ir(t.x)/ir(t.y)}function O_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ck{constructor(){this.members=[]}add(e){fv(this.members,e),e.scheduleRender()}remove(e){if(pv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tk(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Hl=typeof window<"u"&&window.MotionDebug!==void 0,fp=["","X","Y","Z"],Mk={visibility:"hidden"},U_=1e3;let Ak=0;function pp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function oN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=p3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&oN(r)}function lN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Ak++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hl&&(Qi.totalNodes=Qi.resolvedTargetDeltas=Qi.recalculatedProjection=0),this.nodes.forEach(Pk),this.nodes.forEach(Ok),this.nodes.forEach(Uk),this.nodes.forEach(kk),Hl&&window.MotionDebug.record(Qi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gk)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new mv),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pk(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=xk(f,250),Ld.hasAnimatedSinceResize&&(Ld.hasAnimatedSinceResize=!1,this.nodes.forEach(B_))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Hk,{onLayoutAnimationStart:v,onLayoutAnimationComplete:m}=d.getProps(),y=!this.targetLayout||!aN(this.targetLayout,x)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const w={...cv(g,"layout"),onPlay:v,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||B_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fk),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F_);return}this.isUpdating||this.nodes.forEach(Lk),this.isUpdating=!1,this.nodes.forEach(Ik),this.nodes.forEach(jk),this.nodes.forEach(Rk),this.clearAllSnapshots();const l=es.now();sn.delta=ns(0,1e3/60,l-sn.timestamp),sn.timestamp=l,sn.isProcessing=!0,sp.update.process(sn),sp.preRender.process(sn),sp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Dk),this.sharedNodes.forEach(Bk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!iN(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Ji(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Gk(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return Bt();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Wk))){const{scroll:d}=this.root;d&&(wo(c.x,d.offset.x),wo(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=Bt();if(dr(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&dr(c,a),wo(c.x,h.offset.x),wo(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=Bt();dr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&So(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ji(d.latestValues)&&So(c,d.latestValues)}return Ji(this.latestValues)&&So(c,this.latestValues),c}removeTransform(a){const l=Bt();dr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ji(u.latestValues))continue;P0(u.latestValues)&&u.updateSnapshot();const d=Bt(),h=u.measurePageBox();dr(d,h),P_(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ji(this.latestValues)&&P_(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),ic(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),Z3(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),ic(this.relativeTargetOrigin,this.target,p.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hl&&Qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||P0(this.parent.latestValues)||Q3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;dr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;rk(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Bt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(A_(this.prevProjectionDelta.x,this.projectionDelta.x),A_(this.prevProjectionDelta.y,this.projectionDelta.y)),sc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!O_(this.projectionDelta.x,this.prevProjectionDelta.x)||!O_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Hl&&Qi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_o(),this.projectionDelta=_o(),this.projectionDeltaWithTransform=_o()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=_o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Bt(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=p!==x,v=this.getStack(),m=!v||v.members.length<=1,y=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(Vk));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;z_(h.x,a.x,S),z_(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ic(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zk(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&Nk(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Bt()),dr(b,this.relativeTarget)),g&&(this.animationValues=d,yk(d,u,this.latestValues,S,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Ld.hasAnimatedSinceResize=!0,this.currentAnimation=fk(0,U_,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&cN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Bt();const h=ir(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=ir(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}dr(l,c),So(l,d),sc(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Ck),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&pp("z",a,u,this.animationValues);for(let d=0;d<fp.length;d++)pp(`rotate${fp[d]}`,a,u,this.animationValues),pp(`skew${fp[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Mk;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=kd(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=kd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ji(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Tk(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in xh){if(f[g]===void 0)continue;const{correct:v,applyTo:m}=xh[g],y=u.transform==="none"?f[g]:v(f[g],h);if(m){const b=m.length;for(let w=0;w<b;w++)u[m[w]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=h===this?kd(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(F_),this.root.sharedNodes.clear()}}}function jk(t){t.updateLayout()}function Rk(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?fr(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=ir(f);f.min=r[h].min,f.max=f.min+p}):cN(i,n.layoutBox,r)&&fr(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=ir(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=_o();sc(l,r,n.layoutBox);const c=_o();a?sc(c,t.applyTransform(s,!0),n.measuredBox):sc(c,r,n.layoutBox);const u=!iN(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=Bt();ic(x,n.layoutBox,f.layoutBox);const g=Bt();ic(g,r,p.layoutBox),aN(x,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Pk(t){Hl&&Qi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Dk(t){t.clearSnapshot()}function F_(t){t.clearMeasurements()}function Lk(t){t.isLayoutDirty=!1}function Ik(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ok(t){t.resolveTargetDelta()}function Uk(t){t.calcProjection()}function Fk(t){t.resetSkewAndRotation()}function Bk(t){t.removeLeadSnapshot()}function z_(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function V_(t,e,n,r){t.min=Pt(e.min,n.min,r),t.max=Pt(e.max,n.max,r)}function zk(t,e,n,r){V_(t.x,e.x,n.x,r),V_(t.y,e.y,n.y,r)}function Vk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Hk={duration:.45,ease:[.4,0,.1,1]},H_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),G_=H_("applewebkit/")&&!H_("chrome/")?Math.round:Mn;function W_(t){t.min=G_(t.min),t.max=G_(t.max)}function Gk(t){W_(t.x),W_(t.y)}function cN(t,e,n){return t==="position"||t==="preserve-aspect"&&!q5(I_(e),I_(n),.2)}function Wk(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $k=lN({attachResizeListener:(t,e)=>Pc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mp={current:void 0},uN=lN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mp.current){const t=new $k({});t.mount(window),t.setOptions({layoutScroll:!0}),mp.current=t}return mp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qk={pan:{Feature:ck},drag:{Feature:lk,ProjectionNode:uN,MeasureLayout:nN}};function $_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ot.postRender(()=>i(e,eu(e)))}class Xk extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=KP(e,n=>($_(this.node,n,"Start"),r=>$_(this.node,r,"End"))))}unmount(){}}class Kk extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zc(Pc(this.node.current,"focus",()=>this.onFocus()),Pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q_(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ot.postRender(()=>i(e,eu(e)))}class Yk extends Ri{mount(){const{current:e}=this.node;e&&(this.unmount=ZP(e,n=>(q_(this.node,n,"Start"),(r,{success:s})=>q_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const D0=new WeakMap,gp=new WeakMap,Jk=t=>{const e=D0.get(t.target);e&&e(t)},Qk=t=>{t.forEach(Jk)};function Zk({root:t,...e}){const n=t||document;gp.has(n)||gp.set(n,{});const r=gp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Qk,{root:t,...e})),r[s]}function eD(t,e,n){const r=Zk(e);return D0.set(t,n),r.observe(t),()=>{D0.delete(t),r.unobserve(t)}}const tD={some:0,all:1};class nD extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:tD[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return eD(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rD(e,n))&&this.startObserver()}unmount(){}}function rD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sD={inView:{Feature:nD},tap:{Feature:Yk},focus:{Feature:Kk},hover:{Feature:Xk}},iD={layout:{ProjectionNode:uN,MeasureLayout:nN}},Sh={current:null},Tv={current:!1};function dN(){if(Tv.current=!0,!!Xx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sh.current=t.matches;t.addListener(e),e()}else Sh.current=!1}const aD=[...L3,vn,Ei],oD=t=>aD.find(D3(t)),X_=new WeakMap;function lD(t,e,n){for(const r in e){const s=e[r],i=n[r];if(on(s))t.addValue(r,s);else if(on(i))t.addValue(r,Kr(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Kr(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const K_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cD{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=es.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ot.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=af(n),this.isVariantNode=VE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const x=f[p];c[p]!==void 0&&on(x)&&x.set(c[p],!1)}}mount(e){this.current=e,X_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Tv.current||dN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){X_.delete(this.current),this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ja.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ho){const n=Ho[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<K_.length;r++){const s=K_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=lD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Kr(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(P3(s)||S3(s))?s=parseFloat(s):!oD(s)&&Ei.test(n)&&(s=A3(e,n)),this.setBaseTarget(e,on(s)?s.get():s)),on(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=tv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!on(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new mv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class hN extends cD{constructor(){super(...arguments),this.KeyframeResolver=I3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;on(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uD(t){return window.getComputedStyle(t)}class dD extends hN{constructor(){super(...arguments),this.type="html",this.renderInstance=JE}readValueFromInstance(e,n){if(ja.has(n)){const r=_v(n);return r&&r.default||0}else{const r=uD(e),s=(XE(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eN(e,n)}build(e,n,r){sv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return lv(e,n,r)}}class hD extends hN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ja.has(n)){const r=_v(n);return r&&r.default||0}return n=QE.has(n)?n:Qx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return t3(e,n,r)}build(e,n,r){iv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){ZE(e,n,r,s)}mount(e){this.isSVGTag=ov(e.tagName),super.mount(e)}}const fD=(t,e)=>ev(t)?new hD(e):new dD(e,{allowProjection:t!==_.Fragment}),pD=GP({...U5,...sD,...qk,...iD},fD),Je=iP(pD);function mD(t,e,n){_.useInsertionEffect(()=>t.on(e,n),[t,e,n])}function fN(t,e){let n;const r=()=>{const{currentTime:s}=e,a=(s===null?0:s.value)/100;n!==a&&t(a),n=a};return ot.update(r,!0),()=>zr(r)}const Id=new WeakMap;let Qs;function gD(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function xD({target:t,contentRect:e,borderBoxSize:n}){var r;(r=Id.get(t))===null||r===void 0||r.forEach(s=>{s({target:t,contentSize:e,get size(){return gD(t,n)}})})}function vD(t){t.forEach(xD)}function yD(){typeof ResizeObserver>"u"||(Qs=new ResizeObserver(vD))}function bD(t,e){Qs||yD();const n=u3(t);return n.forEach(r=>{let s=Id.get(r);s||(s=new Set,Id.set(r,s)),s.add(e),Qs==null||Qs.observe(r)}),()=>{n.forEach(r=>{const s=Id.get(r);s==null||s.delete(e),s!=null&&s.size||Qs==null||Qs.unobserve(r)})}}const Od=new Set;let ac;function _D(){ac=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Od.forEach(n=>n(e))},window.addEventListener("resize",ac)}function wD(t){return Od.add(t),ac||_D(),()=>{Od.delete(t),!Od.size&&ac&&(ac=void 0)}}function SD(t,e){return typeof t=="function"?wD(t):bD(t,e)}const ED=50,Y_=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ND=()=>({time:0,x:Y_(),y:Y_()}),CD={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function J_(t,e,n,r){const s=n[e],{length:i,position:a}=CD[e],l=s.current,c=n.time;s.current=t[`scroll${a}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=wa(0,s.scrollLength,s.current);const u=r-c;s.velocity=u>ED?0:gv(s.current-l,u)}function TD(t,e,n){J_(t,"x",e,n),J_(t,"y",e,n),e.time=n}function MD(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let a=null,l=r.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=r.parentNode;r=a}else break;return n}const L0={start:0,center:.5,end:1};function Q_(t,e,n=0){let r=0;if(t in L0&&(t=L0[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const AD=[0,0];function jD(t,e,n,r){let s=Array.isArray(t)?t:AD,i=0,a=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,L0[t]?t:"0"]),i=Q_(s[0],n,r),a=Q_(s[1],e),i-a}const RD={All:[[0,0],[1,1]]},PD={x:0,y:0};function kD(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function DD(t,e,n){const{offset:r=RD.All}=n,{target:s=t,axis:i="y"}=n,a=i==="y"?"height":"width",l=s!==t?MD(s,t):PD,c=s===t?{width:t.scrollWidth,height:t.scrollHeight}:kD(s),u={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const h=r.length;for(let f=0;f<h;f++){const p=jD(r[f],u[a],c[a],l[i]);!d&&p!==e[i].interpolatorOffsets[f]&&(d=!0),e[i].offset[f]=p}d&&(e[i].interpolate=Ev(e[i].offset,H3(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=ns(0,1,e[i].interpolate(e[i].current))}function LD(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function ID(t,e,n,r={}){return{measure:()=>LD(t,r.target,n),update:s=>{TD(t,n,s),(r.offset||r.target)&&DD(t,n,r)},notify:()=>e(n)}}const Tl=new WeakMap,Z_=new WeakMap,xp=new WeakMap,ew=t=>t===document.documentElement?window:t;function Mv(t,{container:e=document.documentElement,...n}={}){let r=xp.get(e);r||(r=new Set,xp.set(e,r));const s=ND(),i=ID(e,t,s,n);if(r.add(i),!Tl.has(e)){const l=()=>{for(const f of r)f.measure()},c=()=>{for(const f of r)f.update(sn.timestamp)},u=()=>{for(const f of r)f.notify()},d=()=>{ot.read(l,!1,!0),ot.read(c,!1,!0),ot.update(u,!1,!0)};Tl.set(e,d);const h=ew(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&Z_.set(e,SD(e,d)),h.addEventListener("scroll",d,{passive:!0})}const a=Tl.get(e);return ot.read(a,!1,!0),()=>{var l;zr(a);const c=xp.get(e);if(!c||(c.delete(i),c.size))return;const u=Tl.get(e);Tl.delete(e),u&&(ew(e).removeEventListener("scroll",u),(l=Z_.get(e))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function OD({source:t,container:e,axis:n="y"}){t&&(e=t);const r={value:0},s=Mv(i=>{r.value=i[n].progress*100},{container:e,axis:n});return{currentTime:r,cancel:s}}const vp=new Map;function pN({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),vp.has(e)||vp.set(e,{});const r=vp.get(e);return r[n]||(r[n]=s3()?new ScrollTimeline({source:e,axis:n}):OD({source:e,axis:n})),r[n]}function UD(t){return t.length===2}function mN(t){return t&&(t.target||t.offset)}function FD(t,e){return UD(t)||mN(e)?Mv(n=>{t(n[e.axis].progress,n)},e):fN(t,pN(e))}function BD(t,e){if(t.flatten(),mN(e))return t.pause(),Mv(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=pN(e);return t.attachTimeline?t.attachTimeline(n,r=>(r.pause(),fN(s=>{r.time=r.duration*s},n))):Mn}}function zD(t,{axis:e="y",...n}={}){const r={axis:e,...n};return typeof t=="function"?FD(t,r):BD(t,r)}function tw(t,e){JR(!!(!e||e.current))}const VD=()=>({scrollX:Kr(0),scrollY:Kr(0),scrollXProgress:Kr(0),scrollYProgress:Kr(0)});function tu({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=al(VD);return(n?nf:_.useEffect)(()=>(tw("target",e),tw("container",t),zD((a,{x:l,y:c})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(c.current),s.scrollYProgress.set(c.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function I0(t){const e=al(()=>Kr(t)),{isStatic:n}=_.useContext(tf);if(n){const[,r]=_.useState(t);_.useEffect(()=>e.on("change",r),[])}return e}function Av(t,e){const n=I0(e()),r=()=>n.set(e());return r(),nf(()=>{const s=()=>ot.preRender(r,!1,!0),i=t.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),zr(r)}}),n}function Pu(t,...e){const n=t.length;function r(){let s="";for(let i=0;i<n;i++){s+=t[i];const a=e[i];a&&(s+=on(a)?a.get():a)}return s}return Av(e.filter(on),r)}const HD=t=>t&&typeof t=="object"&&t.mix,GD=t=>HD(t)?t.mix:void 0;function WD(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],a=t[3+n],l=Ev(s,i,{mixer:GD(i[0]),...a});return e?l(r):l}function $D(t){tc.current=[],t();const e=Av(tc.current,t);return tc.current=void 0,e}function Cn(t,e,n,r){if(typeof t=="function")return $D(t);const s=typeof e=="function"?e:WD(e,n,r);return Array.isArray(t)?nw(t,s):nw([t],([i])=>s(i))}function nw(t,e){const n=al(()=>[]);return Av(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function qD(){!Tv.current&&dN();const[t]=_.useState(Sh.current);return t}const rw={type:"spring",mass:.5,damping:11.5,stiffness:100,restDelta:.001,restSpeed:.001},Bi=({setActive:t,active:e,item:n,children:r})=>o.jsxs("div",{onMouseEnter:()=>t(n),className:"relative ",children:[o.jsx(Je.p,{transition:{duration:.3},className:"cursor-pointer text-gray-900 hover:opacity-[0.9]",children:n}),e!==null&&o.jsx(Je.div,{initial:{opacity:0,scale:.85,y:10},animate:{opacity:1,scale:1,y:0},transition:rw,children:e===n&&o.jsx("div",{className:"absolute top-[calc(100%_+_1.2rem)] left-1/2 transform -translate-x-1/2 pt-4",children:o.jsx(Je.div,{transition:rw,layoutId:"active",className:"bg-white/80 backdrop-blur-md rounded-2xl overflow-hidden border border-black/5 shadow-xl",children:o.jsx(Je.div,{layout:!0,className:"w-max h-full p-4",children:r})})})})]}),XD=({setActive:t,children:e})=>o.jsx("nav",{onMouseLeave:()=>t(null),className:"relative rounded-full border border-black/5 bg-white/40 backdrop-blur-md shadow-input flex justify-center space-x-4 px-8 py-6 ",children:e}),sw=({title:t,description:e,href:n,src:r})=>o.jsxs(wt,{to:n,className:"flex space-x-2",children:[o.jsx("img",{src:r,width:140,height:70,alt:t,className:"shrink-0 rounded-md shadow-2xl"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-bold mb-1 text-gray-900",children:t}),o.jsx("p",{className:"text-gray-600 text-sm max-w-[10rem]",children:e})]})]}),ku=({children:t,href:e,...n})=>o.jsx(wt,{to:e,...n,className:"text-gray-600 hover:text-gray-900 ",children:t});/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>_.createElement("svg",{ref:c,...YD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gN("lucide",s),...l},[...a.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(JD,{ref:i,iconNode:e,className:gN(`lucide-${KD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=_e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=_e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=_e("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=_e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=_e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=_e("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=_e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=_e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=_e("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=_e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=_e("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=_e("Nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=_e("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=_e("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=_e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=_e("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=_e("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function EL({items:t,socialItems:e=[]}){const[n,r]=_.useState(!1),[s,i]=_.useState([]),a=()=>r(!n),l=()=>{r(!1),i([])},c=u=>{i(d=>d.includes(u)?d.filter(h=>h!==u):[...d,u])};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[100] flex items-center justify-between p-4 md:hidden pointer-events-none",children:[o.jsx(wt,{to:"/",className:"pointer-events-auto backdrop-blur-md bg-white/80 border border-black/10 rounded-xl px-3 py-1.5 hover:bg-white/90 hover:border-black/20 transition-all duration-300 shadow-lg",onClick:l,children:o.jsx("img",{src:"/logo.png",alt:"SAKEC ACM Logo",className:"h-14 w-auto object-cover",style:{objectPosition:"center",clipPath:"inset(15% 0 15% 0)"}})}),o.jsxs("button",{onClick:a,className:"pointer-events-auto relative z-[101] w-11 h-11 flex flex-col items-center justify-center gap-1.5 focus:outline-none backdrop-blur-md bg-white/80 border border-black/10 rounded-lg hover:bg-white/90 hover:border-black/20 transition-all shadow-lg","aria-label":n?"Close menu":"Open menu",children:[o.jsx("span",{className:`w-6 h-0.5 bg-gray-900 rounded-full transition-all duration-300 ${n?"rotate-45 translate-y-2":""}`}),o.jsx("span",{className:`w-6 h-0.5 bg-gray-900 rounded-full transition-all duration-300 ${n?"opacity-0":""}`}),o.jsx("span",{className:`w-6 h-0.5 bg-gray-900 rounded-full transition-all duration-300 ${n?"-rotate-45 -translate-y-2":""}`})]})]}),o.jsxs("div",{className:`fixed inset-0 z-[99] md:hidden transition-all duration-500 ${n?"pointer-events-auto":"pointer-events-none"}`,children:[o.jsx("div",{className:`absolute inset-0 bg-white/95 backdrop-blur-xl transition-opacity duration-500 ${n?"opacity-100":"opacity-0"}`,onClick:l}),o.jsxs("div",{className:`relative h-full flex flex-col justify-start items-center px-6 pt-24 pb-8 overflow-y-auto transition-all duration-500 ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:[o.jsx("nav",{className:"w-full max-w-md flex-shrink-0",children:o.jsx("div",{className:"flex flex-col gap-3",children:t.map((u,d)=>o.jsx("div",{children:u.submenu?o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>c(u.label),className:"w-full text-gray-900 text-lg font-semibold py-4 px-6 rounded-lg border border-gray-200 hover:border-gray-900 hover:bg-gray-50 transition-all duration-300 flex items-center justify-between",children:[u.label,o.jsx(sL,{className:`w-5 h-5 transition-transform duration-300 ${s.includes(u.label)?"rotate-180":""}`})]}),o.jsx("div",{className:`overflow-hidden transition-all duration-300 ${s.includes(u.label)?"max-h-96 mt-2":"max-h-0"}`,children:o.jsx("div",{className:"flex flex-col gap-2 pl-4",children:u.submenu.map((h,f)=>o.jsx(wt,{to:h.link,onClick:l,className:"text-gray-700 text-base py-3 px-4 rounded-lg border border-gray-200/50 hover:border-gray-400 hover:bg-gray-50 transition-all duration-300",children:h.label},f))})})]}):o.jsx(wt,{to:u.link,onClick:l,className:"text-gray-900 text-lg font-semibold py-4 px-6 rounded-lg border border-gray-200 hover:border-gray-900 hover:bg-gray-50 transition-all duration-300 block",children:u.label})},d))})}),e.length>0&&o.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[o.jsx("p",{className:"text-gray-900 text-xs font-semibold uppercase tracking-wider",children:"Connect"}),o.jsx("div",{className:"flex gap-4",children:e.map((u,d)=>o.jsx("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900 transition-colors text-xs",children:u.label},d))})]})]})]})]})}function NL(){const[t,e]=_.useState(null),n=[{label:"Home",link:"/"},{label:"About",submenu:[{label:"About ACM",link:"/about"},{label:"Why Join Us",link:"/why-join"}]},{label:"Team",submenu:[{label:"Current Team",link:"/team"},{label:"Alumni",link:"/team/alumni"}]},{label:"Events",link:"/events"},{label:"Gallery",link:"/gallery"},{label:"Blog",link:"/blog"},{label:"Contact",link:"/contact"}],r=[{label:"Instagram",link:"https://instagram.com/sakecacm"},{label:"LinkedIn",link:"https://linkedin.com/company/sakecacm"},{label:"GitHub",link:"https://github.com/sakecacm"},{label:"Email",link:"mailto:support@sakec.acm.org"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"hidden md:flex fixed top-4 md:top-10 left-0 right-0 z-50 px-4 md:px-8 items-center justify-between pointer-events-none",children:[o.jsx(wt,{to:"/",className:"flex items-center backdrop-blur-md bg-white/40 border border-black/5 rounded-xl md:rounded-2xl px-3 md:px-4 py-1.5 md:py-2 hover:bg-white/60 hover:border-black/10 transition-all duration-300 pointer-events-auto",children:o.jsx("img",{src:"/logo.png",alt:"SAKEC ACM Logo",className:"h-12 md:h-16 w-auto object-cover",style:{objectPosition:"center",clipPath:"inset(15% 0 15% 0)"}})}),o.jsx("div",{className:"pointer-events-auto",children:o.jsxs(XD,{setActive:e,children:[o.jsx(wt,{to:"/",children:o.jsx(Bi,{setActive:e,active:t,item:"Home",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Trek%20to%20'Kothaligadh%20Fort'/trek2020_1.jpg",width:140,height:70,alt:"Home",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px]"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-bold mb-1 text-gray-900",children:"Home"}),o.jsx("p",{className:"text-gray-600 text-sm max-w-[10rem]",children:"Welcome to SAKEC ACM Student Chapter"})]})]})})})}),o.jsx(Bi,{setActive:e,active:t,item:"About",children:o.jsxs("div",{className:"flex flex-col space-y-4 text-sm",children:[o.jsx(ku,{href:"/about",children:"About ACM"}),o.jsx(ku,{href:"/why-join",children:"Why Join Us"})]})}),o.jsx(Bi,{setActive:e,active:t,item:"Team",children:o.jsxs("div",{className:"flex flex-col space-y-4 text-sm",children:[o.jsx(ku,{href:"/team",children:"Current Team"}),o.jsx(ku,{href:"/team/alumni",children:"Alumni"})]})}),o.jsx(Bi,{setActive:e,active:t,item:"Events",children:o.jsxs("div",{className:"text-sm grid grid-cols-2 gap-10 p-4",children:[o.jsx(sw,{title:"Upcoming Events",href:"/events",src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Trek%20to%20'Kothaligadh%20Fort'/trek2020_1.jpg",description:"Check out our latest tech events and workshops"}),o.jsx(sw,{title:"Past Events",href:"/events",src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/PYTHON%20PROGRAMMING%20LEARN%20IT%20WELL%20(PP)/python4.jpg",description:"Explore our event gallery and highlights"})]})}),o.jsx(wt,{to:"/gallery",children:o.jsx(Bi,{setActive:e,active:t,item:"Gallery",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Triumph/triumph4.jpg",width:140,height:70,alt:"Gallery",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px]"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-bold mb-1 text-gray-900",children:"Gallery"}),o.jsx("p",{className:"text-gray-600 text-sm max-w-[10rem]",children:"Explore our event highlights and memories"})]})]})})})}),o.jsx(wt,{to:"/blog",children:o.jsx(Bi,{setActive:e,active:t,item:"Blog",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_group.JPG",width:140,height:70,alt:"Blog",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px]"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-bold mb-1 text-gray-900",children:"Blog"}),o.jsx("p",{className:"text-gray-600 text-sm max-w-[10rem]",children:"Read our latest articles and tech insights"})]})]})})})}),o.jsx(wt,{to:"/contact",children:o.jsx(Bi,{setActive:e,active:t,item:"Contact",children:o.jsx("div",{className:"text-sm grid grid-cols-1 gap-10 p-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/CSRA%20-Gaushala/csrGaushala2.jpg",width:140,height:70,alt:"Contact",className:"shrink-0 rounded-md shadow-2xl object-cover h-[70px]"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-bold mb-1 text-gray-900",children:"Contact"}),o.jsx("p",{className:"text-gray-600 text-sm max-w-[10rem]",children:"Get in touch with us for any queries"})]})]})})})})]})})]}),o.jsx(EL,{items:n,socialItems:r})]})}const CL=({leftLinks:t,rightLinks:e,copyrightText:n,barCount:r=23})=>{const s=_.useRef([]),i=_.useRef(null),[a,l]=_.useState(!1),c=_.useRef(null);_.useEffect(()=>{const d=new IntersectionObserver(h=>{const[f]=h;l(f.isIntersecting)},{threshold:.2});return i.current&&d.observe(i.current),()=>{i.current&&d.unobserve(i.current)}},[]),_.useEffect(()=>{let d=0;const h=()=>{const f=s.current;let p=0;f.forEach((x,g)=>{x&&(p+=Math.max(0,20*Math.sin((d+g)*.3)),x.style.transform=`translateY(${g+p}px)`)}),d+=.1,c.current=requestAnimationFrame(h)};return a?h():c.current&&(cancelAnimationFrame(c.current),c.current=null),()=>{c.current&&(cancelAnimationFrame(c.current),c.current=null)}},[a]);const u=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o.jsxs("footer",{ref:i,className:"bg-black text-white relative flex flex-col w-full justify-between select-none",children:[o.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between w-full gap-6 pb-16 pt-8 px-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Quick Links"}),o.jsx("ul",{className:"flex flex-wrap gap-3",children:t.map((d,h)=>o.jsx("li",{children:o.jsx("a",{href:d.href,className:"text-sm text-gray-300 hover:text-white transition-colors",children:d.label})},h))}),o.jsxs("p",{className:"text-xs mt-4 flex items-center gap-x-2 text-gray-400",children:[o.jsx("svg",{className:"size-3",viewBox:"0 0 80 80",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor",d:"M67.4307 11.5693C52.005 -3.85643 26.995 -3.85643 11.5693 11.5693C-3.85643 26.995 -3.85643 52.005 11.5693 67.4307C26.995 82.8564 52.005 82.8564 67.4307 67.4307C82.8564 52.005 82.8564 26.995 67.4307 11.5693ZM17.9332 17.9332C29.8442 6.02225 49.1558 6.02225 61.0668 17.9332C72.9777 29.8442 72.9777 49.1558 61.0668 61.0668C59.7316 62.4019 58.3035 63.5874 56.8032 64.6232L56.8241 64.6023C46.8657 54.6439 46.8657 38.4982 56.8241 28.5398L58.2383 27.1256L51.8744 20.7617L50.4602 22.1759C40.5018 32.1343 24.3561 32.1343 14.3977 22.1759L14.3768 22.1968C15.4126 20.6965 16.5981 19.2684 17.9332 17.9332ZM34.0282 38.6078C25.6372 38.9948 17.1318 36.3344 10.3131 30.6265C7.56889 39.6809 9.12599 49.76 14.9844 57.6517L34.0282 38.6078ZM21.3483 64.0156C29.24 69.874 39.3191 71.4311 48.3735 68.6869C42.6656 61.8682 40.0052 53.3628 40.3922 44.9718L21.3483 64.0156Z"})}),o.jsx("span",{children:n})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Connect With Us"}),o.jsx("ul",{className:"flex flex-wrap gap-3",children:e.map((d,h)=>o.jsx("li",{children:o.jsx("a",{href:d.href,className:"text-sm text-gray-300 hover:text-white transition-colors",target:d.href.startsWith("http")?"_blank":void 0,rel:d.href.startsWith("http")?"noopener noreferrer":void 0,children:d.label})},h))}),o.jsx("div",{className:"text-right mt-4",children:o.jsxs("button",{onClick:u,className:"text-xs text-gray-300 hover:text-white inline-flex items-center gap-1 transition-colors group",children:[o.jsx("span",{children:"Back to top"}),o.jsx("svg",{className:"w-3 h-3 group-hover:-translate-y-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})]})})]})]}),o.jsx("div",{id:"waveContainer","aria-hidden":"true",style:{overflow:"hidden",height:120},children:o.jsx("div",{style:{marginTop:0},children:Array.from({length:r}).map((d,h)=>o.jsx("div",{ref:f=>{s.current[h]=f},className:"wave-segment",style:{height:`${h+1}px`,backgroundColor:"rgb(255, 255, 255)",transition:"transform 0.1s ease",willChange:"transform",marginTop:"-2px"}},h))})})]})};function TL(){return o.jsx(CL,{leftLinks:[{href:"/about",label:"About Us"},{href:"/team",label:"Our Team"},{href:"/events",label:"Events"},{href:"/gallery",label:"Gallery"},{href:"/nfc/283006fb-63d7-40bf-bf62-e3751c767499",label:"NFC Profile"}],rightLinks:[{href:"/blog",label:"Blog"},{href:"/contact",label:"Contact"},{href:"https://www.instagram.com/acm_sakec",label:"Instagram"},{href:"https://www.linkedin.com/company/sakec-acm-student-chapter/",label:"LinkedIn"},{href:"https://github.com/sakec-acm",label:"GitHub"},{href:"mailto:support@sakec.acm.org",label:"Email"}],copyrightText:"SAKEC ACM Student Chapter 2025. All Rights Reserved",barCount:20})}function ML(){const{pathname:t}=Fs();return _.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const bp=[{x:"-100%",y:0},{x:"100%",y:0},{x:0,y:"-100%"},{x:0,y:"100%"}],AL=t=>{const e=t.split("/")[1]||"home";return e.charAt(0).toUpperCase()+e.slice(1)};function jL(){const t=Fs(),[e,n]=_.useState(!1),[r,s]=_.useState(""),[i,a]=_.useState(bp[0]),l=_.useRef(t.pathname);return _.useEffect(()=>{const c=t.pathname.split("?")[0],u=l.current.split("?")[0];if(c===u)return;l.current=t.pathname;const d=bp[Math.floor(Math.random()*bp.length)];a(d),s(AL(t.pathname)),n(!0);const h=setTimeout(()=>{n(!1)},800);return()=>clearTimeout(h)},[t.pathname]),o.jsx(Aa,{children:e&&o.jsxs(Je.div,{initial:{x:i.x,y:i.y},animate:{x:0,y:0},exit:{x:i.x==="-100%"?"100%":i.x==="100%"?"-100%":i.x,y:i.y==="-100%"?"100%":i.y==="100%"?"-100%":i.y},transition:{duration:.4,ease:[.22,1,.36,1]},className:"fixed inset-0 z-[9998] flex items-center justify-center bg-white pointer-events-none",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#00000008_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsx(Je.h1,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"text-4xl md:text-6xl font-bold text-gray-900 relative z-10",children:r})]})})}const fw="sakec-acm-preloader-shown";function RL({onComplete:t}){const[e,n]=_.useState(()=>!sessionStorage.getItem(fw));return _.useEffect(()=>{if(e){sessionStorage.setItem(fw,"true");const r=setTimeout(()=>{n(!1),t&&setTimeout(t,200)},2e3);return()=>clearTimeout(r)}else t&&t()},[]),o.jsx(Aa,{children:e&&o.jsxs(Je.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-white",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#00000008_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsxs("div",{className:"flex flex-col items-center gap-6 relative z-10",children:[o.jsx(Je.div,{className:"w-12 h-12 border-4 border-gray-200 border-t-gray-900 rounded-full",animate:{rotate:360},transition:{duration:.8,repeat:1/0,ease:"linear"}}),o.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-center",children:[o.jsx("p",{className:"text-gray-900 font-medium text-lg",children:"Loading"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Please wait..."})]})]})]})})}var F0=function(t,e){return F0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},F0(t,e)};function NN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");F0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vr=function(){return vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vr.apply(this,arguments)};function Di(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function CN(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(i=(s<3?a(i):s>3?a(e,n,i):a(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function TN(t,e){return function(n,r){e(n,r,t)}}function MN(t,e,n,r,s,i){function a(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,f=!1,p=n.length-1;p>=0;p--){var x={};for(var g in r)x[g]=g==="access"?{}:r[g];for(var g in r.access)x.access[g]=r.access[g];x.addInitializer=function(m){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(m||null))};var v=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],x);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=a(v.get))&&(d.get=h),(h=a(v.set))&&(d.set=h),(h=a(v.init))&&s.unshift(h)}else(h=a(v))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),f=!0}function AN(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function jN(t){return typeof t=="symbol"?t:"".concat(t)}function RN(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function PN(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function be(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function kN(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var hf=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function DN(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&hf(e,t,n)}function Nh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pv(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function LN(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pv(arguments[e]));return t}function IN(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)r[s]=i[a];return r}function kv(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Wo(t){return this instanceof Wo?(this.v=t,this):new Wo(t)}function ON(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(p){return function(x){return Promise.resolve(x).then(p,h)}}function l(p,x){r[p]&&(s[p]=function(g){return new Promise(function(v,m){i.push([p,g,v,m])>1||c(p,g)})},x&&(s[p]=x(s[p])))}function c(p,x){try{u(r[p](x))}catch(g){f(i[0][3],g)}}function u(p){p.value instanceof Wo?Promise.resolve(p.value.v).then(d,h):f(i[0][2],p)}function d(p){c("next",p)}function h(p){c("throw",p)}function f(p,x){p(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function UN(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=t[s]?function(a){return(n=!n)?{value:Wo(t[s](a)),done:!1}:i?i(a):a}:i}}function FN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nh=="function"?Nh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(l,c){a=t[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function BN(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var PL=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},B0=function(t){return B0=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},B0(t)};function zN(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=B0(t),r=0;r<n.length;r++)n[r]!=="default"&&hf(e,t,n[r]);return PL(e,t),e}function VN(t){return t&&t.__esModule?t:{default:t}}function HN(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function GN(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function WN(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function $N(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var kL=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function qN(t){function e(i){t.error=t.hasError?new kL(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(a){return e(a),s()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function XN(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,a){return r?e?".jsx":".js":s&&(!i||!a)?n:s+i+"."+a.toLowerCase()+"js"}):t}const DL={__extends:NN,__assign:vr,__rest:Di,__decorate:CN,__param:TN,__esDecorate:MN,__runInitializers:AN,__propKey:jN,__setFunctionName:RN,__metadata:PN,__awaiter:be,__generator:kN,__createBinding:hf,__exportStar:DN,__values:Nh,__read:Pv,__spread:LN,__spreadArrays:IN,__spreadArray:kv,__await:Wo,__asyncGenerator:ON,__asyncDelegator:UN,__asyncValues:FN,__makeTemplateObject:BN,__importStar:zN,__importDefault:VN,__classPrivateFieldGet:HN,__classPrivateFieldSet:GN,__classPrivateFieldIn:WN,__addDisposableResource:$N,__disposeResources:qN,__rewriteRelativeImportExtension:XN},LL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:$N,get __assign(){return vr},__asyncDelegator:UN,__asyncGenerator:ON,__asyncValues:FN,__await:Wo,__awaiter:be,__classPrivateFieldGet:HN,__classPrivateFieldIn:WN,__classPrivateFieldSet:GN,__createBinding:hf,__decorate:CN,__disposeResources:qN,__esDecorate:MN,__exportStar:DN,__extends:NN,__generator:kN,__importDefault:VN,__importStar:zN,__makeTemplateObject:BN,__metadata:PN,__param:TN,__propKey:jN,__read:Pv,__rest:Di,__rewriteRelativeImportExtension:XN,__runInitializers:AN,__setFunctionName:RN,__spread:LN,__spreadArray:kv,__spreadArrays:IN,__values:Nh,default:DL},Symbol.toStringTag,{value:"Module"})),IL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Dv extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class OL extends Dv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pw extends Dv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mw extends Dv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var z0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(z0||(z0={}));class UL{constructor(e,{headers:n={},customFetch:r,region:s=z0.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=IL(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return be(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const x=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let v=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(v=a.signal,d.addEventListener("abort",()=>a.abort())):v=a.signal);const m=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:g,signal:v}).catch(S=>{throw new OL(S)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new pw(m);if(!m.ok)throw new mw(m);let b=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return b==="application/json"?w=yield m.json():b==="application/octet-stream"||b==="application/pdf"?w=yield m.blob():b==="text/event-stream"?w=m:b==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(l){return{data:null,error:l,response:l instanceof mw||l instanceof pw?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Nn={};const ul=xM(LL);var Du={},Lu={},Iu={},Ou={},Uu={},Fu={},gw;function KN(){if(gw)return Fu;gw=1,Object.defineProperty(Fu,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Fu.default=t,Fu}var xw;function YN(){if(xw)return Uu;xw=1,Object.defineProperty(Uu,"__esModule",{value:!0});const e=ul.__importDefault(KN());class n{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let p=null,x=null,g=null,v=c.status,m=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&w&&w.length>1&&(g=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,g=null,v=406,m="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(x=[],p=null,v=200,m="OK")}catch{c.status===404&&b===""?(v=204,m="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,v=200,m="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:x,count:g,status:v,statusText:m}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,f,p,x;let g="";const v=c==null?void 0:c.cause;if(v){const m=(u=v==null?void 0:v.message)!==null&&u!==void 0?u:"",y=(d=v==null?void 0:v.code)!==null&&d!==void 0?d:"";g=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,g+=`

Caused by: ${(f=v==null?void 0:v.name)!==null&&f!==void 0?f:"Error"}: ${m}`,y&&(g+=` (${y})`),v!=null&&v.stack&&(g+=`
${v.stack}`)}else g=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Uu.default=n,Uu}var vw;function JN(){if(vw)return Ou;vw=1,Object.defineProperty(Ou,"__esModule",{value:!0});const e=ul.__importDefault(YN());class n extends e.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ou.default=n,Ou}var yw;function Lv(){if(yw)return Iu;yw=1,Object.defineProperty(Iu,"__esModule",{value:!0});const e=ul.__importDefault(JN()),n=new RegExp("[,()]");class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}regexMatch(i,a){return this.url.searchParams.append(i,`match.${a}`),this}regexIMatch(i,a){return this.url.searchParams.append(i,`imatch.${a}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}isDistinct(i,a){return this.url.searchParams.append(i,`isdistinct.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return Iu.default=r,Iu}var bw;function QN(){if(bw)return Lu;bw=1,Object.defineProperty(Lu,"__esModule",{value:!0});const e=ul.__importDefault(Lv());class n{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Lu.default=n,Lu}var _w;function FL(){if(_w)return Du;_w=1,Object.defineProperty(Du,"__esModule",{value:!0});const t=ul,e=t.__importDefault(QN()),n=t.__importDefault(Lv());class r{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${i}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{f.searchParams.append(g,v)})):(h="POST",p=a);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new n.default({method:h,url:f,headers:x,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Du.default=r,Du}Object.defineProperty(Nn,"__esModule",{value:!0});var ZN=Nn.PostgrestError=cC=Nn.PostgrestBuilder=oC=Nn.PostgrestTransformBuilder=iC=Nn.PostgrestFilterBuilder=rC=Nn.PostgrestQueryBuilder=tC=Nn.PostgrestClient=void 0;const dl=ul,eC=dl.__importDefault(FL());var tC=Nn.PostgrestClient=eC.default;const nC=dl.__importDefault(QN());var rC=Nn.PostgrestQueryBuilder=nC.default;const sC=dl.__importDefault(Lv());var iC=Nn.PostgrestFilterBuilder=sC.default;const aC=dl.__importDefault(JN());var oC=Nn.PostgrestTransformBuilder=aC.default;const lC=dl.__importDefault(YN());var cC=Nn.PostgrestBuilder=lC.default;const uC=dl.__importDefault(KN());ZN=Nn.PostgrestError=uC.default;var dC=Nn.default={PostgrestClient:eC.default,PostgrestQueryBuilder:nC.default,PostgrestFilterBuilder:sC.default,PostgrestTransformBuilder:aC.default,PostgrestBuilder:lC.default,PostgrestError:uC.default};const BL=hS({__proto__:null,get PostgrestBuilder(){return cC},get PostgrestClient(){return tC},get PostgrestError(){return ZN},get PostgrestFilterBuilder(){return iC},get PostgrestQueryBuilder(){return rC},get PostgrestTransformBuilder(){return oC},default:dC},[Nn]),{PostgrestClient:zL,PostgrestQueryBuilder:$W,PostgrestFilterBuilder:qW,PostgrestTransformBuilder:XW,PostgrestBuilder:KW,PostgrestError:YW}=dC||BL;class VL{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const HL="2.86.0",GL=`realtime-js/${HL}`,hC="1.0.0",WL="2.0.0",ww=hC,V0=1e4,$L=1e3,qL=100;var ta;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ta||(ta={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var Dr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dr||(Dr={}));var H0;(function(t){t.websocket="websocket"})(H0||(H0={}));var na;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(na||(na={}));class XL{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(p),g=0;x.setUint8(g++,this.KINDS.userBroadcastPush),x.setUint8(g++,c.length),x.setUint8(g++,l.length),x.setUint8(g++,a.length),x.setUint8(g++,u.length),x.setUint8(g++,h.length),x.setUint8(g++,n),Array.from(c,m=>x.setUint8(g++,m.charCodeAt(0))),Array.from(l,m=>x.setUint8(g++,m.charCodeAt(0))),Array.from(a,m=>x.setUint8(g++,m.charCodeAt(0))),Array.from(u,m=>x.setUint8(g++,m.charCodeAt(0))),Array.from(h,m=>x.setUint8(g++,m.charCodeAt(0)));var v=new Uint8Array(p.byteLength+r.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(r),p.byteLength),v.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,l,c]=r;return n({join_ref:s,ref:i,topic:a,event:l,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+s));c=c+s;const d=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const f=e.slice(c,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,x={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class fC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(xt||(xt={}));const Sw=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=KL(a,t,e,s),i),{}):{}},KL=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?pC(i,a):G0(a)},pC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ZL(e,n)}switch(t){case xt.bool:return YL(e);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return JL(e);case xt.json:case xt.jsonb:return QL(e);case xt.timestamp:return eI(e);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return G0(e);default:return G0(e)}},G0=t=>t,YL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},JL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},QL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ZL=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>pC(e,l))}return t},eI=t=>typeof t=="string"?t.replace(" ","T"):t,mC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class _p{constructor(e,n,r={},s=V0){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ew;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ew||(Ew={}));class oc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oc.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=oc.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=oc.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),x=d.filter(v=>p.indexOf(v.presence_ref)<0),g=h.filter(v=>f.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nw||(Nw={}));var lc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lc||(lc={}));var gs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gs||(gs={}));class Iv{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _p(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new fC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new oc(this),this.broadcastEndpointURL=mC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[lc.PRESENCE]&&this.bindings[lc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(gs.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(gs.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){e==null||e(gs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,m=[];for(let y=0;y<v;y++){const b=g[y],{filter:{event:w,schema:S,table:E,filter:T}}=b,M=p&&p[y];if(M&&M.event===w&&M.schema===S&&M.table===E&&M.filter===T)m.push(Object.assign(Object.assign({},b),{id:M.id}));else{this.unsubscribe(),this.state=Jt.errored,e==null||e(gs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(gs.SUBSCRIBED);return}}).receive("error",p=>{this.state=Jt.errored,e==null||e(gs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Jt.joined&&e===lc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new _p(this,Dr.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _p(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Dr;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,g,v;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var x,g,v,m,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const w=p.id,S=(x=p.filter)===null||x===void 0?void 0:x.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(y=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:g,table:v,commit_timestamp:m,type:y,errors:b}=x;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:m,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(f,r)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Iv.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dr.close,{},e)}_onError(e){this._on(Dr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Sw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Sw(e.columns,e.old_record)),n}}const wp=()=>{},Bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tI=[1e3,2e3,5e3,1e4],nI=1e4,rI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sI{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=V0,this.transport=null,this.heartbeatIntervalMs=Bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wp,this.ref=0,this.reconnectTimer=null,this.vsn=ww,this.logger=wp,this.conn=null,this.sendBuffer=[],this.serializer=new XL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${H0.websocket}`,this.httpEndpoint=mC(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ta.connecting:return na.Connecting;case ta.open:return na.Open;case ta.closing:return na.Closing;default:return na.Closed}}isConnected(){return this.connectionState()===na.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Iv(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($L,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ta.open||this.conn.readyState===ta.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:GL};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Dr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,c,u,d,h,f,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:V0,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Bu.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:wp,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:ww,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:x=>tI[x-1]||nI,this.vsn){case hC:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(x,g)=>g(JSON.stringify(x)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(x,g)=>g(JSON.parse(x));break;case WL:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ff extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iI extends ff{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class W0 extends ff{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Ov=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aI=()=>Response,$0=t=>{if(Array.isArray(t))return t.map(n=>$0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=$0(r)}),e},oI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lI=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Sp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},cI=(t,e,n)=>be(void 0,void 0,void 0,function*(){const r=yield aI();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new iI(Sp(s),i,a))}).catch(s=>{e(new W0(Sp(s),s))}):e(new W0(Sp(t),t))}),uI=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(oI(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function nu(t,e,n,r,s,i){return be(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,uI(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>cI(c,l,r))})})}function kc(t,e,n,r){return be(this,void 0,void 0,function*(){return nu(t,"GET",e,n,r)})}function Pr(t,e,n,r,s){return be(this,void 0,void 0,function*(){return nu(t,"POST",e,r,s,n)})}function q0(t,e,n,r,s){return be(this,void 0,void 0,function*(){return nu(t,"PUT",e,r,s,n)})}function dI(t,e,n,r){return be(this,void 0,void 0,function*(){return nu(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Uv(t,e,n,r,s){return be(this,void 0,void 0,function*(){return nu(t,"DELETE",e,r,s,n)})}class hI{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}var gC;class fI{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[gC]="BlobDownloadBuilder",this.promise=null}asStream(){return new hI(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}gC=Symbol.toStringTag;const pI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mI{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ov(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return be(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Cw),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?q0:Pr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Cw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield q0(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(jt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Pr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new ff("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}update(e,n,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return be(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Pr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return be(this,void 0,void 0,function*(){try{const s=yield Pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>kc(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new fI(c,this.shouldThrowOnError)}info(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield kc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$0(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r)&&r instanceof W0){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}list(e,n,r){return be(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},pI),n),{prefix:e||""});return{data:yield Pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}listV2(e,n){return be(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Pr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const xC="2.86.0",vC={"X-Client-Info":`storage-js/${xC}`};class gI{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vC),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return be(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield kc(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}getBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield kc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}createBucket(e){return be(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return be(this,void 0,void 0,function*(){try{return{data:yield q0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Dc=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xI(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function vI(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function yI(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const l=xI(t.baseUrl,r,s),c=await vI(t.auth),u=await e(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?f:void 0,x=p==null?void 0:p.error;throw new Dc((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function zu(t){return t.join("")}var bI=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zu(t.namespace)}`}),!0}catch(e){if(e instanceof Dc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Dc&&n.status===409)return;throw n}}};function La(t){return t.join("")}var _I=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${La(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${La(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${La(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${La(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${La(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${La(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Dc&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Dc&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},wI=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=yI({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new bI(this.client,e),this.tableOps=new _I(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class SI{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vC),n),this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield Pr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}listBuckets(e){return be(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield kc(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield Uv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}from(e){if(!lI(e))throw new ff("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new wI({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>be(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Fv={"X-Client-Info":`storage-js/${xC}`,"Content-Type":"application/json"};class yC extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Qn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ep extends yC{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class EI extends yC{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Tw;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Tw||(Tw={}));const Bv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Mw=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CI=(t,e,n)=>be(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new Ep(Mw(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Ep(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;e(new Ep(l,s,a))}}else e(new EI(Mw(t),t))}),TI=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(NI(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function MI(t,e,n,r,s,i){return be(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,TI(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>CI(c,l,r))})})}function Zn(t,e,n,r,s){return be(this,void 0,void 0,function*(){return MI(t,"POST",e,r,s,n)})}class AI{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fv),n),this.fetch=Bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return be(this,void 0,void 0,function*(){try{return{data:(yield Zn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return be(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qn(r))return{data:null,error:r};throw r}})}listIndexes(e){return be(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return be(this,void 0,void 0,function*(){try{return{data:(yield Zn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qn(r))return{data:null,error:r};throw r}})}}class jI{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fv),n),this.fetch=Bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return be(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Zn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}getVectors(e){return be(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}listVectors(e){return be(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Zn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}queryVectors(e){return be(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return be(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Zn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}}class RI{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fv),n),this.fetch=Bv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return be(this,void 0,void 0,function*(){try{return{data:(yield Zn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}getBucket(e){return be(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}listBuckets(){return be(this,arguments,void 0,function*(e={}){try{return{data:yield Zn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return be(this,void 0,void 0,function*(){try{return{data:(yield Zn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qn(n))return{data:null,error:n};throw n}})}}class PI extends RI{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new kI(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return be(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return be(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return be(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return be(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class kI extends AI{constructor(e,n,r,s){super(e,n,s),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return be(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return be(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return be(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return be(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new DI(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class DI extends jI{constructor(e,n,r,s,i){super(e,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return be(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return be(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return be(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return be(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return be(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class LI extends gI{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new mI(this.url,this.headers,e,this.fetch)}get vectors(){return new PI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new SI(this.url+"/iceberg",this.headers,this.fetch)}}const II="2.86.0";let Gl="";typeof Deno<"u"?Gl="deno":typeof document<"u"?Gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gl="react-native":Gl="node";const OI={"X-Client-Info":`supabase-js-${Gl}/${II}`},UI={headers:OI},FI={schema:"public"},BI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zI={},VI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HI=()=>Headers,GI=(t,e,n)=>{const r=VI(n),s=HI();return async(i,a)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:u}))}};function WI(t){return t.endsWith("/")?t:t+"/"}function $I(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function qI(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WI(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bC="2.86.0",so=30*1e3,X0=3,Np=X0*so,XI="http://localhost:9999",KI="supabase.auth.token",YI={"X-Client-Info":`gotrue-js/${bC}`},K0="X-Supabase-Api-Version",_C={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QI=10*60*1e3;class Lc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ZI extends Lc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function e6(t){return Te(t)&&t.name==="AuthApiError"}class ra extends Lc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Li extends Lc{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Yn extends Li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t6(t){return Te(t)&&t.name==="AuthSessionMissingError"}class Ia extends Li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vu extends Li{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hu extends Li{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n6(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}class Aw extends Li{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Y0 extends Li{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Cp(t){return Te(t)&&t.name==="AuthRetryableFetchError"}class jw extends Li{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class J0 extends Li{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rw=` 	
\r=`.split(""),r6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rw.length;e+=1)t[Rw[e].charCodeAt(0)]=-2;for(let e=0;e<Ch.length;e+=1)t[Ch[e].charCodeAt(0)]=e;return t})();function Pw(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ch[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ch[r]),e.queuedBits-=6}}function wC(t,e,n){const r=r6[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kw(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{a6(a,r,n)};for(let a=0;a<t.length;a+=1)wC(t.charCodeAt(a),s,i);return e.join("")}function s6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function i6(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}s6(r,e)}}function a6(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function jo(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)wC(t.charCodeAt(s),n,r);return new Uint8Array(e)}function o6(t){const e=[];return i6(t,n=>e.push(n)),new Uint8Array(e)}function ua(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Pw(s,n,r)),Pw(null,n,r),e.join("")}function l6(t){return Math.round(Date.now()/1e3)+t}function c6(){return Symbol("auth-callback")}const un=()=>typeof window<"u"&&typeof document<"u",zi={tested:!1,writable:!1},SC=()=>{if(!un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zi.tested)return zi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zi.tested=!0,zi.writable=!0}catch{zi.tested=!0,zi.writable=!1}return zi.writable};function u6(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const EC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),d6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",io=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Vi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vs=async(t,e)=>{await t.removeItem(e)};class pf{constructor(){this.promise=new pf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}pf.promiseConstructor=Promise;function Tp(t){const e=t.split(".");if(e.length!==3)throw new J0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!JI.test(e[r]))throw new J0("JWT not in base64url format");return{header:JSON.parse(kw(e[0])),payload:JSON.parse(kw(e[1])),signature:jo(e[2]),raw:{header:e[0],payload:e[1]}}}async function h6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function f6(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function p6(t){return("0"+t.toString(16)).substr(-2)}function m6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,p6).join("")}async function g6(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function x6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await g6(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oa(t,e,n=!1){const r=m6();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await io(t,`${e}-code-verifier`,s);const i=await x6(r);return[i,r===i?"plain":"s256"]}const v6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y6(t){const e=t.headers.get(K0);if(!e||!e.match(v6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function b6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ua(t){if(!w6.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function S6(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Dw(t){return JSON.parse(JSON.stringify(t))}const Zi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E6=[502,503,504];async function Lw(t){var e;if(!d6(t))throw new Y0(Zi(t),0);if(E6.includes(t.status))throw new Y0(Zi(t),t.status);let n;try{n=await t.json()}catch(i){throw new ra(Zi(i),i)}let r;const s=y6(t);if(s&&s.getTime()>=_C["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jw(Zi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new jw(Zi(n),t.status,n.weak_password.reasons);throw new ZI(Zi(n),t.status||500,r)}const N6=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Le(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[K0]||(i[K0]=_C["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await C6(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function C6(t,e,n,r,s,i){const a=N6(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new Y0(Zi(c),0)}if(l.ok||await Lw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Lw(c)}}function Ar(t){var e;let n=null;A6(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=l6(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Iw(t){const e=Ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function si(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function T6(t){return{data:t,error:null}}function M6(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=Di(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ow(t){return t}function A6(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ap=["global","local","others"];class j6{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=EC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ap[0]){if(Ap.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ap.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:si})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Di(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:M6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:si})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ow});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ua(e);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:si})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ua(e);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:si})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ua(e);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:si})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ua(e.userId);try{const{data:n,error:r}=await Le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ua(e.userId),Ua(e.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ow});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Te(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function Uw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Fa={debug:!!(globalThis&&SC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class R6 extends NC{}async function P6(t,e,n){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new R6(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function k6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function CC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function D6(t){return parseInt(t,16)}function L6(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function I6(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=CC(t.address),x=d?`${d}://${r}`:r,g=t.statement?`${t.statement}
`:"",v=`${x} wants you to sign in with your Ethereum account:
${p}

${g}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),l&&(m+=`
Not Before: ${l.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}m+=y}return`${v}
${m}`}class $t extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Th extends $t{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function O6({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new $t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new $t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new $t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new $t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new $t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new $t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(TC(a)){if(i.rp.id!==a)return new $t({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new $t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function U6({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new $t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new $t({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(TC(r)){if(n.rpId!==r)return new $t({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class F6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const B6=new F6;function z6(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=Di(t,["challenge","user","excludeCredentials"]),i=jo(e).buffer,a=Object.assign(Object.assign({},n),{id:jo(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:jo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function V6(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Di(t,["challenge","allowCredentials"]),s=jo(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:jo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function H6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ua(new Uint8Array(t.response.attestationObject)),clientDataJSON:ua(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function G6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ua(new Uint8Array(s.authenticatorData)),clientDataJSON:ua(new Uint8Array(s.clientDataJSON)),signature:ua(new Uint8Array(s.signature)),userHandle:s.userHandle?ua(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function TC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Fw(){var t,e;return!!(un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function W6(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Th("Browser returned unexpected credential type",e)}:{data:null,error:new Th("Empty credential response",e)}}catch(e){return{data:null,error:O6({error:e,options:t})}}}async function $6(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Th("Browser returned unexpected credential type",e)}:{data:null,error:new Th("Empty credential response",e)}}catch(e){return{data:null,error:U6({error:e,options:t})}}}const q6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},X6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mh(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const l=r[i];e(l)?r[i]=Mh(l,a):r[i]=Mh(a)}else r[i]=a}return r}function K6(t,e){return Mh(q6,t,e||{})}function Y6(t,e){return Mh(X6,t,e||{})}class J6{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const c=s??B6.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=K6(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await W6({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Y6(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await $6(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Te(a)?{data:null,error:a}:{data:null,error:new ra("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Lc("rpId is required for WebAuthn authentication")};try{if(!Fw())return{data:null,error:new ra("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Te(a)?{data:null,error:a}:{data:null,error:new ra("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Lc("rpId is required for WebAuthn registration")};try{if(!Fw())return{data:null,error:new ra("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Te(a)?{data:null,error:a}:{data:null,error:new ra("Unexpected error in register",a)}}}}k6();const Q6={url:XI,storageKey:KI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Bw(t,e,n){return await n()}const Ba={};class Ic{get jwks(){var e,n;return(n=(e=Ba[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ba[this.storageKey]=Object.assign(Object.assign({},Ba[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ba[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ba[this.storageKey]=Object.assign(Object.assign({},Ba[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Q6),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Ic.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ic.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&un()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new j6({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=EC(i.fetch),this.lock=i.lock||Bw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:un()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=P6:this.lock=Bw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new J6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:SC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Uw(this.memoryStorage)),un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(un()&&(n=u6(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),un()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),n6(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?this._returnResult({error:n}):this._returnResult({error:new ra("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ar}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Oa(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:Ar})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ar})}else throw new Vu("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Iw})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Iw})}else throw new Vu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Ia;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,l,c,u,d,h,f;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:g,wallet:v,statement:m,options:y}=e;let b;if(un())if(typeof v=="object")b=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")b=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=CC(S[0]);let T=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const C=await b.request({method:"eth_chainId"});T=D6(C)}const M={domain:w.host,address:E,statement:m,uri:w.href,version:"1",chainId:T,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=I6(M),x=await b.request({method:"personal_sign",params:[L6(p),E]})}try{const{data:g,error:v}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ar});if(v)throw v;if(!g||!g.session||!g.user){const m=new Ia;return this._returnResult({data:{user:null,session:null},error:m})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Te(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var n,r,s,i,a,l,c,u,d,h,f,p;let x,g;if("message"in e)x=e.message,g=e.signature;else{const{chain:v,wallet:m,statement:y,options:b}=e;let w;if(un())if(typeof m=="object")w=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))w=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const E=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)x=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),g=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:v,error:m}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ua(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ar});if(m)throw m;if(!v||!v.session||!v.user){const y=new Ia;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:m})}catch(v){if(Te(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ar});if(await Vs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new Ia;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ar}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ia;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Oa(this.storage,this.storageKey));const{error:h}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Vu("You must provide either an email or phone number.")}catch(l){if(Te(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ar});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Oa(this.storage,this.storageKey));const u=await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:T6});return!((i=u.data)===null||i===void 0)&&i.url&&un()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(Te(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Yn;const{error:s}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await Le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Vu("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Vi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Np:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Vi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Mp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=S6(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:si}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:si})})}catch(n){if(Te(n))return t6(n)&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Yn;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Oa(this.storage,this.storageKey));const{data:u,error:d}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:si});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(Te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Tp(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Yn;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!un())throw new Hu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Aw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Aw("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Hu("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=so&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Vi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(e6(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Vs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=c6(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Oa(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Te(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return un()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Te(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=e,h=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ar}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ia}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(Te(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await f6(async s=>(s>0&&await h6(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ar})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Cp(i)&&Date.now()+a-r<so})}catch(r){if(this._debug(n,"error",r),Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),un()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Vi(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Vi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await io(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Mp()}else if(s&&!s.user&&!s.user){const a=await Vi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Vs(this.storage,this.storageKey+"-user"),await io(this.storage,this.storageKey,s)):s.user=Mp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Np;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Np}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Cp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pf;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Te(i)){const a={data:null,error:i};return Cp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await io(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Dw(s);await io(this.storage,this.storageKey,i)}else{const s=Dw(n);await io(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Vs(this.storage,this.storageKey),await Vs(this.storage,this.storageKey+"-code-verifier"),await Vs(this.storage,this.storageKey+"-user"),this.userStorage&&await Vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),so);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/so);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${so}ms, refresh threshold is ${X0} ticks`),s<=X0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof NC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Oa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await Le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?H6(e.webauthn.credential_response):G6(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:z6(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:V6(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tp(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Le(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Yn});const a=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&un()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Yn});const a=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&un()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(e){if(Te(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+QI>s)return r;const{data:i,error:a}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Tp(r);n!=null&&n.allowExpired||b6(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const d=_6(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,o6(`${l}.${c}`)))throw new J0("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}}Ic.nextInstanceID={};const Z6=Ic;class eO extends Z6{constructor(e){super(e)}}class tO{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const l=qI(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:FI,realtime:zI,auth:Object.assign(Object.assign({},BI),{storageKey:c}),global:UI},d=$I(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=GI(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new zL(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new LI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new UL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eO({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sI(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const MC=(t,e,n)=>new tO(t,e,n);function nO(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");console.warn("Supabase environment variables are not set. Some features may not work.");const Q=MC("https://placeholder.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBsYWNlaG9sZGVyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDUxOTI4MDAsImV4cCI6MTk2MDc2ODgwMH0.placeholder");function zw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=zw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():zw(t[s],null)}}}}function Ra(...t){return _.useCallback(mf(...t),t)}var rO=Symbol.for("react.lazy"),Ah=Oh[" use ".trim().toString()];function sO(t){return typeof t=="object"&&t!==null&&"then"in t}function AC(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===rO&&"_payload"in t&&sO(t._payload)}function iO(t){const e=aO(t),n=_.forwardRef((r,s)=>{let{children:i,...a}=r;AC(i)&&typeof Ah=="function"&&(i=Ah(i._payload));const l=_.Children.toArray(i),c=l.find(lO);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var jC=iO("Slot");function aO(t){const e=_.forwardRef((n,r)=>{let{children:s,...i}=n;if(AC(s)&&typeof Ah=="function"&&(s=Ah(s._payload)),_.isValidElement(s)){const a=uO(s),l=cO(i,s.props);return s.type!==_.Fragment&&(l.ref=r?mf(r,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oO=Symbol("radix.slottable");function lO(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oO}function cO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function RC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=RC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function PC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=RC(t))&&(r&&(r+=" "),r+=e);return r}const Vw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Hw=PC,kC=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Hw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=Vw(d)||Vw(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,h,f]:u},[]);return Hw(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},zv="-",dO=t=>{const e=fO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(zv);return l[0]===""&&l.length!==1&&l.shift(),DC(l,e)||hO(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},DC=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?DC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(zv);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Gw=/^\[(.+)\]$/,hO=t=>{if(Gw.test(t)){const e=Gw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},fO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return mO(Object.entries(t.classGroups),n).forEach(([i,a])=>{Q0(a,r,i,e)}),r},Q0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ww(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(pO(s)){Q0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Q0(a,Ww(e,i),n,r)})})},Ww=(t,e)=>{let n=t;return e.split(zv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pO=t=>t.isThemeGetter,mO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,gO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},LC="!",xO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let m=l[v];if(u===0){if(m===s&&(r||l.slice(v,v+i)===e)){c.push(l.slice(d,v)),d=v+i;continue}if(m==="/"){h=v;continue}}m==="["?u++:m==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(LC),x=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},vO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yO=t=>({cache:gO(t.cacheSize),parseClassName:xO(t),...dO(t)}),bO=/\s+/,_O=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(bO);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let x=!!p,g=r(x?f.substring(0,p):f);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=vO(d).join(":"),m=h?v+LC:v,y=m+g;if(i.includes(y))continue;i.push(y);const b=s(g,x);for(let w=0;w<b.length;++w){const S=b[w];i.push(m+S)}l=u+(l.length>0?" "+l:l)}return l};function wO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IC(e))&&(r&&(r+=" "),r+=n);return r}const IC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IC(t[r]))&&(n&&(n+=" "),n+=e);return n};function SO(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=yO(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=_O(c,n);return s(c,d),d}return function(){return i(wO.apply(null,arguments))}}const bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OC=/^\[(?:([a-z-]+):)?(.+)\]$/i,EO=/^\d+\/\d+$/,NO=new Set(["px","full","screen"]),CO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,os=t=>Ro(t)||NO.has(t)||EO.test(t),Hs=t=>hl(t,"length",UO),Ro=t=>!!t&&!Number.isNaN(Number(t)),jp=t=>hl(t,"number",Ro),Ml=t=>!!t&&Number.isInteger(Number(t)),RO=t=>t.endsWith("%")&&Ro(t.slice(0,-1)),qe=t=>OC.test(t),Gs=t=>CO.test(t),PO=new Set(["length","size","percentage"]),kO=t=>hl(t,PO,UC),DO=t=>hl(t,"position",UC),LO=new Set(["image","url"]),IO=t=>hl(t,LO,BO),OO=t=>hl(t,"",FO),Al=()=>!0,hl=(t,e,n)=>{const r=OC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UO=t=>TO.test(t)&&!MO.test(t),UC=()=>!1,FO=t=>AO.test(t),BO=t=>jO.test(t),zO=()=>{const t=bt("colors"),e=bt("spacing"),n=bt("blur"),r=bt("brightness"),s=bt("borderColor"),i=bt("borderRadius"),a=bt("borderSpacing"),l=bt("borderWidth"),c=bt("contrast"),u=bt("grayscale"),d=bt("hueRotate"),h=bt("invert"),f=bt("gap"),p=bt("gradientColorStops"),x=bt("gradientColorStopPositions"),g=bt("inset"),v=bt("margin"),m=bt("opacity"),y=bt("padding"),b=bt("saturate"),w=bt("scale"),S=bt("sepia"),E=bt("skew"),T=bt("space"),M=bt("translate"),C=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",qe,e],k=()=>[qe,e],U=()=>["",os,Hs],G=()=>["auto",Ro,qe],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",qe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Ro,qe];return{cacheSize:500,separator:":",theme:{colors:[Al],spacing:[os,Hs],blur:["none","",Gs,qe],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Gs,qe],borderSpacing:k(),borderWidth:U(),contrast:ne(),grayscale:z(),hueRotate:ne(),invert:z(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[RO,Hs],inset:j(),margin:j(),opacity:ne(),padding:k(),saturate:ne(),scale:ne(),sepia:z(),skew:ne(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[Gs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),qe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ml,qe]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Ml,qe]}],"grid-cols":[{"grid-cols":[Al]}],"col-start-end":[{col:["auto",{span:["full",Ml,qe]},qe]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Al]}],"row-start-end":[{row:["auto",{span:[Ml,qe]},qe]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,e]}],"min-w":[{"min-w":[qe,e,"min","max","fit"]}],"max-w":[{"max-w":[qe,e,"none","full","min","max","fit","prose",{screen:[Gs]},Gs]}],h:[{h:[qe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gs,Hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jp]}],"font-family":[{font:[Al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Ro,jp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",os,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",os,Hs]}],"underline-offset":[{"underline-offset":["auto",os,qe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),DO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[os,qe]}],"outline-w":[{outline:[os,Hs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[os,Hs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Gs,OO]}],"shadow-color":[{shadow:[Al]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gs,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ml,qe]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[os,Hs,jp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VO=SO(zO);function en(...t){return VO(PC(t))}function HO(t){const e=new Date(t);return new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(e)}const GO=kC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function On({className:t,variant:e,size:n,asChild:r=!1,...s}){const i=r?jC:"button";return o.jsx(i,{"data-slot":"button",className:en(GO({variant:e,size:n,className:t})),...s})}function WO(){const[t,e]=_.useState(null),[n,r]=_.useState(!1),[s,i]=_.useState(""),[a,l]=_.useState("idle"),[c,u]=_.useState("");_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:p,error:x}=await Q.from("announcements").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).single();if(x&&x.code!=="PGRST116")throw x;p&&(sessionStorage.getItem(`announcement_seen_${p.id}`)||(e(p),setTimeout(()=>r(!0),2e3)))}catch(p){console.error("Error checking announcements:",p)}},h=()=>{r(!1),t&&sessionStorage.setItem(`announcement_seen_${t.id}`,"true")},f=async p=>{if(p.preventDefault(),!!s){l("loading");try{const{error:x}=await Q.from("newsletter_subscribers").insert([{email:s}]);if(x)if(x.code==="23505")l("success"),u("You are already subscribed!");else throw x;else l("success"),u("Successfully subscribed!");setTimeout(()=>{h()},2e3)}catch(x){console.error("Error subscribing:",x),l("error"),u("Failed to subscribe. Please try again.")}}};return t?o.jsx(Aa,{children:n&&o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 pointer-events-none",children:[o.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/40 backdrop-blur-md pointer-events-auto",onClick:h}),o.jsxs(Je.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative backdrop-blur-xl bg-white/95 border border-black/10 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden pointer-events-auto",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-br from-blue-500/10 via-purple-500/10 to-pink-500/10"}),o.jsx("button",{onClick:h,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition-colors z-10 bg-white/50 hover:bg-white/80 rounded-full p-1.5",children:o.jsx(jn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative p-6 pt-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg mx-auto",children:o.jsx(QD,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.content})]}),t.has_input&&o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"email",value:s,onChange:p=>i(p.target.value),placeholder:t.input_placeholder||"Enter your email",className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all shadow-sm",required:!0})}),a==="error"&&o.jsx("p",{className:"text-red-600 text-sm text-center bg-red-50 py-2 rounded-lg",children:c}),a==="success"&&o.jsx("p",{className:"text-green-600 text-sm text-center bg-green-50 py-2 rounded-lg",children:c}),o.jsx(On,{type:"submit",disabled:a==="loading"||a==="success",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-6 rounded-xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a==="loading"?"Processing...":a==="success"?"Subscribed!":o.jsxs(o.Fragment,{children:[t.input_button_label||"Subscribe",o.jsx(Ds,{className:"w-4 h-4 ml-2"})]})})]}),!t.has_input&&o.jsx(On,{onClick:h,className:"w-full bg-gray-900 hover:bg-gray-800 text-white font-semibold py-3 rounded-xl shadow-md hover:shadow-lg transition-all",children:"Close"})]})]})]})}):null}const $O="https://sakec.acm.org/api",Gu={position:"bottom-right",imageUrl:"/logo.png",showDelay:5e3,showAgainAfterDays:7};function qO(){const[t,e]=_.useState(!1),[n,r]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(!1),[c,u]=_.useState("");_.useEffect(()=>{const x=localStorage.getItem("newsletter-popup-closed");if(x&&(Date.now()-parseInt(x))/864e5<Gu.showAgainAfterDays||localStorage.getItem("newsletter-subscribed"))return;const v=setTimeout(()=>{e(!0)},Gu.showDelay);return()=>clearTimeout(v)},[]);const d=()=>{e(!1),localStorage.setItem("newsletter-popup-closed",Date.now().toString())},h=async x=>{x.preventDefault(),i(!0),u("");try{const v=await(await fetch(`${$O}/newsletter-subscribe.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).json();v.success?(l(!0),localStorage.setItem("newsletter-subscribed","true"),setTimeout(()=>{e(!1)},3e3)):u(v.message||"Failed to subscribe")}catch{u("Network error. Please try again.")}finally{i(!1)}},f=()=>"items-end justify-end p-4 md:p-6",p=()=>({initial:{opacity:0,y:100,x:100},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:100,x:100}});return o.jsx(Aa,{children:t&&o.jsxs(o.Fragment,{children:[Gu.position==="center",o.jsx("div",{className:`fixed inset-0 pointer-events-none z-50 flex ${f()}`,children:o.jsxs(Je.div,{...p(),transition:{type:"spring",damping:25,stiffness:300},className:"pointer-events-auto bg-white border-2 border-black shadow-2xl relative w-full max-w-sm",children:[o.jsx("button",{onClick:d,className:"absolute top-3 right-3 p-1.5 bg-white hover:bg-gray-100 rounded-full transition-colors z-20 border border-gray-300 shadow-sm","aria-label":"Close",title:"Close",children:o.jsx(jn,{className:"w-4 h-4 text-gray-700 hover:text-gray-900"})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-20 h-20 bg-black rounded-full flex items-center justify-center",children:o.jsx("img",{src:Gu.imageUrl,alt:"SAKEC ACM",className:"w-16 h-16 object-contain"})})}),a?o.jsxs("div",{className:"text-center py-4",children:[o.jsx(An,{className:"w-12 h-12 text-black mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"You're Subscribed!"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Check your email for confirmation."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 bg-black rounded-full mb-3",children:o.jsx(cn,{className:"w-5 h-5 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:"Stay Updated"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Get the latest events and tech insights"})]}),c&&o.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-start gap-2",children:[o.jsx(Vr,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-xs text-red-700",children:c})]}),o.jsxs("form",{onSubmit:h,className:"space-y-3",children:[o.jsx("input",{type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"Enter your email",required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-black transition-colors text-sm"}),o.jsx("button",{type:"submit",disabled:s,className:"w-full px-4 py-2.5 bg-black text-white font-semibold hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm",children:s?"Subscribing...":"Subscribe"})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center mt-3",children:"We respect your privacy. Unsubscribe anytime."})]})]}),o.jsx("div",{className:"h-1 bg-black"})]})})]})})}const XO=({content:t,contentClassName:e})=>{const[n,r]=Lo.useState(0),s=_.useRef(null),{scrollYProgress:i}=tu({target:s,offset:["start 0.1","end 0.5"]}),a=t.length;mD(i,"change",d=>{const h=t.map((p,x)=>x/a),f=h.reduce((p,x,g)=>Math.abs(d-x)<Math.abs(d-h[p])?g:p,0);r(f)});const l=["linear-gradient(to bottom right, #06b6d4, #10b981)","linear-gradient(to bottom right, #ec4899, #6366f1)","linear-gradient(to bottom right, #f97316, #eab308)","linear-gradient(to bottom right, #8b5cf6, #ec4899)"],[c,u]=_.useState(l[0]);return _.useEffect(()=>{u(l[n%l.length])},[n]),o.jsxs("div",{ref:s,className:"relative flex flex-col lg:flex-row gap-6 lg:gap-20 py-0 lg:py-10",children:[o.jsx("div",{className:"hidden lg:block lg:w-1/2 space-y-32",children:t.map((d,h)=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(Je.h2,{animate:{opacity:n===h?1:.3},transition:{duration:.3},className:"text-5xl font-bold text-gray-900",children:d.title}),o.jsx(Je.p,{animate:{opacity:n===h?1:.3},transition:{duration:.3},className:"text-xl text-gray-700 leading-relaxed",children:d.description})]},d.title+h))}),o.jsx("div",{className:"hidden lg:block lg:w-1/2",children:o.jsx("div",{className:"sticky top-32",children:o.jsx(Je.div,{style:{background:c},animate:{opacity:1},transition:{duration:.5},className:en("h-[500px] w-full overflow-hidden rounded-3xl shadow-2xl",e),children:t[n].content??null})})}),o.jsx("div",{className:"lg:hidden w-full space-y-8",children:t.map((d,h)=>o.jsx("div",{style:{background:l[h%l.length]},className:"h-[350px] w-full overflow-hidden rounded-3xl shadow-2xl",children:d.content},`mobile-${h}`))})]})},KO=[{title:"Trekking & Adventure Events",description:"Experience thrilling outdoor adventures and team-building activities. Join us for memorable treks, explore scenic trails, and bond with fellow ACM members in nature.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_group.JPG",alt:"Trekking Events",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(Wn,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Trekking Events"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Adventures  Team Building"})]})]})},{title:"Vibrant Community",description:"Network with peers, mentors, and industry professionals. Build lasting connections and engage in collaborative learning and peer-to-peer mentorship.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/CSRA%20-Gaushala/csrGaushala2.jpg",alt:"Community",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(ft,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Community"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Network  Collaborate"})]})]})},{title:"Learning & Development",description:"Access exclusive resources, tutorials, and mentorship programs. Stay ahead with cutting-edge courses, certifications, and hands-on training sessions.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/PYTHON%20PROGRAMMING%20LEARN%20IT%20WELL%20(PP)/python4.jpg",alt:"Learning",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(ZD,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Learning"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Resources  Mentorship"})]})]})},{title:"Recognition & Achievements",description:"Showcase your talents and earn certificates, awards, and prizes. Build a strong portfolio that stands out to employers and demonstrates your capabilities.",content:o.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Triumph/triumph4.jpg",alt:"Recognition",className:"h-full w-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex flex-col items-center justify-end p-4 lg:p-8 text-white",children:[o.jsx(Eh,{className:"w-8 h-8 lg:w-16 lg:h-16 mb-2 lg:mb-4"}),o.jsx("h3",{className:"text-sm lg:text-3xl font-bold mb-1 lg:mb-2",children:"Recognition"}),o.jsx("p",{className:"text-center text-xs lg:text-sm opacity-90",children:"Certificates  Awards"})]})]})}];function YO(){return o.jsx("div",{className:"w-full",children:o.jsx(XO,{content:KO})})}const JO=({children:t,className:e,containerClassName:n})=>{let r=I0(0),s=I0(0);const i={light:{default:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%23d4d4d4' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`,hover:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%236366f1' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`},dark:{default:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%23333333' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`,hover:`url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='16' height='16' fill='none'%3E%3Ccircle fill='%23B19EEF' id='pattern-circle' cx='10' cy='10' r='2.5'%3E%3C/circle%3E%3C/svg%3E")`}};function a({currentTarget:l,clientX:c,clientY:u}){if(!l)return;let{left:d,top:h}=l.getBoundingClientRect();r.set(c-d),s.set(u-h)}return o.jsxs("div",{className:en("group relative flex h-[40rem] w-full items-center justify-center bg-transparent dark:bg-transparent",n),onMouseMove:a,children:[o.jsx("div",{className:"pointer-events-none absolute inset-0 dark:hidden",style:{backgroundImage:i.light.default}}),o.jsx("div",{className:"pointer-events-none absolute inset-0 hidden dark:block",style:{backgroundImage:i.dark.default}}),o.jsx(Je.div,{className:"pointer-events-none absolute inset-0 opacity-0 transition duration-300 group-hover:opacity-100 dark:hidden",style:{backgroundImage:i.light.hover,WebkitMaskImage:Pu`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `,maskImage:Pu`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `}}),o.jsx(Je.div,{className:"pointer-events-none absolute inset-0 hidden opacity-0 transition duration-300 group-hover:opacity-100 dark:block",style:{backgroundImage:i.dark.hover,WebkitMaskImage:Pu`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `,maskImage:Pu`
            radial-gradient(
              200px circle at ${r}px ${s}px,
              black 0%,
              transparent 100%
            )
          `}}),o.jsx("div",{className:en("relative z-20",e),children:t})]})},QO=({texts:t,className:e="",typingSpeed:n=100,deletingSpeed:r=50,delayBetweenTexts:s=1e4})=>{const[i,a]=_.useState(0),[l,c]=_.useState(""),[u,d]=_.useState(!1),[h,f]=_.useState(!1);return _.useEffect(()=>{const p=t[i];if(h){const g=setTimeout(()=>{f(!1),d(!0)},s);return()=>clearTimeout(g)}if(!u&&l===p){f(!0);return}if(u&&l===""){d(!1),a(g=>(g+1)%t.length);return}const x=setTimeout(()=>{c(u?p.substring(0,l.length-1):p.substring(0,l.length+1))},u?r:n);return()=>clearTimeout(x)},[l,i,u,h,t,n,r,s]),o.jsxs("span",{className:e,children:[l,o.jsx("span",{className:"animate-pulse",children:"|"})]})},ZO=({words:t,className:e="",cursorClassName:n=""})=>{const r=t.map(d=>d.text),[s,i]=_.useState(0),[a,l]=_.useState(""),[c,u]=_.useState(!1);return _.useEffect(()=>{if(s>=t.length){u(!0);return}const d=r[s];if(a.length<d.length){const h=setTimeout(()=>{l(d.substring(0,a.length+1))},100);return()=>clearTimeout(h)}else{const h=setTimeout(()=>{i(f=>f+1),l("")},300);return()=>clearTimeout(h)}},[a,s,r,t.length]),o.jsx("div",{className:`flex space-x-1 my-6 ${e}`,children:t.map((d,h)=>h<s?o.jsx("div",{className:`text-2xl md:text-4xl lg:text-5xl font-bold ${d.className||"text-gray-900"}`,children:d.text},h):h===s?o.jsxs("div",{className:`text-2xl md:text-4xl lg:text-5xl font-bold ${d.className||"text-gray-900"}`,children:[a,!c&&o.jsx("span",{className:`inline-block w-0.5 h-8 md:h-12 bg-gray-900 animate-pulse ml-1 ${n}`})]},h):null)})};function eU(){return o.jsx(JO,{containerClassName:"h-auto py-20 md:py-32 bg-transparent dark:bg-transparent",children:o.jsx("div",{className:"max-w-5xl mx-auto px-4",children:o.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:[20,-5,0]},transition:{duration:.5,ease:[.4,0,.2,1]},className:"text-center",children:[o.jsx("div",{className:"inline-block mb-3 md:mb-4",children:o.jsx("span",{className:"text-xs md:text-sm font-semibold tracking-wider text-gray-400 uppercase",children:"Why Choose ACM"})}),o.jsx("div",{className:"mb-6",children:o.jsx(ZO,{words:[{text:"Your"},{text:"Gateway"},{text:"to"},{text:"Tech",className:"text-blue-500 dark:text-blue-500"},{text:"Excellence",className:"text-blue-500 dark:text-blue-500"}],className:"justify-center"})}),o.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-400 max-w-3xl mx-auto leading-relaxed mb-8",children:"SAKEC ACM Student Chapter is more than just a clubit's a launchpad for your tech career. We provide the tools, connections, and opportunities you need to succeed."}),o.jsx(On,{asChild:!0,size:"lg",className:"bg-white text-black hover:bg-gray-200 group",children:o.jsxs(wt,{to:"/why-join",children:["Learn More",o.jsx(SN,{className:"ml-2 w-4 h-4 group-hover:rotate-12 transition-transform"})]})})]})})})}const tU=({titleComponent:t,children:e})=>{const n=_.useRef(null),{scrollYProgress:r}=tu({target:n}),[s,i]=Lo.useState(!1);Lo.useEffect(()=>{const d=()=>{i(window.innerWidth<=768)};return d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]);const a=()=>s?[.7,.9]:[1.05,1],l=Cn(r,[0,1],[20,0]),c=Cn(r,[0,1],a()),u=Cn(r,[0,1],[0,-100]);return o.jsx("div",{className:"h-[60rem] md:h-[80rem] flex items-center justify-center relative p-2 md:p-20",ref:n,children:o.jsxs("div",{className:"py-10 md:py-40 w-full relative",style:{perspective:"1000px"},children:[o.jsx(nU,{translate:u,titleComponent:t}),o.jsx(rU,{rotate:l,translate:u,scale:c,children:e})]})})},nU=({translate:t,titleComponent:e})=>o.jsx(Je.div,{style:{translateY:t},className:"div max-w-5xl mx-auto text-center",children:e}),rU=({rotate:t,scale:e,children:n})=>o.jsx(Je.div,{style:{rotateX:t,scale:e,boxShadow:"0 0 #0000004d, 0 9px 20px #0000004a, 0 37px 37px #00000042, 0 84px 50px #00000026, 0 149px 60px #0000000a, 0 233px 65px #00000003"},className:"max-w-5xl -mt-12 mx-auto h-[30rem] md:h-[40rem] w-full border-4 border-[#6C6C6C] p-2 md:p-6 bg-[#222222] rounded-[30px] shadow-2xl",children:o.jsx("div",{className:" h-full w-full  overflow-hidden rounded-2xl bg-gray-100 dark:bg-zinc-900 md:rounded-2xl md:p-4 ",children:n})}),Rp=["https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/blog-photos/treak_group.JPG","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Trek%20to%20'Kothaligadh%20Fort'/trek2020_1.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/PYTHON%20PROGRAMMING%20LEARN%20IT%20WELL%20(PP)/python4.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Triumph/triumph4.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Android/an3.jpg","https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/IoT%20(1)/iot3.jpg"];function sU(){const[t,e]=_.useState(0);return _.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%Rp.length)},3e3);return()=>clearInterval(n)},[]),o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[o.jsx(tU,{titleComponent:o.jsx(o.Fragment,{children:o.jsxs("h1",{className:"text-4xl font-semibold text-black",children:["Ready to Start Your ",o.jsx("br",{}),o.jsx("span",{className:"text-4xl md:text-[6rem] font-bold mt-1 leading-none text-black",children:"Journey?"})]})}),children:o.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-2xl",children:[o.jsx(Aa,{mode:"wait",children:o.jsx(Je.img,{src:Rp[t],alt:"SAKEC ACM Student Chapter",height:720,width:1400,className:"mx-auto rounded-2xl object-cover h-full w-full object-center",draggable:!1,initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.7}},t)}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-10",children:Rp.map((n,r)=>o.jsx("button",{onClick:()=>e(r),className:`w-2 h-2 rounded-full transition-all ${r===t?"bg-white w-6":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${r+1}`},r))})]})}),o.jsx("div",{className:"flex justify-center -mt-32 md:-mt-40 relative z-20 pointer-events-auto",children:o.jsx(On,{asChild:!0,size:"lg",className:"bg-black hover:bg-gray-900 text-white text-lg px-12 py-6 shadow-2xl pointer-events-auto border-2 border-white",children:o.jsx(wt,{to:"/contact",children:"Join Now"})})})]})}const jl={duration:0,ease:"linear"},iU=["Empowering students through Innovation and Collaboration","Building tomorrow's tech leaders with hands-on experience","Join us in advancing computing as a science and profession","Creating a community of innovators and problem solvers","Transforming ideas into reality through technology"],aU=({pathLengths:t,title:e,className:n})=>o.jsxs("div",{className:en("sticky top-80",n),children:[o.jsx("p",{className:"text-lg md:text-7xl font-bold pb-4 text-center bg-clip-text text-transparent bg-gradient-to-b from-gray-900 to-gray-700",children:e||"Build with Aceternity UI"}),o.jsx("div",{className:"text-xs md:text-xl font-normal text-center text-gray-700 mt-4 max-w-2xl mx-auto min-h-[60px] md:min-h-[80px] flex items-center justify-center px-4",children:o.jsx(QO,{texts:iU,className:"text-xs md:text-xl font-normal text-gray-700",typingSpeed:80,deletingSpeed:40,delayBetweenTexts:1e4})}),o.jsx("div",{className:"w-full h-[890px] -top-60 md:-top-40  flex items-center justify-center bg-transparent absolute z-50 pointer-events-none",children:o.jsxs(wt,{to:"/contact",className:"group relative font-bold bg-black text-white rounded-full md:px-8 md:py-4 px-6 py-3 md:mt-24 mt-8 md:text-lg text-sm w-fit mx-auto transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-black/50 block overflow-hidden pointer-events-auto border-2 border-white",children:[o.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Join Now",o.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),o.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})}),o.jsxs("svg",{width:"1440",height:"890",viewBox:"0 0 1440 890",xmlns:"http://www.w3.org/2000/svg",className:" absolute -top-60  md:-top-40 w-full",children:[o.jsx(Je.path,{d:"M0 663C145.5 663 191 666.265 269 647C326.5 630 339.5 621 397.5 566C439 531.5 455 529.5 490 523C509.664 519.348 521 503.736 538 504.236C553.591 504.236 562.429 514.739 584.66 522.749C592.042 525.408 600.2 526.237 607.356 523.019C624.755 515.195 641.446 496.324 657 496.735C673.408 496.735 693.545 519.572 712.903 526.769C718.727 528.934 725.184 528.395 730.902 525.965C751.726 517.115 764.085 497.106 782 496.735C794.831 496.47 804.103 508.859 822.469 518.515C835.13 525.171 850.214 526.815 862.827 520.069C875.952 513.049 889.748 502.706 903.5 503.736C922.677 505.171 935.293 510.562 945.817 515.673C954.234 519.76 963.095 522.792 972.199 524.954C996.012 530.611 1007.42 534.118 1034 549C1077.5 573.359 1082.5 594.5 1140 629C1206 670 1328.5 662.5 1440 662.5",stroke:"#FFB7C5",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[0]},transition:jl}),o.jsx(Je.path,{d:"M0 587.5C147 587.5 277 587.5 310 573.5C348 563 392.5 543.5 408 535C434 523.5 426 526.235 479 515.235C494 512.729 523 510.435 534.5 512.735C554.5 516.735 555.5 523.235 576 523.735C592 523.735 616 496.735 633 497.235C648.671 497.235 661.31 515.052 684.774 524.942C692.004 527.989 700.2 528.738 707.349 525.505C724.886 517.575 741.932 498.33 757.5 498.742C773.864 498.742 791.711 520.623 810.403 527.654C816.218 529.841 822.661 529.246 828.451 526.991C849.246 518.893 861.599 502.112 879.5 501.742C886.47 501.597 896.865 506.047 907.429 510.911C930.879 521.707 957.139 519.639 982.951 520.063C1020.91 520.686 1037.5 530.797 1056.5 537C1102.24 556.627 1116.5 570.704 1180.5 579.235C1257.5 589.5 1279 587 1440 588",stroke:"#FFDDB7",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[1]},transition:jl}),o.jsx(Je.path,{d:"M0 514C147.5 514.333 294.5 513.735 380.5 513.735C405.976 514.94 422.849 515.228 436.37 515.123C477.503 514.803 518.631 506.605 559.508 511.197C564.04 511.706 569.162 512.524 575 513.735C588 516.433 616 521.702 627.5 519.402C647.5 515.402 659 499.235 680.5 499.235C700.5 499.235 725 529.235 742 528.735C757.654 528.735 768.77 510.583 791.793 500.59C798.991 497.465 807.16 496.777 814.423 499.745C832.335 507.064 850.418 524.648 866 524.235C882.791 524.235 902.316 509.786 921.814 505.392C926.856 504.255 932.097 504.674 937.176 505.631C966.993 511.248 970.679 514.346 989.5 514.735C1006.3 515.083 1036.5 513.235 1055.5 513.235C1114.5 513.235 1090.5 513.235 1124 513.235C1177.5 513.235 1178.99 514.402 1241 514.402C1317.5 514.402 1274.5 512.568 1440 513.235",stroke:"#B1C5FF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[2]},transition:jl}),o.jsx(Je.path,{d:"M0 438.5C150.5 438.5 261 438.318 323.5 456.5C351 464.5 387.517 484.001 423.5 494.5C447.371 501.465 472 503.735 487 507.735C503.786 512.212 504.5 516.808 523 518.735C547 521.235 564.814 501.235 584.5 501.235C604.5 501.235 626 529.069 643 528.569C658.676 528.569 672.076 511.63 695.751 501.972C703.017 499.008 711.231 498.208 718.298 501.617C735.448 509.889 751.454 529.98 767 529.569C783.364 529.569 801.211 507.687 819.903 500.657C825.718 498.469 832.141 499.104 837.992 501.194C859.178 508.764 873.089 523.365 891 523.735C907.8 524.083 923 504.235 963 506.735C1034.5 506.735 1047.5 492.68 1071 481.5C1122.5 457 1142.23 452.871 1185 446.5C1255.5 436 1294 439 1439.5 439",stroke:"#4FABFF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[3]},transition:jl}),o.jsx(Je.path,{d:"M0.5 364C145.288 362.349 195 361.5 265.5 378C322 391.223 399.182 457.5 411 467.5C424.176 478.649 456.916 491.677 496.259 502.699C498.746 503.396 501.16 504.304 503.511 505.374C517.104 511.558 541.149 520.911 551.5 521.236C571.5 521.236 590 498.736 611.5 498.736C631.5 498.736 652.5 529.236 669.5 528.736C685.171 528.736 697.81 510.924 721.274 501.036C728.505 497.988 736.716 497.231 743.812 500.579C761.362 508.857 778.421 529.148 794 528.736C810.375 528.736 829.35 508.68 848.364 502.179C854.243 500.169 860.624 500.802 866.535 502.718C886.961 509.338 898.141 519.866 916 520.236C932.8 520.583 934.5 510.236 967.5 501.736C1011.5 491 1007.5 493.5 1029.5 480C1069.5 453.5 1072 440.442 1128.5 403.5C1180.5 369.5 1275 360.374 1439 364",stroke:"#076EFF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[4]},transition:jl}),o.jsx("path",{d:"M0 663C145.5 663 191 666.265 269 647C326.5 630 339.5 621 397.5 566C439 531.5 455 529.5 490 523C509.664 519.348 521 503.736 538 504.236C553.591 504.236 562.429 514.739 584.66 522.749C592.042 525.408 600.2 526.237 607.356 523.019C624.755 515.195 641.446 496.324 657 496.735C673.408 496.735 693.545 519.572 712.903 526.769C718.727 528.934 725.184 528.395 730.902 525.965C751.726 517.115 764.085 497.106 782 496.735C794.831 496.47 804.103 508.859 822.469 518.515C835.13 525.171 850.214 526.815 862.827 520.069C875.952 513.049 889.748 502.706 903.5 503.736C922.677 505.171 935.293 510.562 945.817 515.673C954.234 519.76 963.095 522.792 972.199 524.954C996.012 530.611 1007.42 534.118 1034 549C1077.5 573.359 1082.5 594.5 1140 629C1206 670 1328.5 662.5 1440 662.5",stroke:"#FFB7C5",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0 587.5C147 587.5 277 587.5 310 573.5C348 563 392.5 543.5 408 535C434 523.5 426 526.235 479 515.235C494 512.729 523 510.435 534.5 512.735C554.5 516.735 555.5 523.235 576 523.735C592 523.735 616 496.735 633 497.235C648.671 497.235 661.31 515.052 684.774 524.942C692.004 527.989 700.2 528.738 707.349 525.505C724.886 517.575 741.932 498.33 757.5 498.742C773.864 498.742 791.711 520.623 810.403 527.654C816.218 529.841 822.661 529.246 828.451 526.991C849.246 518.893 861.599 502.112 879.5 501.742C886.47 501.597 896.865 506.047 907.429 510.911C930.879 521.707 957.139 519.639 982.951 520.063C1020.91 520.686 1037.5 530.797 1056.5 537C1102.24 556.627 1116.5 570.704 1180.5 579.235C1257.5 589.5 1279 587 1440 588",stroke:"#FFDDB7",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0 514C147.5 514.333 294.5 513.735 380.5 513.735C405.976 514.94 422.849 515.228 436.37 515.123C477.503 514.803 518.631 506.605 559.508 511.197C564.04 511.706 569.162 512.524 575 513.735C588 516.433 616 521.702 627.5 519.402C647.5 515.402 659 499.235 680.5 499.235C700.5 499.235 725 529.235 742 528.735C757.654 528.735 768.77 510.583 791.793 500.59C798.991 497.465 807.16 496.777 814.423 499.745C832.335 507.064 850.418 524.648 866 524.235C882.791 524.235 902.316 509.786 921.814 505.392C926.856 504.255 932.097 504.674 937.176 505.631C966.993 511.248 970.679 514.346 989.5 514.735C1006.3 515.083 1036.5 513.235 1055.5 513.235C1114.5 513.235 1090.5 513.235 1124 513.235C1177.5 513.235 1178.99 514.402 1241 514.402C1317.5 514.402 1274.5 512.568 1440 513.235",stroke:"#B1C5FF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0 438.5C150.5 438.5 261 438.318 323.5 456.5C351 464.5 387.517 484.001 423.5 494.5C447.371 501.465 472 503.735 487 507.735C503.786 512.212 504.5 516.808 523 518.735C547 521.235 564.814 501.235 584.5 501.235C604.5 501.235 626 529.069 643 528.569C658.676 528.569 672.076 511.63 695.751 501.972C703.017 499.008 711.231 498.208 718.298 501.617C735.448 509.889 751.454 529.98 767 529.569C783.364 529.569 801.211 507.687 819.903 500.657C825.718 498.469 832.141 499.104 837.992 501.194C859.178 508.764 873.089 523.365 891 523.735C907.8 524.083 923 504.235 963 506.735C1034.5 506.735 1047.5 492.68 1071 481.5C1122.5 457 1142.23 452.871 1185 446.5C1255.5 436 1294 439 1439.5 439",stroke:"#4FABFF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("path",{d:"M0.5 364C145.288 362.349 195 361.5 265.5 378C322 391.223 399.182 457.5 411 467.5C424.176 478.649 456.916 491.677 496.259 502.699C498.746 503.396 501.16 504.304 503.511 505.374C517.104 511.558 541.149 520.911 551.5 521.236C571.5 521.236 590 498.736 611.5 498.736C631.5 498.736 652.5 529.236 669.5 528.736C685.171 528.736 697.81 510.924 721.274 501.036C728.505 497.988 736.716 497.231 743.812 500.579C761.362 508.857 778.421 529.148 794 528.736C810.375 528.736 829.35 508.68 848.364 502.179C854.243 500.169 860.624 500.802 866.535 502.718C886.961 509.338 898.141 519.866 916 520.236C932.8 520.583 934.5 510.236 967.5 501.736C1011.5 491 1007.5 493.5 1029.5 480C1069.5 453.5 1072 440.442 1128.5 403.5C1180.5 369.5 1275 360.374 1439 364",stroke:"#076EFF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),o.jsx("defs",{children:o.jsx("filter",{id:"blurMe",children:o.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5"})})})]})]});function oU(){const t=Lo.useRef(null),{scrollYProgress:e}=tu({target:t,offset:["start start","end start"]}),n=Cn(e,[0,.8],[.2,1.2]),r=Cn(e,[0,.8],[.15,1.2]),s=Cn(e,[0,.8],[.1,1.2]),i=Cn(e,[0,.8],[.05,1.2]),a=Cn(e,[0,.8],[0,1.2]);return o.jsxs("div",{className:"h-[400vh] bg-[#FAF9F6] w-full relative pt-40 overflow-clip",ref:t,children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#00000008_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsx(aU,{pathLengths:[n,r,s,i,a],title:"SAKEC ACM Student Chapter"})]})}const lU=kC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function da({className:t,variant:e,asChild:n=!1,...r}){const s=n?jC:"span";return o.jsx(s,{"data-slot":"badge",className:en(lU({variant:e}),t),...r})}function cU(){return o.jsx("div",{className:"w-full py-20 lg:py-40",children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"flex flex-col gap-10",children:[o.jsxs("div",{className:"flex gap-4 flex-col items-start",children:[o.jsx("div",{children:o.jsx(da,{variant:"outline",className:"border-blue-500/40 text-blue-600",children:"What We Offer"})}),o.jsxs("div",{className:"flex gap-2 flex-col",children:[o.jsx("h2",{className:"text-3xl md:text-5xl tracking-tighter max-w-xl font-regular text-left text-gray-900",children:"Empowering Future Tech Leaders"}),o.jsx("p",{className:"text-lg max-w-xl lg:max-w-lg leading-relaxed tracking-tight text-gray-600 text-left",children:"Join a vibrant community of innovators, learners, and creators shaping the future of technology"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"backdrop-blur-xl bg-white/60 border border-black/10 rounded-2xl h-full lg:col-span-2 p-6 aspect-square lg:aspect-auto flex justify-between flex-col hover:border-blue-500/40 hover:bg-white/80 transition-all shadow-sm hover:shadow-md",children:[o.jsx(aL,{className:"w-8 h-8 stroke-1 text-blue-600"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h3",{className:"text-xl tracking-tight font-bold text-gray-900 mb-2",children:"Hands-on Projects"}),o.jsx("p",{className:"text-gray-600 max-w-xs text-base",children:"Build real-world applications and gain practical experience through collaborative projects and workshops"})]})]}),o.jsxs("div",{className:"backdrop-blur-xl bg-white/60 border border-black/10 rounded-2xl aspect-square p-6 flex justify-between flex-col hover:border-purple-500/40 hover:bg-white/80 transition-all shadow-sm hover:shadow-md",children:[o.jsx(_N,{className:"w-8 h-8 stroke-1 text-purple-600"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h3",{className:"text-xl tracking-tight font-bold text-gray-900 mb-2",children:"Career Growth"}),o.jsx("p",{className:"text-gray-600 max-w-xs text-base",children:"Access internships and job opportunities from top companies"})]})]}),o.jsxs("div",{className:"backdrop-blur-xl bg-white/60 border border-black/10 rounded-2xl aspect-square p-6 flex justify-between flex-col hover:border-pink-500/40 hover:bg-white/80 transition-all shadow-sm hover:shadow-md",children:[o.jsx(EN,{className:"w-8 h-8 stroke-1 text-pink-600"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h3",{className:"text-xl tracking-tight font-bold text-gray-900 mb-2",children:"Competitions"}),o.jsx("p",{className:"text-gray-600 max-w-xs text-base",children:"Participate in coding contests and win exciting prizes"})]})]}),o.jsxs("div",{className:"backdrop-blur-xl bg-white/60 border border-black/10 rounded-2xl h-full lg:col-span-2 p-6 aspect-square lg:aspect-auto flex justify-between flex-col hover:border-orange-500/40 hover:bg-white/80 transition-all shadow-sm hover:shadow-md",children:[o.jsx(SN,{className:"w-8 h-8 stroke-1 text-orange-600"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h3",{className:"text-xl tracking-tight font-bold text-gray-900 mb-2",children:"Innovation"}),o.jsx("p",{className:"text-gray-600 max-w-xs text-base",children:"Turn your ideas into reality with our support and resources. Get mentorship and funding for your projects"})]})]})]})]})})})}const uU="https://sakec.acm.org/api";function dU(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(!1),[a,l]=_.useState(!1),[c,u]=_.useState(""),d=async h=>{h.preventDefault(),i(!0),u(""),l(!1);try{const p=await(await fetch(`${uU}/newsletter-subscribe.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,name:n})})).json();p.success?(l(!0),e(""),r(""),setTimeout(()=>l(!1),5e3)):u(p.message||"Failed to subscribe")}catch{u("Network error. Please try again.")}finally{i(!1)}};return o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(cn,{className:"w-6 h-6"}),o.jsx("h3",{className:"text-2xl font-bold",children:"Subscribe to Our Newsletter"})]}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Get the latest updates on events, workshops, and tech insights delivered to your inbox."}),a&&o.jsxs("div",{className:"bg-green-500 text-white rounded-lg p-4 mb-4 flex items-center gap-2",children:[o.jsx(An,{className:"w-5 h-5"}),o.jsx("span",{children:"Successfully subscribed! Check your email for confirmation."})]}),c&&o.jsxs("div",{className:"bg-red-500 text-white rounded-lg p-4 mb-4 flex items-center gap-2",children:[o.jsx(Vr,{className:"w-5 h-5"}),o.jsx("span",{children:c})]}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"Your Name (optional)",className:"w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder:text-white/60 focus:outline-none focus:border-white/40 focus:bg-white/20 transition-all"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),placeholder:"Enter your email",required:!0,className:"flex-1 px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder:text-white/60 focus:outline-none focus:border-white/40 focus:bg-white/20 transition-all"}),o.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 disabled:bg-gray-300 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",children:s?"Subscribing...":"Subscribe"})]})]}),o.jsx("p",{className:"text-xs text-blue-100 mt-4",children:"We respect your privacy. Unsubscribe at any time."})]})}function hU(){return o.jsxs("div",{className:"text-gray-900 relative",children:[o.jsx(oU,{}),o.jsxs("section",{className:"relative z-20 pt-20 md:pt-40",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"relative",children:o.jsx(cU,{})})]}),o.jsxs("section",{className:"relative z-20 py-20",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"container mx-auto px-4 relative",children:o.jsx(YO,{})})]}),o.jsxs("section",{className:"py-4 md:py-20 relative z-10",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"container mx-auto relative",children:o.jsx(eU,{})})]}),o.jsx("section",{className:"relative z-10",children:o.jsx(sU,{})}),o.jsxs("section",{className:"relative z-20 py-20",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#ffffff08_1px,transparent_1px),linear-gradient(to_bottom,#ffffff08_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,#000_70%,transparent_110%)]"}),o.jsx("div",{className:"container mx-auto px-4 relative",children:o.jsx(dU,{})})]})]})}function qt({className:t,...e}){return o.jsx("div",{"data-slot":"card",className:en("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function fU({className:t,...e}){return o.jsx("div",{"data-slot":"card-header",className:en("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function pU({className:t,...e}){return o.jsx("div",{"data-slot":"card-title",className:en("leading-none font-semibold",t),...e})}function zt({className:t,...e}){return o.jsx("div",{"data-slot":"card-content",className:en("px-6",t),...e})}const mU=({data:t})=>{const e=_.useRef(null),n=_.useRef(null),[r,s]=_.useState(0);_.useEffect(()=>{if(e.current){const c=e.current.getBoundingClientRect();s(c.height)}},[e]);const{scrollYProgress:i}=tu({target:n,offset:["start 10%","end 50%"]}),a=Cn(i,[0,1],[0,r]),l=Cn(i,[0,.1],[0,1]);return o.jsxs("div",{className:"w-full font-sans md:px-10",ref:n,children:[o.jsxs("div",{className:"max-w-7xl mx-auto py-20 px-4 md:px-8 lg:px-10",children:[o.jsx("h2",{className:"text-lg md:text-4xl mb-4 text-gray-900 max-w-4xl font-bold",children:"Our Journey"}),o.jsx("p",{className:"text-gray-700 text-sm md:text-base max-w-sm",children:"A timeline of SAKEC ACM Student Chapter's growth and achievements"})]}),o.jsxs("div",{ref:e,className:"relative max-w-7xl mx-auto pb-20",children:[t.map((c,u)=>o.jsxs("div",{className:"flex justify-start pt-10 md:pt-40 md:gap-10",children:[o.jsxs("div",{className:"sticky flex flex-col md:flex-row z-40 items-center top-40 self-start max-w-xs lg:max-w-sm md:w-full",children:[o.jsx("div",{className:"h-10 absolute left-3 md:left-3 w-10 rounded-full bg-white dark:bg-black flex items-center justify-center",children:o.jsx("div",{className:"h-4 w-4 rounded-full bg-neutral-200 dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700 p-2"})}),o.jsx("h3",{className:"hidden md:block text-xl md:pl-20 md:text-5xl font-bold text-neutral-500 dark:text-neutral-500 ",children:c.title})]}),o.jsxs("div",{className:"relative pl-20 pr-4 md:pl-4 w-full",children:[o.jsx("h3",{className:"md:hidden block text-2xl mb-4 text-left font-bold text-neutral-500 dark:text-neutral-500",children:c.title}),c.content," "]})]},u)),o.jsx("div",{style:{height:r+"px"},className:"absolute md:left-8 left-8 top-0 overflow-hidden w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] from-transparent from-[0%] via-neutral-200 dark:via-neutral-700 to-transparent to-[99%]  [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)] ",children:o.jsx(Je.div,{style:{height:a,opacity:l},className:"absolute inset-x-0 top-0  w-[2px] bg-gradient-to-t from-purple-500 via-blue-500 to-transparent from-[0%] via-[10%] rounded-full"})})]})]})};function gU(){const t=[{title:"2025",content:o.jsxs("div",{children:[o.jsx("p",{className:"mb-8 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"Revival of SAKEC ACM Student Chapter with renewed focus on innovation, community building, and technical excellence. Launched new initiatives and expanded our reach."},"intro-2025"),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Trek%20to%20'Kothaligadh%20Fort'/trek2020_1.jpg",alt:"ACM Event",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"trek-2025"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/PYTHON%20PROGRAMMING%20LEARN%20IT%20WELL%20(PP)/python4.jpg",alt:"Python Workshop",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"python-2025"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Triumph/triumph4.jpg",alt:"Triumph Event",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"triumph-2025"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/CSRA%20-Gaushala/csrGaushala2.jpg",alt:"CSR Activity",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"csr-2025")]},"images-2025")]})},{title:"2019-2024",content:o.jsxs("div",{children:[o.jsx("p",{className:"mb-8 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"Continued growth with regular workshops, hackathons, and technical seminars. Established partnerships with leading tech companies and expanded our member base significantly."},"growth"),o.jsx("p",{className:"mb-8 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"Organized numerous coding competitions, guest lectures by industry experts, and hands-on training sessions that helped students enhance their technical skills."},"activities"),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Android/an3.jpg",alt:"Android Workshop",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"android-workshop"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/IoT%20(1)/iot3.jpg",alt:"IoT Workshop",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"iot-workshop"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Innovative%20Project%20Hunt/iph2.jpg",alt:"Project Hunt",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"project-hunt"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/A%20Talk%20on%20ETHICAL%20HACKING%20AND%20CYBER%20SECURITY/ethicalHacking2.jpg",alt:"Cyber Security Talk",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"cyber-security")]},"images-2019")]})},{title:"2017",content:o.jsxs("div",{children:[o.jsx("p",{className:"mb-4 text-xs font-normal text-neutral-800 md:text-sm dark:text-neutral-200",children:"SAKEC ACM Student Chapter was established on 11th April, 2017"},"intro-2017"),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Official ACM Student Chapter recognition"},"recognition"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" First core team formation"},"team"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Initial workshop series launched"},"workshop"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Community building initiatives started"},"community"),o.jsx("div",{className:"flex items-center gap-2 text-xs text-neutral-700 md:text-sm dark:text-neutral-300",children:" Foundation for future growth established"},"foundation")]},"checklist-2017"),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Trek/trk3.jpg",alt:"Trek Activity",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"trek-2017"),o.jsx("img",{src:"https://dhxzkzdlsszwuqjkicnv.supabase.co/storage/v1/object/public/event-photos/Relational%20Model%20Redesign/relation4.jpg",alt:"Technical Workshop",width:500,height:500,className:"h-20 w-full rounded-lg object-cover shadow-[0_0_24px_rgba(34,_42,_53,_0.06),_0_1px_1px_rgba(0,_0,_0,_0.05),_0_0_0_1px_rgba(34,_42,_53,_0.04),_0_0_4px_rgba(34,_42,_53,_0.08),_0_16px_68px_rgba(47,_48,_55,_0.05),_0_1px_0_rgba(255,_255,_255,_0.1)_inset] md:h-44 lg:h-60"},"workshop-2017")]},"images-2017")]})}];return o.jsx("div",{className:"relative w-full overflow-clip",children:o.jsx(mU,{data:t})})}/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xU={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=(t,e,n,r)=>{const s=_.forwardRef(({color:i="currentColor",size:a=24,stroke:l=2,title:c,className:u,children:d,...h},f)=>_.createElement("svg",{ref:f,...xU[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),strokeWidth:l,stroke:i,...h},[c&&_.createElement("title",{key:"svg-title"},c),...r.map(([p,x])=>_.createElement(p,x)),...Array.isArray(d)?d:[d]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],yU=FC("outline","arrow-left","ArrowLeft",vU);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],_U=FC("outline","arrow-right","ArrowRight",bU),wU=({testimonials:t,autoplay:e=!1})=>{const[n,r]=_.useState(0),s=()=>{r(d=>(d+1)%t.length)},i=()=>{r(d=>(d-1+t.length)%t.length)},a=d=>d===n;_.useEffect(()=>{if(e){const d=setInterval(s,5e3);return()=>clearInterval(d)}},[e]);const[l,c]=_.useState(!1);_.useEffect(()=>{c(!0)},[]);const u=()=>Math.floor(Math.random()*21)-10;return l?o.jsx("div",{className:"mx-auto max-w-sm px-4 py-20 font-sans antialiased md:max-w-4xl md:px-8 lg:px-12",children:o.jsxs("div",{className:"relative grid grid-cols-1 gap-20 md:grid-cols-2 ",children:[o.jsx("div",{children:o.jsx("div",{className:"relative h-80 w-full",children:o.jsx(Aa,{children:t.map((d,h)=>o.jsx(Je.div,{initial:{opacity:0,scale:.9,z:-100,rotate:u()},animate:{opacity:a(h)?1:.7,scale:a(h)?1:.95,z:a(h)?0:-100,rotate:a(h)?0:u(),zIndex:a(h)?40:t.length+2-h,y:a(h)?[0,-80,0]:0},exit:{opacity:0,scale:.9,z:100,rotate:u()},transition:{duration:.4,ease:"easeInOut"},className:"absolute inset-0 origin-bottom",children:o.jsx("img",{src:d.src,alt:d.name,width:500,height:500,draggable:!1,className:"h-full w-full rounded-3xl object-cover object-center"})},d.src))})})}),o.jsxs("div",{className:"flex flex-col justify-between py-4",children:[o.jsxs(Je.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.2,ease:"easeInOut"},children:[o.jsx("h3",{className:"text-2xl font-bold text-black dark:text-white",children:t[n].name}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-neutral-500",children:t[n].designation}),o.jsx(Je.p,{className:"mt-8 text-lg text-gray-500 dark:text-neutral-300",children:t[n].quote.split(" ").map((d,h)=>o.jsxs(Je.span,{initial:{filter:"blur(10px)",opacity:0,y:5},animate:{filter:"blur(0px)",opacity:1,y:0},transition:{duration:.2,ease:"easeInOut",delay:.02*h},className:"inline-block",children:[d,""]},h))})]},n),o.jsxs("div",{className:"flex gap-4 pt-12 md:pt-0",children:[o.jsx("button",{onClick:i,className:"group/button flex h-7 w-7 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800",children:o.jsx(yU,{className:"h-5 w-5 text-black transition-transform duration-300 group-hover/button:rotate-12 dark:text-neutral-400"})}),o.jsx("button",{onClick:s,className:"group/button flex h-7 w-7 items-center justify-center rounded-full bg-gray-100 dark:bg-neutral-800",children:o.jsx(_U,{className:"h-5 w-5 text-black transition-transform duration-300 group-hover/button:-rotate-12 dark:text-neutral-400"})})]})]})]})}):o.jsx("div",{className:"mx-auto max-w-sm px-4 py-20 font-sans antialiased md:max-w-4xl md:px-8 lg:px-12",children:o.jsxs("div",{className:"relative grid grid-cols-1 gap-20 md:grid-cols-2",children:[o.jsx("div",{className:"relative h-80 w-full bg-gray-100 dark:bg-gray-800 rounded-3xl animate-pulse"}),o.jsx("div",{className:"flex flex-col justify-between py-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-8 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"}),o.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-800 rounded animate-pulse w-2/3"}),o.jsx("div",{className:"h-20 bg-gray-100 dark:bg-gray-800 rounded animate-pulse"})]})})]})})};async function SU(){const{data:t,error:e}=await Q.from("testimonials").select("*").eq("is_active",!0).order("display_order",{ascending:!0});return e?(console.error("Error fetching testimonials:",e),[]):t||[]}function EU(){const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{async function s(){try{const a=(await SU()).map(l=>({quote:l.quote,name:l.name,designation:l.position,src:l.image_url}));e(a)}catch(i){console.error("Error fetching testimonials:",i),e([])}finally{r(!1)}}s()},[]),n?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"text-gray-700",children:"Loading testimonials..."})}):t.length===0?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("div",{className:"text-gray-700",children:"No testimonials available at the moment."})}):o.jsx(wU,{testimonials:t,autoplay:!0})}function NU(){return o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"About Us"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"ACM, the Association for Computing Machinery, is the worlds largest educational and scientific computing society. ACM delivers resources that advance computing as a science and a profession. ACMs Regional Councils provide grassroots support on a global scale. Based in US, Europe, India, and China, they raise awareness, visibility and relevance of ACM by sponsoring high-quality conferences, expanding chapters, and encouraging greater participation in all dimensions of the society."})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsx(hw,{className:"w-12 h-12 text-blue-600 mb-6"}),o.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Our Mission"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To impart high quality technical education to the students by providing an excellent academic environment, well-equipped laboratories and training through the motivated teachers."})]})}),o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsx(ow,{className:"w-12 h-12 text-purple-600 mb-6"}),o.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Our Vision"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To become a globally recognized institution offering quality education and enhancing professional standards. We envision a community where students can explore, and contribute to the advancement of computing technology."})]})})]})})}),o.jsx("section",{className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:"What We Do"}),o.jsx("p",{className:"text-xl text-gray-700",children:"Empowering students through diverse activities and initiatives"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ft,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Workshops"}),o.jsx("p",{className:"text-gray-700",children:"Regular technical workshops on cutting-edge technologies"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Eh,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Competitions"}),o.jsx("p",{className:"text-gray-700",children:"Coding contests and hackathons to challenge your skills"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ow,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Innovation"}),o.jsx("p",{className:"text-gray-700",children:"Project showcases and innovation challenges"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hw,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900",children:"Networking"}),o.jsx("p",{className:"text-gray-700",children:"Connect with industry professionals and alumni"})]})]})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsx(gU,{})}),o.jsx("section",{className:"py-16 px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:"What Our Leaders Say"}),o.jsx("p",{className:"text-xl text-gray-700",children:"Hear from our team about their ACM experience"})]}),o.jsx(EU,{})]})}),o.jsx("section",{className:"py-16 px-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-8 md:p-12 text-center shadow-lg",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"Have Questions?"}),o.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"We're here to help! Reach out to us for any queries, collaborations, or support."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs("a",{href:"mailto:support@sakec.acm.org",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all shadow-md hover:shadow-lg",children:[o.jsx(cn,{className:"w-5 h-5"}),"support@sakec.acm.org"]}),o.jsx("a",{href:"/contact",className:"inline-flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-50 text-gray-900 font-semibold rounded-lg border border-gray-300 transition-all shadow-sm hover:shadow-md",children:"Contact Form"})]})]})})})]})}const BC=_.createContext(void 0),Vv=({children:t,className:e,containerClassName:n})=>{const r=_.useRef(null),[s,i]=_.useState(!1),a=u=>{if(!r.current)return;const{left:d,top:h,width:f,height:p}=r.current.getBoundingClientRect(),x=(u.clientX-d-f/2)/25,g=(u.clientY-h-p/2)/25;r.current.style.transform=`rotateY(${x}deg) rotateX(${g}deg)`},l=()=>{i(!0),r.current},c=()=>{r.current&&(i(!1),r.current.style.transform="rotateY(0deg) rotateX(0deg)")};return o.jsx(BC.Provider,{value:[s,i],children:o.jsx("div",{className:en("flex items-center justify-center",n),style:{perspective:"1000px"},children:o.jsx("div",{ref:r,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,className:en("flex items-center justify-center relative transition-all duration-200 ease-linear",e),style:{transformStyle:"preserve-3d"},children:t})})})},Hv=({children:t,className:e})=>o.jsx("div",{className:en("h-96 w-96 [transform-style:preserve-3d]  [&>*]:[transform-style:preserve-3d]",e),children:t}),er=({as:t="div",children:e,className:n,translateX:r=0,translateY:s=0,translateZ:i=0,rotateX:a=0,rotateY:l=0,rotateZ:c=0,...u})=>{const d=_.useRef(null),[h]=CU();_.useEffect(()=>{f()},[h]);const f=()=>{d.current&&(h?d.current.style.transform=`translateX(${r}px) translateY(${s}px) translateZ(${i}px) rotateX(${a}deg) rotateY(${l}deg) rotateZ(${c}deg)`:d.current.style.transform="translateX(0px) translateY(0px) translateZ(0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)")};return o.jsx(t,{ref:d,className:en("w-fit transition duration-200 ease-linear",n),...u,children:e})},CU=()=>{const t=_.useContext(BC);if(t===void 0)throw new Error("useMouseEnter must be used within a MouseEnterProvider");return t};function TU({member:t}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block h-full",children:o.jsx(Vv,{className:"inter-var w-full",children:o.jsxs(Hv,{className:"bg-black/25 relative group/card hover:shadow-2xl hover:shadow-blue-500/30 border-gray-600/30 hover:border-blue-500/50 w-full h-full rounded-xl border transition-all duration-300 flex flex-col",children:[o.jsx(er,{translateZ:"100",className:"w-full",children:o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30 rounded-t-xl",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover/card:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]})}),o.jsxs("div",{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(er,{translateZ:"50",className:"text-center mb-2 w-full",children:o.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2",children:t.name})}),o.jsx(er,{translateZ:"60",className:"text-center mb-2 w-full",children:o.jsx("p",{className:"text-blue-400 font-semibold text-sm",children:t.position})}),o.jsx(er,{translateZ:"40",className:"text-center mb-4 w-full",children:o.jsxs("p",{className:"text-gray-300 text-xs",children:[t.year,"  ",t.department]})})]}),o.jsx(er,{translateZ:20,className:"w-full",children:o.jsx(wt,{to:`/team/${t.id}`,className:"block w-full",children:o.jsx(On,{variant:"outline",className:"w-full border-blue-500/50 text-white hover:bg-blue-500/30 hover:border-blue-400 bg-gray-800/50 transition-all",children:"View Profile"})})})]})]})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs(qt,{className:"bg-black/25 border-gray-600/30 hover:border-blue-500/50 transition-all duration-300 overflow-hidden group h-full flex flex-col shadow-xl",children:[o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]}),o.jsxs(zt,{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:[o.jsxs("div",{className:"text-center mb-4 flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2",children:t.name}),o.jsx("p",{className:"text-blue-400 font-semibold text-sm mb-2",children:t.position}),o.jsxs("p",{className:"text-gray-300 text-xs",children:[t.year,"  ",t.department]})]}),o.jsx(wt,{to:`/team/${t.id}`,className:"block",children:o.jsx(On,{variant:"outline",className:"w-full border-blue-500/50 text-white hover:bg-blue-500/30 hover:border-blue-400 bg-gray-800/50 transition-all",children:"View Profile"})})]})]})})]})}function MU({member:t}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block h-full",children:o.jsx(Vv,{className:"inter-var w-full",children:o.jsxs(Hv,{className:"bg-black/25 relative group/card hover:shadow-2xl hover:shadow-blue-500/30 border-gray-600/30 hover:border-blue-500/50 w-full h-full rounded-xl border transition-all duration-300 flex flex-col",children:[o.jsx(er,{translateZ:"100",className:"w-full",children:o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30 rounded-t-xl",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover/card:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]})}),o.jsx("div",{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx(er,{translateZ:"50",className:"mb-2 w-full",children:o.jsx("h3",{className:"text-xl font-bold text-white line-clamp-2",children:t.name})}),o.jsx(er,{translateZ:"60",className:"mb-2 w-full",children:o.jsx("p",{className:"text-blue-400 font-semibold text-sm",children:t.position})}),o.jsx(er,{translateZ:"40",className:"w-full",children:o.jsx("p",{className:"text-gray-300 text-xs",children:t.department})})]})})]})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs(qt,{className:"bg-black/25 border-gray-600/30 hover:border-blue-500/50 transition-all duration-300 overflow-hidden group h-full flex flex-col shadow-xl",children:[o.jsxs("div",{className:"relative w-full h-72 overflow-hidden bg-gray-800/30",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"})]}),o.jsx(zt,{className:"p-5 flex-1 flex flex-col bg-gray-900/80",children:o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2",children:t.name}),o.jsx("p",{className:"text-blue-400 font-semibold text-sm mb-2",children:t.position}),o.jsx("p",{className:"text-gray-300 text-xs",children:t.department})]})})]})})]})}const AU=void 0,jU=void 0;console.error("Missing Supabase environment variables");const ss=MC(AU,jU);async function RU(){const{data:t,error:e}=await ss.from("team_members").select("*").order("display_order",{ascending:!0});if(console.log("Team fetch result:",{data:t,error:e}),e)throw console.error("Error fetching team members:",e),e;return t||[]}async function zC(t){const{data:e,error:n}=await ss.from("team_members").select("*").eq("id",t).single();return n?null:e}async function PU(){const{data:t,error:e}=await ss.from("faculty_members").select("*").order("display_order",{ascending:!0});if(e)throw console.error("Error fetching faculty members:",e),e;return t||[]}function kU(){const[t,e]=_.useState([]),[n,r]=_.useState([]),[s,i]=_.useState(!0),[a,l]=_.useState(null);return _.useEffect(()=>{async function c(){try{const[u,d]=await Promise.all([RU(),PU()]);e(u),r(d)}catch(u){console.error("Failed to fetch team data",u),l(u instanceof Error?u.message:"Failed to fetch data")}finally{i(!1)}}c()},[]),s?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading..."})}):a?o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center flex-col gap-4",children:[o.jsxs("div",{className:"text-xl text-red-500",children:["Error: ",a]}),o.jsx("p",{className:"text-gray-700",children:"Please check your internet connection and Supabase configuration."})]}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"Our Team"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Meet the passionate individuals driving innovation and excellence in our ACM chapter"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[o.jsxs("section",{className:"mb-20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Faculty Members"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-8"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-8 max-w-4xl mx-auto",children:n.map(c=>o.jsx(MU,{member:c},c.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Core Team"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-8"})]}),t.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-700 text-lg",children:"No team members found."})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(c=>o.jsx(TU,{member:c},c.id))})]}),o.jsx("section",{className:"mt-16 text-center",children:o.jsxs(wt,{to:"/team/alumni",className:"inline-flex items-center gap-2 px-8 py-3 bg-blue-600 border border-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 hover:border-blue-700 transition-all shadow-lg hover:shadow-xl",children:["View Alumni",o.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})}),o.jsx("section",{className:"mt-20 text-center",children:o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-12",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Want to Join Our Team?"}),o.jsx("p",{className:"text-xl text-gray-700 mb-8 max-w-2xl mx-auto",children:"We're always looking for passionate students to join our mission of advancing computer science education and innovation."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(wt,{to:"/contact",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition-colors shadow-md",children:"Get in Touch"}),o.jsx(wt,{to:"/about",className:"inline-flex items-center justify-center px-6 py-3 border-2 border-gray-300 text-gray-900 font-medium rounded-md hover:bg-gray-100 transition-colors",children:"Learn More"})]})]})})})]})]})}const DU=[{icon:o.jsx(ft,{className:"w-6 h-6 text-blue-500"}),title:"Networking Opportunities",description:"Connect with like-minded peers, industry professionals, and alumni who share your passion for technology."},{icon:o.jsx(_N,{className:"w-6 h-6 text-purple-500"}),title:"Skill Development",description:"Gain hands-on experience through workshops, hackathons, and projects that go beyond the classroom curriculum."},{icon:o.jsx(tL,{className:"w-6 h-6 text-pink-500"}),title:"Technical Growth",description:"Access exclusive resources, technical talks, and mentorship programs to accelerate your learning journey."},{icon:o.jsx(EN,{className:"w-6 h-6 text-yellow-500"}),title:"Competitions & Events",description:"Participate in coding contests, hackathons, and tech quizzes to test your skills and win exciting prizes."},{icon:o.jsx(dL,{className:"w-6 h-6 text-green-500"}),title:"Global Community",description:"Be part of the world's largest educational and scientific computing society with access to global resources."},{icon:o.jsx(iL,{className:"w-6 h-6 text-indigo-500"}),title:"Leadership Experience",description:"Take up leadership roles, organize events, and develop soft skills that are crucial for your career."}];function LU(){return o.jsxs("div",{className:"pt-24 pb-16 px-4 md:px-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx(Je.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-gray-900 via-gray-700 to-gray-900",children:"Why Join SAKEC ACM?"}),o.jsx(Je.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",children:"Unlock your potential and shape your future with the premier student chapter for computing professionals."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:DU.map((t,e)=>o.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"bg-white/50 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[o.jsx("div",{className:"bg-white rounded-xl w-12 h-12 flex items-center justify-center shadow-sm mb-4",children:t.icon}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:t.title}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},e))}),o.jsxs(Je.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"bg-gray-900 rounded-3xl p-8 md:p-12 text-center text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,#4f46e5_0%,transparent_40%)] opacity-50"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to start your journey?"}),o.jsx("p",{className:"text-gray-300 mb-8 max-w-xl mx-auto",children:"Join a community of innovators, creators, and future leaders. Your journey to excellence starts here."}),o.jsx(wt,{to:"/contact",children:o.jsx(On,{size:"lg",className:"bg-white text-gray-900 hover:bg-gray-100 font-semibold px-8",children:"Join Now"})})]})]})]})}function IU(){const{id:t}=il(),[e,n]=_.useState(null),[r,s]=_.useState(!0);return _.useEffect(()=>{async function i(){if(!t)return;const a=await zC(t);n(a),s(!1)}i()},[t]),r?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading..."})}):e?o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 pb-20",children:[o.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 py-16 mb-12",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,#ffffff15_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative",children:[o.jsxs(wt,{to:"/team",className:"inline-flex items-center gap-2 text-white/80 hover:text-white transition-colors mb-6",children:[o.jsx(cf,{className:"w-5 h-5"}),"Back to Team"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:e.name}),o.jsx("p",{className:"text-xl text-white/90",children:e.position})]})]}),o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"md:col-span-1",children:o.jsxs(qt,{className:"bg-gray-800/90 backdrop-blur-sm border-gray-700 overflow-hidden shadow-xl sticky top-24",children:[o.jsx("div",{className:"relative w-full aspect-square overflow-hidden bg-gradient-to-b from-gray-700 to-gray-800",children:o.jsx("img",{src:e.image_url||"/placeholder.svg",alt:e.name,className:"absolute inset-0 w-full h-full object-cover"})}),o.jsxs(zt,{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:e.name}),o.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:e.position}),o.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:[e.year,"  ",e.department]}),o.jsxs("div",{className:"flex gap-3 mt-4",children:[e.email&&o.jsx("a",{href:`mailto:${e.email}`,className:"p-2 bg-gray-700 hover:bg-blue-500 text-white rounded-lg transition-colors",title:"Email",children:o.jsx(cn,{className:"w-5 h-5"})}),e.linkedin_url&&o.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-700 hover:bg-blue-500 text-white rounded-lg transition-colors",title:"LinkedIn",children:o.jsx(vN,{className:"w-5 h-5"})}),e.github_url&&o.jsx("a",{href:e.github_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-700 hover:bg-blue-500 text-white rounded-lg transition-colors",title:"GitHub",children:o.jsx(xN,{className:"w-5 h-5"})})]})]})]})}),o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.personal_quote&&o.jsx(qt,{className:"bg-gradient-to-r from-blue-500 to-purple-600 border-0 shadow-xl",children:o.jsx(zt,{className:"p-8",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("span",{className:"text-6xl text-white/30 leading-none",children:'"'}),o.jsx("p",{className:"text-white text-xl md:text-2xl italic flex-1 pt-2",children:e.personal_quote})]})})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-6 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:e.year}),o.jsx("div",{className:"text-sm text-gray-600",children:"Academic Year"})]})}),o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-6 text-center",children:[o.jsx("div",{className:"text-lg font-bold text-purple-600 mb-2",children:e.department}),o.jsx("div",{className:"text-sm text-gray-600",children:"Department"})]})})]}),e.about_us?o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-blue-600 rounded-full"}),"About Me"]}),o.jsx("p",{className:"text-gray-700 text-lg leading-relaxed whitespace-pre-line",children:e.about_us})]})}):o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-blue-600 rounded-full"}),"About Me"]}),o.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed",children:[e.name," is a dedicated member of the SAKEC ACM Student Chapter, serving as ",e.position,". As a ",e.year," student in the ",e.department," department, they contribute to the chapter's mission of advancing computing as a science and profession."]})]})}),e.skills&&e.skills.length>0?o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-purple-600 rounded-full"}),"Skills & Expertise"]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:e.skills.map((i,a)=>o.jsx("span",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg text-sm font-medium shadow-md hover:shadow-lg transition-shadow",children:i},a))})]})}):o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-purple-600 rounded-full"}),"Role & Responsibilities"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Leadership"}),o.jsx("p",{className:"text-gray-700 text-sm",children:"Contributing to team coordination and chapter activities"})]}),o.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Innovation"}),o.jsx("p",{className:"text-gray-700 text-sm",children:"Driving technical excellence and creative solutions"})]})]})]})}),e.achievements&&e.achievements.length>0?o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-green-600 rounded-full"}),"Achievements & Milestones"]}),o.jsx("ul",{className:"space-y-4",children:e.achievements.map((i,a)=>o.jsxs("li",{className:"flex items-start gap-4 p-4 bg-green-50 rounded-lg",children:[o.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:a+1}),o.jsx("span",{className:"text-gray-700 text-lg",children:i})]},a))})]})}):o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsxs(zt,{className:"p-8",children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-green-600 rounded-full"}),"Contributions"]}),o.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed",children:["As ",e.position,", ",e.name," plays a vital role in organizing events, fostering collaboration, and promoting technical excellence within the ACM chapter."]})]})})]})]})})]}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center flex-col gap-4",children:[o.jsx("div",{className:"text-xl",children:"Member not found"}),o.jsx(wt,{to:"/team",className:"text-blue-600 hover:underline",children:"Back to Team"})]})}function OU({member:t}){return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block h-full",children:o.jsx(Vv,{className:"inter-var w-full",children:o.jsxs(Hv,{className:"bg-black/25 relative group/card hover:shadow-2xl hover:shadow-blue-500/30 border-gray-600/30 hover:border-blue-500/50 w-full h-full rounded-xl border transition-all duration-300 flex flex-col",children:[o.jsx(er,{translateZ:"100",className:"w-full",children:o.jsx("div",{className:"relative w-full h-64 overflow-hidden bg-gray-800/30 rounded-t-xl",children:o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"absolute inset-0 w-full h-full object-contain group-hover/card:scale-105 transition-transform duration-500"})})}),o.jsx(zt,{className:"p-4 bg-gray-900/80 flex-1",children:o.jsxs("div",{className:"text-center",children:[o.jsx(er,{translateZ:"50",className:"w-full",children:o.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t.name})}),o.jsx(er,{translateZ:"60",className:"w-full",children:o.jsx("p",{className:"text-blue-400 font-medium",children:t.position})}),o.jsx(er,{translateZ:"40",className:"w-full",children:o.jsxs("div",{className:"text-gray-300 text-sm mt-1",children:[o.jsx("p",{children:t.department}),t.bio&&o.jsx("p",{className:"mt-1 line-clamp-2 text-xs",children:t.bio})]})})]})})]})})}),o.jsx("div",{className:"md:hidden",children:o.jsxs(qt,{className:"bg-black/25 border-gray-600/30 hover:border-blue-500/50 transition-all duration-300 overflow-hidden group h-full shadow-xl",children:[o.jsx("div",{className:"relative w-full h-64 overflow-hidden bg-gray-800/30",children:o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.name,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300"})}),o.jsx(zt,{className:"p-4 bg-gray-900/80",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t.name}),o.jsx("p",{className:"text-blue-400 font-medium",children:t.position}),o.jsxs("div",{className:"text-gray-300 text-sm mt-1",children:[o.jsx("p",{children:t.department}),t.bio&&o.jsx("p",{className:"mt-1 line-clamp-2 text-xs",children:t.bio})]})]})})]})})]})}async function UU(){const{data:t,error:e}=await ss.from("alumni_members").select("*").order("display_order",{ascending:!0});return e?[]:t||[]}function FU(){const[t,e]=_.useState([]),[n,r]=_.useState(!0);return _.useEffect(()=>{async function s(){try{const i=await UU();e(i)}catch(i){console.error("Failed to fetch alumni data",i)}finally{r(!1)}}s()},[]),n?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading..."})}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"Our Alumni"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Celebrating the legacy and achievements of our past members"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(s=>o.jsx(OU,{member:s},s.id))}),t.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-700 text-lg",children:"No alumni members found."})})]})]})}async function BU(){const t=new Date().toISOString().split("T")[0],{data:e,error:n}=await ss.from("events").select("*").gt("date",t).order("date",{ascending:!0});return n?[]:e||[]}async function zU(){const t=new Date().toISOString().split("T")[0],{data:e,error:n}=await ss.from("events").select("*").lte("date",t).order("date",{ascending:!1});return n?[]:e||[]}function bi(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function VU(t,e){const n=_.createContext(e),r=i=>{const{children:a,...l}=i,c=_.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=_.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function HU(t,e=[]){let n=[];function r(i,a){const l=_.createContext(a),c=n.length;n=[...n,a];const u=h=>{var m;const{scope:f,children:p,...x}=h,g=((m=f==null?void 0:f[t])==null?void 0:m[c])||l,v=_.useMemo(()=>x,Object.values(x));return o.jsx(g.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,x=_.useContext(p);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>_.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,GU(s,...e)]}function GU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Oc=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},WU=Oh[" useId ".trim().toString()]||(()=>{}),$U=0;function Pp(t){const[e,n]=_.useState(WU());return Oc(()=>{n(r=>r??String($U++))},[t]),t||(e?`radix-${e}`:"")}var qU=Oh[" useInsertionEffect ".trim().toString()]||Oc;function XU({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=KU({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=_.useRef(t!==void 0);_.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=_.useCallback(d=>{var h;if(l){const f=YU(d)?d(t):d;f!==t&&((h=a.current)==null||h.call(a,f))}else i(d)},[l,t,i,a]);return[c,u]}function KU({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),s=_.useRef(n),i=_.useRef(e);return qU(()=>{i.current=e},[e]),_.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function YU(t){return typeof t=="function"}function JU(t){const e=QU(t),n=_.forwardRef((r,s)=>{const{children:i,...a}=r,l=_.Children.toArray(i),c=l.find(eF);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function QU(t){const e=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const a=nF(s),l=tF(i,s.props);return s.type!==_.Fragment&&(l.ref=r?mf(r,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZU=Symbol("radix.slottable");function eF(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZU}function tF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function nF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bs=rF.reduce((t,e)=>{const n=JU(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function sF(t,e){t&&Hx.flushSync(()=>t.dispatchEvent(e))}function Uc(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function iF(t,e=globalThis==null?void 0:globalThis.document){const n=Uc(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aF="DismissableLayer",Z0="dismissableLayer.update",oF="dismissableLayer.pointerDownOutside",lF="dismissableLayer.focusOutside",$w,VC=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HC=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=_.useContext(VC),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),x=Ra(e,T=>h(T)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(v),y=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=m,S=dF(T=>{const M=T.target,C=[...u.branches].some(N=>N.contains(M));!w||C||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},f),E=hF(T=>{const M=T.target;[...u.branches].some(N=>N.contains(M))||(i==null||i(T),a==null||a(T),T.defaultPrevented||l==null||l())},f);return iF(T=>{y===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},f),_.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($w=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$w)}},[d,f,n,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qw())},[d,u]),_.useEffect(()=>{const T=()=>p({});return document.addEventListener(Z0,T),()=>document.removeEventListener(Z0,T)},[]),o.jsx(Bs.div,{...c,ref:x,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:bi(t.onFocusCapture,E.onFocusCapture),onBlurCapture:bi(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:bi(t.onPointerDownCapture,S.onPointerDownCapture)})});HC.displayName=aF;var cF="DismissableLayerBranch",uF=_.forwardRef((t,e)=>{const n=_.useContext(VC),r=_.useRef(null),s=Ra(e,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Bs.div,{...t,ref:s})});uF.displayName=cF;function dF(t,e=globalThis==null?void 0:globalThis.document){const n=Uc(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){GC(oF,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hF(t,e=globalThis==null?void 0:globalThis.document){const n=Uc(t),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&GC(lF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qw(){const t=new CustomEvent(Z0);document.dispatchEvent(t)}function GC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?sF(s,i):s.dispatchEvent(i)}var kp="focusScope.autoFocusOnMount",Dp="focusScope.autoFocusOnUnmount",Xw={bubbles:!1,cancelable:!0},fF="FocusScope",WC=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=_.useState(null),u=Uc(s),d=Uc(i),h=_.useRef(null),f=Ra(e,g=>c(g)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const w=b.target;l.contains(w)?h.current=w:Zs(h.current,{select:!0})},v=function(b){if(p.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||Zs(h.current,{select:!0}))},m=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Zs(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(m);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[r,l,p.paused]),_.useEffect(()=>{if(l){Yw.add(p);const g=document.activeElement;if(!l.contains(g)){const m=new CustomEvent(kp,Xw);l.addEventListener(kp,u),l.dispatchEvent(m),m.defaultPrevented||(pF(yF($C(l)),{select:!0}),document.activeElement===g&&Zs(l))}return()=>{l.removeEventListener(kp,u),setTimeout(()=>{const m=new CustomEvent(Dp,Xw);l.addEventListener(Dp,d),l.dispatchEvent(m),m.defaultPrevented||Zs(g??document.body,{select:!0}),l.removeEventListener(Dp,d),Yw.remove(p)},0)}}},[l,u,d,p]);const x=_.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,m=document.activeElement;if(v&&m){const y=g.currentTarget,[b,w]=mF(y);b&&w?!g.shiftKey&&m===w?(g.preventDefault(),n&&Zs(b,{select:!0})):g.shiftKey&&m===b&&(g.preventDefault(),n&&Zs(w,{select:!0})):m===y&&g.preventDefault()}},[n,r,p.paused]);return o.jsx(Bs.div,{tabIndex:-1,...a,ref:f,onKeyDown:x})});WC.displayName=fF;function pF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zs(r,{select:e}),document.activeElement!==n)return}function mF(t){const e=$C(t),n=Kw(e,t),r=Kw(e.reverse(),t);return[n,r]}function $C(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Kw(t,e){for(const n of t)if(!gF(n,{upTo:e}))return n}function gF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xF(t){return t instanceof HTMLInputElement&&"select"in t}function Zs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xF(t)&&e&&t.select()}}var Yw=vF();function vF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Jw(t,e),t.unshift(e)},remove(e){var n;t=Jw(t,e),(n=t[0])==null||n.resume()}}}function Jw(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yF(t){return t.filter(e=>e.tagName!=="A")}var bF="Portal",qC=_.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=_.useState(!1);Oc(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Hj.createPortal(o.jsx(Bs.div,{...r,ref:e}),a):null});qC.displayName=bF;function _F(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var gf=t=>{const{present:e,children:n}=t,r=wF(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=Ra(r.ref,SF(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};gf.displayName="Presence";function wF(t){const[e,n]=_.useState(),r=_.useRef(null),s=_.useRef(t),i=_.useRef("none"),a=t?"mounted":"unmounted",[l,c]=_F(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Wu(r.current);i.current=l==="mounted"?u:"none"},[l]),Oc(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,p=Wu(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Oc(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=Wu(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(i.current=Wu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Wu(t){return(t==null?void 0:t.animationName)||"none"}function SF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Lp=0;function EF(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Qw()),document.body.insertAdjacentElement("beforeend",t[1]??Qw()),Lp++,()=>{Lp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lp--}},[])}function Qw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ud="right-scroll-bar-position",Fd="width-before-scroll-bar",NF="with-scroll-bars-hidden",CF="--removed-body-scroll-bar-size";function Ip(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function TF(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var MF=typeof window<"u"?_.useLayoutEffect:_.useEffect,Zw=new WeakMap;function AF(t,e){var n=TF(null,function(r){return t.forEach(function(s){return Ip(s,r)})});return MF(function(){var r=Zw.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||Ip(l,null)}),i.forEach(function(l){s.has(l)||Ip(l,a)})}Zw.set(n,t)},[t]),n}function jF(t){return t}function RF(t,e){e===void 0&&(e=jF);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function PF(t){t===void 0&&(t={});var e=RF(null);return e.options=vr({async:!0,ssr:!1},t),e}var XC=function(t){var e=t.sideCar,n=Di(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,vr({},n))};XC.isSideCarExport=!0;function kF(t,e){return t.useMedium(e),XC}var KC=PF(),Op=function(){},xf=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:Op,onWheelCapture:Op,onTouchMoveCapture:Op}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noRelative,x=t.noIsolation,g=t.inert,v=t.allowPinchZoom,m=t.as,y=m===void 0?"div":m,b=t.gapMode,w=Di(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,E=AF([n,e]),T=vr(vr({},w),s);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:KC,removeScrollBar:u,shards:h,noRelative:p,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:b}),a?_.cloneElement(_.Children.only(l),vr(vr({},T),{ref:E})):_.createElement(y,vr({},T,{className:c,ref:E}),l))});xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xf.classNames={fullWidth:Fd,zeroRight:Ud};var DF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DF();return e&&t.setAttribute("nonce",e),t}function IF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function OF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var UF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=LF())&&(IF(e,n),OF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},FF=function(){var t=UF();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},YC=function(){var t=FF(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},BF={left:0,top:0,right:0,gap:0},Up=function(t){return parseInt(t||"",10)||0},zF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Up(n),Up(r),Up(s)]},VF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return BF;var e=zF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},HF=YC(),Po="data-scroll-locked",GF=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(NF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Po,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ud,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Fd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ud," .").concat(Ud,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fd," .").concat(Fd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Po,`] {
    `).concat(CF,": ").concat(l,`px;
  }
`)},e1=function(){var t=parseInt(document.body.getAttribute(Po)||"0",10);return isFinite(t)?t:0},WF=function(){_.useEffect(function(){return document.body.setAttribute(Po,(e1()+1).toString()),function(){var t=e1()-1;t<=0?document.body.removeAttribute(Po):document.body.setAttribute(Po,t.toString())}},[])},$F=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;WF();var i=_.useMemo(function(){return VF(s)},[s]);return _.createElement(HF,{styles:GF(i,!e,s,n?"":"!important")})},eg=!1;if(typeof window<"u")try{var $u=Object.defineProperty({},"passive",{get:function(){return eg=!0,!0}});window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{eg=!1}var za=eg?{passive:!1}:!1,qF=function(t){return t.tagName==="TEXTAREA"},JC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qF(t)&&n[e]==="visible")},XF=function(t){return JC(t,"overflowY")},KF=function(t){return JC(t,"overflowX")},t1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=QC(t,r);if(s){var i=ZC(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},JF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QC=function(t,e){return t==="v"?XF(e):KF(e)},ZC=function(t,e){return t==="v"?YF(e):JF(e)},QF=function(t,e){return t==="h"&&e==="rtl"?-1:1},ZF=function(t,e,n,r,s){var i=QF(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,h=0,f=0;do{if(!l)break;var p=ZC(t,l),x=p[0],g=p[1],v=p[2],m=g-v-i*x;(x||m)&&QC(t,l)&&(h+=m,f+=x);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},qu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n1=function(t){return[t.deltaX,t.deltaY]},r1=function(t){return t&&"current"in t?t.current:t},e8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},n8=0,Va=[];function r8(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(n8++)[0],i=_.useState(YC)[0],a=_.useRef(t);_.useEffect(function(){a.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=kv([t.lockRef.current],(t.shards||[]).map(r1),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var m=qu(g),y=n.current,b="deltaX"in g?g.deltaX:y[0]-m[0],w="deltaY"in g?g.deltaY:y[1]-m[1],S,E=g.target,T=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in g&&T==="h"&&E.type==="range")return!1;var M=window.getSelection(),C=M&&M.anchorNode,N=C?C===E||C.contains(E):!1;if(N)return!1;var j=t1(T,E);if(!j)return!0;if(j?S=T:(S=T==="v"?"h":"v",j=t1(T,E)),!j)return!1;if(!r.current&&"changedTouches"in g&&(b||w)&&(r.current=S),!S)return!0;var k=r.current||S;return ZF(k,v,g,k==="h"?b:w)},[]),c=_.useCallback(function(g){var v=g;if(!(!Va.length||Va[Va.length-1]!==i)){var m="deltaY"in v?n1(v):qu(v),y=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&e8(S.delta,m)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(r1).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=b.length>0?l(v,b[0]):!a.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(g,v,m,y){var b={name:g,delta:v,target:m,should:y,shadowParent:s8(m)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),d=_.useCallback(function(g){n.current=qu(g),r.current=void 0},[]),h=_.useCallback(function(g){u(g.type,n1(g),g.target,l(g,t.lockRef.current))},[]),f=_.useCallback(function(g){u(g.type,qu(g),g.target,l(g,t.lockRef.current))},[]);_.useEffect(function(){return Va.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,za),document.addEventListener("touchmove",c,za),document.addEventListener("touchstart",d,za),function(){Va=Va.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,za),document.removeEventListener("touchmove",c,za),document.removeEventListener("touchstart",d,za)}},[]);var p=t.removeScrollBar,x=t.inert;return _.createElement(_.Fragment,null,x?_.createElement(i,{styles:t8(s)}):null,p?_.createElement($F,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function s8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const i8=kF(KC,r8);var eT=_.forwardRef(function(t,e){return _.createElement(xf,vr({},t,{ref:e,sideCar:i8}))});eT.classNames=xf.classNames;var a8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ha=new WeakMap,Xu=new WeakMap,Ku={},Fp=0,tT=function(t){return t&&(t.host||tT(t.parentNode))},o8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},l8=function(t,e,n,r){var s=o8(e,Array.isArray(t)?t:[t]);Ku[n]||(Ku[n]=new WeakMap);var i=Ku[n],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",g=(Ha.get(f)||0)+1,v=(i.get(f)||0)+1;Ha.set(f,g),i.set(f,v),a.push(f),g===1&&x&&Xu.set(f,!0),v===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",f,m)}})};return d(e),l.clear(),Fp++,function(){a.forEach(function(h){var f=Ha.get(h)-1,p=i.get(h)-1;Ha.set(h,f),i.set(h,p),f||(Xu.has(h)||h.removeAttribute(r),Xu.delete(h)),p||h.removeAttribute(n)}),Fp--,Fp||(Ha=new WeakMap,Ha=new WeakMap,Xu=new WeakMap,Ku={})}},c8=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=a8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),l8(r,s,n,"aria-hidden")):function(){return null}};function u8(t){const e=d8(t),n=_.forwardRef((r,s)=>{const{children:i,...a}=r,l=_.Children.toArray(i),c=l.find(f8);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function d8(t){const e=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const a=m8(s),l=p8(i,s.props);return s.type!==_.Fragment&&(l.ref=r?mf(r,a):a),_.cloneElement(s,l)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var h8=Symbol("radix.slottable");function f8(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===h8}function p8(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function m8(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vf="Dialog",[nT]=HU(vf),[g8,Hr]=nT(vf),rT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=_.useRef(null),c=_.useRef(null),[u,d]=XU({prop:r,defaultProp:s??!1,onChange:i,caller:vf});return o.jsx(g8,{scope:e,triggerRef:l,contentRef:c,contentId:Pp(),titleId:Pp(),descriptionId:Pp(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};rT.displayName=vf;var sT="DialogTrigger",iT=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hr(sT,n),i=Ra(e,s.triggerRef);return o.jsx(Bs.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$v(s.open),...r,ref:i,onClick:bi(t.onClick,s.onOpenToggle)})});iT.displayName=sT;var Gv="DialogPortal",[x8,aT]=nT(Gv,{forceMount:void 0}),oT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Hr(Gv,e);return o.jsx(x8,{scope:e,forceMount:n,children:_.Children.map(r,a=>o.jsx(gf,{present:n||i.open,children:o.jsx(qC,{asChild:!0,container:s,children:a})}))})};oT.displayName=Gv;var jh="DialogOverlay",lT=_.forwardRef((t,e)=>{const n=aT(jh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hr(jh,t.__scopeDialog);return i.modal?o.jsx(gf,{present:r||i.open,children:o.jsx(y8,{...s,ref:e})}):null});lT.displayName=jh;var v8=u8("DialogOverlay.RemoveScroll"),y8=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hr(jh,n);return o.jsx(eT,{as:v8,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Bs.div,{"data-state":$v(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Sa="DialogContent",cT=_.forwardRef((t,e)=>{const n=aT(Sa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hr(Sa,t.__scopeDialog);return o.jsx(gf,{present:r||i.open,children:i.modal?o.jsx(b8,{...s,ref:e}):o.jsx(_8,{...s,ref:e})})});cT.displayName=Sa;var b8=_.forwardRef((t,e)=>{const n=Hr(Sa,t.__scopeDialog),r=_.useRef(null),s=Ra(e,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return c8(i)},[]),o.jsx(uT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bi(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:bi(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:bi(t.onFocusOutside,i=>i.preventDefault())})}),_8=_.forwardRef((t,e)=>{const n=Hr(Sa,t.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return o.jsx(uT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),uT=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Hr(Sa,n),c=_.useRef(null),u=Ra(e,c);return EF(),o.jsxs(o.Fragment,{children:[o.jsx(WC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(HC,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$v(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(S8,{titleId:l.titleId}),o.jsx(N8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Wv="DialogTitle",dT=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hr(Wv,n);return o.jsx(Bs.h2,{id:s.titleId,...r,ref:e})});dT.displayName=Wv;var hT="DialogDescription",w8=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hr(hT,n);return o.jsx(Bs.p,{id:s.descriptionId,...r,ref:e})});w8.displayName=hT;var fT="DialogClose",pT=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hr(fT,n);return o.jsx(Bs.button,{type:"button",...r,ref:e,onClick:bi(t.onClick,()=>s.onOpenChange(!1))})});pT.displayName=fT;function $v(t){return t?"open":"closed"}var mT="DialogTitleWarning",[JW,gT]=VU(mT,{contentName:Sa,titleName:Wv,docsSlug:"dialog"}),S8=({titleId:t})=>{const e=gT(mT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},E8="DialogDescriptionWarning",N8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gT(E8).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},C8=rT,T8=iT,M8=oT,A8=lT,j8=cT,R8=dT,P8=pT;function k8({...t}){return o.jsx(C8,{"data-slot":"dialog",...t})}function D8({...t}){return o.jsx(T8,{"data-slot":"dialog-trigger",...t})}function L8({...t}){return o.jsx(M8,{"data-slot":"dialog-portal",...t})}function I8({className:t,...e}){return o.jsx(A8,{"data-slot":"dialog-overlay",className:en("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function O8({className:t,children:e,showCloseButton:n=!0,...r}){return o.jsxs(L8,{"data-slot":"dialog-portal",children:[o.jsx(I8,{}),o.jsxs(j8,{"data-slot":"dialog-content",className:en("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,n&&o.jsxs(P8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(jn,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function U8({className:t,...e}){return o.jsx("div",{"data-slot":"dialog-header",className:en("flex flex-col gap-2 text-center sm:text-left",t),...e})}function F8({className:t,...e}){return o.jsx(R8,{"data-slot":"dialog-title",className:en("text-lg leading-none font-semibold",t),...e})}async function B8(t){const{data:e,error:n}=await ss.from("event_registration_forms").select("*").eq("event_id",t).eq("is_active",!0).maybeSingle();return n?(console.error("Error fetching registration form:",n),null):e}async function z8(t){const{data:e,error:n}=await ss.from("event_registrations").select("status, confirmation_sent").eq("form_id",t);return n||!e?{total_registrations:0,confirmed:0,pending:0}:{total_registrations:e.length,confirmed:e.filter(r=>r.status==="confirmed").length,pending:e.filter(r=>!r.confirmation_sent).length}}function s1(t,e){return!(!t.is_active||t.registration_deadline&&new Date(t.registration_deadline)<new Date||t.max_registrations&&e&&e>=t.max_registrations)}function V8(t){return`/event-register/${t}`}function H8({event:t,trigger:e}){const n=lr(),r=new Date(t.date),[s,i]=_.useState(null),[a,l]=_.useState(null),[,c]=_.useState(!0);_.useEffect(()=>{u()},[t.id]);const u=async()=>{c(!0);const f=await B8(t.id);if(f){i(f);const p=await z8(f.id);l(p)}c(!1)},d=f=>f.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),h=async()=>{const f={title:t.title,text:`${t.title} - ${d(r)} at ${t.location}`,url:window.location.href};if(navigator.share)try{await navigator.share(f)}catch{}else navigator.clipboard.writeText(f.url),alert("Event link copied to clipboard!")};return o.jsxs(k8,{children:[o.jsx(D8,{asChild:!0,children:e}),o.jsxs(O8,{className:"sm:max-w-3xl bg-gray-900 border-gray-800 text-white",children:[o.jsx(U8,{children:o.jsx(F8,{className:"text-2xl font-bold",children:t.title})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mt-4",children:[o.jsx("div",{className:"relative w-full md:w-1/2 h-56 md:h-auto overflow-hidden rounded-md bg-gray-800",children:o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.title,className:"absolute inset-0 w-full h-full object-contain"})}),o.jsxs("div",{className:"flex-1 space-y-4",children:[t.category&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yL,{className:"w-4 h-4 text-blue-400"}),o.jsx(da,{variant:"secondary",className:"bg-blue-600/20 text-blue-400 border-blue-600/30",children:t.category})]}),o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(Wn,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsx("span",{children:d(r)})]}),t.time&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(Vn,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsx("span",{children:t.time})]}),t.location&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(uf,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsx("span",{children:t.location})]}),t["Faculty Co-ordinator"]&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(df,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Faculty Coordinator"}),o.jsx("p",{className:"text-sm",children:t["Faculty Co-ordinator"]})]})]}),s&&s.max_registrations&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(ft,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsxs("span",{children:[(a==null?void 0:a.total_registrations)||0," / ",s.max_registrations," participants",(a==null?void 0:a.total_registrations)>=s.max_registrations&&o.jsx(da,{variant:"destructive",className:"ml-2",children:"Full"})]})]}),!s&&t.max_participants&&o.jsxs("div",{className:"flex items-center text-gray-300",children:[o.jsx(ft,{className:"w-5 h-5 mr-2 flex-shrink-0"}),o.jsxs("span",{children:[t.current_participants||0," / ",t.max_participants," participants"]})]}),t.description&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:t.description})]})]})]}),o.jsxs("div",{className:"flex justify-between items-center gap-3 mt-6",children:[o.jsxs(On,{variant:"outline",size:"sm",className:"border-gray-700 text-white hover:bg-gray-800 bg-transparent gap-2",onClick:h,children:[o.jsx(wN,{className:"w-4 h-4"}),"Share Event"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(On,{variant:"outline",className:"border-gray-700 text-white hover:bg-gray-800 bg-transparent",onClick:()=>{var f;return(f=document.querySelector('[data-state="open"] button[data-slot="dialog-close"]'))==null?void 0:f.click()},children:"Close"}),s&&s1(s,a==null?void 0:a.total_registrations)&&new Date(t.date)>new Date&&o.jsxs(On,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 gap-2",onClick:()=>{n(V8(s.id))},children:[o.jsx(ga,{className:"w-4 h-4"}),"Register Now"]}),!s&&t.registration_link&&new Date(t.date)>new Date&&o.jsx(On,{asChild:!0,className:"bg-blue-600 text-white hover:bg-blue-700",children:o.jsx("a",{href:t.registration_link,target:"_blank",rel:"noopener noreferrer",children:"Register Now"})}),s&&!s1(s,a==null?void 0:a.total_registrations)&&o.jsx(On,{disabled:!0,className:"bg-gray-600 text-gray-300",children:"Registration Closed"})]})]})]})]})}function i1({event:t}){const e=new Date(t.date),n=r=>r.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return o.jsx(H8,{event:t,trigger:o.jsxs(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 text-gray-900 hover:shadow-xl hover:border-blue-300 transition-all cursor-pointer group",children:[o.jsxs("div",{className:"relative w-full h-48 overflow-hidden rounded-t-lg bg-gray-100",children:[o.jsx("img",{src:t.image_url||"/placeholder.svg",alt:t.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),o.jsx(fU,{children:o.jsx(pU,{className:"text-lg font-bold line-clamp-2 text-gray-900 group-hover:text-blue-600 transition-colors",children:t.title})}),o.jsxs(zt,{children:[o.jsxs("div",{className:"flex items-center text-gray-700 text-sm mb-2",children:[o.jsx(Wn,{className:"w-4 h-4 mr-2 flex-shrink-0 text-blue-600"}),o.jsx("span",{className:"truncate",children:n(e)})]}),o.jsxs("div",{className:"flex items-center text-gray-700 text-sm",children:[o.jsx(uf,{className:"w-4 h-4 mr-2 flex-shrink-0 text-purple-600"}),o.jsx("span",{className:"truncate",children:t.location})]})]})]})})}function G8(){const[t,e]=_.useState([]),[n,r]=_.useState([]),[s,i]=_.useState(!0);return _.useEffect(()=>{async function a(){try{const[l,c]=await Promise.all([BU(),zU()]);e(l),r(c)}catch(l){console.error("Failed to fetch events",l)}finally{i(!1)}}a()},[]),s?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading events..."})}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"Events"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Discover our upcoming workshops, competitions, and networking opportunities"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[o.jsxs("section",{className:"mb-16",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Upcoming Events"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-8"})]}),t.length===0?o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsx(zt,{className:"p-8 text-center",children:o.jsx("p",{className:"text-gray-700",children:"No upcoming events at the moment. Check back soon!"})})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(a=>o.jsx(i1,{event:a},a.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Past Events"}),o.jsx("div",{className:"h-px bg-gray-300 flex-1 ml-8"})]}),n.length===0?o.jsx(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 shadow-lg",children:o.jsx(zt,{className:"p-8 text-center",children:o.jsx("p",{className:"text-gray-700",children:"No past events to display."})})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(a=>o.jsx(i1,{event:a},a.id))})]})]})]})}async function W8(){try{const{data:t,error:e}=await ss.from("blogs").select(`
        *,
        author:team_members(name, position, image_url)
      `).eq("is_published",!0).order("created_at",{ascending:!1});return e?[]:t||[]}catch{return[]}}async function $8(t){try{const{data:e,error:n}=await ss.from("blogs").select(`
        *,
        author:team_members(name, position, image_url)
      `).eq("id",t).single();return n?null:e}catch{return null}}function q8({post:t}){var c,u;const[e,n]=_.useState(!1),r=d=>{try{return new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date unavailable"}},s=()=>{var d;return typeof t.author=="object"&&((d=t.author)!=null&&d.name)?t.author.name:"Anonymous"},i=t.image_1||t.image_url,a=async()=>{const d={title:t.title,text:t.excerpt||t.title,url:`${window.location.origin}/blog/${t.id}`};if(navigator.share)try{await navigator.share(d)}catch{}else navigator.clipboard.writeText(d.url),alert("Link copied to clipboard!")},l=()=>{n(!e);const d=JSON.parse(localStorage.getItem("savedBlogPosts")||"[]");if(!e)d.push(t.id),localStorage.setItem("savedBlogPosts",JSON.stringify(d));else{const h=d.filter(f=>f!==t.id);localStorage.setItem("savedBlogPosts",JSON.stringify(h))}};return o.jsxs(qt,{className:"bg-white/60 backdrop-blur-sm border-gray-200 hover:border-blue-300 hover:shadow-xl transition-all duration-300 overflow-hidden group flex flex-col",children:[o.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[i?o.jsx("img",{src:i,alt:t.title||"Blog post image",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Wn,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),o.jsx("span",{className:"text-sm opacity-50",children:"No image"})]})}),o.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[o.jsx("button",{onClick:d=>{d.preventDefault(),a()},className:"bg-white/90 hover:bg-white text-gray-700 rounded-full p-2 backdrop-blur-sm transition-all shadow-md",title:"Share",children:o.jsx(wN,{className:"w-4 h-4"})}),o.jsx("button",{onClick:d=>{d.preventDefault(),l()},className:`rounded-full p-2 backdrop-blur-sm transition-all shadow-md ${e?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white/90 hover:bg-white text-gray-700"}`,title:e?"Saved":"Save",children:o.jsx(eL,{className:`w-4 h-4 ${e?"fill-current":""}`})})]}),!t.is_published&&o.jsx("div",{className:"absolute top-2 left-2",children:o.jsx(da,{variant:"secondary",className:"bg-yellow-500 text-white shadow-md",children:"Draft"})})]}),o.jsxs(zt,{className:"p-6 flex flex-col flex-grow",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-blue-100 flex-shrink-0 ring-2 ring-blue-100",children:(c=t.author)!=null&&c.image_url?o.jsx("img",{src:t.author.image_url,alt:s(),width:40,height:40,className:"object-cover w-full h-full"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(df,{className:"w-5 h-5 text-blue-600"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s()}),o.jsx("p",{className:"text-xs text-gray-600 truncate",children:((u=t.author)==null?void 0:u.position)||"ACM Member"})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3 flex-wrap min-h-[20px]",children:[t.created_at&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wn,{className:"w-4 h-4 mr-1 text-blue-600"}),o.jsx("span",{children:r(t.created_at)})]}),t.reading_time&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vn,{className:"w-4 h-4 mr-1 text-purple-600"}),o.jsxs("span",{children:[t.reading_time," min read"]})]})]}),o.jsx("div",{className:"mb-3 min-h-[28px]",children:t.category&&o.jsx(da,{variant:"outline",className:"border-blue-300 text-blue-700 bg-blue-50",children:t.category})}),o.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2 min-h-[56px]",children:t.title||"Untitled Post"}),o.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3 min-h-[72px]",children:t.excerpt||"No description available."}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4 min-h-[32px]",children:t.tags&&t.tags.length>0?o.jsxs(o.Fragment,{children:[t.tags.slice(0,3).map(d=>o.jsxs(da,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:["#",d]},d)),t.tags.length>3&&o.jsxs(da,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:["+",t.tags.length-3," more"]})]}):null}),o.jsx("div",{className:"flex justify-between items-center mt-auto",children:o.jsx(wt,{to:`/blog/${t.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors font-medium",children:"Read More "})})]})]})}function X8(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null);return _.useEffect(()=>{async function a(){try{const l=await W8();e(l)}catch(l){console.error("Failed to fetch blog posts",l),i("Failed to load blog posts. Please try again later.")}finally{r(!1)}}a()},[]),n?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading blog posts..."})}):s?o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center flex-col gap-4",children:[o.jsxs("div",{className:"text-xl text-red-500",children:["Error: ",s]}),o.jsx("p",{className:"text-gray-700",children:"Please check your connection."})]}):o.jsxs("div",{className:"text-gray-900 min-h-screen pt-20",children:[o.jsx("section",{className:"py-20 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-900",children:"Blog"}),o.jsx("p",{className:"text-xl text-gray-700 leading-relaxed",children:"Insights, tutorials, and stories from our community"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-20",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(a=>o.jsx(q8,{post:a},a.id))}),t.length===0&&o.jsx("p",{className:"text-gray-700 text-center py-12",children:"No blog posts available yet. Check back soon!"})]})]})}function K8(){const{id:t}=il(),[e,n]=_.useState(null),[r,s]=_.useState(!0);if(_.useEffect(()=>{t&&$8(t).then(a=>{n(a),s(!1)})},[t]),r)return o.jsx("div",{className:"pt-32 pb-16 min-h-screen flex items-center justify-center bg-[#FAF9F6]",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})});if(!e)return o.jsx("div",{className:"pt-32 pb-16 min-h-screen flex items-center justify-center bg-[#FAF9F6]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Post Not Found"}),o.jsx(wt,{to:"/blog",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Back to Blog"})]})});const i=[e.image_1,e.image_2,e.image_3,e.image_4].filter(Boolean);return o.jsx("div",{className:"min-h-screen bg-[#FAF9F6] pt-20",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(wt,{to:"/blog",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors font-medium mb-8 group",children:[o.jsx(cf,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Blog"]}),e.category&&o.jsx("span",{className:"inline-block text-sm text-blue-600 font-semibold uppercase tracking-wide mb-4 px-3 py-1 bg-blue-50 rounded-full",children:e.category}),o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:e.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 md:gap-6 text-gray-600 mb-8 pb-8 border-b border-gray-200",children:[e.author&&o.jsxs(wt,{to:"/team",className:"flex items-center gap-3 hover:opacity-80 transition-opacity group",children:[o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-blue-100 flex items-center justify-center ring-2 ring-blue-100 group-hover:ring-blue-300 transition-all",children:e.author.image_url?o.jsx("img",{src:e.author.image_url,alt:e.author.name,className:"w-full h-full object-cover"}):o.jsx(df,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:e.author.name}),e.author.position&&o.jsx("p",{className:"text-sm text-gray-500",children:e.author.position})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.reading_time&&o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Vn,{size:16}),o.jsxs("span",{children:[e.reading_time," min read"]})]}),o.jsx("span",{children:HO(e.created_at)})]})]}),i.length>0&&o.jsx("div",{className:`grid gap-4 mb-12 ${i.length===1?"grid-cols-1":(i.length===2,"grid-cols-2")}`,children:i.map((a,l)=>o.jsx("img",{src:a,alt:`${e.title} - Image ${l+1}`,className:"w-full rounded-xl object-cover shadow-lg",style:{maxHeight:i.length===1?"500px":"300px"}},l))}),o.jsx("div",{className:"prose prose-lg max-w-none",children:o.jsx("div",{className:"text-lg text-gray-800 leading-relaxed whitespace-pre-wrap font-serif",children:e.content})}),e.tags&&e.tags.length>0&&o.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(a=>o.jsxs("span",{className:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700 transition-colors cursor-pointer",children:["#",a]},a))})]})]})})}function Y8({images:t}){const e=_.useRef(null),n=qD(),[r,s]=_.useState(!1);_.useEffect(()=>{const p=()=>s(window.innerWidth<768);return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const{scrollYProgress:i}=tu({target:e,offset:["start start","end end"]}),a=r?.6:1,l=Cn(i,[0,1],[1,4*a]),c=Cn(i,[0,1],[1,5*a]),u=Cn(i,[0,1],[1,6*a]),d=Cn(i,[0,1],[1,8*a]),h=Cn(i,[0,1],[1,9*a]),f=[l,c,u,c,u,d,h];return r||n?o.jsx("div",{className:"relative py-20",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.slice(0,6).map(({src:p,alt:x},g)=>o.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:o.jsx("img",{src:p,alt:x||`Gallery image ${g+1}`,className:"w-full h-full object-cover",loading:"lazy"})},g))})})}):o.jsx("div",{ref:e,className:"relative h-[300vh]",children:o.jsx("div",{className:"sticky top-0 h-screen overflow-hidden",children:t.map(({src:p,alt:x},g)=>{const v=f[g%f.length];return o.jsx(Je.div,{style:{scale:v,transformOrigin:"center center"},transition:{type:"tween",ease:"linear",duration:0},className:`absolute top-0 flex h-full w-full items-center justify-center ${g===1?"[&>div]:!-top-[30vh] [&>div]:!left-[5vw] [&>div]:!h-[30vh] [&>div]:!w-[35vw]":""} ${g===2?"[&>div]:!-top-[10vh] [&>div]:!-left-[25vw] [&>div]:!h-[45vh] [&>div]:!w-[20vw]":""} ${g===3?"[&>div]:!left-[27.5vw] [&>div]:!h-[25vh] [&>div]:!w-[25vw]":""} ${g===4?"[&>div]:!top-[27.5vh] [&>div]:!left-[5vw] [&>div]:!h-[25vh] [&>div]:!w-[20vw]":""} ${g===5?"[&>div]:!top-[27.5vh] [&>div]:!-left-[22.5vw] [&>div]:!h-[25vh] [&>div]:!w-[30vw]":""} ${g===6?"[&>div]:!top-[22.5vh] [&>div]:!left-[25vw] [&>div]:!h-[15vh] [&>div]:!w-[15vw]":""} `,children:o.jsx("div",{className:"relative h-[25vh] w-[25vw] transform-gpu",children:o.jsx("img",{src:p,alt:x||`Parallax image ${g+1}`,className:"h-full w-full object-cover rounded-lg",loading:"eager",decoding:"async",style:{willChange:"transform",backfaceVisibility:"hidden",perspective:1e3}})})},g)})})})}const J8={blue:{base:220,spread:200},purple:{base:280,spread:300},green:{base:120,spread:200},red:{base:0,spread:200},orange:{base:30,spread:200}},Q8={sm:"w-48 h-64",md:"w-64 h-80",lg:"w-80 h-96"},Z8=({children:t,className:e="",glowColor:n="blue",size:r="md",width:s,height:i,customSize:a=!1})=>{const l=_.useRef(null),c=_.useRef(null);_.useEffect(()=>{const x=g=>{const{clientX:v,clientY:m}=g;l.current&&(l.current.style.setProperty("--x",v.toFixed(2)),l.current.style.setProperty("--xp",(v/window.innerWidth).toFixed(2)),l.current.style.setProperty("--y",m.toFixed(2)),l.current.style.setProperty("--yp",(m/window.innerHeight).toFixed(2)))};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)},[]);const{base:u,spread:d}=J8[n],h=()=>a?"":Q8[r],f=()=>{const x={"--base":u,"--spread":d,"--radius":"14","--border":"3","--backdrop":"hsl(0 0% 60% / 0.12)","--backup-border":"var(--backdrop)","--size":"200","--outer":"1","--border-size":"calc(var(--border, 2) * 1px)","--spotlight-size":"calc(var(--size, 150) * 1px)","--hue":"calc(var(--base) + (var(--xp, 0) * var(--spread, 0)))",backgroundImage:`radial-gradient(var(--spotlight-size) var(--spotlight-size) at
        calc(var(--x, 0) * 1px)
        calc(var(--y, 0) * 1px),
        hsl(var(--hue, 210) calc(var(--saturation, 100) * 1%) calc(var(--lightness, 70) * 1%) / var(--bg-spot-opacity, 0.1)), transparent)`,backgroundColor:"var(--backdrop, transparent)",backgroundSize:"calc(100% + (2 * var(--border-size))) calc(100% + (2 * var(--border-size)))",backgroundPosition:"50% 50%",backgroundAttachment:"fixed",border:"var(--border-size) solid var(--backup-border)",position:"relative",touchAction:"none"};return s!==void 0&&(x.width=typeof s=="number"?`${s}px`:s),i!==void 0&&(x.height=typeof i=="number"?`${i}px`:i),x};return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-glow]::before,
[data-glow]::after {
  pointer-events: none;
  content: "";
  position: absolute;
  inset: calc(var(--border-size) * -1);
  border: var(--border-size) solid transparent;
  border-radius: calc(var(--radius) * 1px);
  background-attachment: fixed;
  background-size: calc(100% + (2 * var(--border-size))) calc(100% + (2 * var(--border-size)));
  background-repeat: no-repeat;
  background-position: 50% 50%;
  mask: linear-gradient(transparent, transparent), linear-gradient(white, white);
  mask-clip: padding-box, border-box;
  mask-composite: intersect;
}

[data-glow]::before {
  background-image: radial-gradient(
    calc(var(--spotlight-size) * 0.75) calc(var(--spotlight-size) * 0.75) at
    calc(var(--x, 0) * 1px)
    calc(var(--y, 0) * 1px),
    hsl(var(--hue, 210) calc(var(--saturation, 100) * 1%) calc(var(--lightness, 50) * 1%) / var(--border-spot-opacity, 1)), transparent 100%
  );
  filter: brightness(2);
}

[data-glow]::after {
  background-image: radial-gradient(
    calc(var(--spotlight-size) * 0.5) calc(var(--spotlight-size) * 0.5) at
    calc(var(--x, 0) * 1px)
    calc(var(--y, 0) * 1px),
    hsl(0 100% 100% / var(--border-light-opacity, 1)), transparent 100%
  );
}

[data-glow] [data-glow] {
  position: absolute;
  inset: 0;
  will-change: filter;
  opacity: var(--outer, 1);
  border-radius: calc(var(--radius) * 1px);
  border-width: calc(var(--border-size) * 20);
  filter: blur(calc(var(--border-size) * 10));
  background: none;
  pointer-events: none;
  border: none;
}

[data-glow] > [data-glow]::before {
  inset: -10px;
  border-width: 10px;
}
`}}),o.jsxs("div",{ref:l,"data-glow":!0,style:f(),className:`${h()}
          ${a?"":"aspect-[3/4]"}
          rounded-2xl relative grid grid-rows-[1fr_auto] shadow-[0_1rem_2rem_-1rem_black] backdrop-blur-[5px]
          ${e}`,children:[o.jsx("div",{ref:c,"data-glow":!0}),t]})]})};function e9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState(!1);_.useEffect(()=>{const d=()=>{l(window.innerWidth<768)};d(),window.addEventListener("resize",d);async function h(){const{data:f,error:p}=await Q.from("event_galleries").select("*").order("event_date",{ascending:!1});!p&&f&&e(f),r(!1)}return h(),()=>window.removeEventListener("resize",d)},[]);const c=_.useCallback(d=>{a||i(d)},[a]),u=t.slice(0,2).flatMap(d=>[{src:d.image_1,alt:d.event_name},{src:d.image_2,alt:d.event_name},{src:d.image_3,alt:d.event_name},{src:d.image_4,alt:d.event_name}]).slice(0,7);return n?o.jsx("div",{className:"text-gray-900 min-h-screen pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl",children:"Loading gallery..."})}):o.jsxs("div",{className:"text-gray-900 min-h-screen",children:[o.jsx("section",{className:"pt-32 pb-12 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-gray-900",children:"Gallery"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed",children:"Moments captured from our events and activities"})]})}),u.length>0&&o.jsx("div",{className:"relative",children:o.jsx(Y8,{images:u})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-20",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:"Event Galleries"}),o.jsx("p",{className:"text-xl text-gray-700",children:"Browse through our memorable moments"})]}),t.length===0?o.jsx("p",{className:"text-gray-700 text-center py-12",children:"No gallery items available yet."}):o.jsx("div",{className:"space-y-16",children:t.map((d,h)=>{const f=[d.image_1,d.image_2,d.image_3,d.image_4].filter(Boolean);return o.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:h*.1},className:"space-y-6",children:[o.jsxs("div",{className:"border-l-4 border-blue-600 pl-6 bg-white/60 backdrop-blur-sm rounded-r-lg py-4 shadow-sm",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-900",children:d.event_name}),d.description&&o.jsx("p",{className:"text-gray-700 mb-2",children:d.description}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(d.event_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6",children:f.map((p,x)=>o.jsx(Je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:x*.05},className:a?"":"cursor-pointer",onClick:()=>c(p),style:{touchAction:a?"pan-y":"auto"},children:o.jsx(Z8,{glowColor:["blue","purple","green","orange"][x%4],customSize:!0,className:"w-full aspect-square p-0 overflow-hidden",children:o.jsx("img",{src:p,alt:`${d.event_name} - Photo ${x+1}`,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",style:{pointerEvents:a?"none":"auto",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none"},onContextMenu:g=>g.preventDefault(),draggable:!1})})},x))})]},d.id)})})]}),s&&o.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:[o.jsx("button",{className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition-colors",onClick:()=>i(null),children:""}),o.jsx("img",{src:s,alt:"Full size",className:"max-w-full max-h-full object-contain"})]})]})}const t9="https://sakec.acm.org/api";async function yf(t){try{const e=await fetch(`${t9}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:t.to,subject:t.subject,message:t.message,fromEmail:t.fromEmail||"support@sakec.acm.org",fromName:t.fromName||"SAKEC ACM Student Chapter",replyTo:t.replyTo||"support@sakec.acm.org"})});if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const s=await e.json();s.message&&(r=s.message)}catch{}throw new Error(r)}const n=await e.json();return n.success&&n.warning&&console.warn("Email sent but database logging failed on backend"),n}catch(e){return console.error("Email send error:",e),{success:!1,message:e instanceof Error?e.message:"Failed to send email"}}}async function n9(t,e,n,r,s,i){const a=`Registration Confirmed: ${n}`;let l=`Dear ${e},

`;return l+=`Thank you for registering for "${n}"!

`,l+=`Your registration has been confirmed. Here are the event details:

`,l+=` Date: ${r}
`,s&&(l+=` Time: ${s}
`),i&&(l+=` Location: ${i}
`),l+=`
`,l+=`We look forward to seeing you at the event!

`,l+=`If you have any questions, please don't hesitate to contact us.

`,l+=`Best regards,
`,l+="SAKEC ACM Student Chapter Team",yf({to:t,subject:a,message:l,fromEmail:"events@sakec.acm.org",fromName:"SAKEC ACM Events",replyTo:"events@sakec.acm.org"})}async function r9(t,e,n,r){const s="neal.18191@sakec.ac.in",i=`New Contact Form: ${n}`;let a=`New contact form submission received:

`;return a+=`From: ${t}
`,a+=`Email: ${e}
`,a+=`Subject: ${n}

`,a+=`Message:
${r}

`,a+=`---
`,a+=`Reply directly to this email to respond to ${t}.`,yf({to:s,subject:i,message:a,fromEmail:"contact@sakec.acm.org",fromName:"SAKEC ACM Website",replyTo:e})}async function s9(t,e,n,r){const s="Thank you for contacting SAKEC ACM";let i=`Dear ${t},

`;return i+=`Thank you for reaching out to the SAKEC ACM Student Chapter.

`,i+=`We have received your message regarding "${n}" and our team will review it shortly.

`,i+=`Your Message:
${r}

`,i+=`We typically respond within 24-48 hours. If your matter is urgent, please feel free to reach out to us directly.

`,i+=`Best regards,
`,i+="SAKEC ACM Student Chapter Team",yf({to:e,subject:s,message:i,fromEmail:"contact@sakec.acm.org",fromName:"SAKEC ACM Student Chapter",replyTo:"contact@sakec.acm.org"})}async function i9(t,e,n,r){const s={sent:0,failed:0,errors:[]};for(const i of t)try{const a=await yf({to:i,subject:e,message:n,...r});a.success?s.sent++:(s.failed++,s.errors.push(`${i}: ${a.message}`)),await new Promise(l=>setTimeout(l,500))}catch(a){s.failed++,s.errors.push(`${i}: ${a instanceof Error?a.message:"Unknown error"}`)}return s}async function a9(t){try{console.log("Attempting to save contact message:",t);const{data:e,error:n}=await Q.from("contact_messages").insert([{name:t.name,email:t.email,subject:t.subject,message:t.message}]).select();if(n)return console.error("Database error:",n),{success:!1,error:`Database error: ${n.message}`};console.log("Message saved successfully:",e);try{const r=await r9(t.name,t.email,t.subject,t.message);r.success?console.log("Admin notification sent successfully"):console.warn("Failed to send admin notification:",r.message);const s=await s9(t.name,t.email,t.subject,t.message);s.success?console.log("Thank you email sent successfully"):console.warn("Failed to send thank you email:",s.message)}catch(r){console.warn("Email notification failed, but message was saved:",r)}return{success:!0}}catch(e){return console.error("Error submitting contact form:",e),{success:!1,error:"An unexpected error occurred"}}}function o9(){const[t,e]=_.useState({name:"",email:"",subject:"",message:""}),[n,r]=_.useState("idle"),[s,i]=_.useState(""),a=async l=>{l.preventDefault(),r("loading"),i("");const c=await a9(t);c.success?(r("success"),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>r("idle"),3e3)):(r("error"),i(c.error||"Failed to submit form"))};return o.jsx("div",{className:"pt-24 pb-16 text-gray-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4 text-center text-gray-900",children:"Contact Us"}),o.jsx("p",{className:"text-xl text-gray-700 mb-12 text-center",children:"Get in touch with us for any queries or collaborations"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx("div",{className:"bg-white/60 backdrop-blur-sm border border-gray-200 rounded-2xl p-8 shadow-lg",children:o.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2 text-gray-900",children:"Name"}),o.jsx("input",{type:"text",id:"name",required:!0,value:t.name,onChange:l=>e({...t,name:l.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Your name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2 text-gray-900",children:"Email"}),o.jsx("input",{type:"email",id:"email",required:!0,value:t.email,onChange:l=>e({...t,email:l.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"your.email@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2 text-gray-900",children:"Subject"}),o.jsx("input",{type:"text",id:"subject",required:!0,value:t.subject,onChange:l=>e({...t,subject:l.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"What's this about?"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2 text-gray-900",children:"Message"}),o.jsx("textarea",{id:"message",required:!0,rows:6,value:t.message,onChange:l=>e({...t,message:l.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 text-gray-900 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all resize-none",placeholder:"Your message..."})]}),o.jsx("button",{type:"submit",disabled:n==="loading",className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-semibold transition-colors shadow-md hover:shadow-lg",children:n==="loading"?"Sending...":"Send Message"}),n==="success"&&o.jsx("p",{className:"text-green-600 text-center font-medium",children:"Message sent successfully!"}),n==="error"&&o.jsx("p",{className:"text-red-600 text-center font-medium",children:s})]})}),o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm border border-gray-200 rounded-2xl p-8 shadow-lg",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4 text-gray-900",children:"Get In Touch"}),o.jsx("p",{className:"text-gray-700 mb-8 leading-relaxed",children:"Have questions or want to collaborate? We'd love to hear from you. Fill out the form or reach us through the contact details below."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[o.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:o.jsx(cn,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-900",children:"Email"}),o.jsx("a",{href:"mailto:support@sakec.acm.org",className:"text-blue-600 hover:text-blue-700 transition-colors",children:"support@sakec.acm.org"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-purple-50 rounded-lg border border-purple-100",children:[o.jsx("div",{className:"p-3 bg-purple-600 rounded-lg",children:o.jsx(xL,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-900",children:"Phone"}),o.jsx("p",{className:"text-gray-700",children:"+91 XXXXXXXXXX"})]})]}),o.jsxs("div",{className:"flex items-start gap-4 p-4 bg-green-50 rounded-lg border border-green-100",children:[o.jsx("div",{className:"p-3 bg-green-600 rounded-lg",children:o.jsx(uf,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1 text-gray-900",children:"Address"}),o.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Shah & Anchor Kutchhi Engineering College",o.jsx("br",{}),"Chembur, Mumbai, Maharashtra"]})]})]})]})]})})]})]})})}function l9(){const{id:t}=il(),[e,n]=_.useState(null),[r,s]=_.useState(!0);return _.useEffect(()=>{t&&zC(t).then(i=>{n(i),s(!1)})},[t]),r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading profile..."})}):e?o.jsx("div",{className:"min-h-screen pt-24 pb-16",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 md:p-12 border border-gray-200 shadow-xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[e.image_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:e.image_url,alt:e.name,className:"w-48 h-48 rounded-full object-cover border-4 border-blue-500 shadow-lg"}),o.jsx("div",{className:"absolute -bottom-2 -right-2 bg-blue-600 text-white rounded-full p-3 shadow-lg",children:o.jsx(Eh,{size:24})})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2 text-gray-900",children:e.name}),o.jsx("p",{className:"text-2xl text-blue-600 mb-4 font-semibold",children:e.position}),o.jsxs("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start mb-6",children:[e.department&&o.jsx("span",{className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:e.department}),e.year&&o.jsxs("span",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:["Year: ",e.year]})]}),e.personal_quote&&o.jsxs("blockquote",{className:"italic text-gray-700 bg-blue-50 border-l-4 border-blue-500 pl-4 py-3 my-6 rounded-r-lg",children:['"',e.personal_quote,'"']}),e.about_us&&o.jsx("p",{className:"text-gray-800 mb-6 leading-relaxed text-lg",children:e.about_us}),o.jsxs("div",{className:"flex gap-3 justify-center md:justify-start",children:[e.linkedin_url&&o.jsx("a",{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105",title:"LinkedIn",children:o.jsx(vN,{size:24})}),e.github_url&&o.jsx("a",{href:e.github_url,target:"_blank",rel:"noopener noreferrer",className:"p-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105",title:"GitHub",children:o.jsx(xN,{size:24})}),e.email&&o.jsx("a",{href:`mailto:${e.email}`,className:"p-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105",title:"Email",children:o.jsx(cn,{size:24})})]})]})]}),e.skills&&e.skills.length>0&&o.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(oL,{className:"text-blue-600",size:24})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Skills"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map(i=>o.jsx("span",{className:"px-4 py-2 bg-blue-50 border border-blue-200 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-100 transition-colors",children:i},i))})]}),e.achievements&&e.achievements.length>0&&o.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:o.jsx(Eh,{className:"text-yellow-600",size:24})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Achievements"})]}),o.jsx("ul",{className:"space-y-3",children:e.achievements.map((i,a)=>o.jsxs("li",{className:"flex items-start gap-3 p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[o.jsx("span",{className:"text-yellow-600 mt-1 font-bold",children:""}),o.jsx("span",{className:"text-gray-800",children:i})]},a))})]})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold mb-4 text-gray-900",children:"Profile Not Found"}),o.jsx("p",{className:"text-gray-700",children:"This NFC card is not registered."})]})})}function c9(){const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[a,l]=_.useState(!1),c=lr();_.useEffect(()=>{localStorage.getItem("admin_session")&&c("/admin/dashboard")},[c]);const u=async d=>{d.preventDefault(),i(""),l(!0);try{const{data:h,error:f}=await Q.from("admins").select("*").eq("username",t).eq("is_active",!0).single();if(f||!h){i("Invalid credentials"),l(!1);return}h.password_hash===n?(localStorage.setItem("admin_session",JSON.stringify({username:h.username,email:h.email,loginTime:new Date().toISOString()})),await Q.from("admins").update({last_login:new Date().toISOString()}).eq("id",h.id),c("/admin/dashboard")):i("Invalid credentials")}catch{i("Connection error. Please try again.")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("h1",{className:"sr-only",children:"Admin Access"}),o.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-gray-700",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("div",{className:"w-16 h-16 bg-blue-600/20 rounded-full flex items-center justify-center",children:o.jsx(uw,{className:"w-8 h-8 text-blue-500"})})}),o.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-8",children:"Secure Access"}),s&&o.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-lg flex items-start gap-3",children:[o.jsx(Vr,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-red-400 text-sm",children:s})]}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),o.jsxs("div",{className:"relative",children:[o.jsx(df,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"username",type:"text",value:t,onChange:d=>e(d.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter username",required:!0,autoComplete:"off"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(uw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),o.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0,autoComplete:"off"})]})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900",children:a?"Authenticating...":"Access Dashboard"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{onClick:()=>c("/"),className:"text-sm text-gray-400 hover:text-gray-300 transition-colors",children:" Back to website"})})]}),o.jsx("p",{className:"text-center text-gray-600 text-xs mt-6",children:"Unauthorized access is prohibited"})]})})}function u9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:g,error:v}=await Q.from("team_members").select("*").order("display_order",{ascending:!0});!v&&g&&e(g),r(!1)},h=async()=>{s?await Q.from("team_members").update(a).eq("id",s):await Q.from("team_members").insert([a]),i(null),u(!1),l({}),d()},f=async g=>{confirm("Are you sure you want to delete this member?")&&(await Q.from("team_members").delete().eq("id",g),d())},p=g=>{i(g.id),l(g),u(!1)},x=()=>{u(!0),i(null),l({})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Team Members"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(Pi,{className:"w-4 h-4"})," Add Member"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Member":"Add New Member"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Name",value:a.name||"",onChange:g=>l({...a,name:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Position",value:a.position||"",onChange:g=>l({...a,position:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"email",placeholder:"Email",value:a.email||"",onChange:g=>l({...a,email:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image URL",value:a.image_url||"",onChange:g=>l({...a,image_url:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"LinkedIn URL",value:a.linkedin_url||"",onChange:g=>l({...a,linkedin_url:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"GitHub URL",value:a.github_url||"",onChange:g=>l({...a,github_url:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Year",value:a.year||"",onChange:g=>l({...a,year:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Department",value:a.department||"",onChange:g=>l({...a,department:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(ki,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(jn,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(g=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[g.image_url&&o.jsx("img",{src:g.image_url,alt:g.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:g.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:g.position}),o.jsx("p",{className:"text-gray-500 text-xs",children:g.email})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(g),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(g.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(rs,{className:"w-4 h-4"})})]})]},g.id))})]})}function d9({eventId:t,eventTitle:e,onClose:n}){const[r,s]=_.useState({event_id:t,form_title:`${e} Registration`,is_active:!0,allowed_email_domains:[],fields:[]}),[i,a]=_.useState([]),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[h,f]=_.useState(!1),[p,x]=_.useState([]);_.useEffect(()=>{g()},[t]);const g=async()=>{const{data:M}=await Q.from("event_registration_forms").select("*").eq("event_id",t).single();if(M){if(M.registration_deadline){const N=new Date(M.registration_deadline),j=N.getFullYear(),k=String(N.getMonth()+1).padStart(2,"0"),U=String(N.getDate()).padStart(2,"0"),G=String(N.getHours()).padStart(2,"0"),O=String(N.getMinutes()).padStart(2,"0");M.registration_deadline=`${j}-${k}-${U}T${G}:${O}`}s(M);const{data:C}=await Q.from("event_form_fields").select("*").eq("form_id",M.id).order("display_order");C&&a(C)}},v=()=>{a([...i,{field_name:`field_${i.length+1}`,field_label:"New Field",field_type:"text",is_required:!1,display_order:i.length}])},m=(M,C)=>{const N=[...i];N[M]={...N[M],...C},a(N)},y=M=>{a(i.filter((C,N)=>N!==M))},b=async()=>{c(!0);try{let M=r.id;const C=r.registration_deadline?new Date(r.registration_deadline).toISOString():null;if(M)await Q.from("event_registration_forms").update({form_title:r.form_title,form_description:r.form_description,is_active:r.is_active,max_registrations:r.max_registrations,registration_deadline:C,allowed_email_domains:r.allowed_email_domains||[]}).eq("id",M),await Q.from("event_form_fields").delete().eq("form_id",M);else{const{data:N}=await Q.from("event_registration_forms").insert([{event_id:t,form_title:r.form_title,form_description:r.form_description,is_active:r.is_active,max_registrations:r.max_registrations,registration_deadline:C,allowed_email_domains:r.allowed_email_domains||[]}]).select().single();M=N==null?void 0:N.id}M&&i.length>0&&await Q.from("event_form_fields").insert(i.map(N=>({form_id:M,...N}))),alert("Form saved successfully!"),g()}catch(M){alert("Failed to save form"),console.error(M)}finally{c(!1)}},w=async()=>{if(!r.id)return;const{data:M}=await Q.from("event_registrations").select("*").eq("form_id",r.id).order("registration_date",{ascending:!1});M&&x(M),f(!0)},S=()=>{if(p.length===0){alert("No registrations to download");return}const M=i.filter(z=>z.field_type==="photo").map(z=>z.field_name),C=new Set,N=new Set;p.forEach(z=>{const W=typeof z.form_data=="string"?JSON.parse(z.form_data):z.form_data||{};Object.keys(W).forEach(ne=>{C.add(ne),(M.includes(ne)||typeof W[ne]=="string"&&W[ne].startsWith("http")&&(W[ne].match(/\.(jpeg|jpg|gif|png|webp)$/i)||W[ne].includes("supabase.co/storage")))&&N.add(ne)})});const j=Array.from(C).filter(z=>!N.has(z)),k=Array.from(N),U=["Name","Email","Phone","Registration Date","Status","Email Sent",...j,...k.map(z=>{const W=i.find(ne=>ne.field_name===z);return W?W.field_label:z})],G=p.map(z=>{const W=typeof z.form_data=="string"?JSON.parse(z.form_data):z.form_data||{},ne=[z.participant_name,z.participant_email,z.participant_phone||"",new Date(z.registration_date).toLocaleString(),z.status,z.confirmation_sent?"Yes":"No"];return j.forEach(le=>{const Ee=W[le];Array.isArray(Ee)?ne.push(Ee.join("; ")):typeof Ee=="object"?ne.push(JSON.stringify(Ee)):ne.push(Ee||"")}),k.forEach(le=>{const Ee=W[le];ne.push(Ee||"")}),ne}),O=[U.join(","),...G.map(z=>z.map(W=>`"${String(W).replace(/"/g,'""')}"`).join(","))].join(`
`),H=new Blob([O],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),L=URL.createObjectURL(H);$.setAttribute("href",L),$.setAttribute("download",`registrations_${r.form_title}_${new Date().toISOString().split("T")[0]}.csv`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)},E=[{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"textarea",label:"Long Text"},{value:"select",label:"Dropdown"},{value:"checkbox",label:"Checkbox"},{value:"photo",label:"Photo Upload"}],T=async M=>{if(confirm("Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:C}=await Q.from("event_registrations").delete().eq("id",M);if(C)throw C;x(p.filter(N=>N.id!==M))}catch(C){console.error("Delete error:",C),alert("Failed to delete registration")}};return h?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Registration Analytics"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[o.jsx(jv,{className:"w-4 h-4"}),"Download CSV"]}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white",children:o.jsx(jn,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-sm",children:"Total Registrations"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:p.length})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-sm",children:"Confirmed"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:p.filter(M=>M.status==="confirmed").length})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-sm",children:"Confirmation Emails Sent"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:p.filter(M=>M.confirmation_sent).length})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Participants"}),p.map(M=>{const C=typeof M.form_data=="string"?JSON.parse(M.form_data):M.form_data||{},N=i.filter(le=>le.field_type==="photo").map(le=>le.field_name);let j=C.photo_url||C.photo;if(!j){for(const le of N)if(C[le]){j=C[le];break}}if(!j){for(const[,le]of Object.entries(C))if(typeof le=="string"&&le.startsWith("http")&&(le.match(/\.(jpeg|jpg|gif|png|webp)$/i)||le.includes("supabase.co/storage"))){j=le;break}}const{photo_url:k,photo:U,name:G,email:O,phone:H,participant_name:$,participant_email:L,participant_phone:z,...W}=C,ne={};return Object.entries(W).forEach(([le,Ee])=>{!N.includes(le)&&Ee!==j&&(ne[le]=Ee)}),o.jsxs("div",{className:"bg-white p-4 rounded-lg group/item relative border border-gray-200 shadow-sm",children:[o.jsx("button",{onClick:()=>T(M.id),className:"absolute top-4 right-4 p-2 bg-red-100 text-red-600 rounded-lg opacity-0 group-hover/item:opacity-100 transition-opacity hover:bg-red-200",title:"Delete Registration",children:o.jsx(rs,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex justify-between items-start mb-2 pr-12",children:[o.jsxs("div",{className:"flex gap-4",children:[j&&o.jsxs("div",{className:"shrink-0 group relative",children:[o.jsx("img",{src:j,alt:"Participant",className:"w-20 h-20 rounded-lg object-cover border border-gray-300 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(j,"_blank")}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 pointer-events-none",children:o.jsx(aw,{className:"w-6 h-6 text-white drop-shadow-lg"})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-900 font-bold text-lg",children:M.participant_name}),o.jsxs("div",{className:"space-y-1 mt-1",children:[o.jsxs("p",{className:"text-gray-700 text-sm flex items-center gap-2 font-medium",children:[o.jsx("span",{className:"w-4 h-4 flex items-center justify-center opacity-70",children:""}),M.participant_email]}),M.participant_phone&&o.jsxs("p",{className:"text-gray-700 text-sm flex items-center gap-2 font-medium",children:[o.jsx("span",{className:"w-4 h-4 flex items-center justify-center opacity-70",children:""}),M.participant_phone]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${M.confirmation_sent?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:M.confirmation_sent?"Email Sent":"Pending"}),o.jsxs("p",{className:"text-gray-500 text-xs mt-2 font-medium",children:["Registered: ",new Date(M.registration_date).toLocaleString()]})]})]}),Object.keys(ne).length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("p",{className:"text-gray-900 text-xs font-bold uppercase tracking-wider mb-3",children:"Additional Details"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(ne).map(([le,Ee])=>{if(!Ee||le.startsWith("_"))return null;const We=i.find(J=>J.field_name===le),rt=We?We.field_label:le.replace(/_/g," ");return o.jsxs("div",{className:"bg-gray-50 p-3 rounded border border-gray-200",children:[o.jsx("span",{className:"block text-gray-600 text-xs uppercase tracking-wide mb-1 font-bold",children:rt}),o.jsx("span",{className:"block text-gray-900 text-sm font-semibold break-words",children:Array.isArray(Ee)?Ee.join(", "):typeof Ee=="object"?JSON.stringify(Ee):String(Ee)})]},le)})})]})]},M.id)})]})]})]})}):u?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Form Preview"}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(jn,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.form_title}),r.form_description&&o.jsx("p",{className:"text-gray-600 mb-6",children:r.form_description}),o.jsx("div",{className:"space-y-4",children:i.map((M,C)=>{var N;return o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[M.field_label,M.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),M.field_type==="textarea"?o.jsx("textarea",{className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:4}):M.field_type==="select"?o.jsxs("select",{className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[o.jsx("option",{children:"Select an option"}),(N=M.field_options)==null?void 0:N.map((j,k)=>o.jsx("option",{children:j},k))]}):o.jsx("input",{type:M.field_type,className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]},C)})})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Event Registration Form Builder"}),o.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:o.jsx(jn,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4 border border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Form Settings"}),o.jsx("input",{type:"text",placeholder:"Form Title",value:r.form_title||"",onChange:M=>s({...r,form_title:M.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Form Description",value:r.form_description||"",onChange:M=>s({...r,form_description:M.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:3}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("input",{type:"number",placeholder:"Max Registrations (optional)",value:r.max_registrations||"",onChange:M=>s({...r,max_registrations:parseInt(M.target.value)||void 0}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"datetime-local",placeholder:"Registration Deadline",value:r.registration_deadline||"",onChange:M=>s({...r,registration_deadline:M.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900",children:[o.jsx("input",{type:"checkbox",checked:r.is_active||!1,onChange:M=>s({...r,is_active:M.target.checked}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),"Form is Active (accepting registrations)"]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Allowed Email Domains (Optional)"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Restrict registrations to specific email domains. Leave empty to allow all emails."}),o.jsx("input",{type:"text",placeholder:"e.g., @sakec.ac.in, @gmail.com, @outlook.com",value:(r.allowed_email_domains||[]).join(", "),onChange:M=>{const C=M.target.value.split(",").map(N=>N.trim()).filter(N=>N.length>0);s({...r,allowed_email_domains:C})},className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),r.allowed_email_domains&&r.allowed_email_domains.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:r.allowed_email_domains.map((M,C)=>o.jsxs("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded flex items-center gap-1",children:[M,o.jsx("button",{type:"button",onClick:()=>{var j;const N=(j=r.allowed_email_domains)==null?void 0:j.filter((k,U)=>U!==C);s({...r,allowed_email_domains:N})},className:"hover:text-red-200",children:""})]},C))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Form Fields"}),o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(Pi,{className:"w-4 h-4"})," Add Field"]})]}),i.map((M,C)=>{var N;return o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3 border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("h4",{className:"text-gray-900 font-medium",children:["Field ",C+1]}),o.jsx("button",{onClick:()=>y(C),className:"text-red-600 hover:text-red-700",children:o.jsx(rs,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",placeholder:"Field Name (e.g., college_name)",value:M.field_name,onChange:j=>m(C,{field_name:j.target.value}),className:"px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Field Label (shown to user)",value:M.field_label,onChange:j=>m(C,{field_label:j.target.value}),className:"px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("select",{value:M.field_type,onChange:j=>m(C,{field_type:j.target.value}),className:"px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:E.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 text-sm",children:[o.jsx("input",{type:"checkbox",checked:M.is_required,onChange:j=>m(C,{is_required:j.target.checked}),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),"Required Field"]})]}),(M.field_type==="select"||M.field_type==="checkbox")&&o.jsx("input",{type:"text",placeholder:"Options (comma separated)",value:((N=M.field_options)==null?void 0:N.join(", "))||"",onChange:j=>m(C,{field_options:j.target.value.split(",").map(k=>k.trim())}),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]},C)})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:b,disabled:l,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg",children:[o.jsx(ki,{className:"w-4 h-4"}),l?"Saving...":"Save Form"]}),o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:[o.jsx(aw,{className:"w-4 h-4"}),"Preview"]}),r.id&&o.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg",children:[o.jsx(rL,{className:"w-4 h-4"}),"View Analytics"]})]}),r.id&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-blue-700 text-sm font-medium mb-2",children:"Registration Form URL:"}),o.jsxs("code",{className:"text-blue-600 text-sm break-all",children:[window.location.origin,"/event-register/",r.id]})]})]})]})})}function h9(){const t=lr(),[e,n]=_.useState([]),[r,s]=_.useState(!0),[i,a]=_.useState(null),[l,c]=_.useState({}),[u,d]=_.useState(!1),[h,f]=_.useState(null);_.useEffect(()=>{p()},[]);const p=async()=>{const{data:y,error:b}=await Q.from("events").select("*").order("date",{ascending:!1});!b&&y&&n(y),s(!1)},x=async()=>{i?await Q.from("events").update(l).eq("id",i):await Q.from("events").insert([l]),a(null),d(!1),c({}),p()},g=async y=>{if(confirm("Are you sure you want to delete this event? This will also delete all related registration forms and registrations.")){const{error:b}=await Q.from("events").delete().eq("id",y);b?(console.error("Delete error:",b),alert(`Failed to delete event: ${b.message}`)):(alert("Event deleted successfully!"),p())}},v=y=>{a(y.id),c(y),d(!1)},m=()=>{d(!0),a(null),c({is_featured:!1})};return r?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[h&&o.jsx(d9,{eventId:h.id,eventTitle:h.title,onClose:()=>f(null)}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Events"}),o.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(Pi,{className:"w-4 h-4"})," Add Event"]})]}),(u||i)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i?"Edit Event":"Add New Event"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"e.g., Web Development Workshop",value:l.title||"",onChange:y=>c({...l,title:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{placeholder:"Describe your event...",value:l.description||"",onChange:y=>c({...l,description:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 h-24 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"date",value:l.date||"",onChange:y=>c({...l,date:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Time ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"time",value:l.time||"",onChange:y=>c({...l,time:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Location ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"e.g., Seminar Hall, Room 301",value:l.location||"",onChange:y=>c({...l,location:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Event Image URL ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",placeholder:"https://example.com/image.jpg",value:l.image_url||"",onChange:y=>c({...l,image_url:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",required:!0})]}),o.jsxs("div",{className:"md:col-span-2 space-y-3 border-t border-gray-200 pt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Type"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer bg-gray-50 px-4 py-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[o.jsx("input",{type:"radio",name:"regType",checked:!l.registration_link||l.registration_link.startsWith("http"),onChange:()=>{l.registration_link==="custom"&&c({...l,registration_link:""})},className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"External Link"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Google Form, Typeform, etc."})]})]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer bg-gray-50 px-4 py-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[o.jsx("input",{type:"radio",name:"regType",checked:l.registration_link==="custom",onChange:()=>c({...l,registration_link:"custom"}),className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Custom Form"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Build your own form"})]})]})]})]}),l.registration_link!=="custom"&&o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Link (Optional)"}),o.jsx("input",{type:"url",placeholder:"https://forms.google.com/...",value:l.registration_link==="custom"?"":l.registration_link||"",onChange:y=>c({...l,registration_link:y.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty if no registration required"})]}),l.registration_link==="custom"&&o.jsx("div",{className:"md:col-span-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-blue-700 text-sm flex items-center gap-2",children:[o.jsx(ga,{className:"w-4 h-4"}),"After saving this event, click the ",o.jsx(ga,{className:"w-3 h-3 inline"})," icon in the event list to build your custom registration form."]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Participants (Optional)"}),o.jsx("input",{type:"number",placeholder:"e.g., 100",min:"1",value:l.max_participants||"",onChange:y=>c({...l,max_participants:parseInt(y.target.value)||void 0}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for unlimited"})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer bg-gray-50 px-4 py-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:l.is_featured||!1,onChange:y=>c({...l,is_featured:y.target.checked}),className:"w-4 h-4 text-blue-600"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Featured Event"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Show on homepage"})]})]})})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(ki,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{a(null),d(!1),c({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(jn,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(y=>o.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-gray-900 font-semibold text-lg",children:y.title}),y.is_featured&&o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded border border-yellow-200",children:"Featured"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:y.description}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[o.jsxs("span",{children:[" ",new Date(y.date).toLocaleDateString()]}),o.jsxs("span",{children:[" ",y.time]}),o.jsxs("span",{children:[" ",y.location]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>t(`/admin/event/${y.id}`),className:"p-2 bg-green-50 hover:bg-green-100 text-green-600 rounded-lg transition-colors",title:"Manage Event Attendance",children:o.jsx(ft,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f({id:y.id,title:y.title}),className:"p-2 bg-purple-50 hover:bg-purple-100 text-purple-600 rounded-lg transition-colors",title:"Create Registration Form",children:o.jsx(ga,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>v(y),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g(y.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(rs,{className:"w-4 h-4"})})]})]})},y.id))})]})}function f9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1),[d,h]=_.useState(!1);_.useEffect(()=>{f()},[]);const f=async()=>{const{data:m,error:y}=await Q.from("blogs").select("*").order("created_at",{ascending:!1});!y&&m&&e(m),r(!1)},p=async()=>{if(s?await Q.from("blogs").update(a).eq("id",s):await Q.from("blogs").insert([a]),d&&a.title)try{const{count:m}=await Q.from("newsletter_subscribers").select("*",{count:"exact",head:!0});await Q.from("newsletter_logs").insert([{subject:`New Blog Post: ${a.title}`,content:`Check out our new blog post: ${a.title}

${a.excerpt||""}`,recipient_count:m||0}]),alert(`Newsletter queued for ${m||0} subscribers!`)}catch(m){console.error("Error sending newsletter:",m)}i(null),u(!1),l({}),h(!1),f()},x=async m=>{confirm("Are you sure you want to delete this blog post?")&&(await Q.from("blogs").delete().eq("id",m),f())},g=m=>{i(m.id),l(m),u(!1)},v=()=>{u(!0),i(null),l({is_published:!1})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Blog Posts"}),o.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(Pi,{className:"w-4 h-4"})," Add Blog Post"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Blog Post":"Add New Blog Post"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Blog Title",value:a.title||"",onChange:m=>l({...a,title:m.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Excerpt (short description)",value:a.excerpt||"",onChange:m=>l({...a,excerpt:m.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 h-20 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Full Content",value:a.content||"",onChange:m=>l({...a,content:m.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 h-64 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Image URL",value:a.image_url||"",onChange:m=>l({...a,image_url:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Category",value:a.category||"",onChange:m=>l({...a,category:m.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:a.is_published||!1,onChange:m=>l({...a,is_published:m.target.checked}),className:"w-4 h-4 rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Publish immediately"]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:d,onChange:m=>h(m.target.checked),className:"w-4 h-4 rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Notify all subscribers via email"]})]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(ki,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(jn,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(m=>o.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-gray-900 font-semibold text-lg",children:m.title}),m.is_published?o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded border border-green-200",children:"Published"}):o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded border border-gray-200",children:"Draft"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:m.excerpt}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[o.jsxs("span",{children:[" ",m.category]}),o.jsxs("span",{children:[" ",new Date(m.created_at).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g(m),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>x(m.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(rs,{className:"w-4 h-4"})})]})]})},m.id))})]})}const p9="https://sakec.acm.org/api";function m9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState(""),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:x,error:g}=await Q.from("contact_messages").select("*").order("created_at",{ascending:!1});!g&&x&&e(x),r(!1)},h=async()=>{if(!s||!a.trim()){alert("Please enter a reply message");return}u(!0);try{const x=await fetch(`${p9}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:s.email,subject:`Re: ${s.subject}`,message:a,fromEmail:"support@sakec.acm.org",fromName:"SAKEC ACM Support",replyTo:"support@sakec.acm.org"})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const g=await x.json();if(g.success)await Q.from("contact_messages").update({is_read:!0}).eq("id",s.id),i(null),l(""),d(),alert(" Reply sent successfully!");else throw new Error(g.message||"Failed to send email")}catch(x){console.error("Reply error:",x),alert(" Failed to send reply: "+(x instanceof Error?x.message:"Unknown error"))}finally{u(!1)}},f=async x=>{confirm("Are you sure you want to delete this message?")&&(await Q.from("contact_messages").delete().eq("id",x),d())},p=async x=>{await Q.from("contact_messages").update({is_read:!0}).eq("id",x),d()};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cn,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Messages"}),o.jsxs("span",{className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-full",children:[t.filter(x=>!x.is_read).length," unread"]})]}),s&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-500 shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Reply to ",s.name]}),o.jsx("button",{onClick:()=>{i(null),l("")},className:"text-gray-400 hover:text-gray-600",children:""})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"To:"}),o.jsx("span",{className:"font-medium text-gray-900",children:s.email})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm mt-1",children:[o.jsx("span",{className:"text-gray-600",children:"Subject:"}),o.jsxs("span",{className:"font-medium text-gray-900",children:["Re: ",s.subject]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wide mb-2",children:"Original Message:"}),o.jsx("p",{className:"text-gray-800 text-sm whitespace-pre-wrap",children:s.message})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Reply:"}),o.jsx("textarea",{value:a,onChange:x=>l(x.target.value),placeholder:"Type your reply here...",rows:8,className:"w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsxs("button",{onClick:h,disabled:c||!a.trim(),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:[o.jsx(dw,{className:"w-4 h-4"}),c?"Sending...":"Send Reply"]}),o.jsx("button",{onClick:()=>{i(null),l("")},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors font-semibold",children:"Cancel"})]})]})]}),o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsx("p",{className:"text-gray-500 text-center py-8",children:"No messages yet"}):t.map(x=>o.jsxs("div",{className:`bg-white rounded-xl p-4 border shadow-sm ${x.is_read?"border-gray-200":"border-blue-500 ring-1 ring-blue-500"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:x.name}),!x.is_read&&o.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded",children:"New"})]}),o.jsx("p",{className:"text-gray-600 text-sm",children:x.email}),o.jsx("p",{className:"text-blue-600 text-sm font-medium mt-1",children:x.subject})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.created_at).toLocaleDateString()}),o.jsx("button",{onClick:()=>{i(x),l(`Hi ${x.name},

Thank you for contacting SAKEC ACM Student Chapter.

`),x.is_read||p(x.id)},className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",title:"Reply",children:o.jsx(dw,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(x.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",title:"Delete",children:o.jsx(rs,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"text-gray-700 text-sm bg-gray-50 p-3 rounded-lg border border-gray-100",children:x.message})]},x.id))})]})}function g9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(""),[a,l]=_.useState("all"),[c,u]=_.useState(null);_.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:p,error:x}=await Q.from("sent_emails").select("*").order("sent_at",{ascending:!1}).limit(100);if(x)throw x;e(p||[])}catch(p){console.error("Error loading sent emails:",p)}finally{r(!1)}},h=t.filter(p=>{const x=p.recipient_email.toLowerCase().includes(s.toLowerCase())||p.subject.toLowerCase().includes(s.toLowerCase())||p.sender_email.toLowerCase().includes(s.toLowerCase()),g=a==="all"||p.status===a;return x&&g}),f={total:t.length,sent:t.filter(p=>p.status==="sent").length,failed:t.filter(p=>p.status==="failed").length};return n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-gray-600",children:"Loading email history..."})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cn,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sent Emails History"})]}),o.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:"Refresh"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(cn,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:f.total})]}),o.jsx("p",{className:"text-blue-100 text-sm mt-2",children:"Total Emails"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-6 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(An,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:f.sent})]}),o.jsx("p",{className:"text-green-100 text-sm mt-2",children:"Successfully Sent"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-red-700 rounded-xl p-6 text-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(yp,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:f.failed})]}),o.jsx("p",{className:"text-red-100 text-sm mt-2",children:"Failed"})]})]}),o.jsx("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(U0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:p=>i(p.target.value),placeholder:"Search by recipient, subject, or sender...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uL,{className:"w-5 h-5 text-gray-400"}),o.jsxs("select",{value:a,onChange:p=>l(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"sent",children:"Sent"}),o.jsx("option",{value:"failed",children:"Failed"})]})]})]})}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:h.length===0?o.jsx("div",{className:"p-8 text-center text-gray-500",children:s||a!=="all"?"No emails match your filters":"No emails sent yet"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sender"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(p=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.status==="sent"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:[o.jsx(An,{className:"w-3 h-3"}),"Sent"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:[o.jsx(yp,{className:"w-3 h-3"}),"Failed"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.recipient_email})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:p.subject})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:p.sender_name}),o.jsx("div",{className:"text-xs text-gray-400",children:p.sender_email})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx(Vn,{className:"w-4 h-4"}),new Date(p.sent_at).toLocaleDateString()]}),o.jsx("div",{className:"text-xs text-gray-400",children:new Date(p.sent_at).toLocaleTimeString()})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("button",{onClick:()=>u(p),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})})]},p.id))})]})})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Email Details"}),o.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:""})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.status==="sent"?o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:[o.jsx(An,{className:"w-4 h-4"}),"Successfully Sent"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full",children:[o.jsx(yp,{className:"w-4 h-4"}),"Failed"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient"}),o.jsx("p",{className:"text-gray-900",children:c.recipient_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender"}),o.jsx("p",{className:"text-gray-900",children:c.sender_name}),o.jsx("p",{className:"text-sm text-gray-600",children:c.sender_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),o.jsx("p",{className:"text-gray-900",children:c.subject})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:o.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:c.message})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sent At"}),o.jsx("p",{className:"text-gray-900",children:new Date(c.sent_at).toLocaleString()})]}),c.error_message&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"Error Message"}),o.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:o.jsx("p",{className:"text-red-900",children:c.error_message})})]})]}),o.jsx("div",{className:"p-6 border-t border-gray-200",children:o.jsx("button",{onClick:()=>u(null),className:"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Close"})})]})})]})}const a1={newsletter:{name:"Newsletter",subject:"SAKEC ACM Newsletter - [Month Year]",body:`Hello,

Here are the latest updates from SAKEC ACM Student Chapter:

[Your content here]

Stay connected with us!

Best regards,
SAKEC ACM Team`},event_announcement:{name:"Event Announcement",subject:"Upcoming Event: [Event Name]",body:`Dear Member,

We're excited to announce our upcoming event!

Event: [Event Name]
Date: [Date]
Time: [Time]
Venue: [Location]

Register now: [Registration Link]

Looking forward to seeing you there!

Best regards,
SAKEC ACM Events Team`},event_reminder:{name:"Event Reminder",subject:"Reminder: [Event Name] Tomorrow",body:`Dear Participant,

This is a friendly reminder about tomorrow's event:

Event: [Event Name]
Date: [Date]
Time: [Time]
Venue: [Location]

Please arrive 15 minutes early.

See you tomorrow!

Best regards,
SAKEC ACM Events Team`},welcome:{name:"Welcome Message",subject:"Welcome to SAKEC ACM!",body:`Dear [Name],

Welcome to SAKEC ACM Student Chapter!

We're excited to have you as part of our community. Stay tuned for upcoming events, workshops, and opportunities.

Best regards,
SAKEC ACM Team`}},o1=[{email:"admin@sakec.acm.org",name:"SAKEC ACM Admin",description:"General admin communications"},{email:"contact@sakec.acm.org",name:"SAKEC ACM Contact",description:"General inquiries"},{email:"events@sakec.acm.org",name:"SAKEC ACM Events",description:"Event notifications"},{email:"publicity@sakec.acm.org",name:"SAKEC ACM Publicity",description:"Marketing and publicity"},{email:"support@sakec.acm.org",name:"SAKEC ACM Support",description:"Support emails"}];function x9(){const[t,e]=_.useState("compose"),[n,r]=_.useState("newsletter"),[s,i]=_.useState(""),[a,l]=_.useState(""),[c,u]=_.useState(o1[0]),[d,h]=_.useState(""),[f,p]=_.useState(""),[x,g]=_.useState(!1),[v,m]=_.useState(null),[y,b]=_.useState([]),[w,S]=_.useState([]),[E,T]=_.useState([]),[M,C]=_.useState(!0);_.useEffect(()=>{N()},[]),_.useEffect(()=>{n==="event"&&s&&j(s)},[s]);const N=async()=>{try{const{data:O}=await Q.from("newsletter_subscribers").select("email").eq("is_active",!0);b((O==null?void 0:O.map($=>({email:$.email})))||[]);const{data:H}=await Q.from("events").select("id, title, date").order("date",{ascending:!1});S(H||[])}catch(O){console.error("Error loading data:",O)}finally{C(!1)}},j=async O=>{try{const{data:H}=await Q.from("event_registrations").select("participant_name, participant_email").eq("event_id",O);T((H==null?void 0:H.map($=>({email:$.participant_email,name:$.participant_name})))||[])}catch(H){console.error("Error loading participants:",H)}},k=()=>{switch(n){case"newsletter":return y;case"event":return E;case"custom":return a.split(/[,\n]/).map(O=>O.trim()).filter(O=>O&&O.includes("@")).map(O=>({email:O}));default:return[]}},U=O=>{const H=a1[O];h(H.subject),p(H.body)},G=async()=>{const O=k();if(O.length===0){m({type:"error",message:"No recipients selected"});return}if(!d||!f){m({type:"error",message:"Subject and message are required"});return}g(!0),m(null);try{const H=O.map(L=>L.email),$=await i9(H,d,f,{fromEmail:c.email,fromName:c.name,replyTo:c.email});m({type:$.sent>0?"success":"error",message:`Sent: ${$.sent} | Failed: ${$.failed} | Total: ${H.length}`}),$.errors.length>0&&console.error("Email errors:",$.errors),$.sent>0&&(h(""),p(""),N())}catch(H){console.error("Bulk email error:",H),m({type:"error",message:"Failed to send emails"})}finally{g(!1)}};return M?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(cw,{className:"w-8 h-8 animate-spin text-blue-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cn,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email System"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>e("compose"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="compose"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(Ds,{className:"w-4 h-4 inline mr-2"}),"Compose"]}),o.jsxs("button",{onClick:()=>e("history"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="history"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(hL,{className:"w-4 h-4 inline mr-2"}),"History"]})]})]}),v&&o.jsx("div",{className:`p-4 rounded-lg border ${v.type==="success"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"}`,children:v.message}),t==="compose"&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Send From"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o1.map(O=>o.jsxs("button",{onClick:()=>u(O),className:`p-4 rounded-lg border-2 text-left transition-all ${c.email===O.email?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:"font-medium text-gray-900",children:O.name}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:O.email}),o.jsx("div",{className:"text-xs text-gray-400 mt-1",children:O.description})]},O.email))})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Send To"}),o.jsxs("div",{className:"flex gap-3 mb-4",children:[o.jsxs("button",{onClick:()=>r("newsletter"),className:`flex-1 p-3 rounded-lg border-2 transition-all ${n==="newsletter"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(ft,{className:"w-5 h-5 mx-auto mb-1"}),o.jsx("div",{className:"text-sm font-medium",children:"Newsletter"}),o.jsxs("div",{className:"text-xs text-gray-500",children:[y.length," subscribers"]})]}),o.jsxs("button",{onClick:()=>r("event"),className:`flex-1 p-3 rounded-lg border-2 transition-all ${n==="event"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(ga,{className:"w-5 h-5 mx-auto mb-1"}),o.jsx("div",{className:"text-sm font-medium",children:"Event"}),o.jsxs("div",{className:"text-xs text-gray-500",children:[E.length," participants"]})]}),o.jsxs("button",{onClick:()=>r("custom"),className:`flex-1 p-3 rounded-lg border-2 transition-all ${n==="custom"?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(cn,{className:"w-5 h-5 mx-auto mb-1"}),o.jsx("div",{className:"text-sm font-medium",children:"Custom"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Enter emails"})]})]}),n==="event"&&o.jsxs("select",{value:s,onChange:O=>i(O.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"",children:"Select an event"}),w.map(O=>o.jsxs("option",{value:O.id,children:[O.title," - ",new Date(O.date).toLocaleDateString()]},O.id))]}),n==="custom"&&o.jsx("textarea",{value:a,onChange:O=>l(O.target.value),placeholder:`Enter email addresses (comma or newline separated)
example@email.com, another@email.com`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:4})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subject ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:d,onChange:O=>h(O.target.value),placeholder:"Email subject",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{value:f,onChange:O=>p(O.target.value),placeholder:"Your message here...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:12}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[f.length," characters"]})]}),o.jsx("button",{onClick:G,disabled:x||k().length===0,className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:x?o.jsxs(o.Fragment,{children:[o.jsx(cw,{className:"w-5 h-5 animate-spin"}),"Sending to ",k().length," recipients..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ds,{className:"w-5 h-5"}),"Send to ",k().length," recipients"]})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Templates"}),o.jsx("div",{className:"space-y-2",children:Object.entries(a1).map(([O,H])=>o.jsxs("button",{onClick:()=>U(O),className:"w-full text-left px-4 py-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("div",{className:"font-medium text-gray-900 text-sm",children:H.name}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:H.subject})]},O))})]}),o.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Tips"}),o.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[o.jsx("li",{children:" Use templates for consistency"}),o.jsx("li",{children:" Test with custom email first"}),o.jsx("li",{children:" Keep messages concise"}),o.jsx("li",{children:" Check spam folder if not received"})]})]})]})]}),t==="history"&&o.jsx(g9,{})]})}function v9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:g,error:v}=await Q.from("event_galleries").select("*").order("event_date",{ascending:!1});!v&&g&&e(g),r(!1)},h=async()=>{s?await Q.from("event_galleries").update(a).eq("id",s):await Q.from("event_galleries").insert([a]),i(null),u(!1),l({}),d()},f=async g=>{confirm("Are you sure you want to delete this gallery event?")&&(await Q.from("event_galleries").delete().eq("id",g),d())},p=g=>{i(g.id),l(g),u(!1)},x=()=>{u(!0),i(null),l({is_featured:!1})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gallery Events"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(Pi,{className:"w-4 h-4"})," Add Gallery Event"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Gallery Event":"Add New Gallery Event"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",placeholder:"Event Name",value:a.event_name||"",onChange:g=>l({...a,event_name:g.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Description",value:a.description||"",onChange:g=>l({...a,description:g.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 h-20 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"date",value:a.event_date||"",onChange:g=>l({...a,event_date:g.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Image 1 URL",value:a.image_1||"",onChange:g=>l({...a,image_1:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 2 URL",value:a.image_2||"",onChange:g=>l({...a,image_2:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 3 URL",value:a.image_3||"",onChange:g=>l({...a,image_3:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image 4 URL",value:a.image_4||"",onChange:g=>l({...a,image_4:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:a.is_featured||!1,onChange:g=>l({...a,is_featured:g.target.checked}),className:"w-4 h-4 rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Featured Event"]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(ki,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(jn,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(g=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"text-gray-900 font-semibold text-lg",children:g.event_name}),g.is_featured&&o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded border border-yellow-200",children:"Featured"})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:g.description}),o.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",new Date(g.event_date).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(g),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(g.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(rs,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[g.image_1&&o.jsx("img",{src:g.image_1,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"}),g.image_2&&o.jsx("img",{src:g.image_2,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"}),g.image_3&&o.jsx("img",{src:g.image_3,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"}),g.image_4&&o.jsx("img",{src:g.image_4,alt:"",className:"w-full h-20 object-cover rounded border border-gray-200"})]})]},g.id))})]})}function y9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:g,error:v}=await Q.from("alumni_members").select("*").order("display_order",{ascending:!0});!v&&g&&e(g),r(!1)},h=async()=>{s?await Q.from("alumni_members").update(a).eq("id",s):await Q.from("alumni_members").insert([a]),i(null),u(!1),l({}),d()},f=async g=>{confirm("Are you sure you want to delete this alumni member?")&&(await Q.from("alumni_members").delete().eq("id",g),d())},p=g=>{i(g.id),l(g),u(!1)},x=()=>{u(!0),i(null),l({display_order:0})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alumni Members"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(Pi,{className:"w-4 h-4"})," Add Alumni"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Alumni Member":"Add New Alumni Member"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Name",value:a.name||"",onChange:g=>l({...a,name:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Position/Role",value:a.position||"",onChange:g=>l({...a,position:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Department",value:a.department||"",onChange:g=>l({...a,department:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image URL",value:a.image_url||"",onChange:g=>l({...a,image_url:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"number",placeholder:"Display Order",value:a.display_order||0,onChange:g=>l({...a,display_order:parseInt(g.target.value)}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Bio",value:a.bio||"",onChange:g=>l({...a,bio:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 md:col-span-2 h-24 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(ki,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(jn,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(g=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[g.image_url&&o.jsx("img",{src:g.image_url,alt:g.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:g.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:g.position}),o.jsx("p",{className:"text-gray-500 text-xs",children:g.department})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(g),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(g.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(rs,{className:"w-4 h-4"})})]})]},g.id))})]})}function b9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(null),[a,l]=_.useState({}),[c,u]=_.useState(!1);_.useEffect(()=>{d()},[]);const d=async()=>{const{data:g,error:v}=await Q.from("faculty_members").select("*").order("display_order",{ascending:!0});!v&&g&&e(g),r(!1)},h=async()=>{s?await Q.from("faculty_members").update(a).eq("id",s):await Q.from("faculty_members").insert([a]),i(null),u(!1),l({}),d()},f=async g=>{confirm("Are you sure you want to delete this faculty member?")&&(await Q.from("faculty_members").delete().eq("id",g),d())},p=g=>{i(g.id),l(g),u(!1)},x=()=>{u(!0),i(null),l({display_order:0})};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Faculty Members"}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-sm",children:[o.jsx(Pi,{className:"w-4 h-4"})," Add Faculty"]})]}),(c||s)&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s?"Edit Faculty Member":"Add New Faculty Member"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:"Name",value:a.name||"",onChange:g=>l({...a,name:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Position/Designation",value:a.position||"",onChange:g=>l({...a,position:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"email",placeholder:"Email",value:a.email||"",onChange:g=>l({...a,email:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Department",value:a.department||"",onChange:g=>l({...a,department:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"Image URL",value:a.image_url||"",onChange:g=>l({...a,image_url:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"text",placeholder:"LinkedIn URL",value:a.linkedin_url||"",onChange:g=>l({...a,linkedin_url:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("input",{type:"number",placeholder:"Display Order",value:a.display_order||0,onChange:g=>l({...a,display_order:parseInt(g.target.value)}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),o.jsx("textarea",{placeholder:"Bio",value:a.bio||"",onChange:g=>l({...a,bio:g.target.value}),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 md:col-span-2 h-24 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm",children:[o.jsx(ki,{className:"w-4 h-4"})," Save"]}),o.jsxs("button",{onClick:()=>{i(null),u(!1),l({})},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:[o.jsx(jn,{className:"w-4 h-4"})," Cancel"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(g=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[g.image_url&&o.jsx("img",{src:g.image_url,alt:g.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900 font-semibold",children:g.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:g.position}),o.jsxs("p",{className:"text-gray-500 text-xs",children:[g.email,"  ",g.department]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(g),className:"p-2 bg-blue-50 hover:bg-blue-100 text-blue-600 rounded-lg transition-colors",children:o.jsx(cl,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>f(g.id),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:o.jsx(rs,{className:"w-4 h-4"})})]})]},g.id))})]})}function _9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(!1),[a,l]=_.useState({title:"",content:"",has_input:!1,input_placeholder:"Enter your email",input_button_label:"Subscribe",is_active:!0});_.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:f,error:p}=await Q.from("announcements").select("*").order("created_at",{ascending:!1});if(p)throw p;e(f||[])}catch(f){console.error("Error fetching announcements:",f)}finally{r(!1)}},u=async()=>{try{a.is_active&&await Q.from("announcements").update({is_active:!1}).neq("id","placeholder");const{error:f}=await Q.from("announcements").insert([a]);if(f)throw f;i(!1),l({title:"",content:"",has_input:!1,input_placeholder:"Enter your email",input_button_label:"Subscribe",is_active:!0}),c()}catch(f){console.error("Error creating announcement:",f),alert("Failed to create announcement")}},d=async(f,p)=>{try{p||await Q.from("announcements").update({is_active:!1}).neq("id",f);const{error:x}=await Q.from("announcements").update({is_active:!p}).eq("id",f);if(x)throw x;c()}catch(x){console.error("Error updating announcement:",x)}},h=async f=>{if(confirm("Are you sure you want to delete this announcement?"))try{const{error:p}=await Q.from("announcements").delete().eq("id",f);if(p)throw p;c()}catch(p){console.error("Error deleting announcement:",p)}};return n?o.jsx("div",{className:"text-gray-600",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(yN,{className:"w-6 h-6 text-yellow-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Announcements"})]}),o.jsxs(On,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o.jsx(Pi,{className:"w-4 h-4 mr-2"}),"New Announcement"]})]}),s&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-md space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Announcement"}),o.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(jn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),o.jsx("input",{type:"text",value:a.title,onChange:f=>l({...a,title:f.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"e.g., Join our Newsletter!"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),o.jsx("textarea",{value:a.content,onChange:f=>l({...a,content:f.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",rows:3,placeholder:"Announcement details..."})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 text-gray-700 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:a.has_input,onChange:f=>l({...a,has_input:f.target.checked}),className:"rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Include Input Field"]}),o.jsxs("label",{className:"flex items-center gap-2 text-gray-700 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:a.is_active,onChange:f=>l({...a,is_active:f.target.checked}),className:"rounded bg-white border-gray-300 text-blue-600 focus:ring-blue-500"}),"Active Immediately"]})]}),a.has_input&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Input Placeholder"}),o.jsx("input",{type:"text",value:a.input_placeholder,onChange:f=>l({...a,input_placeholder:f.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Label"}),o.jsx("input",{type:"text",value:a.input_button_label,onChange:f=>l({...a,input_button_label:f.target.value}),className:"w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),o.jsxs(On,{onClick:u,className:"w-full bg-green-600 hover:bg-green-700 mt-4 text-white",children:[o.jsx(ki,{className:"w-4 h-4 mr-2"}),"Create Announcement"]})]})]}),o.jsxs("div",{className:"grid gap-4",children:[t.map(f=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.title}),o.jsx("p",{className:"text-gray-600 text-sm",children:f.content}),f.has_input&&o.jsx("span",{className:"inline-block mt-2 text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded border border-blue-100",children:"Has Input Field"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>d(f.id,f.is_active),className:`p-2 rounded-lg transition-colors ${f.is_active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:f.is_active?"Deactivate":"Activate",children:f.is_active?o.jsx(_L,{className:"w-8 h-8"}):o.jsx(bL,{className:"w-8 h-8"})}),o.jsx("button",{onClick:()=>h(f.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(rs,{className:"w-5 h-5"})})]})]},f.id)),t.length===0&&!s&&o.jsx("div",{className:"text-center text-gray-500 py-8",children:"No announcements found. Create one to get started."})]})]})}function w9(){const[t,e]=_.useState({total_forms:0,active_forms:0,total_registrations:0,emails_sent:0,recent_registrations:[]}),[n,r]=_.useState(!0);_.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:i}=await Q.from("event_registration_forms").select("id, is_active"),a=(i==null?void 0:i.length)||0,l=(i==null?void 0:i.filter(p=>p.is_active).length)||0,{data:c}=await Q.from("event_registrations").select("id, confirmation_sent"),u=(c==null?void 0:c.length)||0,d=(c==null?void 0:c.filter(p=>p.confirmation_sent).length)||0,{data:h}=await Q.from("event_registrations").select(`
          id,
          participant_name,
          participant_email,
          registration_date,
          event_id
        `).order("registration_date",{ascending:!1}).limit(5),f=[];if(h)for(const p of h){const{data:x}=await Q.from("events").select("title").eq("id",p.event_id).single();f.push({...p,event_title:(x==null?void 0:x.title)||"Unknown Event"})}e({total_forms:a,active_forms:l,total_registrations:u,emails_sent:d,recent_registrations:f})}catch(i){console.error("Failed to load registration summary:",i)}finally{r(!1)}};return n?o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsx("p",{className:"text-gray-600",children:"Loading registration overview..."})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Registration Overview"}),o.jsx(Rv,{className:"w-6 h-6 text-green-600"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(ft,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:t.total_registrations})]}),o.jsx("p",{className:"text-blue-100 text-sm",children:"Total Registrations"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-6 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(cn,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:t.emails_sent})]}),o.jsx("p",{className:"text-green-100 text-sm",children:"Emails Sent"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl p-6 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(An,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:t.active_forms})]}),o.jsx("p",{className:"text-purple-100 text-sm",children:"Active Forms"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-600 to-orange-700 rounded-xl p-6 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Vn,{className:"w-8 h-8 opacity-80"}),o.jsx("span",{className:"text-3xl font-bold",children:t.total_forms})]}),o.jsx("p",{className:"text-orange-100 text-sm",children:"Total Forms"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Registrations"}),t.recent_registrations.length===0?o.jsx("p",{className:"text-gray-500 text-sm",children:"No registrations yet"}):o.jsx("div",{className:"space-y-3",children:t.recent_registrations.map(i=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors border border-gray-100",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-900 font-medium",children:i.participant_name}),o.jsx("p",{className:"text-gray-600 text-sm",children:i.participant_email}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:i.event_title})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-gray-500 text-xs",children:new Date(i.registration_date).toLocaleDateString()}),o.jsx("p",{className:"text-gray-400 text-xs",children:new Date(i.registration_date).toLocaleTimeString()})]})]},i.id))})]})]})}function S9(){const[t,e]=_.useState([]),[n,r]=_.useState(!0),[s,i]=_.useState(new Date().toISOString().split("T")[0]),[a,l]=_.useState({totalRecords:0,avgDuration:0,uniqueMembers:0});_.useEffect(()=>{c()},[s]);const c=async()=>{r(!0);const{data:f,error:p}=await Q.from("attendance").select("*").gte("check_in_time",`${s}T00:00:00`).lte("check_in_time",`${s}T23:59:59`).order("check_in_time",{ascending:!1});if(!p&&f){e(f);const x=new Set(f.map(m=>m.team_member_id)).size,g=f.filter(m=>m.duration_minutes),v=g.length>0?Math.round(g.reduce((m,y)=>m+(y.duration_minutes||0),0)/g.length):0;l({totalRecords:f.length,avgDuration:v,uniqueMembers:x})}r(!1)},u=()=>{const f=["Name","Email","Check-in","Check-out","Duration (min)","Method"],p=t.map(y=>[y.member_name,y.member_email,new Date(y.check_in_time).toLocaleString(),y.check_out_time?new Date(y.check_out_time).toLocaleString():"N/A",y.duration_minutes||"N/A",y.scan_method]),x=[f,...p].map(y=>y.join(",")).join(`
`),g=new Blob([x],{type:"text/csv"}),v=URL.createObjectURL(g),m=document.createElement("a");m.href=v,m.download=`attendance-${s}.csv`,m.click()},d=f=>{const p=Math.floor(f/60),x=f%60;return`${p}h ${x}m`},h=f=>new Date(f).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Wn,{className:"w-6 h-6 text-blue-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Attendance Records"})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm transition-colors",children:[o.jsx(jv,{className:"w-4 h-4"}),"Export CSV"]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),o.jsx("input",{type:"date",value:s,onChange:f=>i(f.target.value),max:new Date().toISOString().split("T")[0],className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Check-ins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalRecords})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(Rv,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Unique Members"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.uniqueMembers})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(Vn,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.avgDuration>0?d(a.avgDuration):"N/A"})]})]})})]}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:n?o.jsx("p",{className:"text-center text-gray-500 py-8",children:"Loading..."}):t.length===0?o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No attendance records for this date"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Name"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Check-in"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Check-out"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Duration"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Method"})]})}),o.jsx("tbody",{children:t.map(f=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-3 px-4 text-sm text-gray-900 font-medium",children:f.member_name}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:f.member_email}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:h(f.check_in_time)}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:f.check_out_time?h(f.check_out_time):"-"}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:f.duration_minutes?d(f.duration_minutes):"-"}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${f.scan_method==="qr"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:f.scan_method.toUpperCase()})})]},f.id))})]})})})]})}var Pa={},E9=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},xT={},cr={};let qv;const N9=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];cr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};cr.getSymbolTotalCodewords=function(e){return N9[e]};cr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};cr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');qv=e};cr.isKanjiModeEnabled=function(){return typeof qv<"u"};cr.toSJIS=function(e){return qv(e)};var bf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(bf);function vT(){this.buffer=[],this.length=0}vT.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var C9=vT;function ru(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}ru.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};ru.prototype.get=function(t,e){return this.data[t*this.size+e]};ru.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};ru.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var T9=ru,yT={};(function(t){const e=cr.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),a=i.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||s.push([i[l],i[c]]);return s}})(yT);var bT={};const M9=cr.getSymbolSize,l1=7;bT.getPositions=function(e){const n=M9(e);return[[0,0],[n-l1,0],[0,n-l1]]};var _T={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let a=0,l=0,c=0,u=null,d=null;for(let h=0;h<i;h++){l=c=0,u=d=null;for(let f=0;f<i;f++){let p=s.get(h,f);p===u?l++:(l>=5&&(a+=e.N1+(l-5)),u=p,l=1),p=s.get(f,h),p===d?c++:(c>=5&&(a+=e.N1+(c-5)),d=p,c=1)}l>=5&&(a+=e.N1+(l-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(s){const i=s.size;let a=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(u===4||u===0)&&a++}return a*e.N2},t.getPenaltyN3=function(s){const i=s.size;let a=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|s.get(u,d),d>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|s.get(d,u),d>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let c=0;c<a;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const a=i.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)i.isReserved(c,l)||i.xor(c,l,n(s,c,l))},t.getBestMask=function(s,i){const a=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<a;u++){i(u),t.applyMask(u,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(u,s),d<c&&(c=d,l=u)}return l}})(_T);var _f={};const ci=bf,Yu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ju=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];_f.getBlocksCount=function(e,n){switch(n){case ci.L:return Yu[(e-1)*4+0];case ci.M:return Yu[(e-1)*4+1];case ci.Q:return Yu[(e-1)*4+2];case ci.H:return Yu[(e-1)*4+3];default:return}};_f.getTotalCodewordsCount=function(e,n){switch(n){case ci.L:return Ju[(e-1)*4+0];case ci.M:return Ju[(e-1)*4+1];case ci.Q:return Ju[(e-1)*4+2];case ci.H:return Ju[(e-1)*4+3];default:return}};var wT={},wf={};const cc=new Uint8Array(512),Rh=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)cc[n]=e,Rh[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)cc[n]=cc[n-255]})();wf.log=function(e){if(e<1)throw new Error("log("+e+")");return Rh[e]};wf.exp=function(e){return cc[e]};wf.mul=function(e,n){return e===0||n===0?0:cc[Rh[e]+Rh[n]]};(function(t){const e=wf;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let l=0;l<s.length;l++)i[a+l]^=e.mul(r[a],s[l]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],a);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(wT);const ST=wT;function Xv(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Xv.prototype.initialize=function(e){this.degree=e,this.genPoly=ST.generateECPolynomial(this.degree)};Xv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=ST.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var A9=Xv,ET={},Ii={},Kv={};Kv.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var is={};const NT="[0-9]+",j9="[A-Z $%*+\\-./:]+";let Fc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Fc=Fc.replace(/u/g,"\\u");const R9="(?:(?![A-Z0-9 $%*+\\-./:]|"+Fc+`)(?:.|[\r
]))+`;is.KANJI=new RegExp(Fc,"g");is.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");is.BYTE=new RegExp(R9,"g");is.NUMERIC=new RegExp(NT,"g");is.ALPHANUMERIC=new RegExp(j9,"g");const P9=new RegExp("^"+Fc+"$"),k9=new RegExp("^"+NT+"$"),D9=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");is.testKanji=function(e){return P9.test(e)};is.testNumeric=function(e){return k9.test(e)};is.testAlphanumeric=function(e){return D9.test(e)};(function(t){const e=Kv,n=is;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,a){if(t.isValid(i))return i;try{return r(i)}catch{return a}}})(Ii);(function(t){const e=cr,n=_f,r=bf,s=Ii,i=Kv,a=7973,l=e.getBCHDigit(a);function c(f,p,x){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,x,f))return g}function u(f,p){return s.getCharCountIndicator(f,p)+4}function d(f,p){let x=0;return f.forEach(function(g){const v=u(g.mode,p);x+=v+g.getBitsLength()}),x}function h(f,p){for(let x=1;x<=40;x++)if(d(f,x)<=t.getCapacity(x,p,s.MIXED))return x}t.from=function(p,x){return i.isValid(p)?parseInt(p,10):x},t.getCapacity=function(p,x,g){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=s.BYTE);const v=e.getSymbolTotalCodewords(p),m=n.getTotalCodewordsCount(p,x),y=(v-m)*8;if(g===s.MIXED)return y;const b=y-u(g,p);switch(g){case s.NUMERIC:return Math.floor(b/10*3);case s.ALPHANUMERIC:return Math.floor(b/11*2);case s.KANJI:return Math.floor(b/13);case s.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(p,x){let g;const v=r.from(x,r.M);if(Array.isArray(p)){if(p.length>1)return h(p,v);if(p.length===0)return 1;g=p[0]}else g=p;return c(g.mode,g.getLength(),v)},t.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let x=p<<12;for(;e.getBCHDigit(x)-l>=0;)x^=a<<e.getBCHDigit(x)-l;return p<<12|x}})(ET);var CT={};const tg=cr,TT=1335,L9=21522,c1=tg.getBCHDigit(TT);CT.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;tg.getBCHDigit(s)-c1>=0;)s^=TT<<tg.getBCHDigit(s)-c1;return(r<<10|s)^L9};var MT={};const I9=Ii;function $o(t){this.mode=I9.NUMERIC,this.data=t.toString()}$o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};$o.prototype.getLength=function(){return this.data.length};$o.prototype.getBitsLength=function(){return $o.getBitsLength(this.data.length)};$o.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var O9=$o;const U9=Ii,Bp=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function qo(t){this.mode=U9.ALPHANUMERIC,this.data=t}qo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};qo.prototype.getLength=function(){return this.data.length};qo.prototype.getBitsLength=function(){return qo.getBitsLength(this.data.length)};qo.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Bp.indexOf(this.data[n])*45;r+=Bp.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Bp.indexOf(this.data[n]),6)};var F9=qo;const B9=Ii;function Xo(t){this.mode=B9.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Xo.getBitsLength=function(e){return e*8};Xo.prototype.getLength=function(){return this.data.length};Xo.prototype.getBitsLength=function(){return Xo.getBitsLength(this.data.length)};Xo.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var z9=Xo;const V9=Ii,H9=cr;function Ko(t){this.mode=V9.KANJI,this.data=t}Ko.getBitsLength=function(e){return e*13};Ko.prototype.getLength=function(){return this.data.length};Ko.prototype.getBitsLength=function(){return Ko.getBitsLength(this.data.length)};Ko.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=H9.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var G9=Ko,AT={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var c,u,d,h,f,p,x,g,v;!l.empty();){c=l.pop(),u=c.value,h=c.cost,f=n[u]||{};for(d in f)f.hasOwnProperty(d)&&(p=f[d],x=h+p,g=a[d],v=typeof a[d]>"u",(v||g>x)&&(a[d]=x,l.push(d,x),i[d]=u))}if(typeof s<"u"&&typeof a[s]>"u"){var m=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(m)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(AT);var W9=AT.exports;(function(t){const e=Ii,n=O9,r=F9,s=z9,i=G9,a=is,l=cr,c=W9;function u(m){return unescape(encodeURIComponent(m)).length}function d(m,y,b){const w=[];let S;for(;(S=m.exec(b))!==null;)w.push({data:S[0],index:S.index,mode:y,length:S[0].length});return w}function h(m){const y=d(a.NUMERIC,e.NUMERIC,m),b=d(a.ALPHANUMERIC,e.ALPHANUMERIC,m);let w,S;return l.isKanjiModeEnabled()?(w=d(a.BYTE,e.BYTE,m),S=d(a.KANJI,e.KANJI,m)):(w=d(a.BYTE_KANJI,e.BYTE,m),S=[]),y.concat(b,w,S).sort(function(T,M){return T.index-M.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function f(m,y){switch(y){case e.NUMERIC:return n.getBitsLength(m);case e.ALPHANUMERIC:return r.getBitsLength(m);case e.KANJI:return i.getBitsLength(m);case e.BYTE:return s.getBitsLength(m)}}function p(m){return m.reduce(function(y,b){const w=y.length-1>=0?y[y.length-1]:null;return w&&w.mode===b.mode?(y[y.length-1].data+=b.data,y):(y.push(b),y)},[])}function x(m){const y=[];for(let b=0;b<m.length;b++){const w=m[b];switch(w.mode){case e.NUMERIC:y.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:y.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:y.push([w,{data:w.data,mode:e.BYTE,length:u(w.data)}]);break;case e.BYTE:y.push([{data:w.data,mode:e.BYTE,length:u(w.data)}])}}return y}function g(m,y){const b={},w={start:{}};let S=["start"];for(let E=0;E<m.length;E++){const T=m[E],M=[];for(let C=0;C<T.length;C++){const N=T[C],j=""+E+C;M.push(j),b[j]={node:N,lastCount:0},w[j]={};for(let k=0;k<S.length;k++){const U=S[k];b[U]&&b[U].node.mode===N.mode?(w[U][j]=f(b[U].lastCount+N.length,N.mode)-f(b[U].lastCount,N.mode),b[U].lastCount+=N.length):(b[U]&&(b[U].lastCount=N.length),w[U][j]=f(N.length,N.mode)+4+e.getCharCountIndicator(N.mode,y))}}S=M}for(let E=0;E<S.length;E++)w[S[E]].end=0;return{map:w,table:b}}function v(m,y){let b;const w=e.getBestModeForData(m);if(b=e.from(y,w),b!==e.BYTE&&b.bit<w.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(w));switch(b===e.KANJI&&!l.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(m);case e.ALPHANUMERIC:return new r(m);case e.KANJI:return new i(m);case e.BYTE:return new s(m)}}t.fromArray=function(y){return y.reduce(function(b,w){return typeof w=="string"?b.push(v(w,null)):w.data&&b.push(v(w.data,w.mode)),b},[])},t.fromString=function(y,b){const w=h(y,l.isKanjiModeEnabled()),S=x(w),E=g(S,b),T=c.find_path(E.map,"start","end"),M=[];for(let C=1;C<T.length-1;C++)M.push(E.table[T[C]].node);return t.fromArray(p(M))},t.rawSplit=function(y){return t.fromArray(h(y,l.isKanjiModeEnabled()))}})(MT);const Sf=cr,zp=bf,$9=C9,q9=T9,X9=yT,K9=bT,ng=_T,rg=_f,Y9=A9,Ph=ET,J9=CT,Q9=Ii,Vp=MT;function Z9(t,e){const n=t.size,r=K9.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],a=r[s][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(i+l,a+c,!0,!0):t.set(i+l,a+c,!1,!0))}}function eB(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function tB(t,e){const n=X9.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?t.set(s+a,i+l,!0,!0):t.set(s+a,i+l,!1,!0)}}function nB(t,e){const n=t.size,r=Ph.getEncodedBits(e);let s,i,a;for(let l=0;l<18;l++)s=Math.floor(l/3),i=l%3+n-8-3,a=(r>>l&1)===1,t.set(s,i,a,!0),t.set(i,s,a,!0)}function Hp(t,e,n){const r=t.size,s=J9.getEncodedBits(e,n);let i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?t.set(i,8,a,!0):i<8?t.set(i+1,8,a,!0):t.set(r-15+i,8,a,!0),i<8?t.set(8,r-i-1,a,!0):i<9?t.set(8,15-i-1+1,a,!0):t.set(8,15-i-1,a,!0);t.set(r-8,8,1,!0)}function rB(t,e){const n=t.size;let r=-1,s=n-1,i=7,a=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(s,l-c)){let u=!1;a<e.length&&(u=(e[a]>>>i&1)===1),t.set(s,l-c,u),i--,i===-1&&(a++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function sB(t,e,n){const r=new $9;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),Q9.getCharCountIndicator(c.mode,t)),c.write(r)});const s=Sf.getSymbolTotalCodewords(t),i=rg.getTotalCodewordsCount(t,e),a=(s-i)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(a-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return iB(r,t,e)}function iB(t,e,n){const r=Sf.getSymbolTotalCodewords(e),s=rg.getTotalCodewordsCount(e,n),i=r-s,a=rg.getBlocksCount(e,n),l=r%a,c=a-l,u=Math.floor(r/a),d=Math.floor(i/a),h=d+1,f=u-d,p=new Y9(f);let x=0;const g=new Array(a),v=new Array(a);let m=0;const y=new Uint8Array(t.buffer);for(let T=0;T<a;T++){const M=T<c?d:h;g[T]=y.slice(x,x+M),v[T]=p.encode(g[T]),x+=M,m=Math.max(m,M)}const b=new Uint8Array(r);let w=0,S,E;for(S=0;S<m;S++)for(E=0;E<a;E++)S<g[E].length&&(b[w++]=g[E][S]);for(S=0;S<f;S++)for(E=0;E<a;E++)b[w++]=v[E][S];return b}function aB(t,e,n,r){let s;if(Array.isArray(t))s=Vp.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=Vp.rawSplit(t);u=Ph.getBestVersionForData(d,n)}s=Vp.fromString(t,u||40)}else throw new Error("Invalid data");const i=Ph.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=sB(e,n,s),l=Sf.getSymbolSize(e),c=new q9(l);return Z9(c,e),eB(c),tB(c,e),Hp(c,n,0),e>=7&&nB(c,e),rB(c,a),isNaN(r)&&(r=ng.getBestMask(c,Hp.bind(null,c,n))),ng.applyMask(r,c),Hp(c,n,r),{modules:c,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}xT.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=zp.M,s,i;return typeof n<"u"&&(r=zp.from(n.errorCorrectionLevel,zp.M),s=Ph.from(n.version),i=ng.from(n.maskPattern),n.toSJISFunc&&Sf.setToSJISFunction(n.toSJISFunc)),aB(e,s,r,i)};var jT={},Yv={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const a=s.modules.size,l=s.modules.data,c=t.getScale(a,i),u=Math.floor((a+i.margin*2)*c),d=i.margin*c,h=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let p=0;p<u;p++){let x=(f*u+p)*4,g=i.color.light;if(f>=d&&p>=d&&f<u-d&&p<u-d){const v=Math.floor((f-d)/c),m=Math.floor((p-d)/c);g=h[l[v*a+m]?1:0]}r[x++]=g.r,r[x++]=g.g,r[x++]=g.b,r[x]=g.a}}})(Yv);(function(t){const e=Yv;function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,l){let c=l,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=r()),c=e.getOptions(c);const d=e.getImageWidth(i.modules.size,c),h=u.getContext("2d"),f=h.createImageData(d,d);return e.qrToImageData(f.data,i,c),n(h,u,d),h.putImageData(f,0,0),u},t.renderToDataURL=function(i,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=t.render(i,a,c),d=c.type||"image/png",h=c.rendererOpts||{};return u.toDataURL(d,h.quality)}})(jT);var RT={};const oB=Yv;function u1(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Gp(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function lB(t,e,n){let r="",s=0,i=!1,a=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),u=Math.floor(l/e);!c&&!i&&(i=!0),t[l]?(a++,l>0&&c>0&&t[l-1]||(r+=i?Gp("M",c+n,.5+u+n):Gp("m",s,0),s=0,i=!1),c+1<e&&t[l+1]||(r+=Gp("h",a),a=0)):s++}return r}RT.render=function(e,n,r){const s=oB.getOptions(n),i=e.modules.size,a=e.modules.data,l=i+s.margin*2,c=s.color.light.a?"<path "+u1(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+u1(s.color.dark,"stroke")+' d="'+lB(a,i,s.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,f),f};const cB=E9,sg=xT,PT=jT,uB=RT;function Jv(t,e,n,r,s){const i=[].slice.call(arguments,1),a=i.length,l=typeof i[a-1]=="function";if(!l&&!cB())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(s=n,n=e,e=r=void 0):a===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=e,e=r=void 0):a===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(c,u){try{const d=sg.create(n,r);c(t(d,e,r))}catch(d){u(d)}})}try{const c=sg.create(n,r);s(null,t(c,e,r))}catch(c){s(c)}}Pa.create=sg.create;Pa.toCanvas=Jv.bind(null,PT.render);Pa.toDataURL=Jv.bind(null,PT.renderToDataURL);Pa.toString=Jv.bind(null,function(t,e,n){return uB.render(t,n)});const dB="https://sakec.acm.org/api";function hB(){const[t,e]=_.useState(!1),[n,r]=_.useState({sent:0,total:0}),[s,i]=_.useState({success:[],failed:[]}),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState([]),[f,p]=_.useState(""),[x,g]=_.useState(!1);_.useEffect(()=>{v()},[]);const v=async()=>{const{data:w}=await Q.from("team_members").select("id, name, email, status").not("email","is",null).order("name");if(w){const S=w.filter(E=>!E.status||E.status==="active");h(S)}},m=async()=>{if(confirm("Send attendance QR codes to all team members?")){e(!0),l(!1),i({success:[],failed:[]});try{const{data:w,error:S}=await Q.from("team_members").select("id, name, email, status").not("email","is",null);if(S||!w){alert("Failed to fetch team members"),e(!1);return}const E=w.filter(C=>!C.status||C.status==="active");r({sent:0,total:E.length});const T=[],M=[];for(const C of E){try{await b(C.id,C.name,C.email),T.push(C.name)}catch(N){console.error(`Failed to send to ${C.name}:`,N),M.push(C.name)}r(N=>({...N,sent:N.sent+1})),await new Promise(N=>setTimeout(N,500))}i({success:T,failed:M}),l(!0)}catch(w){console.error("Send error:",w),alert("Failed to send QR codes")}finally{e(!1)}}},y=async()=>{if(!f){alert("Please select a member");return}const w=d.find(S=>S.id===f);if(w){g(!0);try{await b(w.id,w.name,w.email),alert(` QR code sent to ${w.name} successfully!`),p(""),u(!1)}catch{alert(` Failed to send QR code to ${w.name}`)}finally{g(!1)}}},b=async(w,S,E)=>{const T=`ATTENDANCE:${w}`,M=await Pa.toDataURL(T,{width:250,margin:1,color:{dark:"#000000",light:"#FFFFFF"}}),C="Your SAKEC ACM Attendance QR Code",N=`
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset='UTF-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <style>
            body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.6; color: #000; margin: 0; padding: 0; background-color: #f4f4f4; }
            .container { max-width: 600px; margin: 40px auto; background: white; border: 1px solid #ddd; }
            .header { background: #000; color: white; padding: 30px; text-align: center; }
            .header h1 { margin: 0; font-size: 24px; font-weight: 300; letter-spacing: 1px; text-transform: uppercase; }
            .content { padding: 40px; background: white; }
            .qr-container { text-align: center; margin: 30px 0; padding: 30px; background: #f9f9f9; border: 2px solid #000; border-radius: 8px; }
            .qr-container img { max-width: 300px; width: 100%; height: auto; }
            .instructions { background: #f0f0f0; border-left: 4px solid #000; padding: 20px; margin: 30px 0; }
            .instructions h3 { margin: 0 0 15px 0; font-size: 16px; text-transform: uppercase; }
            .instructions ul { margin: 0; padding-left: 20px; }
            .instructions li { margin-bottom: 10px; }
            .footer { background: #f9f9f9; padding: 30px; text-align: center; color: #888; font-size: 12px; border-top: 1px solid #eee; }
            @media only screen and (max-width: 600px) {
                .container { margin: 0; border: none; }
                .content { padding: 20px; }
            }
        </style>
    </head>
    <body>
        <div class='container'>
            <div class='header'>
                <h1>Attendance QR Code</h1>
                <p style='margin: 5px 0 0; opacity: 0.7; font-size: 12px; letter-spacing: 2px;'>SAKEC ACM STUDENT CHAPTER</p>
            </div>
            <div class='content'>
                <p style='font-size: 18px; margin: 0 0 20px 0;'>Hi ${S},</p>
                
                <p>Here is your personal attendance QR code for SAKEC ACM events and meetings.</p>
                
                <div class='qr-container'>
                    <h2 style='margin: 0 0 20px 0; font-size: 20px;'>Your Attendance QR Code</h2>
                    <img src='${M}' alt='Attendance QR Code' />
                    <p style='margin: 20px 0 0 0; color: #666; font-size: 14px;'>Save this QR code for future use</p>
                </div>
                
                <div class='instructions'>
                    <h3>How to Use:</h3>
                    <ul style='color: #444;'>
                        <li><strong>Forgot your NFC card?</strong> Show this QR code to an admin</li>
                        <li><strong>Quick attendance:</strong> Admin will scan this code to record your presence</li>
                        <li><strong>Save it:</strong> Keep this email or save the QR code image</li>
                        <li><strong>Print it:</strong> You can print this QR code for easy access</li>
                    </ul>
                </div>
                
                <p style='margin: 30px 0 0 0;'><strong>Important:</strong> This QR code is unique to you. Do not share it with others.</p>
                
                <p style='margin: 20px 0 0 0; color: #666; font-size: 14px;'>
                    You can also access your QR code anytime at: <a href='https://sakec.acm.org/nfc-attendance' style='color: #000;'>sakec.acm.org/nfc-attendance</a>
                </p>
                
                <div style='margin-top: 50px; padding-top: 30px; border-top: 1px solid #eee;'>
                    <p style='margin: 0; font-weight: bold;'>SAKEC ACM Attendance Team</p>
                    <p style='margin: 5px 0 0 0; color: #666; font-size: 14px;'>Shah & Anchor Kutchhi Engineering College</p>
                </div>
            </div>
            <div class='footer'>
                <p>This is an automated email from SAKEC ACM Attendance System.</p>
                <p style='margin-top: 10px;'> ${new Date().getFullYear()} SAKEC ACM Student Chapter. All rights reserved.</p>
            </div>
        </div>
    </body>
    </html>
    `,k=await(await fetch(`${dB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:E,subject:C,message:N,fromEmail:"admin@sakec.acm.org",fromName:"SAKEC ACM Admin",replyTo:"admin@sakec.acm.org"})})).json();if(!k.success)throw new Error(k.message||"Failed to send email")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cn,{className:"w-6 h-6 text-purple-600"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Send Attendance QR Codes"})]}),o.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Send QR Codes to All Team Members"}),o.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"This will send a personalized attendance QR code to each active team member via email. Members can use this QR code when they forget their NFC card."}),o.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("li",{children:[" Email sent from: ",o.jsx("strong",{children:"admin@sakec.acm.org"})]}),o.jsx("li",{children:" Each member gets their unique QR code"}),o.jsx("li",{children:" QR codes can be saved or printed"}),o.jsx("li",{children:" Admins can scan these codes to record attendance"})]})]})]})}),!t&&!a&&o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all",children:[o.jsx(Ds,{className:"w-5 h-5"}),"Send to All Members"]}),o.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all",children:[o.jsx(cn,{className:"w-5 h-5"}),"Send to Individual Member"]})]}),c&&!t&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-500 shadow-lg",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Send to Individual Member"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Member"}),o.jsxs("select",{value:f,onChange:w=>p(w.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[o.jsx("option",{value:"",children:"Choose a member..."}),d.map(w=>o.jsxs("option",{value:w.id,children:[w.name," (",w.email,")"]},w.id))]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:y,disabled:!f||x,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(Ds,{className:"w-5 h-5"}),x?"Sending...":"Send QR Code"]}),o.jsx("button",{onClick:()=>{u(!1),p("")},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors",children:"Cancel"})]})]})]}),t&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:"Sending QR Codes..."}),o.jsxs("p",{className:"text-sm text-gray-600",children:[n.sent," of ",n.total," sent"]})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.sent/n.total*100}%`}})})]}),a&&o.jsxs("div",{className:"space-y-4",children:[s.success.length>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(An,{className:"w-6 h-6 text-green-600"}),o.jsxs("h3",{className:"font-bold text-gray-900",children:["Successfully Sent (",s.success.length,")"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:s.success.map((w,S)=>o.jsxs("div",{className:"text-sm text-gray-700 bg-white px-3 py-2 rounded border border-green-200",children:[" ",w]},S))})]}),s.failed.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Vr,{className:"w-6 h-6 text-red-600"}),o.jsxs("h3",{className:"font-bold text-gray-900",children:["Failed to Send (",s.failed.length,")"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:s.failed.map((w,S)=>o.jsxs("div",{className:"text-sm text-gray-700 bg-white px-3 py-2 rounded border border-red-200",children:[" ",w]},S))})]}),o.jsx("button",{onClick:()=>l(!1),className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors",children:"Send Again"})]})]})}function fB(){const t=lr(),[e,n]=_.useState([]),[r,s]=_.useState({}),[i,a]=_.useState(!0);_.useEffect(()=>{l()},[]);const l=async()=>{a(!0);const{data:p}=await Q.from("events").select("id, title, date, time, location").order("date",{ascending:!1});if(p){n(p);const x={};for(const g of p)x[g.id]=await c(g.id);s(x)}a(!1)},c=async p=>{const{count:x}=await Q.from("event_registrations").select("*",{count:"exact",head:!0}).eq("event_id",p),{count:g}=await Q.from("event_volunteers").select("*",{count:"exact",head:!0}).eq("event_id",p),{count:v}=await Q.from("event_attendance").select("*",{count:"exact",head:!0}).eq("event_id",p).eq("attendee_type","team"),{count:m}=await Q.from("event_attendance").select("*",{count:"exact",head:!0}).eq("event_id",p).is("check_out_time",null);return{participants:x||0,volunteers:g||0,team:v||0,currentlyPresent:m||0}},u=p=>new Date(p)>=new Date,d=p=>new Date(p)<new Date,h=e.filter(p=>u(p.date)),f=e.filter(p=>d(p.date));return i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-gray-600",children:"Loading events..."})}):o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Event Management"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"Manage attendance and track event participation"})]})}),h.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Rv,{className:"w-5 h-5 text-green-600"}),"Upcoming Events (",h.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:h.map(p=>o.jsx(d1,{event:p,stats:r[p.id],onManage:()=>t(`/admin/event/${p.id}`),isUpcoming:!0},p.id))})]}),f.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Wn,{className:"w-5 h-5 text-gray-600"}),"Past Events (",f.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:f.map(p=>o.jsx(d1,{event:p,stats:r[p.id],onManage:()=>t(`/admin/event/${p.id}`),isUpcoming:!1},p.id))})]}),e.length===0&&o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[o.jsx(Wn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No events found"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Create events in the Events tab first"})]})]})}function d1({event:t,stats:e,onManage:n,isUpcoming:r}){const s=((e==null?void 0:e.participants)||0)+((e==null?void 0:e.volunteers)||0)+((e==null?void 0:e.team)||0);return o.jsx("div",{className:`bg-white rounded-xl p-6 border-2 shadow-sm hover:shadow-md transition-all ${r?"border-green-200 hover:border-green-300":"border-gray-200 hover:border-gray-300"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.title}),r&&o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full",children:"Upcoming"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})]}),t.time&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),t.time]}),t.location&&o.jsxs("div",{className:"flex items-center gap-2",children:[" ",t.location]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ft,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-xs font-medium text-blue-900",children:"Participants"})]}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(e==null?void 0:e.participants)||0})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ft,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-xs font-medium text-green-900",children:"Volunteers"})]}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:(e==null?void 0:e.volunteers)||0})]}),o.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ft,{className:"w-4 h-4 text-purple-600"}),o.jsx("span",{className:"text-xs font-medium text-purple-900",children:"Team"})]}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(e==null?void 0:e.team)||0})]}),o.jsxs("div",{className:"bg-orange-50 rounded-lg p-3 border border-orange-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ft,{className:"w-4 h-4 text-orange-600"}),o.jsx("span",{className:"text-xs font-medium text-orange-900",children:"Present"})]}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(e==null?void 0:e.currentlyPresent)||0})]})]})]}),o.jsxs("div",{className:"ml-6 flex flex-col gap-2",children:[o.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-all whitespace-nowrap",children:[o.jsx(ft,{className:"w-5 h-5"}),"Manage Event"]}),s>0&&o.jsxs("div",{className:"text-center text-sm text-gray-600 bg-gray-50 rounded-lg px-3 py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:s})," total"]})]})]})})}const h1=[{id:"dashboard",label:"Dashboard",icon:pL},{id:"event-management",label:"Event Management",icon:ft},{id:"registrations",label:"Registrations",icon:iw},{id:"attendance",label:"Attendance",icon:iw},{id:"email",label:"Email System",icon:Ds},{id:"team",label:"Team Members",icon:ft},{id:"events",label:"Events",icon:Wn},{id:"blogs",label:"Blogs",icon:ga},{id:"messages",label:"Contact Messages",icon:cn},{id:"gallery",label:"Gallery",icon:fL},{id:"alumni",label:"Alumni",icon:ft},{id:"faculty",label:"Faculty",icon:vL},{id:"announcements",label:"Announcements",icon:yN}];function pB(){var p;const[t,e]=_.useState(null),[n,r]=_.useState(!0),[s,i]=_.useState({members:0,events:0,blogs:0,messages:0,gallery:0,alumni:0,faculty:0,subscribers:0}),[a,l]=_.useState("dashboard"),[c,u]=_.useState(!1),d=lr();_.useEffect(()=>{const x=localStorage.getItem("admin_session");if(!x){d("/admin");return}const g=JSON.parse(x);e(g),h(),r(!1)},[d]);const h=async()=>{try{const[x,g,v,m,y,b,w,S]=await Promise.all([Q.from("team_members").select("id",{count:"exact",head:!0}),Q.from("events").select("id",{count:"exact",head:!0}),Q.from("blogs").select("id",{count:"exact",head:!0}),Q.from("contact_messages").select("id",{count:"exact",head:!0}),Q.from("event_galleries").select("id",{count:"exact",head:!0}),Q.from("alumni_members").select("id",{count:"exact",head:!0}),Q.from("faculty_members").select("id",{count:"exact",head:!0}),Q.from("newsletter_subscribers").select("id",{count:"exact",head:!0})]);i({members:x.count||0,events:g.count||0,blogs:v.count||0,messages:m.count||0,gallery:y.count||0,alumni:b.count||0,faculty:w.count||0,subscribers:S.count||0})}catch(x){console.error("Error loading stats:",x)}},f=()=>{localStorage.removeItem("admin_session"),d("/admin")};return n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-900",children:"Loading..."})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out
        ${c?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0
      `,children:o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("div",{className:"p-6 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-8 w-auto"}),o.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Admin Panel"})]})}),o.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:h1.map(x=>o.jsxs("button",{onClick:()=>{l(x.id),u(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${a===x.id?"bg-black text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(x.icon,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:x.label})]},x.id))}),o.jsx("div",{className:"p-4 border-t border-gray-100",children:o.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[o.jsx(O0,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})}),o.jsxs("main",{className:"flex-1 overflow-y-auto h-screen",children:[o.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 p-4 flex items-center justify-between sticky top-0 z-40",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-8 w-auto"}),o.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Admin Panel"})]}),o.jsx("button",{onClick:()=>u(!c),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:c?o.jsx(jn,{className:"w-6 h-6"}):o.jsx(gL,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:((p=h1.find(x=>x.id===a))==null?void 0:p.label)||"Dashboard"}),o.jsxs("p",{className:"text-gray-500",children:["Welcome back, ",t==null?void 0:t.username]})]}),a==="dashboard"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Total Members"}),o.jsx(ft,{className:"w-5 h-5 text-blue-600"})]}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.members})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Active Events"}),o.jsx(Wn,{className:"w-5 h-5 text-purple-600"})]}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.events})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Published Blogs"}),o.jsx(ga,{className:"w-5 h-5 text-green-600"})]}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.blogs})]}),o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-gray-500 text-sm font-medium",children:"Newsletter Subscribers"}),o.jsx(Ds,{className:"w-5 h-5 text-orange-600"})]}),o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.subscribers})]})]}),a==="event-management"&&o.jsx(fB,{}),a==="registrations"&&o.jsx(w9,{}),a==="attendance"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 border-2 border-blue-200",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Access"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("a",{href:"/admin/attendance-scanner",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 px-6 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(ks,{className:"w-5 h-5"}),"Attendance Scanner"]}),o.jsxs("a",{href:"/admin/qr-scanner",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 px-6 py-4 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(ks,{className:"w-5 h-5"}),"Admin QR Scanner"]}),o.jsxs("a",{href:"/admin/nfc-links",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 px-6 py-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(ft,{className:"w-5 h-5"}),"NFC Links Manager"]})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-3 text-center",children:" These pages have the actual QR and NFC scanning interfaces"})]}),o.jsx(hB,{}),o.jsx(S9,{})]}),a==="email"&&o.jsx(x9,{}),a==="team"&&o.jsx(u9,{}),a==="events"&&o.jsx(h9,{}),a==="blogs"&&o.jsx(f9,{}),a==="messages"&&o.jsx(m9,{}),a==="gallery"&&o.jsx(v9,{}),a==="alumni"&&o.jsx(y9,{}),a==="faculty"&&o.jsx(b9,{}),a==="announcements"&&o.jsx(_9,{})]})})]})]})}function mB(){const{formId:t}=il(),e=lr(),[n,r]=_.useState(null),[s,i]=_.useState(null),[a,l]=_.useState([]),[c,u]=_.useState(!0),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[x,g]=_.useState(""),[v,m]=_.useState({name:"",email:"",phone:""}),[y,b]=_.useState({}),[w,S]=_.useState({});_.useEffect(()=>{E()},[t]);const E=async()=>{try{const{data:j,error:k}=await Q.from("event_registration_forms").select("*").eq("id",t).single();if(k||!j){g("Registration form not found"),u(!1);return}if(!j.is_active){g("This registration form is no longer accepting responses"),u(!1);return}if(j.registration_deadline&&new Date(j.registration_deadline)<new Date){g("Registration deadline has passed"),u(!1);return}if(r(j),j.max_registrations){const{count:O}=await Q.from("event_registrations").select("*",{count:"exact",head:!0}).eq("form_id",t);if(O&&O>=j.max_registrations){g("Registration is full. Maximum capacity reached."),u(!1);return}}const{data:U}=await Q.from("events").select("*").eq("id",j.event_id).single();U&&i(U);const{data:G}=await Q.from("event_form_fields").select("*").eq("form_id",t).order("display_order");G&&l(G),u(!1)}catch(j){console.error("Load error:",j),g("Failed to load registration form"),u(!1)}},T=(j,k)=>{var G;const U=(G=k.target.files)==null?void 0:G[0];if(U){if(U.size>5*1024*1024){g("File size must be less than 5MB");return}b(H=>({...H,[j]:U}));const O=new FileReader;O.onloadend=()=>{S(H=>({...H,[j]:O.result}))},O.readAsDataURL(U)}},M=j=>{b(k=>{const U={...k};return delete U[j],U}),S(k=>{const U={...k};return delete U[j],U})},C=async j=>{var U;if(j.preventDefault(),h(!0),g(""),!v.name||!v.email){g("Please fill in all required fields"),h(!1);return}const k=a.filter(G=>G.is_required?G.field_type==="photo"?!y[G.field_name]:!v[G.field_name]:!1);if(k.length>0){const G=k.map(O=>O.field_label).join(", ");g(`Please fill in all required fields: ${G}`),h(!1);return}if(n!=null&&n.allowed_email_domains&&n.allowed_email_domains.length>0){const G=v.email.toLowerCase();if(!n.allowed_email_domains.some(H=>G.endsWith(H.toLowerCase()))){g(`Email must be from one of these domains: ${n.allowed_email_domains.join(", ")}`),h(!1);return}}try{const G=v.email.trim(),O=(U=v.phone)==null?void 0:U.trim();let H=Q.from("event_registrations").select("id").eq("form_id",t);O?H=H.or(`participant_email.eq.${G},participant_phone.eq.${O}`):H=H.eq("participant_email",G);const{data:$,error:L}=await H;if(L){console.error("Duplicate check error:",L),g("Failed to validate registration. Please try again."),h(!1);return}if($&&$.length>0){g("You have already registered for this event with this email or phone number."),h(!1);return}const z=["event-registrations","event-registrations1","event-registrations2","event-registrations3"],W={};for(const[Ee,We]of Object.entries(y)){const rt=We.name.split(".").pop(),J=`${Date.now()}-${Math.random().toString(36).substring(7)}.${rt}`,ee=`event-photos/${J}`;console.log("Uploading photo:",{fieldName:Ee,fileName:J,filePath:ee,fileSize:We.size});let xe=!1,Be=null;for(const Ce of z)try{const{data:$e,error:Ft}=await Q.storage.from(Ce).upload(ee,We,{cacheControl:"3600",upsert:!1});if(Ft){console.warn(`Upload to ${Ce} failed:`,Ft),Be=Ft;continue}if($e){const{data:Ke}=Q.storage.from(Ce).getPublicUrl(ee);console.log(`Photo uploaded successfully to ${Ce}:`,Ke.publicUrl),W[Ee]=Ke.publicUrl,xe=!0;break}}catch($e){console.warn(`Unexpected error uploading to ${Ce}:`,$e),Be=$e}if(!xe){console.error("All bucket uploads failed. Last error:",Be),g(`Failed to upload photo for ${Ee}. Storage limit may be reached.`),h(!1);return}}const ne={...v,...W},{error:le}=await Q.from("event_registrations").insert([{form_id:t,event_id:n==null?void 0:n.event_id,participant_name:v.name,participant_email:v.email,participant_phone:v.phone||null,form_data:ne,confirmation_sent:!1,status:"confirmed"}]);if(le)throw le;if(s)try{const Ee=await n9(v.email,v.name,s.title,new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s.time,s.location);Ee.success?console.log("Confirmation email sent successfully"):console.warn("Failed to send confirmation email:",Ee.message)}catch(Ee){console.warn("Email sending error:",Ee)}p(!0),setTimeout(()=>{e("/events")},5e3)}catch(G){console.error("Registration error:",G),g("Failed to submit registration. Please try again.")}finally{h(!1)}},N=j=>{var U,G;const k="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all";switch(j.field_type){case"photo":return o.jsx("div",{children:w[j.field_name]?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:w[j.field_name],alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300"}),o.jsx("button",{type:"button",onClick:()=>M(j.field_name),className:"absolute top-2 right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors",children:o.jsx(jn,{className:"w-4 h-4"})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[o.jsx(wL,{className:"w-8 h-8 mb-2 text-gray-500"}),o.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[o.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG or JPEG (MAX. 5MB)"})]}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:O=>T(j.field_name,O),required:j.is_required})]})});case"textarea":return o.jsx("textarea",{value:v[j.field_name]||"",onChange:O=>m({...v,[j.field_name]:O.target.value}),className:k,rows:4,required:j.is_required,placeholder:`Enter ${j.field_label.toLowerCase()}`});case"select":return o.jsxs("select",{value:v[j.field_name]||"",onChange:O=>m({...v,[j.field_name]:O.target.value}),className:k,required:j.is_required,children:[o.jsx("option",{value:"",children:"Select an option"}),(U=j.field_options)==null?void 0:U.map((O,H)=>o.jsx("option",{value:O,children:O},H))]});case"checkbox":return o.jsx("div",{className:"space-y-2",children:(G=j.field_options)==null?void 0:G.map((O,H)=>o.jsxs("label",{className:"flex items-center gap-2 text-gray-900 cursor-pointer hover:text-blue-600 transition-colors",children:[o.jsx("input",{type:"checkbox",value:O,checked:(v[j.field_name]||[]).includes(O),onChange:$=>{const L=v[j.field_name]||[],z=$.target.checked?[...L,O]:L.filter(W=>W!==O);m({...v,[j.field_name]:z})},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),O]},H))});default:return o.jsx("input",{type:j.field_type,value:v[j.field_name]||"",onChange:O=>m({...v,[j.field_name]:O.target.value}),className:k,required:j.is_required,placeholder:`Enter ${j.field_label.toLowerCase()}`})}};return c?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-20",children:o.jsx("div",{className:"text-gray-900 text-xl",children:"Loading registration form..."})}):x&&!n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-red-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(Vr,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Unavailable"}),o.jsx("p",{className:"text-gray-700 mb-6",children:x}),o.jsx("button",{onClick:()=>e("/events"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Events"})]})}):f?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-green-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(An,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You for Your Interest!"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Thank you for showing interest in this event. We will shortly get back to you with more details."}),o.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["A confirmation email has been sent to ",o.jsx("strong",{className:"text-gray-900",children:v.email})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Please check your inbox (and spam folder) for event details."}),o.jsx("button",{onClick:()=>e("/events"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Events"})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-20 px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[s&&o.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 mb-8 shadow-lg",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:s.title}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-white",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-5 h-5"}),o.jsx("span",{children:new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),s.time&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-5 h-5"}),o.jsx("span",{children:s.time})]}),s.location&&o.jsxs("div",{className:"flex items-center gap-2 md:col-span-2",children:[o.jsx(uf,{className:"w-5 h-5"}),o.jsx("span",{children:s.location})]})]})]}),o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 rounded-2xl p-8 border border-gray-200 shadow-lg",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n==null?void 0:n.form_title}),(n==null?void 0:n.form_description)&&o.jsx("p",{className:"text-gray-600 mb-6",children:n.form_description}),x&&o.jsx("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4 mb-6",children:o.jsx("p",{className:"text-red-700 text-sm",children:x})}),o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:v.name,onChange:j=>m({...v,name:j.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all",placeholder:"Enter your full name",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Email Address ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",value:v.email,onChange:j=>m({...v,email:j.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all",placeholder:"your.email@example.com",required:!0}),(n==null?void 0:n.allowed_email_domains)&&n.allowed_email_domains.length>0&&o.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Only emails from: ",o.jsx("span",{className:"font-semibold",children:n.allowed_email_domains.join(", ")})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:v.phone,onChange:j=>m({...v,phone:j.target.value}),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 shadow-sm transition-all",placeholder:"+91 XXXXXXXXXX"})]}),a.map(j=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[j.field_label,j.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),N(j)]},j.id)),o.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-all shadow-md hover:shadow-lg",children:d?"Submitting...":"Register for Event"})]}),o.jsx("p",{className:"text-gray-600 text-sm text-center mt-6",children:"By registering, you agree to receive event-related communications from SAKEC ACM."})]})]})})}const gB="https://sakec.acm.org/api";function xB(){const[t]=$R(),e=lr(),n=t.get("token"),[r,s]=_.useState(!0),[i,a]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState("");_.useEffect(()=>{if(!n){c("Invalid unsubscribe link"),s(!1);return}h()},[n]);const h=async()=>{try{const p=await(await fetch(`${gB}/newsletter-unsubscribe.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})})).json();p.success?(a(!0),d(p.email||"")):c(p.message||"Failed to unsubscribe")}catch{c("Network error. Please try again.")}finally{s(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-900",children:"Processing your request..."})]})}):i?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-green-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(An,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Successfully Unsubscribed"}),o.jsxs("p",{className:"text-gray-700 mb-4",children:[u&&`${u} has been `,"removed from our newsletter mailing list."]}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"We're sorry to see you go! You will no longer receive newsletter emails from SAKEC ACM."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Home"}),o.jsx("button",{onClick:()=>e("/events"),className:"w-full px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-900 rounded-lg transition-all font-semibold",children:"View Events"})]}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Changed your mind?"}),o.jsxs("button",{onClick:()=>e("/#newsletter"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center gap-2 mx-auto",children:[o.jsx(cn,{className:"w-4 h-4"}),"Subscribe Again"]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 pt-20",children:o.jsxs("div",{className:"backdrop-blur-xl bg-white/95 border border-red-200 rounded-2xl p-8 max-w-md text-center shadow-lg",children:[o.jsx(Vr,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Unsubscribe Failed"}),o.jsx("p",{className:"text-gray-700 mb-6",children:l}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all font-semibold",children:"Back to Home"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:["Need help? Contact us at"," ",o.jsx("a",{href:"mailto:support@sakec.acm.org",className:"text-blue-600 hover:underline",children:"support@sakec.acm.org"})]})]})]})})}function fl(){const[t,e]=_.useState(!1),[n,r]=_.useState(!0),s=lr();return _.useEffect(()=>{const i=localStorage.getItem("admin_session");if(!i){s("/admin");return}try{const a=JSON.parse(i);a&&a.username?e(!0):s("/admin")}catch{s("/admin")}finally{r(!1)}},[s]),{isAuthenticated:t,loading:n}}function Qv({onScan:t}){const e=_.useRef(null),[n,r]=_.useState(""),[s,i]=_.useState(!1);_.useEffect(()=>(a(),()=>l()),[]);const a=async()=>{try{const u=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});e.current&&(e.current.srcObject=u,i(!0),c())}catch{r("Camera access denied. Please allow camera permissions.")}},l=()=>{e.current&&e.current.srcObject&&e.current.srcObject.getTracks().forEach(d=>d.stop())},c=async()=>{if(!("BarcodeDetector"in window)){r("QR scanning not supported. Please enter member ID manually.");return}const u=new window.BarcodeDetector({formats:["qr_code"]}),d=async()=>{if(e.current&&s)try{const h=await u.detect(e.current);h.length>0?(t(h[0].rawValue),l()):requestAnimationFrame(d)}catch{requestAnimationFrame(d)}};d()};return o.jsx("div",{className:"space-y-4",children:n?o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(Vr,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-red-800 font-medium",children:"Camera Error"}),o.jsx("p",{className:"text-red-700 text-sm mt-1",children:n})]})]}):o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,className:"w-full h-96 object-cover"}),o.jsx("div",{className:"absolute inset-0 border-4 border-blue-500 pointer-events-none",children:o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-white rounded-lg"})}),o.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-black/70 text-white rounded-full",children:[o.jsx(nL,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Position QR code within the frame"})]})})]})})}const vB="https://sakec.acm.org/api";function yB(){const{isAuthenticated:t,loading:e}=fl(),[n,r]=_.useState(null),[s,i]=_.useState([]),[a,l]=_.useState({totalCheckIns:0,currentlyPresent:0,totalCheckOuts:0}),[c,u]=_.useState("");if(e)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})});if(!t)return null;_.useEffect(()=>{d();const m=setInterval(d,3e4);return()=>clearInterval(m)},[]);const d=async()=>{const m=new Date().toISOString().split("T")[0],{data:y,error:b}=await Q.from("attendance").select("*").gte("check_in_time",`${m}T00:00:00`).lte("check_in_time",`${m}T23:59:59`).order("check_in_time",{ascending:!1});if(!b&&y){i(y);const w=y.length,S=y.filter(T=>T.check_out_time).length,E=w-S;l({totalCheckIns:w,currentlyPresent:E,totalCheckOuts:S})}},h=async m=>{u("");try{let y=m;m.includes("/nfc/")&&(y=m.split("/nfc/")[1]),await p(y,"qr")}catch{u(" Failed to process QR code")}finally{r(null)}},f=async()=>{if(!("NDEFReader"in window)){u(" NFC is not supported on this device");return}u(" Hold your NFC card near the device...");try{const m=new window.NDEFReader;await m.scan(),m.addEventListener("reading",async({message:y})=>{const b=new TextDecoder;let w="";for(const S of y.records)if(S.recordType==="text"){w=b.decode(S.data);break}w&&await p(w,"nfc")})}catch{u(" NFC scan failed. Please try again."),r(null)}},p=async(m,y)=>{const{data:b}=await Q.from("team_members").select("name, email").eq("id",m).single();if(!b){u(" Team member not found");return}const w=new Date().toISOString().split("T")[0],{data:S}=await Q.from("attendance").select("*").eq("team_member_id",m).gte("check_in_time",`${w}T00:00:00`).is("check_out_time",null).maybeSingle();let E;if(S){const T=new Date(S.check_in_time),M=new Date;E=Math.floor((M.getTime()-T.getTime())/6e4),await Q.from("attendance").update({check_out_time:M.toISOString(),duration_minutes:E}).eq("id",S.id),u(` ${b.name} checked out! Duration: ${g(E)}`)}else await Q.from("attendance").insert([{team_member_id:m,member_name:b.name,member_email:b.email,scan_method:y}]),u(` ${b.name} checked in successfully!`);await x(b.name,b.email,S?"checkout":"checkin",E?g(E):void 0),d(),setTimeout(()=>u(""),3e3)},x=async(m,y,b,w)=>{try{const S=b==="checkin"?"Attendance Check-in Confirmed":"Attendance Check-out Confirmed",E=b==="checkin"?`Hi ${m},

Your attendance has been recorded.

Check-in time: ${new Date().toLocaleTimeString()}

Thank you for your presence!

SAKEC ACM Team`:`Hi ${m},

Your check-out has been recorded.

Check-out time: ${new Date().toLocaleTimeString()}
Duration: ${w}

Thank you for your time today!

SAKEC ACM Team`;await fetch(`${vB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:y,subject:S,message:E,fromEmail:"admin@sakec.acm.org",fromName:"SAKEC ACM Admin"})})}catch(S){console.error("Email error:",S)}},g=m=>{const y=Math.floor(m/60),b=m%60;return`${y}h ${b}m`},v=m=>new Date(m).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-10",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Attendance System"}),o.jsx("p",{className:"text-gray-600",children:"Scan QR code or NFC card to mark attendance"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(mL,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Check-ins Today"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalCheckIns})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Currently Present"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.currentlyPresent})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:o.jsx(O0,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Check-outs Today"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalCheckOuts})]})]})})]}),!n&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsx("button",{onClick:()=>r("qr"),className:"bg-white rounded-xl p-8 border-2 border-gray-200 hover:border-blue-500 hover:shadow-lg transition-all group",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"p-4 bg-blue-100 rounded-full group-hover:bg-blue-200 transition-colors",children:o.jsx(ks,{className:"w-12 h-12 text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Scan QR Code"}),o.jsx("p",{className:"text-gray-600 text-center",children:"Use camera to scan QR code"})]})}),o.jsx("button",{onClick:()=>{r("nfc"),f()},className:"bg-white rounded-xl p-8 border-2 border-gray-200 hover:border-purple-500 hover:shadow-lg transition-all group",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"p-4 bg-purple-100 rounded-full group-hover:bg-purple-200 transition-colors",children:o.jsx(bN,{className:"w-12 h-12 text-purple-600"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Scan NFC Card"}),o.jsx("p",{className:"text-gray-600 text-center",children:"Tap your NFC card"})]})})]}),n==="qr"&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-lg mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Scan QR Code"}),o.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"})]}),o.jsx(Qv,{onScan:h})]}),c&&o.jsx("div",{className:`mb-8 p-4 rounded-lg border ${c.includes("")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:o.jsx("p",{className:"text-center font-semibold",children:c})}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(Wn,{className:"w-6 h-6 text-gray-900"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Today's Attendance"})]}),s.length===0?o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No attendance records for today"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Name"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Check-in"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Check-out"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Duration"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Method"}),o.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-900",children:"Status"})]})}),o.jsx("tbody",{children:s.map(m=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-3 px-4 text-sm text-gray-900 font-medium",children:m.member_name}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),v(m.check_in_time)]})}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:m.check_out_time?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),v(m.check_out_time)]}):o.jsx("span",{className:"text-gray-400",children:"-"})}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:m.duration_minutes?g(m.duration_minutes):o.jsx("span",{className:"text-gray-400",children:"-"})}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${m.scan_method==="qr"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:m.scan_method.toUpperCase()})}),o.jsx("td",{className:"py-3 px-4 text-center",children:m.check_out_time?o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:[o.jsx(O0,{className:"w-3 h-3"}),"Checked Out"]}):o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[o.jsx(ft,{className:"w-3 h-3"}),"Present"]})})]},m.id))})]})})]})]})})}const bB="https://sakec.acm.org/api";function _B(){const{isAuthenticated:t,loading:e}=fl(),n=lr(),[r,s]=_.useState(!1),[i,a]=_.useState(""),[l,c]=_.useState("success"),[u,d]=_.useState(!1),[h,f]=_.useState(""),[p,x]=_.useState(null);if(e)return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})});if(!t)return null;_.useEffect(()=>{g()},[]);const g=async()=>{const{data:{session:E}}=await Q.auth.getSession();if(E!=null&&E.user){const{data:T}=await Q.from("team_members").select("*").eq("email",E.user.email).single();T&&x(T)}},v=async()=>{if(!("NDEFReader"in window)){S("NFC is not supported on this device","error");return}s(!0),S(" Hold your NFC card near the device...","success");try{const E=new window.NDEFReader;await E.scan(),E.addEventListener("reading",async({message:T})=>{const M=new TextDecoder;let C="",N=!1;for(const j of T.records)if(j.recordType==="text"){const k=M.decode(j.data);k.startsWith("ADMIN:")?(N=!0,C=k.replace("ADMIN:","")):C=k;break}C&&(N?await m(C):n(`/nfc/${C}`)),s(!1)}),E.addEventListener("readingerror",()=>{S("Failed to read NFC card. Please try again.","error"),s(!1)})}catch{S("NFC scan failed. Please try again.","error"),s(!1)}},m=async E=>{try{const{data:T}=await Q.from("team_members").select("name, email").eq("id",E).single();if(!T){S("Team member not found","error");return}const M=new Date().toISOString().split("T")[0],{data:C}=await Q.from("attendance").select("*").eq("team_member_id",E).gte("check_in_time",`${M}T00:00:00`).is("check_out_time",null).maybeSingle();let N="",j="";if(C){const k=new Date(C.check_in_time),U=new Date,G=Math.floor((U.getTime()-k.getTime())/6e4);await Q.from("attendance").update({check_out_time:U.toISOString(),duration_minutes:G}).eq("id",C.id),N="checkout",j=w(G),S(` ${T.name} checked out! Duration: ${j}`,"success")}else await Q.from("attendance").insert([{team_member_id:E,member_name:T.name,member_email:T.email,scan_method:"nfc"}]),N="checkin",S(` ${T.name} checked in successfully!`,"success");await y(T.name,T.email,N,j)}catch(T){console.error("Attendance error:",T),S("Failed to record attendance","error")}},y=async(E,T,M,C)=>{try{const N=M==="checkin"?"Attendance Check-in Confirmed":"Attendance Check-out Confirmed",j=M==="checkin"?`Hi ${E},

Your attendance has been recorded.

Check-in time: ${new Date().toLocaleTimeString()}

Thank you for your presence!

SAKEC ACM Team`:`Hi ${E},

Your check-out has been recorded.

Check-out time: ${new Date().toLocaleTimeString()}
Duration: ${C}

Thank you for your time today!

SAKEC ACM Team`;await fetch(`${bB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:T,subject:N,message:j,fromEmail:"admin@sakec.acm.org",fromName:"SAKEC ACM Admin"})})}catch(N){console.error("Email error:",N)}},b=async()=>{if(!p){S("Please log in to generate QR code","error");return}try{const E=`ATTENDANCE:${p.id}`,T=await Pa.toDataURL(E,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});f(T),d(!0)}catch{S("Failed to generate QR code","error")}},w=E=>{const T=Math.floor(E/60),M=E%60;return`${T}h ${M}m`},S=(E,T)=>{a(E),c(T),setTimeout(()=>a(""),5e3)};return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-10",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"NFC Attendance"}),o.jsx("p",{className:"text-gray-600",children:"Tap your NFC card to record attendance"})]}),i&&o.jsx("div",{className:`mb-6 p-4 rounded-lg border ${l==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[l==="success"?o.jsx(An,{className:"w-5 h-5"}):o.jsx(Vr,{className:"w-5 h-5"}),o.jsx("p",{className:"font-semibold",children:i})]})}),o.jsx("div",{className:"bg-white rounded-xl p-8 border-2 border-gray-200 shadow-lg mb-6",children:o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsx("div",{className:`p-6 rounded-full ${r?"bg-blue-100 animate-pulse":"bg-blue-50"}`,children:o.jsx(bN,{className:"w-16 h-16 text-blue-600"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r?"Scanning...":"Ready to Scan"}),o.jsx("p",{className:"text-gray-600",children:r?"Hold your NFC card near the device":"Tap the button below to start scanning"})]}),o.jsx("button",{onClick:v,disabled:r,className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transition-all text-lg",children:r?"Scanning...":"Start NFC Scan"})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Forgot Your NFC Card?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Generate a QR code for admin to scan"}),u?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"inline-block p-4 bg-white border-2 border-gray-300 rounded-lg",children:o.jsx("img",{src:h,alt:"Attendance QR Code",className:"w-64 h-64"})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Show this QR code to an admin to record your attendance"}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-600 hover:text-gray-900 text-sm underline",children:"Hide QR Code"})]}):o.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all",children:[o.jsx(ks,{className:"w-5 h-5"}),"Generate QR Code"]})]})}),o.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"How it works:"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Admin NFC Card:"})," Records attendance automatically"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Member NFC Card:"})," Opens your profile page"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Forgot Card:"})," Generate QR code for admin to scan"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"Email:"})," You'll receive confirmation when attendance is recorded"]})]})]})]})]})})}const wB="https://sakec.acm.org/api";function SB(){const{isAuthenticated:t,loading:e}=fl(),[n,r]=_.useState(!1),[s,i]=_.useState(""),[a,l]=_.useState("success");if(e)return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})});if(!t)return null;const c=async p=>{try{if(!p.startsWith("ATTENDANCE:")){f("Invalid QR code. This is not an attendance QR code.","error");return}const x=p.replace("ATTENDANCE:","");await u(x)}catch{f("Failed to process QR code","error")}finally{r(!1)}},u=async p=>{try{const{data:x}=await Q.from("team_members").select("name, email").eq("id",p).single();if(!x){f("Team member not found","error");return}const g=new Date().toISOString().split("T")[0],{data:v}=await Q.from("attendance").select("*").eq("team_member_id",p).gte("check_in_time",`${g}T00:00:00`).is("check_out_time",null).maybeSingle();let m="",y="";if(v){const b=new Date(v.check_in_time),w=new Date,S=Math.floor((w.getTime()-b.getTime())/6e4);await Q.from("attendance").update({check_out_time:w.toISOString(),duration_minutes:S}).eq("id",v.id),m="checkout",y=h(S),f(` ${x.name} checked out! Duration: ${y}`,"success")}else await Q.from("attendance").insert([{team_member_id:p,member_name:x.name,member_email:x.email,scan_method:"qr"}]),m="checkin",f(` ${x.name} checked in successfully!`,"success");await d(x.name,x.email,m,y)}catch(x){console.error("Attendance error:",x),f("Failed to record attendance","error")}},d=async(p,x,g,v)=>{try{const m=g==="checkin"?"Attendance Check-in Confirmed":"Attendance Check-out Confirmed",y=g==="checkin"?`Hi ${p},

Your attendance has been recorded.

Check-in time: ${new Date().toLocaleTimeString()}

Thank you for your presence!

SAKEC ACM Team`:`Hi ${p},

Your check-out has been recorded.

Check-out time: ${new Date().toLocaleTimeString()}
Duration: ${v}

Thank you for your time today!

SAKEC ACM Team`;await fetch(`${wB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:x,subject:m,message:y,fromEmail:"admin@sakec.acm.org",fromName:"SAKEC ACM Admin"})})}catch(m){console.error("Email error:",m)}},h=p=>{const x=Math.floor(p/60),g=p%60;return`${x}h ${g}m`},f=(p,x)=>{i(p),l(x),setTimeout(()=>i(""),5e3)};return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-10",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(ks,{className:"w-8 h-8 text-purple-600"})})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Admin QR Scanner"}),o.jsx("p",{className:"text-gray-600",children:"Scan member QR codes to record attendance"})]}),s&&o.jsx("div",{className:`mb-6 p-4 rounded-lg border ${a==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"?o.jsx(An,{className:"w-5 h-5"}):o.jsx(Vr,{className:"w-5 h-5"}),o.jsx("p",{className:"font-semibold",children:s})]})}),n?o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Scanning QR Code"}),o.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"})]}),o.jsx(Qv,{onScan:c})]}):o.jsx("div",{className:"bg-white rounded-xl p-8 border-2 border-gray-200 shadow-lg",children:o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsx("div",{className:"p-6 bg-purple-50 rounded-full",children:o.jsx(ks,{className:"w-16 h-16 text-purple-600"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ready to Scan"}),o.jsx("p",{className:"text-gray-600",children:"Click below to start scanning member QR codes"})]}),o.jsx("button",{onClick:()=>r(!0),className:"px-8 py-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transition-all text-lg",children:"Start QR Scanner"})]})}),o.jsxs("div",{className:"mt-8 bg-purple-50 border border-purple-200 rounded-lg p-6",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Admin Instructions:"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"1."}),o.jsx("span",{children:'Click "Start QR Scanner" to activate the camera'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"2."}),o.jsx("span",{children:"Ask the member to show their QR code (from NFC Attendance page)"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"3."}),o.jsx("span",{children:"Position the QR code within the camera frame"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"4."}),o.jsx("span",{children:"Attendance will be recorded automatically"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"5."}),o.jsx("span",{children:"Member will receive email confirmation"})]})]})]})]})})}const EB="https://sakec.acm.org/api";function Wp({eventId:t,attendeeType:e}){const[n,r]=_.useState(!1),[s,i]=_.useState({sent:0,total:0}),[a,l]=_.useState({success:[],failed:[]}),[c,u]=_.useState(!1),[d,h]=_.useState(!1),[f,p]=_.useState([]),[x,g]=_.useState(""),[v,m]=_.useState(!1);_.useEffect(()=>{y()},[t,e]);const y=async()=>{let T=[];if(e==="participant"){const{data:M}=await Q.from("event_registrations").select("id, participant_name, participant_email").eq("event_id",t).not("participant_email","is",null);T=(M==null?void 0:M.map(C=>({id:C.id,name:C.participant_name,email:C.participant_email})))||[]}else if(e==="volunteer"){const{data:M}=await Q.from("event_volunteers").select("id, name, email").eq("event_id",t).not("email","is",null);T=M||[]}else if(e==="team"){const{data:M}=await Q.from("team_members").select("id, name, email, status").not("email","is",null).order("name");T=(M==null?void 0:M.filter(C=>!C.status||C.status==="active"))||[]}p(T)},b=async()=>{if(!confirm(`Send QR codes to all ${e}s?`))return;r(!0),u(!1),l({success:[],failed:[]}),i({sent:0,total:f.length});const T=[],M=[];for(const C of f){try{await S(C.id,C.name,C.email),T.push(C.name)}catch{M.push(C.name)}i(N=>({...N,sent:N.sent+1})),await new Promise(N=>setTimeout(N,500))}l({success:T,failed:M}),u(!0),r(!1)},w=async()=>{if(!x){alert("Please select an attendee");return}const T=f.find(M=>M.id===x);if(T){m(!0);try{await S(T.id,T.name,T.email),alert(` QR code sent to ${T.name} successfully!`),g(""),h(!1)}catch{alert(` Failed to send QR code to ${T.name}`)}finally{m(!1)}}},S=async(T,M,C)=>{const N=`EVENT_ATTENDANCE:${t}:${e}:${T}`,j=await Pa.toDataURL(N,{width:250,margin:1,color:{dark:"#000000",light:"#FFFFFF"}}),k="Your Event Attendance QR Code",U=`
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset='UTF-8'>
        <style>
            body { font-family: Arial, sans-serif; line-height: 1.6; color: #000; margin: 0; padding: 0; }
            .container { max-width: 600px; margin: 40px auto; background: white; border: 1px solid #ddd; }
            .header { background: #000; color: white; padding: 30px; text-align: center; }
            .content { padding: 40px; }
            .qr-container { text-align: center; margin: 30px 0; padding: 30px; background: #f9f9f9; border: 2px solid #000; }
            .qr-container img { max-width: 300px; width: 100%; }
        </style>
    </head>
    <body>
        <div class='container'>
            <div class='header'>
                <h1>Event Attendance QR Code</h1>
            </div>
            <div class='content'>
                <p>Hi ${M},</p>
                <p>Here is your attendance QR code for the event. Show this to the admin for attendance marking.</p>
                <div class='qr-container'>
                    <h2>Your QR Code</h2>
                    <img src='${j}' alt='Attendance QR Code' />
                </div>
                <p><strong>Important:</strong> This QR code is unique to you. Do not share it.</p>
            </div>
        </div>
    </body>
    </html>
    `,O=await(await fetch(`${EB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:C,subject:k,message:U,fromEmail:"admin@sakec.acm.org",fromName:"SAKEC ACM Admin"})})).json();if(!O.success)throw new Error(O.message)},E=()=>e==="participant"?"Event Participants":e==="volunteer"?"Event Volunteers":"Team Members";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cn,{className:"w-6 h-6 text-blue-600"}),o.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Send QR Codes - ",E()]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:o.jsxs("p",{className:"text-gray-700 text-sm",children:["Send attendance QR codes to ",e,"s. They can show these codes to admins for attendance marking."]})}),!n&&!c&&o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("button",{onClick:b,disabled:f.length===0,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(Ds,{className:"w-5 h-5"}),"Send to All (",f.length,")"]}),o.jsxs("button",{onClick:()=>h(!d),disabled:f.length===0,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(cn,{className:"w-5 h-5"}),"Send to Individual"]})]}),d&&!n&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border-2 border-purple-500 shadow-lg",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Send to Individual"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("select",{value:x,onChange:T=>g(T.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-purple-500 outline-none",children:[o.jsx("option",{value:"",children:"Choose..."}),f.map(T=>o.jsxs("option",{value:T.id,children:[T.name," (",T.email,")"]},T.id))]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:w,disabled:!x||v,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(Ds,{className:"w-5 h-5"}),v?"Sending...":"Send QR Code"]}),o.jsx("button",{onClick:()=>{h(!1),g("")},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors",children:"Cancel"})]})]})]}),n&&o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:"Sending QR Codes..."}),o.jsxs("p",{className:"text-sm text-gray-600",children:[s.sent," of ",s.total," sent"]})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.sent/s.total*100}%`}})})]}),c&&o.jsxs("div",{className:"space-y-4",children:[a.success.length>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(An,{className:"w-6 h-6 text-green-600"}),o.jsxs("h3",{className:"font-bold text-gray-900",children:["Successfully Sent (",a.success.length,")"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:a.success.map((T,M)=>o.jsxs("div",{className:"text-sm text-gray-700 bg-white px-3 py-2 rounded border border-green-200",children:[" ",T]},M))})]}),a.failed.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Vr,{className:"w-6 h-6 text-red-600"}),o.jsxs("h3",{className:"font-bold text-gray-900",children:["Failed to Send (",a.failed.length,")"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:a.failed.map((T,M)=>o.jsxs("div",{className:"text-sm text-gray-700 bg-white px-3 py-2 rounded border border-red-200",children:[" ",T]},M))})]}),o.jsx("button",{onClick:()=>u(!1),className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors",children:"Send Again"})]})]})}function $p({eventId:t,attendeeType:e}){const[n,r]=_.useState([]),[s,i]=_.useState(!0),[a,l]=_.useState({totalCheckIns:0,currentlyPresent:0,avgDuration:0});_.useEffect(()=>{c();const p=setInterval(c,3e4);return()=>clearInterval(p)},[t,e]);const c=async()=>{i(!0);const{data:p,error:x}=await Q.from("event_attendance").select("*").eq("event_id",t).eq("attendee_type",e).order("check_in_time",{ascending:!1});if(!x&&p){r(p);const g=p.length,v=p.filter(b=>!b.check_out_time).length,m=p.filter(b=>b.duration_minutes),y=m.length>0?Math.round(m.reduce((b,w)=>b+(w.duration_minutes||0),0)/m.length):0;l({totalCheckIns:g,currentlyPresent:v,avgDuration:y})}i(!1)},u=()=>{const p=["Name","Email","Check-in","Check-out","Duration (min)","Method"],x=n.map(b=>[b.attendee_name,b.attendee_email||"N/A",new Date(b.check_in_time).toLocaleString(),b.check_out_time?new Date(b.check_out_time).toLocaleString():"Still Present",b.duration_minutes||"N/A",b.scan_method]),g=[p,...x].map(b=>b.join(",")).join(`
`),v=new Blob([g],{type:"text/csv"}),m=URL.createObjectURL(v),y=document.createElement("a");y.href=m,y.download=`${e}-attendance-${t}.csv`,y.click()},d=p=>{const x=Math.floor(p/60),g=p%60;return`${x}h ${g}m`},h=p=>new Date(p).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),f=()=>e==="participant"?"Participant Attendance":e==="volunteer"?"Volunteer Attendance":"Team Attendance";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ft,{className:"w-6 h-6 text-gray-900"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f()})]}),n.length>0&&o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm transition-colors",children:[o.jsx(jv,{className:"w-4 h-4"}),"Export CSV"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Check-ins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalCheckIns})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Currently Present"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.currentlyPresent})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(Vn,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Avg Duration"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.avgDuration>0?d(a.avgDuration):"N/A"})]})]})})]}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:s?o.jsx("p",{className:"text-center text-gray-500 py-8",children:"Loading..."}):n.length===0?o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No attendance records yet"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Name"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Check-in"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Check-out"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Duration"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-900",children:"Method"}),o.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-900",children:"Status"})]})}),o.jsx("tbody",{children:n.map(p=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-3 px-4 text-sm text-gray-900 font-medium",children:p.attendee_name}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:p.attendee_email||"-"}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),h(p.check_in_time)]})}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:p.check_out_time?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),h(p.check_out_time)]}):o.jsx("span",{className:"text-gray-400",children:"-"})}),o.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:p.duration_minutes?d(p.duration_minutes):"-"}),o.jsx("td",{className:"py-3 px-4 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.scan_method==="qr"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:p.scan_method.toUpperCase()})}),o.jsx("td",{className:"py-3 px-4 text-center",children:p.check_out_time?o.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:"Checked Out"}):o.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Present"})})]},p.id))})]})})})]})}function NB(){const{isAuthenticated:t,loading:e}=fl(),{eventId:n}=il(),r=lr(),[s,i]=_.useState(null),[a,l]=_.useState(!0);if(e)return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})});if(!t)return null;const[c,u]=_.useState("overview"),[d,h]=_.useState({participants:0,volunteers:0,team:0,totalPresent:0});_.useEffect(()=>{n&&(async()=>(l(!0),await Promise.all([f(),p()]),l(!1)))()},[n]);const f=async()=>{const{data:x,error:g}=await Q.from("events").select("*").eq("id",n).single();!g&&x&&i(x)},p=async()=>{const[{count:x},{count:g},{count:v},{count:m}]=await Promise.all([Q.from("event_registrations").select("*",{count:"exact",head:!0}).eq("event_id",n),Q.from("event_volunteers").select("*",{count:"exact",head:!0}).eq("event_id",n),Q.from("event_attendance").select("*",{count:"exact",head:!0}).eq("event_id",n).eq("attendee_type","team"),Q.from("event_attendance").select("*",{count:"exact",head:!0}).eq("event_id",n).is("check_out_time",null)]);h({participants:x||0,volunteers:g||0,team:v||0,totalPresent:m||0})};return a?o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading event..."})}):s?o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-10",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>r("/admin/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(cf,{className:"w-4 h-4"}),"Back to Dashboard"]}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.title}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-4 h-4"}),new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),s.time&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vn,{className:"w-4 h-4"}),s.time]})]})]}),o.jsxs("button",{onClick:()=>r(`/admin/event/${n}/scanner`),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all",children:[o.jsx(ks,{className:"w-5 h-5"}),"Open QR Scanner"]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Participants"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.participants})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(SL,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Volunteers"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.volunteers})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Team Members"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.team})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(ft,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Currently Present"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.totalPresent})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm mb-8",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("div",{className:"flex overflow-x-auto",children:[o.jsx("button",{onClick:()=>u("overview"),className:`px-6 py-4 font-semibold border-b-2 transition-colors ${c==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Overview"}),o.jsxs("button",{onClick:()=>u("participants"),className:`px-6 py-4 font-semibold border-b-2 transition-colors ${c==="participants"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Participants (",d.participants,")"]}),o.jsxs("button",{onClick:()=>u("volunteers"),className:`px-6 py-4 font-semibold border-b-2 transition-colors ${c==="volunteers"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Volunteers (",d.volunteers,")"]}),o.jsxs("button",{onClick:()=>u("team"),className:`px-6 py-4 font-semibold border-b-2 transition-colors ${c==="team"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Team (",d.team,")"]})]})}),o.jsxs("div",{className:"p-6",children:[c==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Event Overview"}),o.jsx("p",{className:"text-gray-700",children:s.description}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>u("participants"),className:"w-full text-left px-4 py-2 bg-white hover:bg-gray-100 rounded-lg transition-colors",children:"Manage Participant Attendance"}),o.jsx("button",{onClick:()=>u("volunteers"),className:"w-full text-left px-4 py-2 bg-white hover:bg-gray-100 rounded-lg transition-colors",children:"Manage Volunteer Attendance"}),o.jsx("button",{onClick:()=>u("team"),className:"w-full text-left px-4 py-2 bg-white hover:bg-gray-100 rounded-lg transition-colors",children:"Manage Team Attendance"})]})]})})]}),c==="participants"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(Wp,{eventId:n,attendeeType:"participant"}),o.jsx($p,{eventId:n,attendeeType:"participant"})]}),c==="volunteers"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(Wp,{eventId:n,attendeeType:"volunteer"}),o.jsx($p,{eventId:n,attendeeType:"volunteer"})]}),c==="team"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(Wp,{eventId:n,attendeeType:"team"}),o.jsx($p,{eventId:n,attendeeType:"team"})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl text-gray-900 mb-4",children:"Event not found"}),o.jsx("button",{onClick:()=>r("/admin/dashboard"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Back to Dashboard"})]})})}const CB="https://sakec.acm.org/api";function TB(){const{isAuthenticated:t,loading:e}=fl(),{eventId:n}=il(),r=lr(),[s,i]=_.useState(null),[a,l]=_.useState(!1),[c,u]=_.useState(""),[d,h]=_.useState("success"),[f,p]=_.useState(!0);if(e)return o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})});if(!t)return null;_.useEffect(()=>{n&&x()},[n]);const x=async()=>{const{data:w,error:S}=await Q.from("events").select("id, title, date").eq("id",n).single();!S&&w&&i(w),p(!1)},g=async w=>{try{if(!w.startsWith("EVENT_ATTENDANCE:")){b("Invalid QR code. This is not an event attendance QR code.","error");return}const S=w.split(":");if(S.length!==4){b("Invalid QR code format","error");return}const[,E,T,M]=S;if(E!==n){b("This QR code is for a different event","error");return}await v(T,M)}catch{b("Failed to process QR code","error")}finally{l(!1)}},v=async(w,S)=>{try{let E="",T="";if(w==="participant"){const{data:j}=await Q.from("event_registrations").select("participant_name, participant_email").eq("id",S).single();if(!j){b("Participant not found","error");return}E=j.participant_name,T=j.participant_email}else if(w==="volunteer"){const{data:j}=await Q.from("event_volunteers").select("name, email").eq("id",S).single();if(!j){b("Volunteer not found","error");return}E=j.name,T=j.email}else if(w==="team"){const{data:j}=await Q.from("team_members").select("name, email").eq("id",S).single();if(!j){b("Team member not found","error");return}E=j.name,T=j.email}const{data:M}=await Q.from("event_attendance").select("*").eq("event_id",n).eq("attendee_id",S).is("check_out_time",null).maybeSingle();let C="",N="";if(M){const j=new Date(M.check_in_time),k=new Date,U=Math.floor((k.getTime()-j.getTime())/6e4);await Q.from("event_attendance").update({check_out_time:k.toISOString(),duration_minutes:U}).eq("id",M.id),C="checkout",N=y(U),b(` ${E} checked out! Duration: ${N}`,"success")}else await Q.from("event_attendance").insert([{event_id:n,attendee_type:w,attendee_id:S,attendee_name:E,attendee_email:T,scan_method:"qr"}]),C="checkin",b(` ${E} checked in successfully!`,"success");T&&await m(E,T,C,N)}catch(E){console.error("Attendance error:",E),b("Failed to record attendance","error")}},m=async(w,S,E,T)=>{try{const M=E==="checkin"?`Event Check-in Confirmed - ${s==null?void 0:s.title}`:`Event Check-out Confirmed - ${s==null?void 0:s.title}`,C=E==="checkin"?`Hi ${w},

Your attendance has been recorded for ${s==null?void 0:s.title}.

Check-in time: ${new Date().toLocaleTimeString()}

Thank you for attending!

SAKEC ACM Team`:`Hi ${w},

Your check-out has been recorded for ${s==null?void 0:s.title}.

Check-out time: ${new Date().toLocaleTimeString()}
Duration: ${T}

Thank you for your participation!

SAKEC ACM Team`;await fetch(`${CB}/send-email-clean.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:S,subject:M,message:C,fromEmail:"admin@sakec.acm.org",fromName:"SAKEC ACM Admin"})})}catch(M){console.error("Email error:",M)}},y=w=>{const S=Math.floor(w/60),E=w%60;return`${S}h ${E}m`},b=(w,S)=>{u(w),h(S),setTimeout(()=>u(""),5e3)};return f?o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})}):s?o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-10",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>r(`/admin/events/${n}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(cf,{className:"w-4 h-4"}),"Back to Event Management"]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(ks,{className:"w-8 h-8 text-purple-600"})})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Event QR Scanner"}),o.jsx("p",{className:"text-gray-600",children:s.title}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),c&&o.jsx("div",{className:`mb-6 p-4 rounded-lg border ${d==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[d==="success"?o.jsx(An,{className:"w-5 h-5"}):o.jsx(Vr,{className:"w-5 h-5"}),o.jsx("p",{className:"font-semibold",children:c})]})}),a?o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Scanning QR Code"}),o.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"})]}),o.jsx(Qv,{onScan:g})]}):o.jsx("div",{className:"bg-white rounded-xl p-8 border-2 border-gray-200 shadow-lg",children:o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsx("div",{className:"p-6 bg-purple-50 rounded-full",children:o.jsx(ks,{className:"w-16 h-16 text-purple-600"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ready to Scan"}),o.jsx("p",{className:"text-gray-600",children:"Click below to start scanning attendee QR codes"})]}),o.jsx("button",{onClick:()=>l(!0),className:"px-8 py-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg shadow-lg hover:shadow-xl transition-all text-lg",children:"Start QR Scanner"})]})}),o.jsxs("div",{className:"mt-8 bg-purple-50 border border-purple-200 rounded-lg p-6",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Scanner Instructions:"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"1."}),o.jsx("span",{children:'Click "Start QR Scanner" to activate the camera'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"2."}),o.jsx("span",{children:"Ask the attendee to show their event QR code"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"3."}),o.jsx("span",{children:"Position the QR code within the camera frame"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"4."}),o.jsx("span",{children:"Attendance will be recorded automatically"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-purple-600 font-bold",children:"5."}),o.jsx("span",{children:"Attendee will receive email confirmation"})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl text-gray-900 mb-4",children:"Event not found"}),o.jsx("button",{onClick:()=>r("/admin/dashboard"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Back to Dashboard"})]})})}function MB(){const{isAuthenticated:t,loading:e}=fl(),[n,r]=_.useState([]),[s,i]=_.useState(!0),[a,l]=_.useState(null),[c,u]=_.useState(""),d=window.location.origin;_.useEffect(()=>{t&&h()},[t]);const h=async()=>{i(!0);const{data:x,error:g}=await Q.from("team_members").select("id, name, position, email, year, status").order("name");!g&&x&&r(x),i(!1)},f=async x=>{const g=`${d}/nfc/${x}`;try{await navigator.clipboard.writeText(g),l(x),setTimeout(()=>l(null),2e3)}catch{alert("Failed to copy link")}},p=n.filter(x=>{var g;return x.name.toLowerCase().includes(c.toLowerCase())||x.position.toLowerCase().includes(c.toLowerCase())||((g=x.email)==null?void 0:g.toLowerCase().includes(c.toLowerCase()))});return e?o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 flex items-center justify-center",children:o.jsx("div",{className:"text-xl text-gray-900",children:"Loading..."})}):t?o.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-10",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(lw,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"NFC Links Manager"}),o.jsx("p",{className:"text-gray-600 mt-1",children:"View and copy NFC profile links for all team members"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(U0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search by name, position, or email...",value:c,onChange:x=>u(x.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(lw,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(An,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Active Members"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(x=>!x.status||x.status==="active").length})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(U0,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.length})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Team Members NFC Links"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Click copy button to copy the NFC profile link for each member"})]}),s?o.jsx("div",{className:"p-12 text-center text-gray-500",children:"Loading members..."}):p.length===0?o.jsx("div",{className:"p-12 text-center text-gray-500",children:c?"No members found matching your search":"No members found"}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.jsx("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-900",children:"Name"}),o.jsx("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-900",children:"Position"}),o.jsx("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-900",children:"Year"}),o.jsx("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-900",children:"Status"}),o.jsx("th",{className:"text-left py-4 px-6 text-sm font-semibold text-gray-900",children:"NFC Link"}),o.jsx("th",{className:"text-center py-4 px-6 text-sm font-semibold text-gray-900",children:"Actions"})]})}),o.jsx("tbody",{children:p.map(x=>{const g=`${d}/nfc/${x.id}`;return o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-4 px-6 text-sm font-medium text-gray-900",children:x.name}),o.jsx("td",{className:"py-4 px-6 text-sm text-gray-600",children:x.position}),o.jsx("td",{className:"py-4 px-6 text-sm text-gray-600",children:x.year||"-"}),o.jsx("td",{className:"py-4 px-6 text-sm",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${!x.status||x.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:x.status||"active"})}),o.jsx("td",{className:"py-4 px-6 text-sm",children:o.jsxs("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded text-gray-700",children:["/nfc/",x.id.substring(0,8),"..."]})}),o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>f(x.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${a===x.id?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,title:"Copy NFC link",children:a===x.id?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-4 h-4"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(lL,{className:"w-4 h-4"}),"Copy Link"]})}),o.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",title:"Open in new tab",children:o.jsx(cL,{className:"w-4 h-4"})})]})})]},x.id)})})]})})]}),o.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"How to Use NFC Links:"}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),o.jsx("span",{children:'Click "Copy Link" to copy the NFC profile URL for any member'})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),o.jsx("span",{children:"Use the link to program NFC cards or share member profiles"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),o.jsx("span",{children:"Click the external link icon to preview the member's NFC profile page"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),o.jsx("span",{children:"Use the search bar to quickly find specific members"})]})]})]})]})}):null}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Zv="181",AB=0,f1=1,jB=2,kT=1,RB=2,ps=3,Ni=0,Hn=1,vs=2,Cs=0,ko=1,p1=2,m1=3,g1=4,PB=5,sa=100,kB=101,DB=102,LB=103,IB=104,OB=200,UB=201,FB=202,BB=203,ig=204,ag=205,zB=206,VB=207,HB=208,GB=209,WB=210,$B=211,qB=212,XB=213,KB=214,og=0,lg=1,cg=2,Yo=3,ug=4,dg=5,hg=6,fg=7,DT=0,YB=1,JB=2,_i=0,QB=1,ZB=2,e7=3,t7=4,n7=5,r7=6,s7=7,LT=300,Jo=301,Qo=302,pg=303,mg=304,Ef=306,gg=1e3,_s=1001,xg=1002,rr=1003,i7=1004,Qu=1005,br=1006,qp=1007,ha=1008,Ls=1009,IT=1010,OT=1011,Bc=1012,ey=1013,Ea=1014,ws=1015,pl=1016,ty=1017,ny=1018,zc=1020,UT=35902,FT=35899,BT=1021,zT=1022,Or=1023,Vc=1026,Hc=1027,VT=1028,ry=1029,sy=1030,iy=1031,ay=1033,Bd=33776,zd=33777,Vd=33778,Hd=33779,vg=35840,yg=35841,bg=35842,_g=35843,wg=36196,Sg=37492,Eg=37496,Ng=37808,Cg=37809,Tg=37810,Mg=37811,Ag=37812,jg=37813,Rg=37814,Pg=37815,kg=37816,Dg=37817,Lg=37818,Ig=37819,Og=37820,Ug=37821,Fg=36492,Bg=36494,zg=36495,Vg=36283,Hg=36284,Gg=36285,Wg=36286,a7=3200,o7=3201,l7=0,c7=1,ii="",pr="srgb",Zo="srgb-linear",kh="linear",ht="srgb",Ga=7680,x1=519,u7=512,d7=513,h7=514,HT=515,f7=516,p7=517,m7=518,g7=519,v1=35044,y1="300 es",Yr=2e3,Dh=2001;function GT(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Lh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function x7(){const t=Lh("canvas");return t.style.display="block",t}const b1={};function _1(...t){const e="THREE."+t.shift();console.log(e,...t)}function Ge(...t){const e="THREE."+t.shift();console.warn(e,...t)}function Ht(...t){const e="THREE."+t.shift();console.error(e,...t)}function Gc(...t){const e=t.join(" ");e in b1||(b1[e]=!0,Ge(...t))}function v7(t,e,n){return new Promise(function(r,s){function i(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(i,n);break;default:r()}}setTimeout(i,n)})}class ml{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const s=r[e];if(s!==void 0){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let i=0,a=s.length;i<a;i++)s[i].call(this,e);e.target=null}}}const gn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Xp=Math.PI/180,$g=180/Math.PI;function su(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(gn[t&255]+gn[t>>8&255]+gn[t>>16&255]+gn[t>>24&255]+"-"+gn[e&255]+gn[e>>8&255]+"-"+gn[e>>16&15|64]+gn[e>>24&255]+"-"+gn[n&63|128]+gn[n>>8&255]+"-"+gn[n>>16&255]+gn[n>>24&255]+gn[r&255]+gn[r>>8&255]+gn[r>>16&255]+gn[r>>24&255]).toLowerCase()}function nt(t,e,n){return Math.max(e,Math.min(n,t))}function y7(t,e){return(t%e+e)%e}function Kp(t,e,n){return(1-n)*t+n*e}function Rl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ln(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class pt{constructor(e=0,n=0){pt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6],this.y=s[1]*n+s[4]*r+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=nt(this.x,e.x,n.x),this.y=nt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=nt(this.x,e,n),this.y=nt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(nt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(nt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),s=Math.sin(n),i=this.x-e.x,a=this.y-e.y;return this.x=i*r-a*s+e.x,this.y=i*s+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class iu{constructor(e=0,n=0,r=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=s}static slerpFlat(e,n,r,s,i,a,l){let c=r[s+0],u=r[s+1],d=r[s+2],h=r[s+3],f=i[a+0],p=i[a+1],x=i[a+2],g=i[a+3];if(l<=0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h;return}if(l>=1){e[n+0]=f,e[n+1]=p,e[n+2]=x,e[n+3]=g;return}if(h!==g||c!==f||u!==p||d!==x){let v=c*f+u*p+d*x+h*g;v<0&&(f=-f,p=-p,x=-x,g=-g,v=-v);let m=1-l;if(v<.9995){const y=Math.acos(v),b=Math.sin(y);m=Math.sin(m*y)/b,l=Math.sin(l*y)/b,c=c*m+f*l,u=u*m+p*l,d=d*m+x*l,h=h*m+g*l}else{c=c*m+f*l,u=u*m+p*l,d=d*m+x*l,h=h*m+g*l;const y=1/Math.sqrt(c*c+u*u+d*d+h*h);c*=y,u*=y,d*=y,h*=y}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,s,i,a){const l=r[s],c=r[s+1],u=r[s+2],d=r[s+3],h=i[a],f=i[a+1],p=i[a+2],x=i[a+3];return e[n]=l*x+d*h+c*p-u*f,e[n+1]=c*x+d*f+u*h-l*p,e[n+2]=u*x+d*p+l*f-c*h,e[n+3]=d*x-l*h-c*f-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,s){return this._x=e,this._y=n,this._z=r,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,s=e._y,i=e._z,a=e._order,l=Math.cos,c=Math.sin,u=l(r/2),d=l(s/2),h=l(i/2),f=c(r/2),p=c(s/2),x=c(i/2);switch(a){case"XYZ":this._x=f*d*h+u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h-f*p*x;break;case"YXZ":this._x=f*d*h+u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h+f*p*x;break;case"ZXY":this._x=f*d*h-u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h-f*p*x;break;case"ZYX":this._x=f*d*h-u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h+f*p*x;break;case"YZX":this._x=f*d*h+u*p*x,this._y=u*p*h+f*d*x,this._z=u*d*x-f*p*h,this._w=u*d*h-f*p*x;break;case"XZY":this._x=f*d*h-u*p*x,this._y=u*p*h-f*d*x,this._z=u*d*x+f*p*h,this._w=u*d*h+f*p*x;break;default:Ge("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,s=Math.sin(r);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],s=n[4],i=n[8],a=n[1],l=n[5],c=n[9],u=n[2],d=n[6],h=n[10],f=r+l+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(d-c)*p,this._y=(i-u)*p,this._z=(a-s)*p}else if(r>l&&r>h){const p=2*Math.sqrt(1+r-l-h);this._w=(d-c)/p,this._x=.25*p,this._y=(s+a)/p,this._z=(i+u)/p}else if(l>h){const p=2*Math.sqrt(1+l-r-h);this._w=(i-u)/p,this._x=(s+a)/p,this._y=.25*p,this._z=(c+d)/p}else{const p=2*Math.sqrt(1+h-r-l);this._w=(a-s)/p,this._x=(i+u)/p,this._y=(c+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(nt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const s=Math.min(1,n/r);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,s=e._y,i=e._z,a=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+a*l+s*u-i*c,this._y=s*d+a*c+i*l-r*u,this._z=i*d+a*u+r*c-s*l,this._w=a*d-r*l-s*c-i*u,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,s=e._y,i=e._z,a=e._w,l=this.dot(e);l<0&&(r=-r,s=-s,i=-i,a=-a,l=-l);let c=1-n;if(l<.9995){const u=Math.acos(l),d=Math.sin(u);c=Math.sin(c*u)/d,n=Math.sin(n*u)/d,this._x=this._x*c+r*n,this._y=this._y*c+s*n,this._z=this._z*c+i*n,this._w=this._w*c+a*n,this._onChangeCallback()}else this._x=this._x*c+r*n,this._y=this._y*c+s*n,this._z=this._z*c+i*n,this._w=this._w*c+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),s=Math.sqrt(1-r),i=Math.sqrt(r);return this.set(s*Math.sin(e),s*Math.cos(e),i*Math.sin(n),i*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,n=0,r=0){K.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(w1.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(w1.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,s=this.z,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6]*s,this.y=i[1]*n+i[4]*r+i[7]*s,this.z=i[2]*n+i[5]*r+i[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,i=e.elements,a=1/(i[3]*n+i[7]*r+i[11]*s+i[15]);return this.x=(i[0]*n+i[4]*r+i[8]*s+i[12])*a,this.y=(i[1]*n+i[5]*r+i[9]*s+i[13])*a,this.z=(i[2]*n+i[6]*r+i[10]*s+i[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,s=this.z,i=e.x,a=e.y,l=e.z,c=e.w,u=2*(a*s-l*r),d=2*(l*n-i*s),h=2*(i*r-a*n);return this.x=n+c*u+a*h-l*d,this.y=r+c*d+l*u-i*h,this.z=s+c*h+i*d-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,s=this.z,i=e.elements;return this.x=i[0]*n+i[4]*r+i[8]*s,this.y=i[1]*n+i[5]*r+i[9]*s,this.z=i[2]*n+i[6]*r+i[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=nt(this.x,e.x,n.x),this.y=nt(this.y,e.y,n.y),this.z=nt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=nt(this.x,e,n),this.y=nt(this.y,e,n),this.z=nt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(nt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,s=e.y,i=e.z,a=n.x,l=n.y,c=n.z;return this.x=s*c-i*l,this.y=i*a-r*c,this.z=r*l-s*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Yp.copy(this).projectOnVector(e),this.sub(Yp)}reflect(e){return this.sub(Yp.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(nt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,s=this.z-e.z;return n*n+r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const s=Math.sin(n)*e;return this.x=s*Math.sin(r),this.y=Math.cos(n)*e,this.z=s*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Yp=new K,w1=new iu;class Xe{constructor(e,n,r,s,i,a,l,c,u){Xe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,s,i,a,l,c,u)}set(e,n,r,s,i,a,l,c,u){const d=this.elements;return d[0]=e,d[1]=s,d[2]=l,d[3]=n,d[4]=i,d[5]=c,d[6]=r,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,i=this.elements,a=r[0],l=r[3],c=r[6],u=r[1],d=r[4],h=r[7],f=r[2],p=r[5],x=r[8],g=s[0],v=s[3],m=s[6],y=s[1],b=s[4],w=s[7],S=s[2],E=s[5],T=s[8];return i[0]=a*g+l*y+c*S,i[3]=a*v+l*b+c*E,i[6]=a*m+l*w+c*T,i[1]=u*g+d*y+h*S,i[4]=u*v+d*b+h*E,i[7]=u*m+d*w+h*T,i[2]=f*g+p*y+x*S,i[5]=f*v+p*b+x*E,i[8]=f*m+p*w+x*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*a*d-n*l*u-r*i*d+r*l*c+s*i*u-s*a*c}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=d*a-l*u,f=l*c-d*i,p=u*i-a*c,x=n*h+r*f+s*p;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/x;return e[0]=h*g,e[1]=(s*u-d*r)*g,e[2]=(l*r-s*a)*g,e[3]=f*g,e[4]=(d*n-s*c)*g,e[5]=(s*i-l*n)*g,e[6]=p*g,e[7]=(r*c-u*n)*g,e[8]=(a*n-r*i)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,s,i,a,l){const c=Math.cos(i),u=Math.sin(i);return this.set(r*c,r*u,-r*(c*a+u*l)+a+e,-s*u,s*c,-s*(-u*a+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(Jp.makeScale(e,n)),this}rotate(e){return this.premultiply(Jp.makeRotation(-e)),this}translate(e,n){return this.premultiply(Jp.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<9;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Jp=new Xe,S1=new Xe().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),E1=new Xe().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function b7(){const t={enabled:!0,workingColorSpace:Zo,spaces:{},convert:function(s,i,a){return this.enabled===!1||i===a||!i||!a||(this.spaces[i].transfer===ht&&(s.r=Ts(s.r),s.g=Ts(s.g),s.b=Ts(s.b)),this.spaces[i].primaries!==this.spaces[a].primaries&&(s.applyMatrix3(this.spaces[i].toXYZ),s.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===ht&&(s.r=Do(s.r),s.g=Do(s.g),s.b=Do(s.b))),s},workingToColorSpace:function(s,i){return this.convert(s,this.workingColorSpace,i)},colorSpaceToWorking:function(s,i){return this.convert(s,i,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===ii?kh:this.spaces[s].transfer},getToneMappingMode:function(s){return this.spaces[s].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(s,i=this.workingColorSpace){return s.fromArray(this.spaces[i].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,i,a){return s.copy(this.spaces[i].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,i){return Gc("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(s,i)},toWorkingColorSpace:function(s,i){return Gc("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(s,i)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Zo]:{primaries:e,whitePoint:r,transfer:kh,toXYZ:S1,fromXYZ:E1,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:pr},outputColorSpaceConfig:{drawingBufferColorSpace:pr}},[pr]:{primaries:e,whitePoint:r,transfer:ht,toXYZ:S1,fromXYZ:E1,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:pr}}}),t}const at=b7();function Ts(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Do(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Wa;class _7{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Wa===void 0&&(Wa=Lh("canvas")),Wa.width=e.width,Wa.height=e.height;const s=Wa.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),r=Wa}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Lh("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),i=s.data;for(let a=0;a<i.length;a++)i[a]=Ts(i[a]/255)*255;return r.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ts(n[r]/255)*255):n[r]=Ts(n[r]);return{data:n,width:e.width,height:e.height}}else return Ge("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let w7=0;class oy{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:w7++}),this.uuid=su(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},s=this.data;if(s!==null){let i;if(Array.isArray(s)){i=[];for(let a=0,l=s.length;a<l;a++)s[a].isDataTexture?i.push(Qp(s[a].image)):i.push(Qp(s[a]))}else i=Qp(s);r.url=i}return n||(e.images[this.uuid]=r),r}}function Qp(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?_7.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Ge("Texture: Unable to serialize Texture."),{})}let S7=0;const Zp=new K;class bn extends ml{constructor(e=bn.DEFAULT_IMAGE,n=bn.DEFAULT_MAPPING,r=_s,s=_s,i=br,a=ha,l=Or,c=Ls,u=bn.DEFAULT_ANISOTROPY,d=ii){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:S7++}),this.uuid=su(),this.name="",this.source=new oy(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=i,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new pt(0,0),this.repeat=new pt(1,1),this.center=new pt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Zp).x}get height(){return this.source.getSize(Zp).y}get depth(){return this.source.getSize(Zp).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Ge(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){Ge(`Texture.setValues(): property '${n}' does not exist.`);continue}s&&r&&s.isVector2&&r.isVector2||s&&r&&s.isVector3&&r.isVector3||s&&r&&s.isMatrix3&&r.isMatrix3?s.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LT)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case gg:e.x=e.x-Math.floor(e.x);break;case _s:e.x=e.x<0?0:1;break;case xg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case gg:e.y=e.y-Math.floor(e.y);break;case _s:e.y=e.y<0?0:1;break;case xg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}bn.DEFAULT_IMAGE=null;bn.DEFAULT_MAPPING=LT;bn.DEFAULT_ANISOTROPY=1;class Gt{constructor(e=0,n=0,r=0,s=1){Gt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,s){return this.x=e,this.y=n,this.z=r,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,i=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*s+a[12]*i,this.y=a[1]*n+a[5]*r+a[9]*s+a[13]*i,this.z=a[2]*n+a[6]*r+a[10]*s+a[14]*i,this.w=a[3]*n+a[7]*r+a[11]*s+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,s,i;const c=e.elements,u=c[0],d=c[4],h=c[8],f=c[1],p=c[5],x=c[9],g=c[2],v=c[6],m=c[10];if(Math.abs(d-f)<.01&&Math.abs(h-g)<.01&&Math.abs(x-v)<.01){if(Math.abs(d+f)<.1&&Math.abs(h+g)<.1&&Math.abs(x+v)<.1&&Math.abs(u+p+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,w=(p+1)/2,S=(m+1)/2,E=(d+f)/4,T=(h+g)/4,M=(x+v)/4;return b>w&&b>S?b<.01?(r=0,s=.707106781,i=.707106781):(r=Math.sqrt(b),s=E/r,i=T/r):w>S?w<.01?(r=.707106781,s=0,i=.707106781):(s=Math.sqrt(w),r=E/s,i=M/s):S<.01?(r=.707106781,s=.707106781,i=0):(i=Math.sqrt(S),r=T/i,s=M/i),this.set(r,s,i,n),this}let y=Math.sqrt((v-x)*(v-x)+(h-g)*(h-g)+(f-d)*(f-d));return Math.abs(y)<.001&&(y=1),this.x=(v-x)/y,this.y=(h-g)/y,this.z=(f-d)/y,this.w=Math.acos((u+p+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=nt(this.x,e.x,n.x),this.y=nt(this.y,e.y,n.y),this.z=nt(this.z,e.z,n.z),this.w=nt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=nt(this.x,e,n),this.y=nt(this.y,e,n),this.z=nt(this.z,e,n),this.w=nt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(nt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class E7 extends ml{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:br,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Gt(0,0,e,n),this.scissorTest=!1,this.viewport=new Gt(0,0,e,n);const s={width:e,height:n,depth:r.depth},i=new bn(s);this.textures=[];const a=r.count;for(let l=0;l<a;l++)this.textures[l]=i.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:br,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let s=0,i=this.textures.length;s<i;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=r,this.textures[s].isData3DTexture!==!0&&(this.textures[s].isArrayTexture=this.textures[s].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const s=Object.assign({},e.textures[n].image);this.textures[n].source=new oy(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Na extends E7{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class WT extends bn{constructor(e=null,n=1,r=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=rr,this.minFilter=rr,this.wrapR=_s,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class N7 extends bn{constructor(e=null,n=1,r=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=rr,this.minFilter=rr,this.wrapR=_s,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class au{constructor(e=new K(1/0,1/0,1/0),n=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Cr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Cr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Cr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const i=r.getAttribute("position");if(n===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=i.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,Cr):Cr.fromBufferAttribute(i,a),Cr.applyMatrix4(e.matrixWorld),this.expandByPoint(Cr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Zu.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Zu.copy(r.boundingBox)),Zu.applyMatrix4(e.matrixWorld),this.union(Zu)}const s=e.children;for(let i=0,a=s.length;i<a;i++)this.expandByObject(s[i],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Cr),Cr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Pl),ed.subVectors(this.max,Pl),$a.subVectors(e.a,Pl),qa.subVectors(e.b,Pl),Xa.subVectors(e.c,Pl),Ws.subVectors(qa,$a),$s.subVectors(Xa,qa),Hi.subVectors($a,Xa);let n=[0,-Ws.z,Ws.y,0,-$s.z,$s.y,0,-Hi.z,Hi.y,Ws.z,0,-Ws.x,$s.z,0,-$s.x,Hi.z,0,-Hi.x,-Ws.y,Ws.x,0,-$s.y,$s.x,0,-Hi.y,Hi.x,0];return!em(n,$a,qa,Xa,ed)||(n=[1,0,0,0,1,0,0,0,1],!em(n,$a,qa,Xa,ed))?!1:(td.crossVectors(Ws,$s),n=[td.x,td.y,td.z],em(n,$a,qa,Xa,ed))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Cr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ls[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ls[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ls[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ls[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ls[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ls[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ls[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ls[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ls),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ls=[new K,new K,new K,new K,new K,new K,new K,new K],Cr=new K,Zu=new au,$a=new K,qa=new K,Xa=new K,Ws=new K,$s=new K,Hi=new K,Pl=new K,ed=new K,td=new K,Gi=new K;function em(t,e,n,r,s){for(let i=0,a=t.length-3;i<=a;i+=3){Gi.fromArray(t,i);const l=s.x*Math.abs(Gi.x)+s.y*Math.abs(Gi.y)+s.z*Math.abs(Gi.z),c=e.dot(Gi),u=n.dot(Gi),d=r.dot(Gi);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const C7=new au,kl=new K,tm=new K;class Nf{constructor(e=new K,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):C7.setFromPoints(e).getCenter(r);let s=0;for(let i=0,a=e.length;i<a;i++)s=Math.max(s,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;kl.subVectors(e,this.center);const n=kl.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),s=(r-this.radius)*.5;this.center.addScaledVector(kl,s/r),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(tm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(kl.copy(e.center).add(tm)),this.expandByPoint(kl.copy(e.center).sub(tm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const cs=new K,nm=new K,nd=new K,qs=new K,rm=new K,rd=new K,sm=new K;class $T{constructor(e=new K,n=new K(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,cs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=cs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(cs.copy(this.origin).addScaledVector(this.direction,n),cs.distanceToSquared(e))}distanceSqToSegment(e,n,r,s){nm.copy(e).add(n).multiplyScalar(.5),nd.copy(n).sub(e).normalize(),qs.copy(this.origin).sub(nm);const i=e.distanceTo(n)*.5,a=-this.direction.dot(nd),l=qs.dot(this.direction),c=-qs.dot(nd),u=qs.lengthSq(),d=Math.abs(1-a*a);let h,f,p,x;if(d>0)if(h=a*c-l,f=a*l-c,x=i*d,h>=0)if(f>=-x)if(f<=x){const g=1/d;h*=g,f*=g,p=h*(h+a*f+2*l)+f*(a*h+f+2*c)+u}else f=i,h=Math.max(0,-(a*f+l)),p=-h*h+f*(f+2*c)+u;else f=-i,h=Math.max(0,-(a*f+l)),p=-h*h+f*(f+2*c)+u;else f<=-x?(h=Math.max(0,-(-a*i+l)),f=h>0?-i:Math.min(Math.max(-i,-c),i),p=-h*h+f*(f+2*c)+u):f<=x?(h=0,f=Math.min(Math.max(-i,-c),i),p=f*(f+2*c)+u):(h=Math.max(0,-(a*i+l)),f=h>0?i:Math.min(Math.max(-i,-c),i),p=-h*h+f*(f+2*c)+u);else f=a>0?-i:i,h=Math.max(0,-(a*f+l)),p=-h*h+f*(f+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,h),s&&s.copy(nm).addScaledVector(nd,f),p}intersectSphere(e,n){cs.subVectors(e.center,this.origin);const r=cs.dot(this.direction),s=cs.dot(cs)-r*r,i=e.radius*e.radius;if(s>i)return null;const a=Math.sqrt(i-s),l=r-a,c=r+a;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,s,i,a,l,c;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,s=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,s=(e.min.x-f.x)*u),d>=0?(i=(e.min.y-f.y)*d,a=(e.max.y-f.y)*d):(i=(e.max.y-f.y)*d,a=(e.min.y-f.y)*d),r>a||i>s||((i>r||isNaN(r))&&(r=i),(a<s||isNaN(s))&&(s=a),h>=0?(l=(e.min.z-f.z)*h,c=(e.max.z-f.z)*h):(l=(e.max.z-f.z)*h,c=(e.min.z-f.z)*h),r>c||l>s)||((l>r||r!==r)&&(r=l),(c<s||s!==s)&&(s=c),s<0)?null:this.at(r>=0?r:s,n)}intersectsBox(e){return this.intersectBox(e,cs)!==null}intersectTriangle(e,n,r,s,i){rm.subVectors(n,e),rd.subVectors(r,e),sm.crossVectors(rm,rd);let a=this.direction.dot(sm),l;if(a>0){if(s)return null;l=1}else if(a<0)l=-1,a=-a;else return null;qs.subVectors(this.origin,e);const c=l*this.direction.dot(rd.crossVectors(qs,rd));if(c<0)return null;const u=l*this.direction.dot(rm.cross(qs));if(u<0||c+u>a)return null;const d=-l*qs.dot(sm);return d<0?null:this.at(d/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yt{constructor(e,n,r,s,i,a,l,c,u,d,h,f,p,x,g,v){Yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,s,i,a,l,c,u,d,h,f,p,x,g,v)}set(e,n,r,s,i,a,l,c,u,d,h,f,p,x,g,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=s,m[1]=i,m[5]=a,m[9]=l,m[13]=c,m[2]=u,m[6]=d,m[10]=h,m[14]=f,m[3]=p,m[7]=x,m[11]=g,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,s=1/Ka.setFromMatrixColumn(e,0).length(),i=1/Ka.setFromMatrixColumn(e,1).length(),a=1/Ka.setFromMatrixColumn(e,2).length();return n[0]=r[0]*s,n[1]=r[1]*s,n[2]=r[2]*s,n[3]=0,n[4]=r[4]*i,n[5]=r[5]*i,n[6]=r[6]*i,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,s=e.y,i=e.z,a=Math.cos(r),l=Math.sin(r),c=Math.cos(s),u=Math.sin(s),d=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const f=a*d,p=a*h,x=l*d,g=l*h;n[0]=c*d,n[4]=-c*h,n[8]=u,n[1]=p+x*u,n[5]=f-g*u,n[9]=-l*c,n[2]=g-f*u,n[6]=x+p*u,n[10]=a*c}else if(e.order==="YXZ"){const f=c*d,p=c*h,x=u*d,g=u*h;n[0]=f+g*l,n[4]=x*l-p,n[8]=a*u,n[1]=a*h,n[5]=a*d,n[9]=-l,n[2]=p*l-x,n[6]=g+f*l,n[10]=a*c}else if(e.order==="ZXY"){const f=c*d,p=c*h,x=u*d,g=u*h;n[0]=f-g*l,n[4]=-a*h,n[8]=x+p*l,n[1]=p+x*l,n[5]=a*d,n[9]=g-f*l,n[2]=-a*u,n[6]=l,n[10]=a*c}else if(e.order==="ZYX"){const f=a*d,p=a*h,x=l*d,g=l*h;n[0]=c*d,n[4]=x*u-p,n[8]=f*u+g,n[1]=c*h,n[5]=g*u+f,n[9]=p*u-x,n[2]=-u,n[6]=l*c,n[10]=a*c}else if(e.order==="YZX"){const f=a*c,p=a*u,x=l*c,g=l*u;n[0]=c*d,n[4]=g-f*h,n[8]=x*h+p,n[1]=h,n[5]=a*d,n[9]=-l*d,n[2]=-u*d,n[6]=p*h+x,n[10]=f-g*h}else if(e.order==="XZY"){const f=a*c,p=a*u,x=l*c,g=l*u;n[0]=c*d,n[4]=-h,n[8]=u*d,n[1]=f*h+g,n[5]=a*d,n[9]=p*h-x,n[2]=x*h-p,n[6]=l*d,n[10]=g*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(T7,e,M7)}lookAt(e,n,r){const s=this.elements;return Xn.subVectors(e,n),Xn.lengthSq()===0&&(Xn.z=1),Xn.normalize(),Xs.crossVectors(r,Xn),Xs.lengthSq()===0&&(Math.abs(r.z)===1?Xn.x+=1e-4:Xn.z+=1e-4,Xn.normalize(),Xs.crossVectors(r,Xn)),Xs.normalize(),sd.crossVectors(Xn,Xs),s[0]=Xs.x,s[4]=sd.x,s[8]=Xn.x,s[1]=Xs.y,s[5]=sd.y,s[9]=Xn.y,s[2]=Xs.z,s[6]=sd.z,s[10]=Xn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,i=this.elements,a=r[0],l=r[4],c=r[8],u=r[12],d=r[1],h=r[5],f=r[9],p=r[13],x=r[2],g=r[6],v=r[10],m=r[14],y=r[3],b=r[7],w=r[11],S=r[15],E=s[0],T=s[4],M=s[8],C=s[12],N=s[1],j=s[5],k=s[9],U=s[13],G=s[2],O=s[6],H=s[10],$=s[14],L=s[3],z=s[7],W=s[11],ne=s[15];return i[0]=a*E+l*N+c*G+u*L,i[4]=a*T+l*j+c*O+u*z,i[8]=a*M+l*k+c*H+u*W,i[12]=a*C+l*U+c*$+u*ne,i[1]=d*E+h*N+f*G+p*L,i[5]=d*T+h*j+f*O+p*z,i[9]=d*M+h*k+f*H+p*W,i[13]=d*C+h*U+f*$+p*ne,i[2]=x*E+g*N+v*G+m*L,i[6]=x*T+g*j+v*O+m*z,i[10]=x*M+g*k+v*H+m*W,i[14]=x*C+g*U+v*$+m*ne,i[3]=y*E+b*N+w*G+S*L,i[7]=y*T+b*j+w*O+S*z,i[11]=y*M+b*k+w*H+S*W,i[15]=y*C+b*U+w*$+S*ne,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],s=e[8],i=e[12],a=e[1],l=e[5],c=e[9],u=e[13],d=e[2],h=e[6],f=e[10],p=e[14],x=e[3],g=e[7],v=e[11],m=e[15];return x*(+i*c*h-s*u*h-i*l*f+r*u*f+s*l*p-r*c*p)+g*(+n*c*p-n*u*f+i*a*f-s*a*p+s*u*d-i*c*d)+v*(+n*u*h-n*l*p-i*a*h+r*a*p+i*l*d-r*u*d)+m*(-s*l*d-n*c*h+n*l*f+s*a*h-r*a*f+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],i=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],x=e[12],g=e[13],v=e[14],m=e[15],y=h*v*u-g*f*u+g*c*p-l*v*p-h*c*m+l*f*m,b=x*f*u-d*v*u-x*c*p+a*v*p+d*c*m-a*f*m,w=d*g*u-x*h*u+x*l*p-a*g*p-d*l*m+a*h*m,S=x*h*c-d*g*c-x*l*f+a*g*f+d*l*v-a*h*v,E=n*y+r*b+s*w+i*S;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=y*T,e[1]=(g*f*i-h*v*i-g*s*p+r*v*p+h*s*m-r*f*m)*T,e[2]=(l*v*i-g*c*i+g*s*u-r*v*u-l*s*m+r*c*m)*T,e[3]=(h*c*i-l*f*i-h*s*u+r*f*u+l*s*p-r*c*p)*T,e[4]=b*T,e[5]=(d*v*i-x*f*i+x*s*p-n*v*p-d*s*m+n*f*m)*T,e[6]=(x*c*i-a*v*i-x*s*u+n*v*u+a*s*m-n*c*m)*T,e[7]=(a*f*i-d*c*i+d*s*u-n*f*u-a*s*p+n*c*p)*T,e[8]=w*T,e[9]=(x*h*i-d*g*i-x*r*p+n*g*p+d*r*m-n*h*m)*T,e[10]=(a*g*i-x*l*i+x*r*u-n*g*u-a*r*m+n*l*m)*T,e[11]=(d*l*i-a*h*i-d*r*u+n*h*u+a*r*p-n*l*p)*T,e[12]=S*T,e[13]=(d*g*s-x*h*s+x*r*f-n*g*f-d*r*v+n*h*v)*T,e[14]=(x*l*s-a*g*s-x*r*c+n*g*c+a*r*v-n*l*v)*T,e[15]=(a*h*s-d*l*s+d*r*c-n*h*c-a*r*f+n*l*f)*T,this}scale(e){const n=this.elements,r=e.x,s=e.y,i=e.z;return n[0]*=r,n[4]*=s,n[8]*=i,n[1]*=r,n[5]*=s,n[9]*=i,n[2]*=r,n[6]*=s,n[10]*=i,n[3]*=r,n[7]*=s,n[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,s))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),s=Math.sin(n),i=1-r,a=e.x,l=e.y,c=e.z,u=i*a,d=i*l;return this.set(u*a+r,u*l-s*c,u*c+s*l,0,u*l+s*c,d*l+r,d*c-s*a,0,u*c-s*l,d*c+s*a,i*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,s,i,a){return this.set(1,r,i,0,e,1,a,0,n,s,1,0,0,0,0,1),this}compose(e,n,r){const s=this.elements,i=n._x,a=n._y,l=n._z,c=n._w,u=i+i,d=a+a,h=l+l,f=i*u,p=i*d,x=i*h,g=a*d,v=a*h,m=l*h,y=c*u,b=c*d,w=c*h,S=r.x,E=r.y,T=r.z;return s[0]=(1-(g+m))*S,s[1]=(p+w)*S,s[2]=(x-b)*S,s[3]=0,s[4]=(p-w)*E,s[5]=(1-(f+m))*E,s[6]=(v+y)*E,s[7]=0,s[8]=(x+b)*T,s[9]=(v-y)*T,s[10]=(1-(f+g))*T,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,r){const s=this.elements;let i=Ka.set(s[0],s[1],s[2]).length();const a=Ka.set(s[4],s[5],s[6]).length(),l=Ka.set(s[8],s[9],s[10]).length();this.determinant()<0&&(i=-i),e.x=s[12],e.y=s[13],e.z=s[14],Tr.copy(this);const u=1/i,d=1/a,h=1/l;return Tr.elements[0]*=u,Tr.elements[1]*=u,Tr.elements[2]*=u,Tr.elements[4]*=d,Tr.elements[5]*=d,Tr.elements[6]*=d,Tr.elements[8]*=h,Tr.elements[9]*=h,Tr.elements[10]*=h,n.setFromRotationMatrix(Tr),r.x=i,r.y=a,r.z=l,this}makePerspective(e,n,r,s,i,a,l=Yr,c=!1){const u=this.elements,d=2*i/(n-e),h=2*i/(r-s),f=(n+e)/(n-e),p=(r+s)/(r-s);let x,g;if(c)x=i/(a-i),g=a*i/(a-i);else if(l===Yr)x=-(a+i)/(a-i),g=-2*a*i/(a-i);else if(l===Dh)x=-a/(a-i),g=-a*i/(a-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=d,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=h,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=x,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,s,i,a,l=Yr,c=!1){const u=this.elements,d=2/(n-e),h=2/(r-s),f=-(n+e)/(n-e),p=-(r+s)/(r-s);let x,g;if(c)x=1/(a-i),g=a/(a-i);else if(l===Yr)x=-2/(a-i),g=-(a+i)/(a-i);else if(l===Dh)x=-1/(a-i),g=-i/(a-i);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=d,u[4]=0,u[8]=0,u[12]=f,u[1]=0,u[5]=h,u[9]=0,u[13]=p,u[2]=0,u[6]=0,u[10]=x,u[14]=g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<16;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ka=new K,Tr=new Yt,T7=new K(0,0,0),M7=new K(1,1,1),Xs=new K,sd=new K,Xn=new K,N1=new Yt,C1=new iu;class Is{constructor(e=0,n=0,r=0,s=Is.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,s=this._order){return this._x=e,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const s=e.elements,i=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(n){case"XYZ":this._y=Math.asin(nt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-nt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(nt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-nt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(nt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-nt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-d,p),this._y=0);break;default:Ge("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return N1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(N1,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return C1.setFromEuler(this),this.setFromQuaternion(C1,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Is.DEFAULT_ORDER="XYZ";class qT{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let A7=0;const T1=new K,Ya=new iu,us=new Yt,id=new K,Dl=new K,j7=new K,R7=new iu,M1=new K(1,0,0),A1=new K(0,1,0),j1=new K(0,0,1),R1={type:"added"},P7={type:"removed"},Ja={type:"childadded",child:null},im={type:"childremoved",child:null};class Gn extends ml{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:A7++}),this.uuid=su(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Gn.DEFAULT_UP.clone();const e=new K,n=new Is,r=new iu,s=new K(1,1,1);function i(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(i),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Yt},normalMatrix:{value:new Xe}}),this.matrix=new Yt,this.matrixWorld=new Yt,this.matrixAutoUpdate=Gn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new qT,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ya.setFromAxisAngle(e,n),this.quaternion.multiply(Ya),this}rotateOnWorldAxis(e,n){return Ya.setFromAxisAngle(e,n),this.quaternion.premultiply(Ya),this}rotateX(e){return this.rotateOnAxis(M1,e)}rotateY(e){return this.rotateOnAxis(A1,e)}rotateZ(e){return this.rotateOnAxis(j1,e)}translateOnAxis(e,n){return T1.copy(e).applyQuaternion(this.quaternion),this.position.add(T1.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(M1,e)}translateY(e){return this.translateOnAxis(A1,e)}translateZ(e){return this.translateOnAxis(j1,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(us.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?id.copy(e):id.set(e,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),Dl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?us.lookAt(Dl,id,this.up):us.lookAt(id,Dl,this.up),this.quaternion.setFromRotationMatrix(us),s&&(us.extractRotation(s.matrixWorld),Ya.setFromRotationMatrix(us),this.quaternion.premultiply(Ya.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Ht("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(R1),Ja.child=e,this.dispatchEvent(Ja),Ja.child=null):Ht("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(P7),im.child=e,this.dispatchEvent(im),im.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),us.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),us.multiply(e.parent.matrixWorld)),e.applyMatrix4(us),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(R1),Ja.child=e,this.dispatchEvent(Ja),Ja.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const s=this.children;for(let i=0,a=s.length;i<a;i++)s[i].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dl,e,j7),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dl,R7,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let i=0,a=s.length;i<a;i++)s[i].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(l=>({...l})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const h=c[u];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(i(e.materials,this.material[c]));s.material=l}else s.material=i(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];s.animations.push(i(e.animations,c))}}if(n){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),h=a(e.shapes),f=a(e.skeletons),p=a(e.animations),x=a(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),x.length>0&&(r.nodes=x)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const s=e.children[r];this.add(s.clone())}return this}}Gn.DEFAULT_UP=new K(0,1,0);Gn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mr=new K,ds=new K,am=new K,hs=new K,Qa=new K,Za=new K,P1=new K,om=new K,lm=new K,cm=new K,um=new Gt,dm=new Gt,hm=new Gt;class Ir{constructor(e=new K,n=new K,r=new K){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,s){s.subVectors(r,n),Mr.subVectors(e,n),s.cross(Mr);const i=s.lengthSq();return i>0?s.multiplyScalar(1/Math.sqrt(i)):s.set(0,0,0)}static getBarycoord(e,n,r,s,i){Mr.subVectors(s,n),ds.subVectors(r,n),am.subVectors(e,n);const a=Mr.dot(Mr),l=Mr.dot(ds),c=Mr.dot(am),u=ds.dot(ds),d=ds.dot(am),h=a*u-l*l;if(h===0)return i.set(0,0,0),null;const f=1/h,p=(u*c-l*d)*f,x=(a*d-l*c)*f;return i.set(1-p-x,x,p)}static containsPoint(e,n,r,s){return this.getBarycoord(e,n,r,s,hs)===null?!1:hs.x>=0&&hs.y>=0&&hs.x+hs.y<=1}static getInterpolation(e,n,r,s,i,a,l,c){return this.getBarycoord(e,n,r,s,hs)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,hs.x),c.addScaledVector(a,hs.y),c.addScaledVector(l,hs.z),c)}static getInterpolatedAttribute(e,n,r,s,i,a){return um.setScalar(0),dm.setScalar(0),hm.setScalar(0),um.fromBufferAttribute(e,n),dm.fromBufferAttribute(e,r),hm.fromBufferAttribute(e,s),a.setScalar(0),a.addScaledVector(um,i.x),a.addScaledVector(dm,i.y),a.addScaledVector(hm,i.z),a}static isFrontFacing(e,n,r,s){return Mr.subVectors(r,n),ds.subVectors(e,n),Mr.cross(ds).dot(s)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,s){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,r,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mr.subVectors(this.c,this.b),ds.subVectors(this.a,this.b),Mr.cross(ds).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ir.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ir.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,s,i){return Ir.getInterpolation(e,this.a,this.b,this.c,n,r,s,i)}containsPoint(e){return Ir.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ir.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,s=this.b,i=this.c;let a,l;Qa.subVectors(s,r),Za.subVectors(i,r),om.subVectors(e,r);const c=Qa.dot(om),u=Za.dot(om);if(c<=0&&u<=0)return n.copy(r);lm.subVectors(e,s);const d=Qa.dot(lm),h=Za.dot(lm);if(d>=0&&h<=d)return n.copy(s);const f=c*h-d*u;if(f<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(r).addScaledVector(Qa,a);cm.subVectors(e,i);const p=Qa.dot(cm),x=Za.dot(cm);if(x>=0&&p<=x)return n.copy(i);const g=p*u-c*x;if(g<=0&&u>=0&&x<=0)return l=u/(u-x),n.copy(r).addScaledVector(Za,l);const v=d*x-p*h;if(v<=0&&h-d>=0&&p-x>=0)return P1.subVectors(i,s),l=(h-d)/(h-d+(p-x)),n.copy(s).addScaledVector(P1,l);const m=1/(v+g+f);return a=g*m,l=f*m,n.copy(r).addScaledVector(Qa,a).addScaledVector(Za,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const XT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ks={h:0,s:0,l:0},ad={h:0,s:0,l:0};function fm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class lt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=pr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,at.colorSpaceToWorking(this,n),this}setRGB(e,n,r,s=at.workingColorSpace){return this.r=e,this.g=n,this.b=r,at.colorSpaceToWorking(this,s),this}setHSL(e,n,r,s=at.workingColorSpace){if(e=y7(e,1),n=nt(n,0,1),r=nt(r,0,1),n===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=fm(a,i,e+1/3),this.g=fm(a,i,e),this.b=fm(a,i,e-1/3)}return at.colorSpaceToWorking(this,s),this}setStyle(e,n=pr){function r(i){i!==void 0&&parseFloat(i)<1&&Ge("Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const a=s[1],l=s[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:Ge("Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=s[1],a=i.length;if(a===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(i,16),n);Ge("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=pr){const r=XT[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Ge("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ts(e.r),this.g=Ts(e.g),this.b=Ts(e.b),this}copyLinearToSRGB(e){return this.r=Do(e.r),this.g=Do(e.g),this.b=Do(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=pr){return at.workingToColorSpace(xn.copy(this),e),Math.round(nt(xn.r*255,0,255))*65536+Math.round(nt(xn.g*255,0,255))*256+Math.round(nt(xn.b*255,0,255))}getHexString(e=pr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=at.workingColorSpace){at.workingToColorSpace(xn.copy(this),n);const r=xn.r,s=xn.g,i=xn.b,a=Math.max(r,s,i),l=Math.min(r,s,i);let c,u;const d=(l+a)/2;if(l===a)c=0,u=0;else{const h=a-l;switch(u=d<=.5?h/(a+l):h/(2-a-l),a){case r:c=(s-i)/h+(s<i?6:0);break;case s:c=(i-r)/h+2;break;case i:c=(r-s)/h+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=at.workingColorSpace){return at.workingToColorSpace(xn.copy(this),n),e.r=xn.r,e.g=xn.g,e.b=xn.b,e}getStyle(e=pr){at.workingToColorSpace(xn.copy(this),e);const n=xn.r,r=xn.g,s=xn.b;return e!==pr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(s*255)})`}offsetHSL(e,n,r){return this.getHSL(Ks),this.setHSL(Ks.h+e,Ks.s+n,Ks.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ks),e.getHSL(ad);const r=Kp(Ks.h,ad.h,n),s=Kp(Ks.s,ad.s,n),i=Kp(Ks.l,ad.l,n);return this.setHSL(r,s,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,s=this.b,i=e.elements;return this.r=i[0]*n+i[3]*r+i[6]*s,this.g=i[1]*n+i[4]*r+i[7]*s,this.b=i[2]*n+i[5]*r+i[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xn=new lt;lt.NAMES=XT;let k7=0;class ou extends ml{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:k7++}),this.uuid=su(),this.name="",this.type="Material",this.blending=ko,this.side=Ni,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ig,this.blendDst=ag,this.blendEquation=sa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new lt(0,0,0),this.blendAlpha=0,this.depthFunc=Yo,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=x1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ga,this.stencilZFail=Ga,this.stencilZPass=Ga,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Ge(`Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){Ge(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(r):s&&s.isVector3&&r&&r.isVector3?s.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ko&&(r.blending=this.blending),this.side!==Ni&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==ig&&(r.blendSrc=this.blendSrc),this.blendDst!==ag&&(r.blendDst=this.blendDst),this.blendEquation!==sa&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Yo&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==x1&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ga&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ga&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ga&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function s(i){const a=[];for(const l in i){const c=i[l];delete c.metadata,a.push(c)}return a}if(n){const i=s(e.textures),a=s(e.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const s=n.length;r=new Array(s);for(let i=0;i!==s;++i)r[i]=n[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class KT extends ou{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Is,this.combine=DT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Wt=new K,od=new pt;let D7=0;class ts{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:D7++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=v1,this.updateRanges=[],this.gpuType=ws,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let s=0,i=this.itemSize;s<i;s++)this.array[e+s]=n.array[r+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)od.fromBufferAttribute(this,n),od.applyMatrix3(e),this.setXY(n,od.x,od.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Wt.fromBufferAttribute(this,n),Wt.applyMatrix3(e),this.setXYZ(n,Wt.x,Wt.y,Wt.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Wt.fromBufferAttribute(this,n),Wt.applyMatrix4(e),this.setXYZ(n,Wt.x,Wt.y,Wt.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Wt.fromBufferAttribute(this,n),Wt.applyNormalMatrix(e),this.setXYZ(n,Wt.x,Wt.y,Wt.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Wt.fromBufferAttribute(this,n),Wt.transformDirection(e),this.setXYZ(n,Wt.x,Wt.y,Wt.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Rl(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ln(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Rl(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Rl(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Rl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Rl(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,s){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),s=Ln(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this}setXYZW(e,n,r,s,i){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),s=Ln(s,this.array),i=Ln(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==v1&&(e.usage=this.usage),e}}class YT extends ts{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class JT extends ts{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Ms extends ts{constructor(e,n,r){super(new Float32Array(e),n,r)}}let L7=0;const hr=new Yt,pm=new Gn,eo=new K,Kn=new au,Ll=new au,rn=new K;class as extends ml{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:L7++}),this.uuid=su(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(GT(e)?JT:YT)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const i=new Xe().getNormalMatrix(e);r.applyNormalMatrix(i),r.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return hr.makeRotationFromQuaternion(e),this.applyMatrix4(hr),this}rotateX(e){return hr.makeRotationX(e),this.applyMatrix4(hr),this}rotateY(e){return hr.makeRotationY(e),this.applyMatrix4(hr),this}rotateZ(e){return hr.makeRotationZ(e),this.applyMatrix4(hr),this}translate(e,n,r){return hr.makeTranslation(e,n,r),this.applyMatrix4(hr),this}scale(e,n,r){return hr.makeScale(e,n,r),this.applyMatrix4(hr),this}lookAt(e){return pm.lookAt(e),pm.updateMatrix(),this.applyMatrix4(pm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eo).negate(),this.translate(eo.x,eo.y,eo.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let s=0,i=e.length;s<i;s++){const a=e[s];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ms(r,3))}else{const r=Math.min(e.length,n.count);for(let s=0;s<r;s++){const i=e[s];n.setXYZ(s,i.x,i.y,i.z||0)}e.length>n.count&&Ge("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new au);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ht("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,s=n.length;r<s;r++){const i=n[r];Kn.setFromBufferAttribute(i),this.morphTargetsRelative?(rn.addVectors(this.boundingBox.min,Kn.min),this.boundingBox.expandByPoint(rn),rn.addVectors(this.boundingBox.max,Kn.max),this.boundingBox.expandByPoint(rn)):(this.boundingBox.expandByPoint(Kn.min),this.boundingBox.expandByPoint(Kn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Ht('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nf);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ht("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(e){const r=this.boundingSphere.center;if(Kn.setFromBufferAttribute(e),n)for(let i=0,a=n.length;i<a;i++){const l=n[i];Ll.setFromBufferAttribute(l),this.morphTargetsRelative?(rn.addVectors(Kn.min,Ll.min),Kn.expandByPoint(rn),rn.addVectors(Kn.max,Ll.max),Kn.expandByPoint(rn)):(Kn.expandByPoint(Ll.min),Kn.expandByPoint(Ll.max))}Kn.getCenter(r);let s=0;for(let i=0,a=e.count;i<a;i++)rn.fromBufferAttribute(e,i),s=Math.max(s,r.distanceToSquared(rn));if(n)for(let i=0,a=n.length;i<a;i++){const l=n[i],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)rn.fromBufferAttribute(l,u),c&&(eo.fromBufferAttribute(e,u),rn.add(eo)),s=Math.max(s,r.distanceToSquared(rn))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&Ht('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Ht("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,s=n.normal,i=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ts(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),l=[],c=[];for(let M=0;M<r.count;M++)l[M]=new K,c[M]=new K;const u=new K,d=new K,h=new K,f=new pt,p=new pt,x=new pt,g=new K,v=new K;function m(M,C,N){u.fromBufferAttribute(r,M),d.fromBufferAttribute(r,C),h.fromBufferAttribute(r,N),f.fromBufferAttribute(i,M),p.fromBufferAttribute(i,C),x.fromBufferAttribute(i,N),d.sub(u),h.sub(u),p.sub(f),x.sub(f);const j=1/(p.x*x.y-x.x*p.y);isFinite(j)&&(g.copy(d).multiplyScalar(x.y).addScaledVector(h,-p.y).multiplyScalar(j),v.copy(h).multiplyScalar(p.x).addScaledVector(d,-x.x).multiplyScalar(j),l[M].add(g),l[C].add(g),l[N].add(g),c[M].add(v),c[C].add(v),c[N].add(v))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let M=0,C=y.length;M<C;++M){const N=y[M],j=N.start,k=N.count;for(let U=j,G=j+k;U<G;U+=3)m(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const b=new K,w=new K,S=new K,E=new K;function T(M){S.fromBufferAttribute(s,M),E.copy(S);const C=l[M];b.copy(C),b.sub(S.multiplyScalar(S.dot(C))).normalize(),w.crossVectors(E,C);const j=w.dot(c[M])<0?-1:1;a.setXYZW(M,b.x,b.y,b.z,j)}for(let M=0,C=y.length;M<C;++M){const N=y[M],j=N.start,k=N.count;for(let U=j,G=j+k;U<G;U+=3)T(e.getX(U+0)),T(e.getX(U+1)),T(e.getX(U+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ts(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const s=new K,i=new K,a=new K,l=new K,c=new K,u=new K,d=new K,h=new K;if(e)for(let f=0,p=e.count;f<p;f+=3){const x=e.getX(f+0),g=e.getX(f+1),v=e.getX(f+2);s.fromBufferAttribute(n,x),i.fromBufferAttribute(n,g),a.fromBufferAttribute(n,v),d.subVectors(a,i),h.subVectors(s,i),d.cross(h),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,g),u.fromBufferAttribute(r,v),l.add(d),c.add(d),u.add(d),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let f=0,p=n.count;f<p;f+=3)s.fromBufferAttribute(n,f+0),i.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),d.subVectors(a,i),h.subVectors(s,i),d.cross(h),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)rn.fromBufferAttribute(e,n),rn.normalize(),e.setXYZ(n,rn.x,rn.y,rn.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,h=l.normalized,f=new u.constructor(c.length*d);let p=0,x=0;for(let g=0,v=c.length;g<v;g++){l.isInterleavedBufferAttribute?p=c[g]*l.data.stride+l.offset:p=c[g]*d;for(let m=0;m<d;m++)f[x++]=u[p++]}return new ts(f,d,h)}if(this.index===null)return Ge("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new as,r=this.index.array,s=this.attributes;for(const l in s){const c=s[l],u=e(c,r);n.setAttribute(l,u)}const i=this.morphAttributes;for(const l in i){const c=[],u=i[l];for(let d=0,h=u.length;d<h;d++){const f=u[d],p=e(f,r);c.push(p)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const s={};let i=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let h=0,f=u.length;h<f;h++){const p=u[h];d.push(p.toJSON(e.data))}d.length>0&&(s[c]=d,i=!0)}i&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const s=e.attributes;for(const u in s){const d=s[u];this.setAttribute(u,d.clone(n))}const i=e.morphAttributes;for(const u in i){const d=[],h=i[u];for(let f=0,p=h.length;f<p;f++)d.push(h[f].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const h=a[u];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const k1=new Yt,Wi=new $T,ld=new Nf,D1=new K,cd=new K,ud=new K,dd=new K,mm=new K,hd=new K,L1=new K,fd=new K;class Ci extends Gn{constructor(e=new as,n=new KT){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=s.length;i<a;i++){const l=s[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,n){const r=this.geometry,s=r.attributes.position,i=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(i&&l){hd.set(0,0,0);for(let c=0,u=i.length;c<u;c++){const d=l[c],h=i[c];d!==0&&(mm.fromBufferAttribute(h,e),a?hd.addScaledVector(mm,d):hd.addScaledVector(mm.sub(n),d))}n.add(hd)}return n}raycast(e,n){const r=this.geometry,s=this.material,i=this.matrixWorld;s!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),ld.copy(r.boundingSphere),ld.applyMatrix4(i),Wi.copy(e.ray).recast(e.near),!(ld.containsPoint(Wi.origin)===!1&&(Wi.intersectSphere(ld,D1)===null||Wi.origin.distanceToSquared(D1)>(e.far-e.near)**2))&&(k1.copy(i).invert(),Wi.copy(e.ray).applyMatrix4(k1),!(r.boundingBox!==null&&Wi.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Wi)))}_computeIntersections(e,n,r){let s;const i=this.geometry,a=this.material,l=i.index,c=i.attributes.position,u=i.attributes.uv,d=i.attributes.uv1,h=i.attributes.normal,f=i.groups,p=i.drawRange;if(l!==null)if(Array.isArray(a))for(let x=0,g=f.length;x<g;x++){const v=f[x],m=a[v.materialIndex],y=Math.max(v.start,p.start),b=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let w=y,S=b;w<S;w+=3){const E=l.getX(w),T=l.getX(w+1),M=l.getX(w+2);s=pd(this,m,e,r,u,d,h,E,T,M),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,n.push(s))}}else{const x=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let v=x,m=g;v<m;v+=3){const y=l.getX(v),b=l.getX(v+1),w=l.getX(v+2);s=pd(this,a,e,r,u,d,h,y,b,w),s&&(s.faceIndex=Math.floor(v/3),n.push(s))}}else if(c!==void 0)if(Array.isArray(a))for(let x=0,g=f.length;x<g;x++){const v=f[x],m=a[v.materialIndex],y=Math.max(v.start,p.start),b=Math.min(c.count,Math.min(v.start+v.count,p.start+p.count));for(let w=y,S=b;w<S;w+=3){const E=w,T=w+1,M=w+2;s=pd(this,m,e,r,u,d,h,E,T,M),s&&(s.faceIndex=Math.floor(w/3),s.face.materialIndex=v.materialIndex,n.push(s))}}else{const x=Math.max(0,p.start),g=Math.min(c.count,p.start+p.count);for(let v=x,m=g;v<m;v+=3){const y=v,b=v+1,w=v+2;s=pd(this,a,e,r,u,d,h,y,b,w),s&&(s.faceIndex=Math.floor(v/3),n.push(s))}}}}function I7(t,e,n,r,s,i,a,l){let c;if(e.side===Hn?c=r.intersectTriangle(a,i,s,!0,l):c=r.intersectTriangle(s,i,a,e.side===Ni,l),c===null)return null;fd.copy(l),fd.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(fd);return u<n.near||u>n.far?null:{distance:u,point:fd.clone(),object:t}}function pd(t,e,n,r,s,i,a,l,c,u){t.getVertexPosition(l,cd),t.getVertexPosition(c,ud),t.getVertexPosition(u,dd);const d=I7(t,e,n,r,cd,ud,dd,L1);if(d){const h=new K;Ir.getBarycoord(L1,cd,ud,dd,h),s&&(d.uv=Ir.getInterpolatedAttribute(s,l,c,u,h,new pt)),i&&(d.uv1=Ir.getInterpolatedAttribute(i,l,c,u,h,new pt)),a&&(d.normal=Ir.getInterpolatedAttribute(a,l,c,u,h,new K),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:l,b:c,c:u,normal:new K,materialIndex:0};Ir.getNormal(cd,ud,dd,f.normal),d.face=f,d.barycoord=h}return d}class lu extends as{constructor(e=1,n=1,r=1,s=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:s,heightSegments:i,depthSegments:a};const l=this;s=Math.floor(s),i=Math.floor(i),a=Math.floor(a);const c=[],u=[],d=[],h=[];let f=0,p=0;x("z","y","x",-1,-1,r,n,e,a,i,0),x("z","y","x",1,-1,r,n,-e,a,i,1),x("x","z","y",1,1,e,r,n,s,a,2),x("x","z","y",1,-1,e,r,-n,s,a,3),x("x","y","z",1,-1,e,n,r,s,i,4),x("x","y","z",-1,-1,e,n,-r,s,i,5),this.setIndex(c),this.setAttribute("position",new Ms(u,3)),this.setAttribute("normal",new Ms(d,3)),this.setAttribute("uv",new Ms(h,2));function x(g,v,m,y,b,w,S,E,T,M,C){const N=w/T,j=S/M,k=w/2,U=S/2,G=E/2,O=T+1,H=M+1;let $=0,L=0;const z=new K;for(let W=0;W<H;W++){const ne=W*j-U;for(let le=0;le<O;le++){const Ee=le*N-k;z[g]=Ee*y,z[v]=ne*b,z[m]=G,u.push(z.x,z.y,z.z),z[g]=0,z[v]=0,z[m]=E>0?1:-1,d.push(z.x,z.y,z.z),h.push(le/T),h.push(1-W/M),$+=1}}for(let W=0;W<M;W++)for(let ne=0;ne<T;ne++){const le=f+ne+O*W,Ee=f+ne+O*(W+1),We=f+(ne+1)+O*(W+1),rt=f+(ne+1)+O*W;c.push(le,Ee,rt),c.push(Ee,We,rt),L+=6}l.addGroup(p,L,C),p+=L,f+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function el(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const s=t[n][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(Ge("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=s.clone():Array.isArray(s)?e[n][r]=s.slice():e[n][r]=s}}return e}function Sn(t){const e={};for(let n=0;n<t.length;n++){const r=el(t[n]);for(const s in r)e[s]=r[s]}return e}function O7(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function QT(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:at.workingColorSpace}const U7={clone:el,merge:Sn};var F7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,B7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Os extends ou{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=F7,this.fragmentShader=B7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=el(e.uniforms),this.uniformsGroups=O7(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;a&&a.isTexture?n.uniforms[s]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[s]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[s]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[s]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[s]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[s]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[s]={type:"m4",value:a.toArray()}:n.uniforms[s]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const s in this.extensions)this.extensions[s]===!0&&(r[s]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class ZT extends Gn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yt,this.projectionMatrix=new Yt,this.projectionMatrixInverse=new Yt,this.coordinateSystem=Yr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ys=new K,I1=new pt,O1=new pt;class xr extends ZT{constructor(e=50,n=1,r=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=$g*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $g*2*Math.atan(Math.tan(Xp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Ys.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ys.x,Ys.y).multiplyScalar(-e/Ys.z),Ys.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ys.x,Ys.y).multiplyScalar(-e/Ys.z)}getViewSize(e,n){return this.getViewBounds(e,I1,O1),n.subVectors(O1,I1)}setViewOffset(e,n,r,s,i,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Xp*.5*this.fov)/this.zoom,r=2*n,s=this.aspect*r,i=-.5*s;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;i+=a.offsetX*s/c,n-=a.offsetY*r/u,s*=a.width/c,r*=a.height/u}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+s,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const to=-90,no=1;class z7 extends Gn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new xr(to,no,e,n);s.layers=this.layers,this.add(s);const i=new xr(to,no,e,n);i.layers=this.layers,this.add(i);const a=new xr(to,no,e,n);a.layers=this.layers,this.add(a);const l=new xr(to,no,e,n);l.layers=this.layers,this.add(l);const c=new xr(to,no,e,n);c.layers=this.layers,this.add(c);const u=new xr(to,no,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,s,i,a,l,c]=n;for(const u of n)this.remove(u);if(e===Yr)r.up.set(0,1,0),r.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Dh)r.up.set(0,-1,0),r.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,l,c,u,d]=this.children,h=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,s),e.render(n,i),e.setRenderTarget(r,1,s),e.render(n,a),e.setRenderTarget(r,2,s),e.render(n,l),e.setRenderTarget(r,3,s),e.render(n,c),e.setRenderTarget(r,4,s),e.render(n,u),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,s),e.render(n,d),e.setRenderTarget(h,f,p),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class eM extends bn{constructor(e=[],n=Jo,r,s,i,a,l,c,u,d){super(e,n,r,s,i,a,l,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class V7 extends Na{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},s=[r,r,r,r,r,r];this.texture=new eM(s),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new lu(5,5,5),i=new Os({name:"CubemapFromEquirect",uniforms:el(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Hn,blending:Cs});i.uniforms.tEquirect.value=n;const a=new Ci(s,i),l=n.minFilter;return n.minFilter===ha&&(n.minFilter=br),new z7(1,10,this).update(e,a),n.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,s=!0){const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,s);e.setRenderTarget(i)}}class md extends Gn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const H7={type:"move"};class gm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new md,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new md,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new md,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let s=null,i=null,a=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const g of e.hand.values()){const v=n.getJointPose(g,r),m=this._getHandJoint(u,g);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],f=d.position.distanceTo(h.position),p=.02,x=.005;u.inputState.pinching&&f>p+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=p-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=n.getPose(e.gripSpace,r),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(s=n.getPose(e.targetRaySpace,r),s===null&&i!==null&&(s=i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(H7)))}return l!==null&&(l.visible=s!==null),c!==null&&(c.visible=i!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new md;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class ly{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new lt(e),this.near=n,this.far=r}clone(){return new ly(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class G7 extends Gn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Is,this.environmentIntensity=1,this.environmentRotation=new Is,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class W7 extends bn{constructor(e=null,n=1,r=1,s,i,a,l,c,u=rr,d=rr,h,f){super(null,a,l,c,u,d,s,i,h,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const xm=new K,$7=new K,q7=new Xe;class ea{constructor(e=new K(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,s){return this.normal.set(e,n,r),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const s=xm.subVectors(r,n).cross($7.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(xm),s=this.normal.dot(r);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/s;return i<0||i>1?null:n.copy(e.start).addScaledVector(r,i)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||q7.getNormalMatrix(e),s=this.coplanarPoint(xm).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $i=new Nf,X7=new pt(.5,.5),gd=new K;class tM{constructor(e=new ea,n=new ea,r=new ea,s=new ea,i=new ea,a=new ea){this.planes=[e,n,r,s,i,a]}set(e,n,r,s,i,a){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(s),l[4].copy(i),l[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Yr,r=!1){const s=this.planes,i=e.elements,a=i[0],l=i[1],c=i[2],u=i[3],d=i[4],h=i[5],f=i[6],p=i[7],x=i[8],g=i[9],v=i[10],m=i[11],y=i[12],b=i[13],w=i[14],S=i[15];if(s[0].setComponents(u-a,p-d,m-x,S-y).normalize(),s[1].setComponents(u+a,p+d,m+x,S+y).normalize(),s[2].setComponents(u+l,p+h,m+g,S+b).normalize(),s[3].setComponents(u-l,p-h,m-g,S-b).normalize(),r)s[4].setComponents(c,f,v,w).normalize(),s[5].setComponents(u-c,p-f,m-v,S-w).normalize();else if(s[4].setComponents(u-c,p-f,m-v,S-w).normalize(),n===Yr)s[5].setComponents(u+c,p+f,m+v,S+w).normalize();else if(n===Dh)s[5].setComponents(c,f,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),$i.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),$i.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($i)}intersectsSprite(e){$i.center.set(0,0,0);const n=X7.distanceTo(e.center);return $i.radius=.7071067811865476+n,$i.applyMatrix4(e.matrixWorld),this.intersectsSphere($i)}intersectsSphere(e){const n=this.planes,r=e.center,s=-e.radius;for(let i=0;i<6;i++)if(n[i].distanceToPoint(r)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const s=n[r];if(gd.x=s.normal.x>0?e.max.x:e.min.x,gd.y=s.normal.y>0?e.max.y:e.min.y,gd.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(gd)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class nM extends ou{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const U1=new Yt,qg=new $T,xd=new Nf,vd=new K;class F1 extends Gn{constructor(e=new as,n=new nM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,s=this.matrixWorld,i=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),xd.copy(r.boundingSphere),xd.applyMatrix4(s),xd.radius+=i,e.ray.intersectsSphere(xd)===!1)return;U1.copy(s).invert(),qg.copy(e.ray).applyMatrix4(U1);const l=i/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=r.index,h=r.attributes.position;if(u!==null){const f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let x=f,g=p;x<g;x++){const v=u.getX(x);vd.fromBufferAttribute(h,v),B1(vd,v,c,s,e,n,this)}}else{const f=Math.max(0,a.start),p=Math.min(h.count,a.start+a.count);for(let x=f,g=p;x<g;x++)vd.fromBufferAttribute(h,x),B1(vd,x,c,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=s.length;i<a;i++){const l=s[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}}function B1(t,e,n,r,s,i,a){const l=qg.distanceSqToPoint(t);if(l<n){const c=new K;qg.closestPointToPoint(t,c),c.applyMatrix4(r);const u=s.ray.origin.distanceTo(c);if(u<s.near||u>s.far)return;i.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class K7 extends bn{constructor(e,n,r,s,i,a,l,c,u){super(e,n,r,s,i,a,l,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class rM extends bn{constructor(e,n,r=Ea,s,i,a,l=rr,c=rr,u,d=Vc,h=1){if(d!==Vc&&d!==Hc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:h};super(f,s,i,a,l,c,d,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new oy(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class sM extends bn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Cf extends as{constructor(e=1,n=1,r=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:s};const i=e/2,a=n/2,l=Math.floor(r),c=Math.floor(s),u=l+1,d=c+1,h=e/l,f=n/c,p=[],x=[],g=[],v=[];for(let m=0;m<d;m++){const y=m*f-a;for(let b=0;b<u;b++){const w=b*h-i;x.push(w,-y,0),g.push(0,0,1),v.push(b/l),v.push(1-m/c)}}for(let m=0;m<c;m++)for(let y=0;y<l;y++){const b=y+u*m,w=y+u*(m+1),S=y+1+u*(m+1),E=y+1+u*m;p.push(b,w,E),p.push(w,S,E)}this.setIndex(p),this.setAttribute("position",new Ms(x,3)),this.setAttribute("normal",new Ms(g,3)),this.setAttribute("uv",new Ms(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cf(e.width,e.height,e.widthSegments,e.heightSegments)}}class Y7 extends ou{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=a7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class J7 extends ou{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Q7 extends ZT{constructor(e=-1,n=1,r=1,s=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=s,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,s,i,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let i=r-e,a=r+e,l=s+n,c=s-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=u*this.view.offsetX,a=i+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(i,a,l,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Z7 extends xr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}function z1(t,e,n,r){const s=ez(r);switch(n){case BT:return t*e;case VT:return t*e/s.components*s.byteLength;case ry:return t*e/s.components*s.byteLength;case sy:return t*e*2/s.components*s.byteLength;case iy:return t*e*2/s.components*s.byteLength;case zT:return t*e*3/s.components*s.byteLength;case Or:return t*e*4/s.components*s.byteLength;case ay:return t*e*4/s.components*s.byteLength;case Bd:case zd:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Vd:case Hd:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case yg:case _g:return Math.max(t,16)*Math.max(e,8)/4;case vg:case bg:return Math.max(t,8)*Math.max(e,8)/2;case wg:case Sg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Eg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Ng:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Cg:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Tg:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Mg:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Ag:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case jg:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Rg:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Pg:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case kg:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Dg:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Lg:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ig:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Og:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Ug:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Fg:case Bg:case zg:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Vg:case Hg:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Gg:case Wg:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function ez(t){switch(t){case Ls:case IT:return{byteLength:1,components:1};case Bc:case OT:case pl:return{byteLength:2,components:1};case ty:case ny:return{byteLength:2,components:4};case Ea:case ey:case ws:return{byteLength:4,components:1};case UT:case FT:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Zv}}));typeof window<"u"&&(window.__THREE__?Ge("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Zv);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function iM(){let t=null,e=!1,n=null,r=null;function s(i,a){n(i,a),r=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(i){n=i},setContext:function(i){t=i}}}function tz(t){const e=new WeakMap;function n(l,c){const u=l.array,d=l.usage,h=u.byteLength,f=t.createBuffer();t.bindBuffer(c,f),t.bufferData(c,u,d),l.onUploadCallback();let p;if(u instanceof Float32Array)p=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)p=t.HALF_FLOAT;else if(u instanceof Uint16Array)l.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=t.SHORT;else if(u instanceof Uint32Array)p=t.UNSIGNED_INT;else if(u instanceof Int32Array)p=t.INT;else if(u instanceof Int8Array)p=t.BYTE;else if(u instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version,size:h}}function r(l,c,u){const d=c.array,h=c.updateRanges;if(t.bindBuffer(u,l),h.length===0)t.bufferSubData(u,0,d);else{h.sort((p,x)=>p.start-x.start);let f=0;for(let p=1;p<h.length;p++){const x=h[f],g=h[p];g.start<=x.start+x.count+1?x.count=Math.max(x.count,g.start+g.count-x.start):(++f,h[f]=g)}h.length=f+1;for(let p=0,x=h.length;p<x;p++){const g=h[p];t.bufferSubData(u,g.start*d.BYTES_PER_ELEMENT,d,g.start,g.count)}c.clearUpdateRanges()}c.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function i(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function a(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const d=e.get(l);(!d||d.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const u=e.get(l);if(u===void 0)e.set(l,n(l,c));else if(u.version<l.version){if(u.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,l,c),u.version=l.version}}return{get:s,remove:i,update:a}}var nz=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rz=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,sz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,az=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,oz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,cz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uz=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,dz=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,hz=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,fz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,vz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,bz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_z=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Sz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Ez=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Nz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Cz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Tz=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Mz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Az=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,jz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Rz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Pz="gl_FragColor = linearToOutputTexel( gl_FragColor );",kz=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Dz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Lz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Iz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Oz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Uz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Fz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Bz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Vz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Gz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Wz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,$z=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,qz=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Xz=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Kz=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Yz=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Jz=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Qz=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Zz=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,eV=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,tV=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,sV=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iV=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aV=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,oV=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,lV=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,pV=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,mV=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,gV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xV=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,vV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,yV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,bV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_V=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,SV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,EV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,NV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,CV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,TV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,MV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,AV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,jV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,RV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,PV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,DV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,LV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,IV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,OV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,UV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,FV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,BV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,VV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,HV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,GV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,WV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$V=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,qV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,KV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,YV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,JV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,QV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ZV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,eH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,cH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,uH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,dH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,hH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mH=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_H=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,SH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,CH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AH=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,jH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,RH=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PH=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kH=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,DH=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ye={alphahash_fragment:nz,alphahash_pars_fragment:rz,alphamap_fragment:sz,alphamap_pars_fragment:iz,alphatest_fragment:az,alphatest_pars_fragment:oz,aomap_fragment:lz,aomap_pars_fragment:cz,batching_pars_vertex:uz,batching_vertex:dz,begin_vertex:hz,beginnormal_vertex:fz,bsdfs:pz,iridescence_fragment:mz,bumpmap_pars_fragment:gz,clipping_planes_fragment:xz,clipping_planes_pars_fragment:vz,clipping_planes_pars_vertex:yz,clipping_planes_vertex:bz,color_fragment:_z,color_pars_fragment:wz,color_pars_vertex:Sz,color_vertex:Ez,common:Nz,cube_uv_reflection_fragment:Cz,defaultnormal_vertex:Tz,displacementmap_pars_vertex:Mz,displacementmap_vertex:Az,emissivemap_fragment:jz,emissivemap_pars_fragment:Rz,colorspace_fragment:Pz,colorspace_pars_fragment:kz,envmap_fragment:Dz,envmap_common_pars_fragment:Lz,envmap_pars_fragment:Iz,envmap_pars_vertex:Oz,envmap_physical_pars_fragment:Xz,envmap_vertex:Uz,fog_vertex:Fz,fog_pars_vertex:Bz,fog_fragment:zz,fog_pars_fragment:Vz,gradientmap_pars_fragment:Hz,lightmap_pars_fragment:Gz,lights_lambert_fragment:Wz,lights_lambert_pars_fragment:$z,lights_pars_begin:qz,lights_toon_fragment:Kz,lights_toon_pars_fragment:Yz,lights_phong_fragment:Jz,lights_phong_pars_fragment:Qz,lights_physical_fragment:Zz,lights_physical_pars_fragment:eV,lights_fragment_begin:tV,lights_fragment_maps:nV,lights_fragment_end:rV,logdepthbuf_fragment:sV,logdepthbuf_pars_fragment:iV,logdepthbuf_pars_vertex:aV,logdepthbuf_vertex:oV,map_fragment:lV,map_pars_fragment:cV,map_particle_fragment:uV,map_particle_pars_fragment:dV,metalnessmap_fragment:hV,metalnessmap_pars_fragment:fV,morphinstance_vertex:pV,morphcolor_vertex:mV,morphnormal_vertex:gV,morphtarget_pars_vertex:xV,morphtarget_vertex:vV,normal_fragment_begin:yV,normal_fragment_maps:bV,normal_pars_fragment:_V,normal_pars_vertex:wV,normal_vertex:SV,normalmap_pars_fragment:EV,clearcoat_normal_fragment_begin:NV,clearcoat_normal_fragment_maps:CV,clearcoat_pars_fragment:TV,iridescence_pars_fragment:MV,opaque_fragment:AV,packing:jV,premultiplied_alpha_fragment:RV,project_vertex:PV,dithering_fragment:kV,dithering_pars_fragment:DV,roughnessmap_fragment:LV,roughnessmap_pars_fragment:IV,shadowmap_pars_fragment:OV,shadowmap_pars_vertex:UV,shadowmap_vertex:FV,shadowmask_pars_fragment:BV,skinbase_vertex:zV,skinning_pars_vertex:VV,skinning_vertex:HV,skinnormal_vertex:GV,specularmap_fragment:WV,specularmap_pars_fragment:$V,tonemapping_fragment:qV,tonemapping_pars_fragment:XV,transmission_fragment:KV,transmission_pars_fragment:YV,uv_pars_fragment:JV,uv_pars_vertex:QV,uv_vertex:ZV,worldpos_vertex:eH,background_vert:tH,background_frag:nH,backgroundCube_vert:rH,backgroundCube_frag:sH,cube_vert:iH,cube_frag:aH,depth_vert:oH,depth_frag:lH,distanceRGBA_vert:cH,distanceRGBA_frag:uH,equirect_vert:dH,equirect_frag:hH,linedashed_vert:fH,linedashed_frag:pH,meshbasic_vert:mH,meshbasic_frag:gH,meshlambert_vert:xH,meshlambert_frag:vH,meshmatcap_vert:yH,meshmatcap_frag:bH,meshnormal_vert:_H,meshnormal_frag:wH,meshphong_vert:SH,meshphong_frag:EH,meshphysical_vert:NH,meshphysical_frag:CH,meshtoon_vert:TH,meshtoon_frag:MH,points_vert:AH,points_frag:jH,shadow_vert:RH,shadow_frag:PH,sprite_vert:kH,sprite_frag:DH},he={common:{diffuse:{value:new lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xe},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xe}},envmap:{envMap:{value:null},envMapRotation:{value:new Xe},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xe},normalScale:{value:new pt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0},uvTransform:{value:new Xe}},sprite:{diffuse:{value:new lt(16777215)},opacity:{value:1},center:{value:new pt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xe},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0}}},qr={basic:{uniforms:Sn([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.fog]),vertexShader:Ye.meshbasic_vert,fragmentShader:Ye.meshbasic_frag},lambert:{uniforms:Sn([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.fog,he.lights,{emissive:{value:new lt(0)}}]),vertexShader:Ye.meshlambert_vert,fragmentShader:Ye.meshlambert_frag},phong:{uniforms:Sn([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.fog,he.lights,{emissive:{value:new lt(0)},specular:{value:new lt(1118481)},shininess:{value:30}}]),vertexShader:Ye.meshphong_vert,fragmentShader:Ye.meshphong_frag},standard:{uniforms:Sn([he.common,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.roughnessmap,he.metalnessmap,he.fog,he.lights,{emissive:{value:new lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ye.meshphysical_vert,fragmentShader:Ye.meshphysical_frag},toon:{uniforms:Sn([he.common,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.gradientmap,he.fog,he.lights,{emissive:{value:new lt(0)}}]),vertexShader:Ye.meshtoon_vert,fragmentShader:Ye.meshtoon_frag},matcap:{uniforms:Sn([he.common,he.bumpmap,he.normalmap,he.displacementmap,he.fog,{matcap:{value:null}}]),vertexShader:Ye.meshmatcap_vert,fragmentShader:Ye.meshmatcap_frag},points:{uniforms:Sn([he.points,he.fog]),vertexShader:Ye.points_vert,fragmentShader:Ye.points_frag},dashed:{uniforms:Sn([he.common,he.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ye.linedashed_vert,fragmentShader:Ye.linedashed_frag},depth:{uniforms:Sn([he.common,he.displacementmap]),vertexShader:Ye.depth_vert,fragmentShader:Ye.depth_frag},normal:{uniforms:Sn([he.common,he.bumpmap,he.normalmap,he.displacementmap,{opacity:{value:1}}]),vertexShader:Ye.meshnormal_vert,fragmentShader:Ye.meshnormal_frag},sprite:{uniforms:Sn([he.sprite,he.fog]),vertexShader:Ye.sprite_vert,fragmentShader:Ye.sprite_frag},background:{uniforms:{uvTransform:{value:new Xe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ye.background_vert,fragmentShader:Ye.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Xe}},vertexShader:Ye.backgroundCube_vert,fragmentShader:Ye.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ye.cube_vert,fragmentShader:Ye.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ye.equirect_vert,fragmentShader:Ye.equirect_frag},distanceRGBA:{uniforms:Sn([he.common,he.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ye.distanceRGBA_vert,fragmentShader:Ye.distanceRGBA_frag},shadow:{uniforms:Sn([he.lights,he.fog,{color:{value:new lt(0)},opacity:{value:1}}]),vertexShader:Ye.shadow_vert,fragmentShader:Ye.shadow_frag}};qr.physical={uniforms:Sn([qr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xe},clearcoatNormalScale:{value:new pt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xe},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xe},sheen:{value:0},sheenColor:{value:new lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xe},transmissionSamplerSize:{value:new pt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xe},attenuationDistance:{value:0},attenuationColor:{value:new lt(0)},specularColor:{value:new lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xe},anisotropyVector:{value:new pt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xe}}]),vertexShader:Ye.meshphysical_vert,fragmentShader:Ye.meshphysical_frag};const yd={r:0,b:0,g:0},qi=new Is,LH=new Yt;function IH(t,e,n,r,s,i,a){const l=new lt(0);let c=i===!0?0:1,u,d,h=null,f=0,p=null;function x(b){let w=b.isScene===!0?b.background:null;return w&&w.isTexture&&(w=(b.backgroundBlurriness>0?n:e).get(w)),w}function g(b){let w=!1;const S=x(b);S===null?m(l,c):S&&S.isColor&&(m(S,1),w=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,a):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(b,w){const S=x(w);S&&(S.isCubeTexture||S.mapping===Ef)?(d===void 0&&(d=new Ci(new lu(1,1,1),new Os({name:"BackgroundCubeMaterial",uniforms:el(qr.backgroundCube.uniforms),vertexShader:qr.backgroundCube.vertexShader,fragmentShader:qr.backgroundCube.fragmentShader,side:Hn,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(E,T,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(d)),qi.copy(w.backgroundRotation),qi.x*=-1,qi.y*=-1,qi.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(qi.y*=-1,qi.z*=-1),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(LH.makeRotationFromEuler(qi)),d.material.toneMapped=at.getTransfer(S.colorSpace)!==ht,(h!==S||f!==S.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,h=S,f=S.version,p=t.toneMapping),d.layers.enableAll(),b.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Ci(new Cf(2,2),new Os({name:"BackgroundMaterial",uniforms:el(qr.background.uniforms),vertexShader:qr.background.vertexShader,fragmentShader:qr.background.fragmentShader,side:Ni,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=at.getTransfer(S.colorSpace)!==ht,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||f!==S.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,h=S,f=S.version,p=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null))}function m(b,w){b.getRGB(yd,QT(t)),r.buffers.color.setClear(yd.r,yd.g,yd.b,w,a)}function y(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return l},setClearColor:function(b,w=1){l.set(b),c=w,m(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(b){c=b,m(l,c)},render:g,addToRenderList:v,dispose:y}}function OH(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},s=f(null);let i=s,a=!1;function l(N,j,k,U,G){let O=!1;const H=h(U,k,j);i!==H&&(i=H,u(i.object)),O=p(N,U,k,G),O&&x(N,U,k,G),G!==null&&e.update(G,t.ELEMENT_ARRAY_BUFFER),(O||a)&&(a=!1,w(N,j,k,U),G!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(G).buffer))}function c(){return t.createVertexArray()}function u(N){return t.bindVertexArray(N)}function d(N){return t.deleteVertexArray(N)}function h(N,j,k){const U=k.wireframe===!0;let G=r[N.id];G===void 0&&(G={},r[N.id]=G);let O=G[j.id];O===void 0&&(O={},G[j.id]=O);let H=O[U];return H===void 0&&(H=f(c()),O[U]=H),H}function f(N){const j=[],k=[],U=[];for(let G=0;G<n;G++)j[G]=0,k[G]=0,U[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:k,attributeDivisors:U,object:N,attributes:{},index:null}}function p(N,j,k,U){const G=i.attributes,O=j.attributes;let H=0;const $=k.getAttributes();for(const L in $)if($[L].location>=0){const W=G[L];let ne=O[L];if(ne===void 0&&(L==="instanceMatrix"&&N.instanceMatrix&&(ne=N.instanceMatrix),L==="instanceColor"&&N.instanceColor&&(ne=N.instanceColor)),W===void 0||W.attribute!==ne||ne&&W.data!==ne.data)return!0;H++}return i.attributesNum!==H||i.index!==U}function x(N,j,k,U){const G={},O=j.attributes;let H=0;const $=k.getAttributes();for(const L in $)if($[L].location>=0){let W=O[L];W===void 0&&(L==="instanceMatrix"&&N.instanceMatrix&&(W=N.instanceMatrix),L==="instanceColor"&&N.instanceColor&&(W=N.instanceColor));const ne={};ne.attribute=W,W&&W.data&&(ne.data=W.data),G[L]=ne,H++}i.attributes=G,i.attributesNum=H,i.index=U}function g(){const N=i.newAttributes;for(let j=0,k=N.length;j<k;j++)N[j]=0}function v(N){m(N,0)}function m(N,j){const k=i.newAttributes,U=i.enabledAttributes,G=i.attributeDivisors;k[N]=1,U[N]===0&&(t.enableVertexAttribArray(N),U[N]=1),G[N]!==j&&(t.vertexAttribDivisor(N,j),G[N]=j)}function y(){const N=i.newAttributes,j=i.enabledAttributes;for(let k=0,U=j.length;k<U;k++)j[k]!==N[k]&&(t.disableVertexAttribArray(k),j[k]=0)}function b(N,j,k,U,G,O,H){H===!0?t.vertexAttribIPointer(N,j,k,G,O):t.vertexAttribPointer(N,j,k,U,G,O)}function w(N,j,k,U){g();const G=U.attributes,O=k.getAttributes(),H=j.defaultAttributeValues;for(const $ in O){const L=O[$];if(L.location>=0){let z=G[$];if(z===void 0&&($==="instanceMatrix"&&N.instanceMatrix&&(z=N.instanceMatrix),$==="instanceColor"&&N.instanceColor&&(z=N.instanceColor)),z!==void 0){const W=z.normalized,ne=z.itemSize,le=e.get(z);if(le===void 0)continue;const Ee=le.buffer,We=le.type,rt=le.bytesPerElement,J=We===t.INT||We===t.UNSIGNED_INT||z.gpuType===ey;if(z.isInterleavedBufferAttribute){const ee=z.data,xe=ee.stride,Be=z.offset;if(ee.isInstancedInterleavedBuffer){for(let Ce=0;Ce<L.locationSize;Ce++)m(L.location+Ce,ee.meshPerAttribute);N.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Ce=0;Ce<L.locationSize;Ce++)v(L.location+Ce);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let Ce=0;Ce<L.locationSize;Ce++)b(L.location+Ce,ne/L.locationSize,We,W,xe*rt,(Be+ne/L.locationSize*Ce)*rt,J)}else{if(z.isInstancedBufferAttribute){for(let ee=0;ee<L.locationSize;ee++)m(L.location+ee,z.meshPerAttribute);N.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let ee=0;ee<L.locationSize;ee++)v(L.location+ee);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let ee=0;ee<L.locationSize;ee++)b(L.location+ee,ne/L.locationSize,We,W,ne*rt,ne/L.locationSize*ee*rt,J)}}else if(H!==void 0){const W=H[$];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(L.location,W);break;case 3:t.vertexAttrib3fv(L.location,W);break;case 4:t.vertexAttrib4fv(L.location,W);break;default:t.vertexAttrib1fv(L.location,W)}}}}y()}function S(){M();for(const N in r){const j=r[N];for(const k in j){const U=j[k];for(const G in U)d(U[G].object),delete U[G];delete j[k]}delete r[N]}}function E(N){if(r[N.id]===void 0)return;const j=r[N.id];for(const k in j){const U=j[k];for(const G in U)d(U[G].object),delete U[G];delete j[k]}delete r[N.id]}function T(N){for(const j in r){const k=r[j];if(k[N.id]===void 0)continue;const U=k[N.id];for(const G in U)d(U[G].object),delete U[G];delete k[N.id]}}function M(){C(),a=!0,i!==s&&(i=s,u(i.object))}function C(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:M,resetDefaultState:C,dispose:S,releaseStatesOfGeometry:E,releaseStatesOfProgram:T,initAttributes:g,enableAttribute:v,disableUnusedAttributes:y}}function UH(t,e,n){let r;function s(u){r=u}function i(u,d){t.drawArrays(r,u,d),n.update(d,r,1)}function a(u,d,h){h!==0&&(t.drawArraysInstanced(r,u,d,h),n.update(d,r,h))}function l(u,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,h);let p=0;for(let x=0;x<h;x++)p+=d[x];n.update(p,r,1)}function c(u,d,h,f){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let x=0;x<u.length;x++)a(u[x],d[x],f[x]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,d,0,f,0,h);let x=0;for(let g=0;g<h;g++)x+=d[g]*f[g];n.update(x,r,1)}}this.setMode=s,this.render=i,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function FH(t,e,n,r){let s;function i(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function a(T){return!(T!==Or&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(T){const M=T===pl&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==Ls&&r.convert(T)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==ws&&!M)}function c(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=c(u);d!==u&&(Ge("WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const h=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=x>0,E=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:l,precision:u,logarithmicDepthBuffer:h,reversedDepthBuffer:f,maxTextures:p,maxVertexTextures:x,maxTextureSize:g,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:w,vertexTextures:S,maxSamples:E}}function BH(t){const e=this;let n=null,r=0,s=!1,i=!1;const a=new ea,l=new Xe,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const p=h.length!==0||f||r!==0||s;return s=f,r=h.length,p},this.beginShadows=function(){i=!0,d(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(h,f){n=d(h,f,0)},this.setState=function(h,f,p){const x=h.clippingPlanes,g=h.clipIntersection,v=h.clipShadows,m=t.get(h);if(!s||x===null||x.length===0||i&&!v)i?d(null):u();else{const y=i?0:r,b=y*4;let w=m.clippingState||null;c.value=w,w=d(x,f,b,p);for(let S=0;S!==b;++S)w[S]=n[S];m.clippingState=w,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,f,p,x){const g=h!==null?h.length:0;let v=null;if(g!==0){if(v=c.value,x!==!0||v===null){const m=p+g*4,y=f.matrixWorldInverse;l.getNormalMatrix(y),(v===null||v.length<m)&&(v=new Float32Array(m));for(let b=0,w=p;b!==g;++b,w+=4)a.copy(h[b]).applyMatrix4(y,l),a.normal.toArray(v,w),v[w+3]=a.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function zH(t){let e=new WeakMap;function n(a,l){return l===pg?a.mapping=Jo:l===mg&&(a.mapping=Qo),a}function r(a){if(a&&a.isTexture){const l=a.mapping;if(l===pg||l===mg)if(e.has(a)){const c=e.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new V7(c.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",s),n(u.texture,a.mapping)}else return null}}return a}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function i(){e=new WeakMap}return{get:r,dispose:i}}const ui=4,V1=[.125,.215,.35,.446,.526,.582],ia=20,VH=256,Il=new Q7,H1=new lt;let vm=null,ym=0,bm=0,_m=!1;const HH=new K;class G1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,s=100,i={}){const{size:a=256,position:l=HH}=i;vm=this._renderer.getRenderTarget(),ym=this._renderer.getActiveCubeFace(),bm=this._renderer.getActiveMipmapLevel(),_m=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,r,s,c,l),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=q1(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$1(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(vm,ym,bm),this._renderer.xr.enabled=_m,e.scissorTest=!1,ro(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Jo||e.mapping===Qo?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vm=this._renderer.getRenderTarget(),ym=this._renderer.getActiveCubeFace(),bm=this._renderer.getActiveMipmapLevel(),_m=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:br,minFilter:br,generateMipmaps:!1,type:pl,format:Or,colorSpace:Zo,depthBuffer:!1},s=W1(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=W1(e,n,r);const{_lodMax:i}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=GH(i)),this._blurMaterial=$H(i,e,n),this._ggxMaterial=WH(i,e,n)}return s}_compileMaterial(e){const n=new Ci(new as,e);this._renderer.compile(n,Il)}_sceneToCubeUV(e,n,r,s,i){const c=new xr(90,1,n,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,p=h.toneMapping;h.getClearColor(H1),h.toneMapping=_i,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(s),h.clearDepth(),h.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Ci(new lu,new KT({name:"PMREM.Background",side:Hn,depthWrite:!1,depthTest:!1})));const g=this._backgroundBox,v=g.material;let m=!1;const y=e.background;y?y.isColor&&(v.color.copy(y),e.background=null,m=!0):(v.color.copy(H1),m=!0);for(let b=0;b<6;b++){const w=b%3;w===0?(c.up.set(0,u[b],0),c.position.set(i.x,i.y,i.z),c.lookAt(i.x+d[b],i.y,i.z)):w===1?(c.up.set(0,0,u[b]),c.position.set(i.x,i.y,i.z),c.lookAt(i.x,i.y+d[b],i.z)):(c.up.set(0,u[b],0),c.position.set(i.x,i.y,i.z),c.lookAt(i.x,i.y,i.z+d[b]));const S=this._cubeSize;ro(s,w*S,b>2?S:0,S,S),h.setRenderTarget(s),m&&h.render(g,c),h.render(e,c)}h.toneMapping=p,h.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,s=e.mapping===Jo||e.mapping===Qo;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=q1()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$1());const i=s?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=i;const l=i.uniforms;l.envMap.value=e;const c=this._cubeSize;ro(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(a,Il)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const s=this._lodMeshes.length;for(let i=1;i<s;i++)this._applyGGXFilter(e,i-1,i);n.autoClear=r}_applyGGXFilter(e,n,r){const s=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,l=this._lodMeshes[r];l.material=a;const c=a.uniforms,u=r/(this._lodMeshes.length-1),d=n/(this._lodMeshes.length-1),h=Math.sqrt(u*u-d*d),f=.05+u*.95,p=h*f,{_lodMax:x}=this,g=this._sizeLods[r],v=3*g*(r>x-ui?r-x+ui:0),m=4*(this._cubeSize-g);c.envMap.value=e.texture,c.roughness.value=p,c.mipInt.value=x-n,ro(i,v,m,3*g,2*g),s.setRenderTarget(i),s.render(l,Il),c.envMap.value=i.texture,c.roughness.value=0,c.mipInt.value=x-r,ro(e,v,m,3*g,2*g),s.setRenderTarget(e),s.render(l,Il)}_blur(e,n,r,s,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,s,"latitudinal",i),this._halfBlur(a,e,r,r,s,"longitudinal",i)}_halfBlur(e,n,r,s,i,a,l){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&Ht("blur direction must be either latitudinal or longitudinal!");const d=3,h=this._lodMeshes[s];h.material=u;const f=u.uniforms,p=this._sizeLods[r]-1,x=isFinite(i)?Math.PI/(2*p):2*Math.PI/(2*ia-1),g=i/x,v=isFinite(i)?1+Math.floor(d*g):ia;v>ia&&Ge(`sigmaRadians, ${i}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${ia}`);const m=[];let y=0;for(let T=0;T<ia;++T){const M=T/g,C=Math.exp(-M*M/2);m.push(C),T===0?y+=C:T<v&&(y+=2*C)}for(let T=0;T<m.length;T++)m[T]=m[T]/y;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=m,f.latitudinal.value=a==="latitudinal",l&&(f.poleAxis.value=l);const{_lodMax:b}=this;f.dTheta.value=x,f.mipInt.value=b-r;const w=this._sizeLods[s],S=3*w*(s>b-ui?s-b+ui:0),E=4*(this._cubeSize-w);ro(n,S,E,3*w,2*w),c.setRenderTarget(n),c.render(h,Il)}}function GH(t){const e=[],n=[],r=[];let s=t;const i=t-ui+1+V1.length;for(let a=0;a<i;a++){const l=Math.pow(2,s);e.push(l);let c=1/l;a>t-ui?c=V1[a-t+ui-1]:a===0&&(c=0),n.push(c);const u=1/(l-2),d=-u,h=1+u,f=[d,d,h,d,h,h,d,d,h,h,d,h],p=6,x=6,g=3,v=2,m=1,y=new Float32Array(g*x*p),b=new Float32Array(v*x*p),w=new Float32Array(m*x*p);for(let E=0;E<p;E++){const T=E%3*2/3-1,M=E>2?0:-1,C=[T,M,0,T+2/3,M,0,T+2/3,M+1,0,T,M,0,T+2/3,M+1,0,T,M+1,0];y.set(C,g*x*E),b.set(f,v*x*E);const N=[E,E,E,E,E,E];w.set(N,m*x*E)}const S=new as;S.setAttribute("position",new ts(y,g)),S.setAttribute("uv",new ts(b,v)),S.setAttribute("faceIndex",new ts(w,m)),r.push(new Ci(S,null)),s>ui&&s--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function W1(t,e,n){const r=new Na(t,e,n);return r.texture.mapping=Ef,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ro(t,e,n,r,s){t.viewport.set(e,n,r,s),t.scissor.set(e,n,r,s)}function WH(t,e,n){return new Os({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:VH,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Tf(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Cs,depthTest:!1,depthWrite:!1})}function $H(t,e,n){const r=new Float32Array(ia),s=new K(0,1,0);return new Os({name:"SphericalGaussianBlur",defines:{n:ia,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:Tf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Cs,depthTest:!1,depthWrite:!1})}function $1(){return new Os({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Tf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Cs,depthTest:!1,depthWrite:!1})}function q1(){return new Os({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Tf(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Cs,depthTest:!1,depthWrite:!1})}function Tf(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function qH(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const c=l.mapping,u=c===pg||c===mg,d=c===Jo||c===Qo;if(u||d){let h=e.get(l);const f=h!==void 0?h.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==f)return n===null&&(n=new G1(t)),h=u?n.fromEquirectangular(l,h):n.fromCubemap(l,h),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),h.texture;if(h!==void 0)return h.texture;{const p=l.image;return u&&p&&p.height>0||d&&p&&s(p)?(n===null&&(n=new G1(t)),h=u?n.fromEquirectangular(l):n.fromCubemap(l),h.texture.pmremVersion=l.pmremVersion,e.set(l,h),l.addEventListener("dispose",i),h.texture):null}}}return l}function s(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function i(l){const c=l.target;c.removeEventListener("dispose",i);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function XH(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const s=t.getExtension(r);return e[r]=s,s}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const s=n(r);return s===null&&Gc("WebGLRenderer: "+r+" extension not supported."),s}}}function KH(t,e,n,r){const s={},i=new WeakMap;function a(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const x in f.attributes)e.remove(f.attributes[x]);f.removeEventListener("dispose",a),delete s[f.id];const p=i.get(f);p&&(e.remove(p),i.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function l(h,f){return s[f.id]===!0||(f.addEventListener("dispose",a),s[f.id]=!0,n.memory.geometries++),f}function c(h){const f=h.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER)}function u(h){const f=[],p=h.index,x=h.attributes.position;let g=0;if(p!==null){const y=p.array;g=p.version;for(let b=0,w=y.length;b<w;b+=3){const S=y[b+0],E=y[b+1],T=y[b+2];f.push(S,E,E,T,T,S)}}else if(x!==void 0){const y=x.array;g=x.version;for(let b=0,w=y.length/3-1;b<w;b+=3){const S=b+0,E=b+1,T=b+2;f.push(S,E,E,T,T,S)}}else return;const v=new(GT(f)?JT:YT)(f,1);v.version=g;const m=i.get(h);m&&e.remove(m),i.set(h,v)}function d(h){const f=i.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&u(h)}else u(h);return i.get(h)}return{get:l,update:c,getWireframeAttribute:d}}function YH(t,e,n){let r;function s(f){r=f}let i,a;function l(f){i=f.type,a=f.bytesPerElement}function c(f,p){t.drawElements(r,p,i,f*a),n.update(p,r,1)}function u(f,p,x){x!==0&&(t.drawElementsInstanced(r,p,i,f*a,x),n.update(p,r,x))}function d(f,p,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,i,f,0,x);let v=0;for(let m=0;m<x;m++)v+=p[m];n.update(v,r,1)}function h(f,p,x,g){if(x===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<f.length;m++)u(f[m]/a,p[m],g[m]);else{v.multiDrawElementsInstancedWEBGL(r,p,0,i,f,0,g,0,x);let m=0;for(let y=0;y<x;y++)m+=p[y]*g[y];n.update(m,r,1)}}this.setMode=s,this.setIndex=l,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function JH(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(i,a,l){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=l*(i/3);break;case t.LINES:n.lines+=l*(i/2);break;case t.LINE_STRIP:n.lines+=l*(i-1);break;case t.LINE_LOOP:n.lines+=l*i;break;case t.POINTS:n.points+=l*i;break;default:Ht("WebGLInfo: Unknown draw mode:",a);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:r}}function QH(t,e,n){const r=new WeakMap,s=new Gt;function i(a,l,c){const u=a.morphTargetInfluences,d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=d!==void 0?d.length:0;let f=r.get(l);if(f===void 0||f.count!==h){let N=function(){M.dispose(),r.delete(l),l.removeEventListener("dispose",N)};var p=N;f!==void 0&&f.texture.dispose();const x=l.morphAttributes.position!==void 0,g=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,m=l.morphAttributes.position||[],y=l.morphAttributes.normal||[],b=l.morphAttributes.color||[];let w=0;x===!0&&(w=1),g===!0&&(w=2),v===!0&&(w=3);let S=l.attributes.position.count*w,E=1;S>e.maxTextureSize&&(E=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const T=new Float32Array(S*E*4*h),M=new WT(T,S,E,h);M.type=ws,M.needsUpdate=!0;const C=w*4;for(let j=0;j<h;j++){const k=m[j],U=y[j],G=b[j],O=S*E*4*j;for(let H=0;H<k.count;H++){const $=H*C;x===!0&&(s.fromBufferAttribute(k,H),T[O+$+0]=s.x,T[O+$+1]=s.y,T[O+$+2]=s.z,T[O+$+3]=0),g===!0&&(s.fromBufferAttribute(U,H),T[O+$+4]=s.x,T[O+$+5]=s.y,T[O+$+6]=s.z,T[O+$+7]=0),v===!0&&(s.fromBufferAttribute(G,H),T[O+$+8]=s.x,T[O+$+9]=s.y,T[O+$+10]=s.z,T[O+$+11]=G.itemSize===4?s.w:1)}}f={count:h,texture:M,size:new pt(S,E)},r.set(l,f),l.addEventListener("dispose",N)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let x=0;for(let v=0;v<u.length;v++)x+=u[v];const g=l.morphTargetsRelative?1:1-x;c.getUniforms().setValue(t,"morphTargetBaseInfluence",g),c.getUniforms().setValue(t,"morphTargetInfluences",u)}c.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:i}}function ZH(t,e,n,r){let s=new WeakMap;function i(c){const u=r.render.frame,d=c.geometry,h=e.get(c,d);if(s.get(h)!==u&&(e.update(h),s.set(h,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),s.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),s.set(c,u))),c.isSkinnedMesh){const f=c.skeleton;s.get(f)!==u&&(f.update(),s.set(f,u))}return h}function a(){s=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:i,dispose:a}}const aM=new bn,X1=new rM(1,1),oM=new WT,lM=new N7,cM=new eM,K1=[],Y1=[],J1=new Float32Array(16),Q1=new Float32Array(9),Z1=new Float32Array(4);function gl(t,e,n){const r=t[0];if(r<=0||r>0)return t;const s=e*n;let i=K1[s];if(i===void 0&&(i=new Float32Array(s),K1[s]=i),e!==0){r.toArray(i,0);for(let a=1,l=0;a!==e;++a)l+=n,t[a].toArray(i,l)}return i}function tn(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function nn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Mf(t,e){let n=Y1[e];n===void 0&&(n=new Int32Array(e),Y1[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function eG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function tG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(tn(n,e))return;t.uniform2fv(this.addr,e),nn(n,e)}}function nG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(tn(n,e))return;t.uniform3fv(this.addr,e),nn(n,e)}}function rG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(tn(n,e))return;t.uniform4fv(this.addr,e),nn(n,e)}}function sG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(tn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),nn(n,e)}else{if(tn(n,r))return;Z1.set(r),t.uniformMatrix2fv(this.addr,!1,Z1),nn(n,r)}}function iG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(tn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),nn(n,e)}else{if(tn(n,r))return;Q1.set(r),t.uniformMatrix3fv(this.addr,!1,Q1),nn(n,r)}}function aG(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(tn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),nn(n,e)}else{if(tn(n,r))return;J1.set(r),t.uniformMatrix4fv(this.addr,!1,J1),nn(n,r)}}function oG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function lG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(tn(n,e))return;t.uniform2iv(this.addr,e),nn(n,e)}}function cG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(tn(n,e))return;t.uniform3iv(this.addr,e),nn(n,e)}}function uG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(tn(n,e))return;t.uniform4iv(this.addr,e),nn(n,e)}}function dG(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function hG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(tn(n,e))return;t.uniform2uiv(this.addr,e),nn(n,e)}}function fG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(tn(n,e))return;t.uniform3uiv(this.addr,e),nn(n,e)}}function pG(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(tn(n,e))return;t.uniform4uiv(this.addr,e),nn(n,e)}}function mG(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s);let i;this.type===t.SAMPLER_2D_SHADOW?(X1.compareFunction=HT,i=X1):i=aM,n.setTexture2D(e||i,s)}function gG(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),n.setTexture3D(e||lM,s)}function xG(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),n.setTextureCube(e||cM,s)}function vG(t,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),n.setTexture2DArray(e||oM,s)}function yG(t){switch(t){case 5126:return eG;case 35664:return tG;case 35665:return nG;case 35666:return rG;case 35674:return sG;case 35675:return iG;case 35676:return aG;case 5124:case 35670:return oG;case 35667:case 35671:return lG;case 35668:case 35672:return cG;case 35669:case 35673:return uG;case 5125:return dG;case 36294:return hG;case 36295:return fG;case 36296:return pG;case 35678:case 36198:case 36298:case 36306:case 35682:return mG;case 35679:case 36299:case 36307:return gG;case 35680:case 36300:case 36308:case 36293:return xG;case 36289:case 36303:case 36311:case 36292:return vG}}function bG(t,e){t.uniform1fv(this.addr,e)}function _G(t,e){const n=gl(e,this.size,2);t.uniform2fv(this.addr,n)}function wG(t,e){const n=gl(e,this.size,3);t.uniform3fv(this.addr,n)}function SG(t,e){const n=gl(e,this.size,4);t.uniform4fv(this.addr,n)}function EG(t,e){const n=gl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function NG(t,e){const n=gl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function CG(t,e){const n=gl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function TG(t,e){t.uniform1iv(this.addr,e)}function MG(t,e){t.uniform2iv(this.addr,e)}function AG(t,e){t.uniform3iv(this.addr,e)}function jG(t,e){t.uniform4iv(this.addr,e)}function RG(t,e){t.uniform1uiv(this.addr,e)}function PG(t,e){t.uniform2uiv(this.addr,e)}function kG(t,e){t.uniform3uiv(this.addr,e)}function DG(t,e){t.uniform4uiv(this.addr,e)}function LG(t,e,n){const r=this.cache,s=e.length,i=Mf(n,s);tn(r,i)||(t.uniform1iv(this.addr,i),nn(r,i));for(let a=0;a!==s;++a)n.setTexture2D(e[a]||aM,i[a])}function IG(t,e,n){const r=this.cache,s=e.length,i=Mf(n,s);tn(r,i)||(t.uniform1iv(this.addr,i),nn(r,i));for(let a=0;a!==s;++a)n.setTexture3D(e[a]||lM,i[a])}function OG(t,e,n){const r=this.cache,s=e.length,i=Mf(n,s);tn(r,i)||(t.uniform1iv(this.addr,i),nn(r,i));for(let a=0;a!==s;++a)n.setTextureCube(e[a]||cM,i[a])}function UG(t,e,n){const r=this.cache,s=e.length,i=Mf(n,s);tn(r,i)||(t.uniform1iv(this.addr,i),nn(r,i));for(let a=0;a!==s;++a)n.setTexture2DArray(e[a]||oM,i[a])}function FG(t){switch(t){case 5126:return bG;case 35664:return _G;case 35665:return wG;case 35666:return SG;case 35674:return EG;case 35675:return NG;case 35676:return CG;case 5124:case 35670:return TG;case 35667:case 35671:return MG;case 35668:case 35672:return AG;case 35669:case 35673:return jG;case 5125:return RG;case 36294:return PG;case 36295:return kG;case 36296:return DG;case 35678:case 36198:case 36298:case 36306:case 35682:return LG;case 35679:case 36299:case 36307:return IG;case 35680:case 36300:case 36308:case 36293:return OG;case 36289:case 36303:case 36311:case 36292:return UG}}class BG{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=yG(n.type)}}class zG{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=FG(n.type)}}class VG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const s=this.seq;for(let i=0,a=s.length;i!==a;++i){const l=s[i];l.setValue(e,n[l.id],r)}}}const wm=/(\w+)(\])?(\[|\.)?/g;function eS(t,e){t.seq.push(e),t.map[e.id]=e}function HG(t,e,n){const r=t.name,s=r.length;for(wm.lastIndex=0;;){const i=wm.exec(r),a=wm.lastIndex;let l=i[1];const c=i[2]==="]",u=i[3];if(c&&(l=l|0),u===void 0||u==="["&&a+2===s){eS(n,u===void 0?new BG(l,t,e):new zG(l,t,e));break}else{let h=n.map[l];h===void 0&&(h=new VG(l),eS(n,h)),n=h}}}class Gd{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const i=e.getActiveUniform(n,s),a=e.getUniformLocation(n,i.name);HG(i,a,this)}}setValue(e,n,r,s){const i=this.map[n];i!==void 0&&i.setValue(e,r,s)}setOptional(e,n,r){const s=n[r];s!==void 0&&this.setValue(e,r,s)}static upload(e,n,r,s){for(let i=0,a=n.length;i!==a;++i){const l=n[i],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,s)}}static seqWithValue(e,n){const r=[];for(let s=0,i=e.length;s!==i;++s){const a=e[s];a.id in n&&r.push(a)}return r}}function tS(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const GG=37297;let WG=0;function $G(t,e){const n=t.split(`
`),r=[],s=Math.max(e-6,0),i=Math.min(e+6,n.length);for(let a=s;a<i;a++){const l=a+1;r.push(`${l===e?">":" "} ${l}: ${n[a]}`)}return r.join(`
`)}const nS=new Xe;function qG(t){at._getMatrix(nS,at.workingColorSpace,t);const e=`mat3( ${nS.elements.map(n=>n.toFixed(4))} )`;switch(at.getTransfer(t)){case kh:return[e,"LinearTransferOETF"];case ht:return[e,"sRGBTransferOETF"];default:return Ge("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function rS(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=(t.getShaderInfoLog(e)||"").trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const l=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+$G(t.getShaderSource(e),l)}else return i}function XG(t,e){const n=qG(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function KG(t,e){let n;switch(e){case QB:n="Linear";break;case ZB:n="Reinhard";break;case e7:n="Cineon";break;case t7:n="ACESFilmic";break;case r7:n="AgX";break;case s7:n="Neutral";break;case n7:n="Custom";break;default:Ge("WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const bd=new K;function YG(){at.getLuminanceCoefficients(bd);const t=bd.x.toFixed(4),e=bd.y.toFixed(4),n=bd.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function JG(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Wl).join(`
`)}function QG(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function ZG(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const i=t.getActiveAttrib(e,s),a=i.name;let l=1;i.type===t.FLOAT_MAT2&&(l=2),i.type===t.FLOAT_MAT3&&(l=3),i.type===t.FLOAT_MAT4&&(l=4),n[a]={type:i.type,location:t.getAttribLocation(e,a),locationSize:l}}return n}function Wl(t){return t!==""}function sS(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function iS(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const eW=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xg(t){return t.replace(eW,nW)}const tW=new Map;function nW(t,e){let n=Ye[e];if(n===void 0){const r=tW.get(e);if(r!==void 0)n=Ye[r],Ge('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Xg(n)}const rW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aS(t){return t.replace(rW,sW)}function sW(t,e,n,r){let s="";for(let i=parseInt(e);i<parseInt(n);i++)s+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return s}function oS(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function iW(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===kT?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===RB?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ps&&(e="SHADOWMAP_TYPE_VSM"),e}function aW(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Jo:case Qo:e="ENVMAP_TYPE_CUBE";break;case Ef:e="ENVMAP_TYPE_CUBE_UV";break}return e}function oW(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Qo:e="ENVMAP_MODE_REFRACTION";break}return e}function lW(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case DT:e="ENVMAP_BLENDING_MULTIPLY";break;case YB:e="ENVMAP_BLENDING_MIX";break;case JB:e="ENVMAP_BLENDING_ADD";break}return e}function cW(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function uW(t,e,n,r){const s=t.getContext(),i=n.defines;let a=n.vertexShader,l=n.fragmentShader;const c=iW(n),u=aW(n),d=oW(n),h=lW(n),f=cW(n),p=JG(n),x=QG(i),g=s.createProgram();let v,m,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Wl).join(`
`),v.length>0&&(v+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Wl).join(`
`),m.length>0&&(m+=`
`)):(v=[oS(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Wl).join(`
`),m=[oS(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==_i?"#define TONE_MAPPING":"",n.toneMapping!==_i?Ye.tonemapping_pars_fragment:"",n.toneMapping!==_i?KG("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ye.colorspace_pars_fragment,XG("linearToOutputTexel",n.outputColorSpace),YG(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Wl).join(`
`)),a=Xg(a),a=sS(a,n),a=iS(a,n),l=Xg(l),l=sS(l,n),l=iS(l,n),a=aS(a),l=aS(l),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",n.glslVersion===y1?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===y1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const b=y+v+a,w=y+m+l,S=tS(s,s.VERTEX_SHADER,b),E=tS(s,s.FRAGMENT_SHADER,w);s.attachShader(g,S),s.attachShader(g,E),n.index0AttributeName!==void 0?s.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(g,0,"position"),s.linkProgram(g);function T(j){if(t.debug.checkShaderErrors){const k=s.getProgramInfoLog(g)||"",U=s.getShaderInfoLog(S)||"",G=s.getShaderInfoLog(E)||"",O=k.trim(),H=U.trim(),$=G.trim();let L=!0,z=!0;if(s.getProgramParameter(g,s.LINK_STATUS)===!1)if(L=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,g,S,E);else{const W=rS(s,S,"vertex"),ne=rS(s,E,"fragment");Ht("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(g,s.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+O+`
`+W+`
`+ne)}else O!==""?Ge("WebGLProgram: Program Info Log:",O):(H===""||$==="")&&(z=!1);z&&(j.diagnostics={runnable:L,programLog:O,vertexShader:{log:H,prefix:v},fragmentShader:{log:$,prefix:m}})}s.deleteShader(S),s.deleteShader(E),M=new Gd(s,g),C=ZG(s,g)}let M;this.getUniforms=function(){return M===void 0&&T(this),M};let C;this.getAttributes=function(){return C===void 0&&T(this),C};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=s.getProgramParameter(g,GG)),N},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=WG++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=S,this.fragmentShader=E,this}let dW=0;class hW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,s=this._getShaderStage(n),i=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(s)===!1&&(a.add(s),s.usedTimes++),a.has(i)===!1&&(a.add(i),i.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new fW(e),n.set(e,r)),r}}class fW{constructor(e){this.id=dW++,this.code=e,this.usedTimes=0}}function pW(t,e,n,r,s,i,a){const l=new qT,c=new hW,u=new Set,d=[],h=s.logarithmicDepthBuffer,f=s.vertexTextures;let p=s.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(C){return u.add(C),C===0?"uv":`uv${C}`}function v(C,N,j,k,U){const G=k.fog,O=U.geometry,H=C.isMeshStandardMaterial?k.environment:null,$=(C.isMeshStandardMaterial?n:e).get(C.envMap||H),L=$&&$.mapping===Ef?$.image.height:null,z=x[C.type];C.precision!==null&&(p=s.getMaxPrecision(C.precision),p!==C.precision&&Ge("WebGLProgram.getParameters:",C.precision,"not supported, using",p,"instead."));const W=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,ne=W!==void 0?W.length:0;let le=0;O.morphAttributes.position!==void 0&&(le=1),O.morphAttributes.normal!==void 0&&(le=2),O.morphAttributes.color!==void 0&&(le=3);let Ee,We,rt,J;if(z){const ut=qr[z];Ee=ut.vertexShader,We=ut.fragmentShader}else Ee=C.vertexShader,We=C.fragmentShader,c.update(C),rt=c.getVertexShaderID(C),J=c.getFragmentShaderID(C);const ee=t.getRenderTarget(),xe=t.state.buffers.depth.getReversed(),Be=U.isInstancedMesh===!0,Ce=U.isBatchedMesh===!0,$e=!!C.map,Ft=!!C.matcap,Ke=!!$,Et=!!C.aoMap,D=!!C.lightMap,Ze=!!C.bumpMap,et=!!C.normalMap,gt=!!C.displacementMap,Ne=!!C.emissiveMap,Ct=!!C.metalnessMap,Re=!!C.roughnessMap,He=C.anisotropy>0,P=C.clearcoat>0,A=C.dispersion>0,V=C.iridescence>0,Z=C.sheen>0,re=C.transmission>0,Y=He&&!!C.anisotropyMap,Ae=P&&!!C.clearcoatMap,fe=P&&!!C.clearcoatNormalMap,Pe=P&&!!C.clearcoatRoughnessMap,Me=V&&!!C.iridescenceMap,se=V&&!!C.iridescenceThicknessMap,ce=Z&&!!C.sheenColorMap,Ue=Z&&!!C.sheenRoughnessMap,De=!!C.specularMap,ge=!!C.specularColorMap,ze=!!C.specularIntensityMap,I=re&&!!C.transmissionMap,pe=re&&!!C.thicknessMap,ue=!!C.gradientMap,de=!!C.alphaMap,ae=C.alphaTest>0,te=!!C.alphaHash,we=!!C.extensions;let Ve=_i;C.toneMapped&&(ee===null||ee.isXRRenderTarget===!0)&&(Ve=t.toneMapping);const yt={shaderID:z,shaderType:C.type,shaderName:C.name,vertexShader:Ee,fragmentShader:We,defines:C.defines,customVertexShaderID:rt,customFragmentShaderID:J,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:p,batching:Ce,batchingColor:Ce&&U._colorsTexture!==null,instancing:Be,instancingColor:Be&&U.instanceColor!==null,instancingMorph:Be&&U.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:ee===null?t.outputColorSpace:ee.isXRRenderTarget===!0?ee.texture.colorSpace:Zo,alphaToCoverage:!!C.alphaToCoverage,map:$e,matcap:Ft,envMap:Ke,envMapMode:Ke&&$.mapping,envMapCubeUVHeight:L,aoMap:Et,lightMap:D,bumpMap:Ze,normalMap:et,displacementMap:f&&gt,emissiveMap:Ne,normalMapObjectSpace:et&&C.normalMapType===c7,normalMapTangentSpace:et&&C.normalMapType===l7,metalnessMap:Ct,roughnessMap:Re,anisotropy:He,anisotropyMap:Y,clearcoat:P,clearcoatMap:Ae,clearcoatNormalMap:fe,clearcoatRoughnessMap:Pe,dispersion:A,iridescence:V,iridescenceMap:Me,iridescenceThicknessMap:se,sheen:Z,sheenColorMap:ce,sheenRoughnessMap:Ue,specularMap:De,specularColorMap:ge,specularIntensityMap:ze,transmission:re,transmissionMap:I,thicknessMap:pe,gradientMap:ue,opaque:C.transparent===!1&&C.blending===ko&&C.alphaToCoverage===!1,alphaMap:de,alphaTest:ae,alphaHash:te,combine:C.combine,mapUv:$e&&g(C.map.channel),aoMapUv:Et&&g(C.aoMap.channel),lightMapUv:D&&g(C.lightMap.channel),bumpMapUv:Ze&&g(C.bumpMap.channel),normalMapUv:et&&g(C.normalMap.channel),displacementMapUv:gt&&g(C.displacementMap.channel),emissiveMapUv:Ne&&g(C.emissiveMap.channel),metalnessMapUv:Ct&&g(C.metalnessMap.channel),roughnessMapUv:Re&&g(C.roughnessMap.channel),anisotropyMapUv:Y&&g(C.anisotropyMap.channel),clearcoatMapUv:Ae&&g(C.clearcoatMap.channel),clearcoatNormalMapUv:fe&&g(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Pe&&g(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Me&&g(C.iridescenceMap.channel),iridescenceThicknessMapUv:se&&g(C.iridescenceThicknessMap.channel),sheenColorMapUv:ce&&g(C.sheenColorMap.channel),sheenRoughnessMapUv:Ue&&g(C.sheenRoughnessMap.channel),specularMapUv:De&&g(C.specularMap.channel),specularColorMapUv:ge&&g(C.specularColorMap.channel),specularIntensityMapUv:ze&&g(C.specularIntensityMap.channel),transmissionMapUv:I&&g(C.transmissionMap.channel),thicknessMapUv:pe&&g(C.thicknessMap.channel),alphaMapUv:de&&g(C.alphaMap.channel),vertexTangents:!!O.attributes.tangent&&(et||He),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,pointsUvs:U.isPoints===!0&&!!O.attributes.uv&&($e||de),fog:!!G,useFog:C.fog===!0,fogExp2:!!G&&G.isFogExp2,flatShading:C.flatShading===!0&&C.wireframe===!1,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:xe,skinning:U.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:le,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&j.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ve,decodeVideoTexture:$e&&C.map.isVideoTexture===!0&&at.getTransfer(C.map.colorSpace)===ht,decodeVideoTextureEmissive:Ne&&C.emissiveMap.isVideoTexture===!0&&at.getTransfer(C.emissiveMap.colorSpace)===ht,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===vs,flipSided:C.side===Hn,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:we&&C.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(we&&C.extensions.multiDraw===!0||Ce)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return yt.vertexUv1s=u.has(1),yt.vertexUv2s=u.has(2),yt.vertexUv3s=u.has(3),u.clear(),yt}function m(C){const N=[];if(C.shaderID?N.push(C.shaderID):(N.push(C.customVertexShaderID),N.push(C.customFragmentShaderID)),C.defines!==void 0)for(const j in C.defines)N.push(j),N.push(C.defines[j]);return C.isRawShaderMaterial===!1&&(y(N,C),b(N,C),N.push(t.outputColorSpace)),N.push(C.customProgramCacheKey),N.join()}function y(C,N){C.push(N.precision),C.push(N.outputColorSpace),C.push(N.envMapMode),C.push(N.envMapCubeUVHeight),C.push(N.mapUv),C.push(N.alphaMapUv),C.push(N.lightMapUv),C.push(N.aoMapUv),C.push(N.bumpMapUv),C.push(N.normalMapUv),C.push(N.displacementMapUv),C.push(N.emissiveMapUv),C.push(N.metalnessMapUv),C.push(N.roughnessMapUv),C.push(N.anisotropyMapUv),C.push(N.clearcoatMapUv),C.push(N.clearcoatNormalMapUv),C.push(N.clearcoatRoughnessMapUv),C.push(N.iridescenceMapUv),C.push(N.iridescenceThicknessMapUv),C.push(N.sheenColorMapUv),C.push(N.sheenRoughnessMapUv),C.push(N.specularMapUv),C.push(N.specularColorMapUv),C.push(N.specularIntensityMapUv),C.push(N.transmissionMapUv),C.push(N.thicknessMapUv),C.push(N.combine),C.push(N.fogExp2),C.push(N.sizeAttenuation),C.push(N.morphTargetsCount),C.push(N.morphAttributeCount),C.push(N.numDirLights),C.push(N.numPointLights),C.push(N.numSpotLights),C.push(N.numSpotLightMaps),C.push(N.numHemiLights),C.push(N.numRectAreaLights),C.push(N.numDirLightShadows),C.push(N.numPointLightShadows),C.push(N.numSpotLightShadows),C.push(N.numSpotLightShadowsWithMaps),C.push(N.numLightProbes),C.push(N.shadowMapType),C.push(N.toneMapping),C.push(N.numClippingPlanes),C.push(N.numClipIntersection),C.push(N.depthPacking)}function b(C,N){l.disableAll(),N.supportsVertexTextures&&l.enable(0),N.instancing&&l.enable(1),N.instancingColor&&l.enable(2),N.instancingMorph&&l.enable(3),N.matcap&&l.enable(4),N.envMap&&l.enable(5),N.normalMapObjectSpace&&l.enable(6),N.normalMapTangentSpace&&l.enable(7),N.clearcoat&&l.enable(8),N.iridescence&&l.enable(9),N.alphaTest&&l.enable(10),N.vertexColors&&l.enable(11),N.vertexAlphas&&l.enable(12),N.vertexUv1s&&l.enable(13),N.vertexUv2s&&l.enable(14),N.vertexUv3s&&l.enable(15),N.vertexTangents&&l.enable(16),N.anisotropy&&l.enable(17),N.alphaHash&&l.enable(18),N.batching&&l.enable(19),N.dispersion&&l.enable(20),N.batchingColor&&l.enable(21),N.gradientMap&&l.enable(22),C.push(l.mask),l.disableAll(),N.fog&&l.enable(0),N.useFog&&l.enable(1),N.flatShading&&l.enable(2),N.logarithmicDepthBuffer&&l.enable(3),N.reversedDepthBuffer&&l.enable(4),N.skinning&&l.enable(5),N.morphTargets&&l.enable(6),N.morphNormals&&l.enable(7),N.morphColors&&l.enable(8),N.premultipliedAlpha&&l.enable(9),N.shadowMapEnabled&&l.enable(10),N.doubleSided&&l.enable(11),N.flipSided&&l.enable(12),N.useDepthPacking&&l.enable(13),N.dithering&&l.enable(14),N.transmission&&l.enable(15),N.sheen&&l.enable(16),N.opaque&&l.enable(17),N.pointsUvs&&l.enable(18),N.decodeVideoTexture&&l.enable(19),N.decodeVideoTextureEmissive&&l.enable(20),N.alphaToCoverage&&l.enable(21),C.push(l.mask)}function w(C){const N=x[C.type];let j;if(N){const k=qr[N];j=U7.clone(k.uniforms)}else j=C.uniforms;return j}function S(C,N){let j;for(let k=0,U=d.length;k<U;k++){const G=d[k];if(G.cacheKey===N){j=G,++j.usedTimes;break}}return j===void 0&&(j=new uW(t,N,C,i),d.push(j)),j}function E(C){if(--C.usedTimes===0){const N=d.indexOf(C);d[N]=d[d.length-1],d.pop(),C.destroy()}}function T(C){c.remove(C)}function M(){c.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:w,acquireProgram:S,releaseProgram:E,releaseShaderCache:T,programs:d,dispose:M}}function mW(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let l=t.get(a);return l===void 0&&(l={},t.set(a,l)),l}function r(a){t.delete(a)}function s(a,l,c){t.get(a)[l]=c}function i(){t=new WeakMap}return{has:e,get:n,remove:r,update:s,dispose:i}}function gW(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function lS(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function cS(){const t=[];let e=0;const n=[],r=[],s=[];function i(){e=0,n.length=0,r.length=0,s.length=0}function a(h,f,p,x,g,v){let m=t[e];return m===void 0?(m={id:h.id,object:h,geometry:f,material:p,groupOrder:x,renderOrder:h.renderOrder,z:g,group:v},t[e]=m):(m.id=h.id,m.object=h,m.geometry=f,m.material=p,m.groupOrder=x,m.renderOrder=h.renderOrder,m.z=g,m.group=v),e++,m}function l(h,f,p,x,g,v){const m=a(h,f,p,x,g,v);p.transmission>0?r.push(m):p.transparent===!0?s.push(m):n.push(m)}function c(h,f,p,x,g,v){const m=a(h,f,p,x,g,v);p.transmission>0?r.unshift(m):p.transparent===!0?s.unshift(m):n.unshift(m)}function u(h,f){n.length>1&&n.sort(h||gW),r.length>1&&r.sort(f||lS),s.length>1&&s.sort(f||lS)}function d(){for(let h=e,f=t.length;h<f;h++){const p=t[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:s,init:i,push:l,unshift:c,finish:d,sort:u}}function xW(){let t=new WeakMap;function e(r,s){const i=t.get(r);let a;return i===void 0?(a=new cS,t.set(r,[a])):s>=i.length?(a=new cS,i.push(a)):a=i[s],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function vW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new K,color:new lt};break;case"SpotLight":n={position:new K,direction:new K,color:new lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new K,color:new lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new K,skyColor:new lt,groundColor:new lt};break;case"RectAreaLight":n={color:new lt,position:new K,halfWidth:new K,halfHeight:new K};break}return t[e.id]=n,n}}}function yW(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let bW=0;function _W(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function wW(t){const e=new vW,n=yW(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new K);const s=new K,i=new Yt,a=new Yt;function l(u){let d=0,h=0,f=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let p=0,x=0,g=0,v=0,m=0,y=0,b=0,w=0,S=0,E=0,T=0;u.sort(_W);for(let C=0,N=u.length;C<N;C++){const j=u[C],k=j.color,U=j.intensity,G=j.distance,O=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)d+=k.r*U,h+=k.g*U,f+=k.b*U;else if(j.isLightProbe){for(let H=0;H<9;H++)r.probe[H].addScaledVector(j.sh.coefficients[H],U);T++}else if(j.isDirectionalLight){const H=e.get(j);if(H.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const $=j.shadow,L=n.get(j);L.shadowIntensity=$.intensity,L.shadowBias=$.bias,L.shadowNormalBias=$.normalBias,L.shadowRadius=$.radius,L.shadowMapSize=$.mapSize,r.directionalShadow[p]=L,r.directionalShadowMap[p]=O,r.directionalShadowMatrix[p]=j.shadow.matrix,y++}r.directional[p]=H,p++}else if(j.isSpotLight){const H=e.get(j);H.position.setFromMatrixPosition(j.matrixWorld),H.color.copy(k).multiplyScalar(U),H.distance=G,H.coneCos=Math.cos(j.angle),H.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),H.decay=j.decay,r.spot[g]=H;const $=j.shadow;if(j.map&&(r.spotLightMap[S]=j.map,S++,$.updateMatrices(j),j.castShadow&&E++),r.spotLightMatrix[g]=$.matrix,j.castShadow){const L=n.get(j);L.shadowIntensity=$.intensity,L.shadowBias=$.bias,L.shadowNormalBias=$.normalBias,L.shadowRadius=$.radius,L.shadowMapSize=$.mapSize,r.spotShadow[g]=L,r.spotShadowMap[g]=O,w++}g++}else if(j.isRectAreaLight){const H=e.get(j);H.color.copy(k).multiplyScalar(U),H.halfWidth.set(j.width*.5,0,0),H.halfHeight.set(0,j.height*.5,0),r.rectArea[v]=H,v++}else if(j.isPointLight){const H=e.get(j);if(H.color.copy(j.color).multiplyScalar(j.intensity),H.distance=j.distance,H.decay=j.decay,j.castShadow){const $=j.shadow,L=n.get(j);L.shadowIntensity=$.intensity,L.shadowBias=$.bias,L.shadowNormalBias=$.normalBias,L.shadowRadius=$.radius,L.shadowMapSize=$.mapSize,L.shadowCameraNear=$.camera.near,L.shadowCameraFar=$.camera.far,r.pointShadow[x]=L,r.pointShadowMap[x]=O,r.pointShadowMatrix[x]=j.shadow.matrix,b++}r.point[x]=H,x++}else if(j.isHemisphereLight){const H=e.get(j);H.skyColor.copy(j.color).multiplyScalar(U),H.groundColor.copy(j.groundColor).multiplyScalar(U),r.hemi[m]=H,m++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=he.LTC_FLOAT_1,r.rectAreaLTC2=he.LTC_FLOAT_2):(r.rectAreaLTC1=he.LTC_HALF_1,r.rectAreaLTC2=he.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=f;const M=r.hash;(M.directionalLength!==p||M.pointLength!==x||M.spotLength!==g||M.rectAreaLength!==v||M.hemiLength!==m||M.numDirectionalShadows!==y||M.numPointShadows!==b||M.numSpotShadows!==w||M.numSpotMaps!==S||M.numLightProbes!==T)&&(r.directional.length=p,r.spot.length=g,r.rectArea.length=v,r.point.length=x,r.hemi.length=m,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=w,r.spotShadowMap.length=w,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=w+S-E,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=E,r.numLightProbes=T,M.directionalLength=p,M.pointLength=x,M.spotLength=g,M.rectAreaLength=v,M.hemiLength=m,M.numDirectionalShadows=y,M.numPointShadows=b,M.numSpotShadows=w,M.numSpotMaps=S,M.numLightProbes=T,r.version=bW++)}function c(u,d){let h=0,f=0,p=0,x=0,g=0;const v=d.matrixWorldInverse;for(let m=0,y=u.length;m<y;m++){const b=u[m];if(b.isDirectionalLight){const w=r.directional[h];w.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),h++}else if(b.isSpotLight){const w=r.spot[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(b.matrixWorld),s.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(v),p++}else if(b.isRectAreaLight){const w=r.rectArea[x];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),a.identity(),i.copy(b.matrixWorld),i.premultiply(v),a.extractRotation(i),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),x++}else if(b.isPointLight){const w=r.point[f];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),f++}else if(b.isHemisphereLight){const w=r.hemi[g];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(v),g++}}}return{setup:l,setupView:c,state:r}}function uS(t){const e=new wW(t),n=[],r=[];function s(d){u.camera=d,n.length=0,r.length=0}function i(d){n.push(d)}function a(d){r.push(d)}function l(){e.setup(n)}function c(d){e.setupView(n,d)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:u,setupLights:l,setupLightsView:c,pushLight:i,pushShadow:a}}function SW(t){let e=new WeakMap;function n(s,i=0){const a=e.get(s);let l;return a===void 0?(l=new uS(t),e.set(s,[l])):i>=a.length?(l=new uS(t),a.push(l)):l=a[i],l}function r(){e=new WeakMap}return{get:n,dispose:r}}const EW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,NW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function CW(t,e,n){let r=new tM;const s=new pt,i=new pt,a=new Gt,l=new Y7({depthPacking:o7}),c=new J7,u={},d=n.maxTextureSize,h={[Ni]:Hn,[Hn]:Ni,[vs]:vs},f=new Os({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pt},radius:{value:4}},vertexShader:EW,fragmentShader:NW}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const x=new as;x.setAttribute("position",new ts(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Ci(x,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kT;let m=this.type;this.render=function(E,T,M){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||E.length===0)return;const C=t.getRenderTarget(),N=t.getActiveCubeFace(),j=t.getActiveMipmapLevel(),k=t.state;k.setBlending(Cs),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const U=m!==ps&&this.type===ps,G=m===ps&&this.type!==ps;for(let O=0,H=E.length;O<H;O++){const $=E[O],L=$.shadow;if(L===void 0){Ge("WebGLShadowMap:",$,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;s.copy(L.mapSize);const z=L.getFrameExtents();if(s.multiply(z),i.copy(L.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(i.x=Math.floor(d/z.x),s.x=i.x*z.x,L.mapSize.x=i.x),s.y>d&&(i.y=Math.floor(d/z.y),s.y=i.y*z.y,L.mapSize.y=i.y)),L.map===null||U===!0||G===!0){const ne=this.type!==ps?{minFilter:rr,magFilter:rr}:{};L.map!==null&&L.map.dispose(),L.map=new Na(s.x,s.y,ne),L.map.texture.name=$.name+".shadowMap",L.camera.updateProjectionMatrix()}t.setRenderTarget(L.map),t.clear();const W=L.getViewportCount();for(let ne=0;ne<W;ne++){const le=L.getViewport(ne);a.set(i.x*le.x,i.y*le.y,i.x*le.z,i.y*le.w),k.viewport(a),L.updateMatrices($,ne),r=L.getFrustum(),w(T,M,L.camera,$,this.type)}L.isPointLightShadow!==!0&&this.type===ps&&y(L,M),L.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(C,N,j)};function y(E,T){const M=e.update(g);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,p.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new Na(s.x,s.y)),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(T,null,M,f,g,null),p.uniforms.shadow_pass.value=E.mapPass.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(T,null,M,p,g,null)}function b(E,T,M,C){let N=null;const j=M.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(j!==void 0)N=j;else if(N=M.isPointLight===!0?c:l,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0||T.alphaToCoverage===!0){const k=N.uuid,U=T.uuid;let G=u[k];G===void 0&&(G={},u[k]=G);let O=G[U];O===void 0&&(O=N.clone(),G[U]=O,T.addEventListener("dispose",S)),N=O}if(N.visible=T.visible,N.wireframe=T.wireframe,C===ps?N.side=T.shadowSide!==null?T.shadowSide:T.side:N.side=T.shadowSide!==null?T.shadowSide:h[T.side],N.alphaMap=T.alphaMap,N.alphaTest=T.alphaToCoverage===!0?.5:T.alphaTest,N.map=T.map,N.clipShadows=T.clipShadows,N.clippingPlanes=T.clippingPlanes,N.clipIntersection=T.clipIntersection,N.displacementMap=T.displacementMap,N.displacementScale=T.displacementScale,N.displacementBias=T.displacementBias,N.wireframeLinewidth=T.wireframeLinewidth,N.linewidth=T.linewidth,M.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const k=t.properties.get(N);k.light=M}return N}function w(E,T,M,C,N){if(E.visible===!1)return;if(E.layers.test(T.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&N===ps)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,E.matrixWorld);const U=e.update(E),G=E.material;if(Array.isArray(G)){const O=U.groups;for(let H=0,$=O.length;H<$;H++){const L=O[H],z=G[L.materialIndex];if(z&&z.visible){const W=b(E,z,C,N);E.onBeforeShadow(t,E,T,M,U,W,L),t.renderBufferDirect(M,null,U,W,E,L),E.onAfterShadow(t,E,T,M,U,W,L)}}}else if(G.visible){const O=b(E,G,C,N);E.onBeforeShadow(t,E,T,M,U,O,null),t.renderBufferDirect(M,null,U,O,E,null),E.onAfterShadow(t,E,T,M,U,O,null)}}const k=E.children;for(let U=0,G=k.length;U<G;U++)w(k[U],T,M,C,N)}function S(E){E.target.removeEventListener("dispose",S);for(const M in u){const C=u[M],N=E.target.uuid;N in C&&(C[N].dispose(),delete C[N])}}}const TW={[og]:lg,[cg]:hg,[ug]:fg,[Yo]:dg,[lg]:og,[hg]:cg,[fg]:ug,[dg]:Yo};function MW(t,e){function n(){let I=!1;const pe=new Gt;let ue=null;const de=new Gt(0,0,0,0);return{setMask:function(ae){ue!==ae&&!I&&(t.colorMask(ae,ae,ae,ae),ue=ae)},setLocked:function(ae){I=ae},setClear:function(ae,te,we,Ve,yt){yt===!0&&(ae*=Ve,te*=Ve,we*=Ve),pe.set(ae,te,we,Ve),de.equals(pe)===!1&&(t.clearColor(ae,te,we,Ve),de.copy(pe))},reset:function(){I=!1,ue=null,de.set(-1,0,0,0)}}}function r(){let I=!1,pe=!1,ue=null,de=null,ae=null;return{setReversed:function(te){if(pe!==te){const we=e.get("EXT_clip_control");te?we.clipControlEXT(we.LOWER_LEFT_EXT,we.ZERO_TO_ONE_EXT):we.clipControlEXT(we.LOWER_LEFT_EXT,we.NEGATIVE_ONE_TO_ONE_EXT),pe=te;const Ve=ae;ae=null,this.setClear(Ve)}},getReversed:function(){return pe},setTest:function(te){te?ee(t.DEPTH_TEST):xe(t.DEPTH_TEST)},setMask:function(te){ue!==te&&!I&&(t.depthMask(te),ue=te)},setFunc:function(te){if(pe&&(te=TW[te]),de!==te){switch(te){case og:t.depthFunc(t.NEVER);break;case lg:t.depthFunc(t.ALWAYS);break;case cg:t.depthFunc(t.LESS);break;case Yo:t.depthFunc(t.LEQUAL);break;case ug:t.depthFunc(t.EQUAL);break;case dg:t.depthFunc(t.GEQUAL);break;case hg:t.depthFunc(t.GREATER);break;case fg:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}de=te}},setLocked:function(te){I=te},setClear:function(te){ae!==te&&(pe&&(te=1-te),t.clearDepth(te),ae=te)},reset:function(){I=!1,ue=null,de=null,ae=null,pe=!1}}}function s(){let I=!1,pe=null,ue=null,de=null,ae=null,te=null,we=null,Ve=null,yt=null;return{setTest:function(ut){I||(ut?ee(t.STENCIL_TEST):xe(t.STENCIL_TEST))},setMask:function(ut){pe!==ut&&!I&&(t.stencilMask(ut),pe=ut)},setFunc:function(ut,Gr,Er){(ue!==ut||de!==Gr||ae!==Er)&&(t.stencilFunc(ut,Gr,Er),ue=ut,de=Gr,ae=Er)},setOp:function(ut,Gr,Er){(te!==ut||we!==Gr||Ve!==Er)&&(t.stencilOp(ut,Gr,Er),te=ut,we=Gr,Ve=Er)},setLocked:function(ut){I=ut},setClear:function(ut){yt!==ut&&(t.clearStencil(ut),yt=ut)},reset:function(){I=!1,pe=null,ue=null,de=null,ae=null,te=null,we=null,Ve=null,yt=null}}}const i=new n,a=new r,l=new s,c=new WeakMap,u=new WeakMap;let d={},h={},f=new WeakMap,p=[],x=null,g=!1,v=null,m=null,y=null,b=null,w=null,S=null,E=null,T=new lt(0,0,0),M=0,C=!1,N=null,j=null,k=null,U=null,G=null;const O=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,$=0;const L=t.getParameter(t.VERSION);L.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(L)[1]),H=$>=1):L.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),H=$>=2);let z=null,W={};const ne=t.getParameter(t.SCISSOR_BOX),le=t.getParameter(t.VIEWPORT),Ee=new Gt().fromArray(ne),We=new Gt().fromArray(le);function rt(I,pe,ue,de){const ae=new Uint8Array(4),te=t.createTexture();t.bindTexture(I,te),t.texParameteri(I,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(I,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let we=0;we<ue;we++)I===t.TEXTURE_3D||I===t.TEXTURE_2D_ARRAY?t.texImage3D(pe,0,t.RGBA,1,1,de,0,t.RGBA,t.UNSIGNED_BYTE,ae):t.texImage2D(pe+we,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ae);return te}const J={};J[t.TEXTURE_2D]=rt(t.TEXTURE_2D,t.TEXTURE_2D,1),J[t.TEXTURE_CUBE_MAP]=rt(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),J[t.TEXTURE_2D_ARRAY]=rt(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),J[t.TEXTURE_3D]=rt(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),l.setClear(0),ee(t.DEPTH_TEST),a.setFunc(Yo),Ze(!1),et(f1),ee(t.CULL_FACE),Et(Cs);function ee(I){d[I]!==!0&&(t.enable(I),d[I]=!0)}function xe(I){d[I]!==!1&&(t.disable(I),d[I]=!1)}function Be(I,pe){return h[I]!==pe?(t.bindFramebuffer(I,pe),h[I]=pe,I===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=pe),I===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=pe),!0):!1}function Ce(I,pe){let ue=p,de=!1;if(I){ue=f.get(pe),ue===void 0&&(ue=[],f.set(pe,ue));const ae=I.textures;if(ue.length!==ae.length||ue[0]!==t.COLOR_ATTACHMENT0){for(let te=0,we=ae.length;te<we;te++)ue[te]=t.COLOR_ATTACHMENT0+te;ue.length=ae.length,de=!0}}else ue[0]!==t.BACK&&(ue[0]=t.BACK,de=!0);de&&t.drawBuffers(ue)}function $e(I){return x!==I?(t.useProgram(I),x=I,!0):!1}const Ft={[sa]:t.FUNC_ADD,[kB]:t.FUNC_SUBTRACT,[DB]:t.FUNC_REVERSE_SUBTRACT};Ft[LB]=t.MIN,Ft[IB]=t.MAX;const Ke={[OB]:t.ZERO,[UB]:t.ONE,[FB]:t.SRC_COLOR,[ig]:t.SRC_ALPHA,[WB]:t.SRC_ALPHA_SATURATE,[HB]:t.DST_COLOR,[zB]:t.DST_ALPHA,[BB]:t.ONE_MINUS_SRC_COLOR,[ag]:t.ONE_MINUS_SRC_ALPHA,[GB]:t.ONE_MINUS_DST_COLOR,[VB]:t.ONE_MINUS_DST_ALPHA,[$B]:t.CONSTANT_COLOR,[qB]:t.ONE_MINUS_CONSTANT_COLOR,[XB]:t.CONSTANT_ALPHA,[KB]:t.ONE_MINUS_CONSTANT_ALPHA};function Et(I,pe,ue,de,ae,te,we,Ve,yt,ut){if(I===Cs){g===!0&&(xe(t.BLEND),g=!1);return}if(g===!1&&(ee(t.BLEND),g=!0),I!==PB){if(I!==v||ut!==C){if((m!==sa||w!==sa)&&(t.blendEquation(t.FUNC_ADD),m=sa,w=sa),ut)switch(I){case ko:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p1:t.blendFunc(t.ONE,t.ONE);break;case m1:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case g1:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Ht("WebGLState: Invalid blending: ",I);break}else switch(I){case ko:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case p1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case m1:Ht("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case g1:Ht("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Ht("WebGLState: Invalid blending: ",I);break}y=null,b=null,S=null,E=null,T.set(0,0,0),M=0,v=I,C=ut}return}ae=ae||pe,te=te||ue,we=we||de,(pe!==m||ae!==w)&&(t.blendEquationSeparate(Ft[pe],Ft[ae]),m=pe,w=ae),(ue!==y||de!==b||te!==S||we!==E)&&(t.blendFuncSeparate(Ke[ue],Ke[de],Ke[te],Ke[we]),y=ue,b=de,S=te,E=we),(Ve.equals(T)===!1||yt!==M)&&(t.blendColor(Ve.r,Ve.g,Ve.b,yt),T.copy(Ve),M=yt),v=I,C=!1}function D(I,pe){I.side===vs?xe(t.CULL_FACE):ee(t.CULL_FACE);let ue=I.side===Hn;pe&&(ue=!ue),Ze(ue),I.blending===ko&&I.transparent===!1?Et(Cs):Et(I.blending,I.blendEquation,I.blendSrc,I.blendDst,I.blendEquationAlpha,I.blendSrcAlpha,I.blendDstAlpha,I.blendColor,I.blendAlpha,I.premultipliedAlpha),a.setFunc(I.depthFunc),a.setTest(I.depthTest),a.setMask(I.depthWrite),i.setMask(I.colorWrite);const de=I.stencilWrite;l.setTest(de),de&&(l.setMask(I.stencilWriteMask),l.setFunc(I.stencilFunc,I.stencilRef,I.stencilFuncMask),l.setOp(I.stencilFail,I.stencilZFail,I.stencilZPass)),Ne(I.polygonOffset,I.polygonOffsetFactor,I.polygonOffsetUnits),I.alphaToCoverage===!0?ee(t.SAMPLE_ALPHA_TO_COVERAGE):xe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ze(I){N!==I&&(I?t.frontFace(t.CW):t.frontFace(t.CCW),N=I)}function et(I){I!==AB?(ee(t.CULL_FACE),I!==j&&(I===f1?t.cullFace(t.BACK):I===jB?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):xe(t.CULL_FACE),j=I}function gt(I){I!==k&&(H&&t.lineWidth(I),k=I)}function Ne(I,pe,ue){I?(ee(t.POLYGON_OFFSET_FILL),(U!==pe||G!==ue)&&(t.polygonOffset(pe,ue),U=pe,G=ue)):xe(t.POLYGON_OFFSET_FILL)}function Ct(I){I?ee(t.SCISSOR_TEST):xe(t.SCISSOR_TEST)}function Re(I){I===void 0&&(I=t.TEXTURE0+O-1),z!==I&&(t.activeTexture(I),z=I)}function He(I,pe,ue){ue===void 0&&(z===null?ue=t.TEXTURE0+O-1:ue=z);let de=W[ue];de===void 0&&(de={type:void 0,texture:void 0},W[ue]=de),(de.type!==I||de.texture!==pe)&&(z!==ue&&(t.activeTexture(ue),z=ue),t.bindTexture(I,pe||J[I]),de.type=I,de.texture=pe)}function P(){const I=W[z];I!==void 0&&I.type!==void 0&&(t.bindTexture(I.type,null),I.type=void 0,I.texture=void 0)}function A(){try{t.compressedTexImage2D(...arguments)}catch(I){I("WebGLState:",I)}}function V(){try{t.compressedTexImage3D(...arguments)}catch(I){I("WebGLState:",I)}}function Z(){try{t.texSubImage2D(...arguments)}catch(I){I("WebGLState:",I)}}function re(){try{t.texSubImage3D(...arguments)}catch(I){I("WebGLState:",I)}}function Y(){try{t.compressedTexSubImage2D(...arguments)}catch(I){I("WebGLState:",I)}}function Ae(){try{t.compressedTexSubImage3D(...arguments)}catch(I){I("WebGLState:",I)}}function fe(){try{t.texStorage2D(...arguments)}catch(I){I("WebGLState:",I)}}function Pe(){try{t.texStorage3D(...arguments)}catch(I){I("WebGLState:",I)}}function Me(){try{t.texImage2D(...arguments)}catch(I){I("WebGLState:",I)}}function se(){try{t.texImage3D(...arguments)}catch(I){I("WebGLState:",I)}}function ce(I){Ee.equals(I)===!1&&(t.scissor(I.x,I.y,I.z,I.w),Ee.copy(I))}function Ue(I){We.equals(I)===!1&&(t.viewport(I.x,I.y,I.z,I.w),We.copy(I))}function De(I,pe){let ue=u.get(pe);ue===void 0&&(ue=new WeakMap,u.set(pe,ue));let de=ue.get(I);de===void 0&&(de=t.getUniformBlockIndex(pe,I.name),ue.set(I,de))}function ge(I,pe){const de=u.get(pe).get(I);c.get(pe)!==de&&(t.uniformBlockBinding(pe,de,I.__bindingPointIndex),c.set(pe,de))}function ze(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},z=null,W={},h={},f=new WeakMap,p=[],x=null,g=!1,v=null,m=null,y=null,b=null,w=null,S=null,E=null,T=new lt(0,0,0),M=0,C=!1,N=null,j=null,k=null,U=null,G=null,Ee.set(0,0,t.canvas.width,t.canvas.height),We.set(0,0,t.canvas.width,t.canvas.height),i.reset(),a.reset(),l.reset()}return{buffers:{color:i,depth:a,stencil:l},enable:ee,disable:xe,bindFramebuffer:Be,drawBuffers:Ce,useProgram:$e,setBlending:Et,setMaterial:D,setFlipSided:Ze,setCullFace:et,setLineWidth:gt,setPolygonOffset:Ne,setScissorTest:Ct,activeTexture:Re,bindTexture:He,unbindTexture:P,compressedTexImage2D:A,compressedTexImage3D:V,texImage2D:Me,texImage3D:se,updateUBOMapping:De,uniformBlockBinding:ge,texStorage2D:fe,texStorage3D:Pe,texSubImage2D:Z,texSubImage3D:re,compressedTexSubImage2D:Y,compressedTexSubImage3D:Ae,scissor:ce,viewport:Ue,reset:ze}}function AW(t,e,n,r,s,i,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new pt,d=new WeakMap;let h;const f=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(P,A){return p?new OffscreenCanvas(P,A):Lh("canvas")}function g(P,A,V){let Z=1;const re=He(P);if((re.width>V||re.height>V)&&(Z=V/Math.max(re.width,re.height)),Z<1)if(typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&P instanceof ImageBitmap||typeof VideoFrame<"u"&&P instanceof VideoFrame){const Y=Math.floor(Z*re.width),Ae=Math.floor(Z*re.height);h===void 0&&(h=x(Y,Ae));const fe=A?x(Y,Ae):h;return fe.width=Y,fe.height=Ae,fe.getContext("2d").drawImage(P,0,0,Y,Ae),Ge("WebGLRenderer: Texture has been resized from ("+re.width+"x"+re.height+") to ("+Y+"x"+Ae+")."),fe}else return"data"in P&&Ge("WebGLRenderer: Image in DataTexture is too big ("+re.width+"x"+re.height+")."),P;return P}function v(P){return P.generateMipmaps}function m(P){t.generateMipmap(P)}function y(P){return P.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:P.isWebGL3DRenderTarget?t.TEXTURE_3D:P.isWebGLArrayRenderTarget||P.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(P,A,V,Z,re=!1){if(P!==null){if(t[P]!==void 0)return t[P];Ge("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let Y=A;if(A===t.RED&&(V===t.FLOAT&&(Y=t.R32F),V===t.HALF_FLOAT&&(Y=t.R16F),V===t.UNSIGNED_BYTE&&(Y=t.R8)),A===t.RED_INTEGER&&(V===t.UNSIGNED_BYTE&&(Y=t.R8UI),V===t.UNSIGNED_SHORT&&(Y=t.R16UI),V===t.UNSIGNED_INT&&(Y=t.R32UI),V===t.BYTE&&(Y=t.R8I),V===t.SHORT&&(Y=t.R16I),V===t.INT&&(Y=t.R32I)),A===t.RG&&(V===t.FLOAT&&(Y=t.RG32F),V===t.HALF_FLOAT&&(Y=t.RG16F),V===t.UNSIGNED_BYTE&&(Y=t.RG8)),A===t.RG_INTEGER&&(V===t.UNSIGNED_BYTE&&(Y=t.RG8UI),V===t.UNSIGNED_SHORT&&(Y=t.RG16UI),V===t.UNSIGNED_INT&&(Y=t.RG32UI),V===t.BYTE&&(Y=t.RG8I),V===t.SHORT&&(Y=t.RG16I),V===t.INT&&(Y=t.RG32I)),A===t.RGB_INTEGER&&(V===t.UNSIGNED_BYTE&&(Y=t.RGB8UI),V===t.UNSIGNED_SHORT&&(Y=t.RGB16UI),V===t.UNSIGNED_INT&&(Y=t.RGB32UI),V===t.BYTE&&(Y=t.RGB8I),V===t.SHORT&&(Y=t.RGB16I),V===t.INT&&(Y=t.RGB32I)),A===t.RGBA_INTEGER&&(V===t.UNSIGNED_BYTE&&(Y=t.RGBA8UI),V===t.UNSIGNED_SHORT&&(Y=t.RGBA16UI),V===t.UNSIGNED_INT&&(Y=t.RGBA32UI),V===t.BYTE&&(Y=t.RGBA8I),V===t.SHORT&&(Y=t.RGBA16I),V===t.INT&&(Y=t.RGBA32I)),A===t.RGB&&(V===t.UNSIGNED_INT_5_9_9_9_REV&&(Y=t.RGB9_E5),V===t.UNSIGNED_INT_10F_11F_11F_REV&&(Y=t.R11F_G11F_B10F)),A===t.RGBA){const Ae=re?kh:at.getTransfer(Z);V===t.FLOAT&&(Y=t.RGBA32F),V===t.HALF_FLOAT&&(Y=t.RGBA16F),V===t.UNSIGNED_BYTE&&(Y=Ae===ht?t.SRGB8_ALPHA8:t.RGBA8),V===t.UNSIGNED_SHORT_4_4_4_4&&(Y=t.RGBA4),V===t.UNSIGNED_SHORT_5_5_5_1&&(Y=t.RGB5_A1)}return(Y===t.R16F||Y===t.R32F||Y===t.RG16F||Y===t.RG32F||Y===t.RGBA16F||Y===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Y}function w(P,A){let V;return P?A===null||A===Ea||A===zc?V=t.DEPTH24_STENCIL8:A===ws?V=t.DEPTH32F_STENCIL8:A===Bc&&(V=t.DEPTH24_STENCIL8,Ge("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):A===null||A===Ea||A===zc?V=t.DEPTH_COMPONENT24:A===ws?V=t.DEPTH_COMPONENT32F:A===Bc&&(V=t.DEPTH_COMPONENT16),V}function S(P,A){return v(P)===!0||P.isFramebufferTexture&&P.minFilter!==rr&&P.minFilter!==br?Math.log2(Math.max(A.width,A.height))+1:P.mipmaps!==void 0&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?A.mipmaps.length:1}function E(P){const A=P.target;A.removeEventListener("dispose",E),M(A),A.isVideoTexture&&d.delete(A)}function T(P){const A=P.target;A.removeEventListener("dispose",T),N(A)}function M(P){const A=r.get(P);if(A.__webglInit===void 0)return;const V=P.source,Z=f.get(V);if(Z){const re=Z[A.__cacheKey];re.usedTimes--,re.usedTimes===0&&C(P),Object.keys(Z).length===0&&f.delete(V)}r.remove(P)}function C(P){const A=r.get(P);t.deleteTexture(A.__webglTexture);const V=P.source,Z=f.get(V);delete Z[A.__cacheKey],a.memory.textures--}function N(P){const A=r.get(P);if(P.depthTexture&&(P.depthTexture.dispose(),r.remove(P.depthTexture)),P.isWebGLCubeRenderTarget)for(let Z=0;Z<6;Z++){if(Array.isArray(A.__webglFramebuffer[Z]))for(let re=0;re<A.__webglFramebuffer[Z].length;re++)t.deleteFramebuffer(A.__webglFramebuffer[Z][re]);else t.deleteFramebuffer(A.__webglFramebuffer[Z]);A.__webglDepthbuffer&&t.deleteRenderbuffer(A.__webglDepthbuffer[Z])}else{if(Array.isArray(A.__webglFramebuffer))for(let Z=0;Z<A.__webglFramebuffer.length;Z++)t.deleteFramebuffer(A.__webglFramebuffer[Z]);else t.deleteFramebuffer(A.__webglFramebuffer);if(A.__webglDepthbuffer&&t.deleteRenderbuffer(A.__webglDepthbuffer),A.__webglMultisampledFramebuffer&&t.deleteFramebuffer(A.__webglMultisampledFramebuffer),A.__webglColorRenderbuffer)for(let Z=0;Z<A.__webglColorRenderbuffer.length;Z++)A.__webglColorRenderbuffer[Z]&&t.deleteRenderbuffer(A.__webglColorRenderbuffer[Z]);A.__webglDepthRenderbuffer&&t.deleteRenderbuffer(A.__webglDepthRenderbuffer)}const V=P.textures;for(let Z=0,re=V.length;Z<re;Z++){const Y=r.get(V[Z]);Y.__webglTexture&&(t.deleteTexture(Y.__webglTexture),a.memory.textures--),r.remove(V[Z])}r.remove(P)}let j=0;function k(){j=0}function U(){const P=j;return P>=s.maxTextures&&Ge("WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+s.maxTextures),j+=1,P}function G(P){const A=[];return A.push(P.wrapS),A.push(P.wrapT),A.push(P.wrapR||0),A.push(P.magFilter),A.push(P.minFilter),A.push(P.anisotropy),A.push(P.internalFormat),A.push(P.format),A.push(P.type),A.push(P.generateMipmaps),A.push(P.premultiplyAlpha),A.push(P.flipY),A.push(P.unpackAlignment),A.push(P.colorSpace),A.join()}function O(P,A){const V=r.get(P);if(P.isVideoTexture&&Ct(P),P.isRenderTargetTexture===!1&&P.isExternalTexture!==!0&&P.version>0&&V.__version!==P.version){const Z=P.image;if(Z===null)Ge("WebGLRenderer: Texture marked for update but no image data found.");else if(Z.complete===!1)Ge("WebGLRenderer: Texture marked for update but image is incomplete");else{J(V,P,A);return}}else P.isExternalTexture&&(V.__webglTexture=P.sourceTexture?P.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,V.__webglTexture,t.TEXTURE0+A)}function H(P,A){const V=r.get(P);if(P.isRenderTargetTexture===!1&&P.version>0&&V.__version!==P.version){J(V,P,A);return}else P.isExternalTexture&&(V.__webglTexture=P.sourceTexture?P.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,V.__webglTexture,t.TEXTURE0+A)}function $(P,A){const V=r.get(P);if(P.isRenderTargetTexture===!1&&P.version>0&&V.__version!==P.version){J(V,P,A);return}n.bindTexture(t.TEXTURE_3D,V.__webglTexture,t.TEXTURE0+A)}function L(P,A){const V=r.get(P);if(P.version>0&&V.__version!==P.version){ee(V,P,A);return}n.bindTexture(t.TEXTURE_CUBE_MAP,V.__webglTexture,t.TEXTURE0+A)}const z={[gg]:t.REPEAT,[_s]:t.CLAMP_TO_EDGE,[xg]:t.MIRRORED_REPEAT},W={[rr]:t.NEAREST,[i7]:t.NEAREST_MIPMAP_NEAREST,[Qu]:t.NEAREST_MIPMAP_LINEAR,[br]:t.LINEAR,[qp]:t.LINEAR_MIPMAP_NEAREST,[ha]:t.LINEAR_MIPMAP_LINEAR},ne={[u7]:t.NEVER,[g7]:t.ALWAYS,[d7]:t.LESS,[HT]:t.LEQUAL,[h7]:t.EQUAL,[m7]:t.GEQUAL,[f7]:t.GREATER,[p7]:t.NOTEQUAL};function le(P,A){if(A.type===ws&&e.has("OES_texture_float_linear")===!1&&(A.magFilter===br||A.magFilter===qp||A.magFilter===Qu||A.magFilter===ha||A.minFilter===br||A.minFilter===qp||A.minFilter===Qu||A.minFilter===ha)&&Ge("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(P,t.TEXTURE_WRAP_S,z[A.wrapS]),t.texParameteri(P,t.TEXTURE_WRAP_T,z[A.wrapT]),(P===t.TEXTURE_3D||P===t.TEXTURE_2D_ARRAY)&&t.texParameteri(P,t.TEXTURE_WRAP_R,z[A.wrapR]),t.texParameteri(P,t.TEXTURE_MAG_FILTER,W[A.magFilter]),t.texParameteri(P,t.TEXTURE_MIN_FILTER,W[A.minFilter]),A.compareFunction&&(t.texParameteri(P,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(P,t.TEXTURE_COMPARE_FUNC,ne[A.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(A.magFilter===rr||A.minFilter!==Qu&&A.minFilter!==ha||A.type===ws&&e.has("OES_texture_float_linear")===!1)return;if(A.anisotropy>1||r.get(A).__currentAnisotropy){const V=e.get("EXT_texture_filter_anisotropic");t.texParameterf(P,V.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(A.anisotropy,s.getMaxAnisotropy())),r.get(A).__currentAnisotropy=A.anisotropy}}}function Ee(P,A){let V=!1;P.__webglInit===void 0&&(P.__webglInit=!0,A.addEventListener("dispose",E));const Z=A.source;let re=f.get(Z);re===void 0&&(re={},f.set(Z,re));const Y=G(A);if(Y!==P.__cacheKey){re[Y]===void 0&&(re[Y]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,V=!0),re[Y].usedTimes++;const Ae=re[P.__cacheKey];Ae!==void 0&&(re[P.__cacheKey].usedTimes--,Ae.usedTimes===0&&C(A)),P.__cacheKey=Y,P.__webglTexture=re[Y].texture}return V}function We(P,A,V){return Math.floor(Math.floor(P/V)/A)}function rt(P,A,V,Z){const Y=P.updateRanges;if(Y.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,A.width,A.height,V,Z,A.data);else{Y.sort((se,ce)=>se.start-ce.start);let Ae=0;for(let se=1;se<Y.length;se++){const ce=Y[Ae],Ue=Y[se],De=ce.start+ce.count,ge=We(Ue.start,A.width,4),ze=We(ce.start,A.width,4);Ue.start<=De+1&&ge===ze&&We(Ue.start+Ue.count-1,A.width,4)===ge?ce.count=Math.max(ce.count,Ue.start+Ue.count-ce.start):(++Ae,Y[Ae]=Ue)}Y.length=Ae+1;const fe=t.getParameter(t.UNPACK_ROW_LENGTH),Pe=t.getParameter(t.UNPACK_SKIP_PIXELS),Me=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,A.width);for(let se=0,ce=Y.length;se<ce;se++){const Ue=Y[se],De=Math.floor(Ue.start/4),ge=Math.ceil(Ue.count/4),ze=De%A.width,I=Math.floor(De/A.width),pe=ge,ue=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,ze),t.pixelStorei(t.UNPACK_SKIP_ROWS,I),n.texSubImage2D(t.TEXTURE_2D,0,ze,I,pe,ue,V,Z,A.data)}P.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,fe),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Pe),t.pixelStorei(t.UNPACK_SKIP_ROWS,Me)}}function J(P,A,V){let Z=t.TEXTURE_2D;(A.isDataArrayTexture||A.isCompressedArrayTexture)&&(Z=t.TEXTURE_2D_ARRAY),A.isData3DTexture&&(Z=t.TEXTURE_3D);const re=Ee(P,A),Y=A.source;n.bindTexture(Z,P.__webglTexture,t.TEXTURE0+V);const Ae=r.get(Y);if(Y.version!==Ae.__version||re===!0){n.activeTexture(t.TEXTURE0+V);const fe=at.getPrimaries(at.workingColorSpace),Pe=A.colorSpace===ii?null:at.getPrimaries(A.colorSpace),Me=A.colorSpace===ii||fe===Pe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,A.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,A.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Me);let se=g(A.image,!1,s.maxTextureSize);se=Re(A,se);const ce=i.convert(A.format,A.colorSpace),Ue=i.convert(A.type);let De=b(A.internalFormat,ce,Ue,A.colorSpace,A.isVideoTexture);le(Z,A);let ge;const ze=A.mipmaps,I=A.isVideoTexture!==!0,pe=Ae.__version===void 0||re===!0,ue=Y.dataReady,de=S(A,se);if(A.isDepthTexture)De=w(A.format===Hc,A.type),pe&&(I?n.texStorage2D(t.TEXTURE_2D,1,De,se.width,se.height):n.texImage2D(t.TEXTURE_2D,0,De,se.width,se.height,0,ce,Ue,null));else if(A.isDataTexture)if(ze.length>0){I&&pe&&n.texStorage2D(t.TEXTURE_2D,de,De,ze[0].width,ze[0].height);for(let ae=0,te=ze.length;ae<te;ae++)ge=ze[ae],I?ue&&n.texSubImage2D(t.TEXTURE_2D,ae,0,0,ge.width,ge.height,ce,Ue,ge.data):n.texImage2D(t.TEXTURE_2D,ae,De,ge.width,ge.height,0,ce,Ue,ge.data);A.generateMipmaps=!1}else I?(pe&&n.texStorage2D(t.TEXTURE_2D,de,De,se.width,se.height),ue&&rt(A,se,ce,Ue)):n.texImage2D(t.TEXTURE_2D,0,De,se.width,se.height,0,ce,Ue,se.data);else if(A.isCompressedTexture)if(A.isCompressedArrayTexture){I&&pe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,de,De,ze[0].width,ze[0].height,se.depth);for(let ae=0,te=ze.length;ae<te;ae++)if(ge=ze[ae],A.format!==Or)if(ce!==null)if(I){if(ue)if(A.layerUpdates.size>0){const we=z1(ge.width,ge.height,A.format,A.type);for(const Ve of A.layerUpdates){const yt=ge.data.subarray(Ve*we/ge.data.BYTES_PER_ELEMENT,(Ve+1)*we/ge.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,Ve,ge.width,ge.height,1,ce,yt)}A.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,ge.width,ge.height,se.depth,ce,ge.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ae,De,ge.width,ge.height,se.depth,0,ge.data,0,0);else Ge("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else I?ue&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,ge.width,ge.height,se.depth,ce,Ue,ge.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ae,De,ge.width,ge.height,se.depth,0,ce,Ue,ge.data)}else{I&&pe&&n.texStorage2D(t.TEXTURE_2D,de,De,ze[0].width,ze[0].height);for(let ae=0,te=ze.length;ae<te;ae++)ge=ze[ae],A.format!==Or?ce!==null?I?ue&&n.compressedTexSubImage2D(t.TEXTURE_2D,ae,0,0,ge.width,ge.height,ce,ge.data):n.compressedTexImage2D(t.TEXTURE_2D,ae,De,ge.width,ge.height,0,ge.data):Ge("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):I?ue&&n.texSubImage2D(t.TEXTURE_2D,ae,0,0,ge.width,ge.height,ce,Ue,ge.data):n.texImage2D(t.TEXTURE_2D,ae,De,ge.width,ge.height,0,ce,Ue,ge.data)}else if(A.isDataArrayTexture)if(I){if(pe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,de,De,se.width,se.height,se.depth),ue)if(A.layerUpdates.size>0){const ae=z1(se.width,se.height,A.format,A.type);for(const te of A.layerUpdates){const we=se.data.subarray(te*ae/se.data.BYTES_PER_ELEMENT,(te+1)*ae/se.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,te,se.width,se.height,1,ce,Ue,we)}A.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,se.width,se.height,se.depth,ce,Ue,se.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,De,se.width,se.height,se.depth,0,ce,Ue,se.data);else if(A.isData3DTexture)I?(pe&&n.texStorage3D(t.TEXTURE_3D,de,De,se.width,se.height,se.depth),ue&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,se.width,se.height,se.depth,ce,Ue,se.data)):n.texImage3D(t.TEXTURE_3D,0,De,se.width,se.height,se.depth,0,ce,Ue,se.data);else if(A.isFramebufferTexture){if(pe)if(I)n.texStorage2D(t.TEXTURE_2D,de,De,se.width,se.height);else{let ae=se.width,te=se.height;for(let we=0;we<de;we++)n.texImage2D(t.TEXTURE_2D,we,De,ae,te,0,ce,Ue,null),ae>>=1,te>>=1}}else if(ze.length>0){if(I&&pe){const ae=He(ze[0]);n.texStorage2D(t.TEXTURE_2D,de,De,ae.width,ae.height)}for(let ae=0,te=ze.length;ae<te;ae++)ge=ze[ae],I?ue&&n.texSubImage2D(t.TEXTURE_2D,ae,0,0,ce,Ue,ge):n.texImage2D(t.TEXTURE_2D,ae,De,ce,Ue,ge);A.generateMipmaps=!1}else if(I){if(pe){const ae=He(se);n.texStorage2D(t.TEXTURE_2D,de,De,ae.width,ae.height)}ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ce,Ue,se)}else n.texImage2D(t.TEXTURE_2D,0,De,ce,Ue,se);v(A)&&m(Z),Ae.__version=Y.version,A.onUpdate&&A.onUpdate(A)}P.__version=A.version}function ee(P,A,V){if(A.image.length!==6)return;const Z=Ee(P,A),re=A.source;n.bindTexture(t.TEXTURE_CUBE_MAP,P.__webglTexture,t.TEXTURE0+V);const Y=r.get(re);if(re.version!==Y.__version||Z===!0){n.activeTexture(t.TEXTURE0+V);const Ae=at.getPrimaries(at.workingColorSpace),fe=A.colorSpace===ii?null:at.getPrimaries(A.colorSpace),Pe=A.colorSpace===ii||Ae===fe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,A.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,A.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Pe);const Me=A.isCompressedTexture||A.image[0].isCompressedTexture,se=A.image[0]&&A.image[0].isDataTexture,ce=[];for(let te=0;te<6;te++)!Me&&!se?ce[te]=g(A.image[te],!0,s.maxCubemapSize):ce[te]=se?A.image[te].image:A.image[te],ce[te]=Re(A,ce[te]);const Ue=ce[0],De=i.convert(A.format,A.colorSpace),ge=i.convert(A.type),ze=b(A.internalFormat,De,ge,A.colorSpace),I=A.isVideoTexture!==!0,pe=Y.__version===void 0||Z===!0,ue=re.dataReady;let de=S(A,Ue);le(t.TEXTURE_CUBE_MAP,A);let ae;if(Me){I&&pe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,de,ze,Ue.width,Ue.height);for(let te=0;te<6;te++){ae=ce[te].mipmaps;for(let we=0;we<ae.length;we++){const Ve=ae[we];A.format!==Or?De!==null?I?ue&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we,0,0,Ve.width,Ve.height,De,Ve.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we,ze,Ve.width,Ve.height,0,Ve.data):Ge("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):I?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we,0,0,Ve.width,Ve.height,De,ge,Ve.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we,ze,Ve.width,Ve.height,0,De,ge,Ve.data)}}}else{if(ae=A.mipmaps,I&&pe){ae.length>0&&de++;const te=He(ce[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,de,ze,te.width,te.height)}for(let te=0;te<6;te++)if(se){I?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,0,0,ce[te].width,ce[te].height,De,ge,ce[te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,ze,ce[te].width,ce[te].height,0,De,ge,ce[te].data);for(let we=0;we<ae.length;we++){const yt=ae[we].image[te].image;I?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we+1,0,0,yt.width,yt.height,De,ge,yt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we+1,ze,yt.width,yt.height,0,De,ge,yt.data)}}else{I?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,0,0,De,ge,ce[te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,0,ze,De,ge,ce[te]);for(let we=0;we<ae.length;we++){const Ve=ae[we];I?ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we+1,0,0,De,ge,Ve.image[te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+te,we+1,ze,De,ge,Ve.image[te])}}}v(A)&&m(t.TEXTURE_CUBE_MAP),Y.__version=re.version,A.onUpdate&&A.onUpdate(A)}P.__version=A.version}function xe(P,A,V,Z,re,Y){const Ae=i.convert(V.format,V.colorSpace),fe=i.convert(V.type),Pe=b(V.internalFormat,Ae,fe,V.colorSpace),Me=r.get(A),se=r.get(V);if(se.__renderTarget=A,!Me.__hasExternalTextures){const ce=Math.max(1,A.width>>Y),Ue=Math.max(1,A.height>>Y);re===t.TEXTURE_3D||re===t.TEXTURE_2D_ARRAY?n.texImage3D(re,Y,Pe,ce,Ue,A.depth,0,Ae,fe,null):n.texImage2D(re,Y,Pe,ce,Ue,0,Ae,fe,null)}n.bindFramebuffer(t.FRAMEBUFFER,P),Ne(A)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Z,re,se.__webglTexture,0,gt(A)):(re===t.TEXTURE_2D||re>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&re<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Z,re,se.__webglTexture,Y),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Be(P,A,V){if(t.bindRenderbuffer(t.RENDERBUFFER,P),A.depthBuffer){const Z=A.depthTexture,re=Z&&Z.isDepthTexture?Z.type:null,Y=w(A.stencilBuffer,re),Ae=A.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,fe=gt(A);Ne(A)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,fe,Y,A.width,A.height):V?t.renderbufferStorageMultisample(t.RENDERBUFFER,fe,Y,A.width,A.height):t.renderbufferStorage(t.RENDERBUFFER,Y,A.width,A.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ae,t.RENDERBUFFER,P)}else{const Z=A.textures;for(let re=0;re<Z.length;re++){const Y=Z[re],Ae=i.convert(Y.format,Y.colorSpace),fe=i.convert(Y.type),Pe=b(Y.internalFormat,Ae,fe,Y.colorSpace),Me=gt(A);V&&Ne(A)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Me,Pe,A.width,A.height):Ne(A)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Me,Pe,A.width,A.height):t.renderbufferStorage(t.RENDERBUFFER,Pe,A.width,A.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ce(P,A){if(A&&A.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,P),!(A.depthTexture&&A.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Z=r.get(A.depthTexture);Z.__renderTarget=A,(!Z.__webglTexture||A.depthTexture.image.width!==A.width||A.depthTexture.image.height!==A.height)&&(A.depthTexture.image.width=A.width,A.depthTexture.image.height=A.height,A.depthTexture.needsUpdate=!0),O(A.depthTexture,0);const re=Z.__webglTexture,Y=gt(A);if(A.depthTexture.format===Vc)Ne(A)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,re,0,Y):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,re,0);else if(A.depthTexture.format===Hc)Ne(A)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,re,0,Y):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,re,0);else throw new Error("Unknown depthTexture format")}function $e(P){const A=r.get(P),V=P.isWebGLCubeRenderTarget===!0;if(A.__boundDepthTexture!==P.depthTexture){const Z=P.depthTexture;if(A.__depthDisposeCallback&&A.__depthDisposeCallback(),Z){const re=()=>{delete A.__boundDepthTexture,delete A.__depthDisposeCallback,Z.removeEventListener("dispose",re)};Z.addEventListener("dispose",re),A.__depthDisposeCallback=re}A.__boundDepthTexture=Z}if(P.depthTexture&&!A.__autoAllocateDepthBuffer){if(V)throw new Error("target.depthTexture not supported in Cube render targets");const Z=P.texture.mipmaps;Z&&Z.length>0?Ce(A.__webglFramebuffer[0],P):Ce(A.__webglFramebuffer,P)}else if(V){A.__webglDepthbuffer=[];for(let Z=0;Z<6;Z++)if(n.bindFramebuffer(t.FRAMEBUFFER,A.__webglFramebuffer[Z]),A.__webglDepthbuffer[Z]===void 0)A.__webglDepthbuffer[Z]=t.createRenderbuffer(),Be(A.__webglDepthbuffer[Z],P,!1);else{const re=P.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Y=A.__webglDepthbuffer[Z];t.bindRenderbuffer(t.RENDERBUFFER,Y),t.framebufferRenderbuffer(t.FRAMEBUFFER,re,t.RENDERBUFFER,Y)}}else{const Z=P.texture.mipmaps;if(Z&&Z.length>0?n.bindFramebuffer(t.FRAMEBUFFER,A.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,A.__webglFramebuffer),A.__webglDepthbuffer===void 0)A.__webglDepthbuffer=t.createRenderbuffer(),Be(A.__webglDepthbuffer,P,!1);else{const re=P.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Y=A.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Y),t.framebufferRenderbuffer(t.FRAMEBUFFER,re,t.RENDERBUFFER,Y)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ft(P,A,V){const Z=r.get(P);A!==void 0&&xe(Z.__webglFramebuffer,P,P.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),V!==void 0&&$e(P)}function Ke(P){const A=P.texture,V=r.get(P),Z=r.get(A);P.addEventListener("dispose",T);const re=P.textures,Y=P.isWebGLCubeRenderTarget===!0,Ae=re.length>1;if(Ae||(Z.__webglTexture===void 0&&(Z.__webglTexture=t.createTexture()),Z.__version=A.version,a.memory.textures++),Y){V.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)if(A.mipmaps&&A.mipmaps.length>0){V.__webglFramebuffer[fe]=[];for(let Pe=0;Pe<A.mipmaps.length;Pe++)V.__webglFramebuffer[fe][Pe]=t.createFramebuffer()}else V.__webglFramebuffer[fe]=t.createFramebuffer()}else{if(A.mipmaps&&A.mipmaps.length>0){V.__webglFramebuffer=[];for(let fe=0;fe<A.mipmaps.length;fe++)V.__webglFramebuffer[fe]=t.createFramebuffer()}else V.__webglFramebuffer=t.createFramebuffer();if(Ae)for(let fe=0,Pe=re.length;fe<Pe;fe++){const Me=r.get(re[fe]);Me.__webglTexture===void 0&&(Me.__webglTexture=t.createTexture(),a.memory.textures++)}if(P.samples>0&&Ne(P)===!1){V.__webglMultisampledFramebuffer=t.createFramebuffer(),V.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,V.__webglMultisampledFramebuffer);for(let fe=0;fe<re.length;fe++){const Pe=re[fe];V.__webglColorRenderbuffer[fe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,V.__webglColorRenderbuffer[fe]);const Me=i.convert(Pe.format,Pe.colorSpace),se=i.convert(Pe.type),ce=b(Pe.internalFormat,Me,se,Pe.colorSpace,P.isXRRenderTarget===!0),Ue=gt(P);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ue,ce,P.width,P.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+fe,t.RENDERBUFFER,V.__webglColorRenderbuffer[fe])}t.bindRenderbuffer(t.RENDERBUFFER,null),P.depthBuffer&&(V.__webglDepthRenderbuffer=t.createRenderbuffer(),Be(V.__webglDepthRenderbuffer,P,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Y){n.bindTexture(t.TEXTURE_CUBE_MAP,Z.__webglTexture),le(t.TEXTURE_CUBE_MAP,A);for(let fe=0;fe<6;fe++)if(A.mipmaps&&A.mipmaps.length>0)for(let Pe=0;Pe<A.mipmaps.length;Pe++)xe(V.__webglFramebuffer[fe][Pe],P,A,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Pe);else xe(V.__webglFramebuffer[fe],P,A,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0);v(A)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ae){for(let fe=0,Pe=re.length;fe<Pe;fe++){const Me=re[fe],se=r.get(Me);let ce=t.TEXTURE_2D;(P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(ce=P.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ce,se.__webglTexture),le(ce,Me),xe(V.__webglFramebuffer,P,Me,t.COLOR_ATTACHMENT0+fe,ce,0),v(Me)&&m(ce)}n.unbindTexture()}else{let fe=t.TEXTURE_2D;if((P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(fe=P.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(fe,Z.__webglTexture),le(fe,A),A.mipmaps&&A.mipmaps.length>0)for(let Pe=0;Pe<A.mipmaps.length;Pe++)xe(V.__webglFramebuffer[Pe],P,A,t.COLOR_ATTACHMENT0,fe,Pe);else xe(V.__webglFramebuffer,P,A,t.COLOR_ATTACHMENT0,fe,0);v(A)&&m(fe),n.unbindTexture()}P.depthBuffer&&$e(P)}function Et(P){const A=P.textures;for(let V=0,Z=A.length;V<Z;V++){const re=A[V];if(v(re)){const Y=y(P),Ae=r.get(re).__webglTexture;n.bindTexture(Y,Ae),m(Y),n.unbindTexture()}}}const D=[],Ze=[];function et(P){if(P.samples>0){if(Ne(P)===!1){const A=P.textures,V=P.width,Z=P.height;let re=t.COLOR_BUFFER_BIT;const Y=P.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ae=r.get(P),fe=A.length>1;if(fe)for(let Me=0;Me<A.length;Me++)n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Me,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Me,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);const Pe=P.texture.mipmaps;Pe&&Pe.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer);for(let Me=0;Me<A.length;Me++){if(P.resolveDepthBuffer&&(P.depthBuffer&&(re|=t.DEPTH_BUFFER_BIT),P.stencilBuffer&&P.resolveStencilBuffer&&(re|=t.STENCIL_BUFFER_BIT)),fe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[Me]);const se=r.get(A[Me]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,se,0)}t.blitFramebuffer(0,0,V,Z,0,0,V,Z,re,t.NEAREST),c===!0&&(D.length=0,Ze.length=0,D.push(t.COLOR_ATTACHMENT0+Me),P.depthBuffer&&P.resolveDepthBuffer===!1&&(D.push(Y),Ze.push(Y),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ze)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,D))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),fe)for(let Me=0;Me<A.length;Me++){n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Me,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[Me]);const se=r.get(A[Me]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Me,t.TEXTURE_2D,se,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer)}else if(P.depthBuffer&&P.resolveDepthBuffer===!1&&c){const A=P.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[A])}}}function gt(P){return Math.min(s.maxSamples,P.samples)}function Ne(P){const A=r.get(P);return P.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&A.__useRenderToTexture!==!1}function Ct(P){const A=a.render.frame;d.get(P)!==A&&(d.set(P,A),P.update())}function Re(P,A){const V=P.colorSpace,Z=P.format,re=P.type;return P.isCompressedTexture===!0||P.isVideoTexture===!0||V!==Zo&&V!==ii&&(at.getTransfer(V)===ht?(Z!==Or||re!==Ls)&&Ge("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Ht("WebGLTextures: Unsupported texture color space:",V)),A}function He(P){return typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement?(u.width=P.naturalWidth||P.width,u.height=P.naturalHeight||P.height):typeof VideoFrame<"u"&&P instanceof VideoFrame?(u.width=P.displayWidth,u.height=P.displayHeight):(u.width=P.width,u.height=P.height),u}this.allocateTextureUnit=U,this.resetTextureUnits=k,this.setTexture2D=O,this.setTexture2DArray=H,this.setTexture3D=$,this.setTextureCube=L,this.rebindTextures=Ft,this.setupRenderTarget=Ke,this.updateRenderTargetMipmap=Et,this.updateMultisampleRenderTarget=et,this.setupDepthRenderbuffer=$e,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Ne}function jW(t,e){function n(r,s=ii){let i;const a=at.getTransfer(s);if(r===Ls)return t.UNSIGNED_BYTE;if(r===ty)return t.UNSIGNED_SHORT_4_4_4_4;if(r===ny)return t.UNSIGNED_SHORT_5_5_5_1;if(r===UT)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===FT)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===IT)return t.BYTE;if(r===OT)return t.SHORT;if(r===Bc)return t.UNSIGNED_SHORT;if(r===ey)return t.INT;if(r===Ea)return t.UNSIGNED_INT;if(r===ws)return t.FLOAT;if(r===pl)return t.HALF_FLOAT;if(r===BT)return t.ALPHA;if(r===zT)return t.RGB;if(r===Or)return t.RGBA;if(r===Vc)return t.DEPTH_COMPONENT;if(r===Hc)return t.DEPTH_STENCIL;if(r===VT)return t.RED;if(r===ry)return t.RED_INTEGER;if(r===sy)return t.RG;if(r===iy)return t.RG_INTEGER;if(r===ay)return t.RGBA_INTEGER;if(r===Bd||r===zd||r===Vd||r===Hd)if(a===ht)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(r===Bd)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===zd)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Vd)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Hd)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(r===Bd)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===zd)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Vd)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Hd)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===vg||r===yg||r===bg||r===_g)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(r===vg)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===yg)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===bg)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===_g)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===wg||r===Sg||r===Eg)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(r===wg||r===Sg)return a===ht?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(r===Eg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Ng||r===Cg||r===Tg||r===Mg||r===Ag||r===jg||r===Rg||r===Pg||r===kg||r===Dg||r===Lg||r===Ig||r===Og||r===Ug)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(r===Ng)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Cg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Tg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Mg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Ag)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===jg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Rg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Pg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===kg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Dg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Lg)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Ig)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Og)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Ug)return a===ht?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Fg||r===Bg||r===zg)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(r===Fg)return a===ht?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Bg)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===zg)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Vg||r===Hg||r===Gg||r===Wg)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(r===Vg)return i.COMPRESSED_RED_RGTC1_EXT;if(r===Hg)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Gg)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Wg)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===zc?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const RW=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,PW=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class kW{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new sM(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Os({vertexShader:RW,fragmentShader:PW,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ci(new Cf(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class DW extends ml{constructor(e,n){super();const r=this;let s=null,i=1,a=null,l="local-floor",c=1,u=null,d=null,h=null,f=null,p=null,x=null;const g=typeof XRWebGLBinding<"u",v=new kW,m={},y=n.getContextAttributes();let b=null,w=null;const S=[],E=[],T=new pt;let M=null;const C=new xr;C.viewport=new Gt;const N=new xr;N.viewport=new Gt;const j=[C,N],k=new Z7;let U=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let ee=S[J];return ee===void 0&&(ee=new gm,S[J]=ee),ee.getTargetRaySpace()},this.getControllerGrip=function(J){let ee=S[J];return ee===void 0&&(ee=new gm,S[J]=ee),ee.getGripSpace()},this.getHand=function(J){let ee=S[J];return ee===void 0&&(ee=new gm,S[J]=ee),ee.getHandSpace()};function O(J){const ee=E.indexOf(J.inputSource);if(ee===-1)return;const xe=S[ee];xe!==void 0&&(xe.update(J.inputSource,J.frame,u||a),xe.dispatchEvent({type:J.type,data:J.inputSource}))}function H(){s.removeEventListener("select",O),s.removeEventListener("selectstart",O),s.removeEventListener("selectend",O),s.removeEventListener("squeeze",O),s.removeEventListener("squeezestart",O),s.removeEventListener("squeezeend",O),s.removeEventListener("end",H),s.removeEventListener("inputsourceschange",$);for(let J=0;J<S.length;J++){const ee=E[J];ee!==null&&(E[J]=null,S[J].disconnect(ee))}U=null,G=null,v.reset();for(const J in m)delete m[J];e.setRenderTarget(b),p=null,f=null,h=null,s=null,w=null,rt.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){i=J,r.isPresenting===!0&&Ge("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){l=J,r.isPresenting===!0&&Ge("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(J){u=J},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return h===null&&g&&(h=new XRWebGLBinding(s,n)),h},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(J){if(s=J,s!==null){if(b=e.getRenderTarget(),s.addEventListener("select",O),s.addEventListener("selectstart",O),s.addEventListener("selectend",O),s.addEventListener("squeeze",O),s.addEventListener("squeezestart",O),s.addEventListener("squeezeend",O),s.addEventListener("end",H),s.addEventListener("inputsourceschange",$),y.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(T),g&&"createProjectionLayer"in XRWebGLBinding.prototype){let xe=null,Be=null,Ce=null;y.depth&&(Ce=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,xe=y.stencil?Hc:Vc,Be=y.stencil?zc:Ea);const $e={colorFormat:n.RGBA8,depthFormat:Ce,scaleFactor:i};h=this.getBinding(),f=h.createProjectionLayer($e),s.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),w=new Na(f.textureWidth,f.textureHeight,{format:Or,type:Ls,depthTexture:new rM(f.textureWidth,f.textureHeight,Be,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const xe={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:i};p=new XRWebGLLayer(s,n,xe),s.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),w=new Na(p.framebufferWidth,p.framebufferHeight,{format:Or,type:Ls,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await s.requestReferenceSpace(l),rt.setContext(s),rt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function $(J){for(let ee=0;ee<J.removed.length;ee++){const xe=J.removed[ee],Be=E.indexOf(xe);Be>=0&&(E[Be]=null,S[Be].disconnect(xe))}for(let ee=0;ee<J.added.length;ee++){const xe=J.added[ee];let Be=E.indexOf(xe);if(Be===-1){for(let $e=0;$e<S.length;$e++)if($e>=E.length){E.push(xe),Be=$e;break}else if(E[$e]===null){E[$e]=xe,Be=$e;break}if(Be===-1)break}const Ce=S[Be];Ce&&Ce.connect(xe)}}const L=new K,z=new K;function W(J,ee,xe){L.setFromMatrixPosition(ee.matrixWorld),z.setFromMatrixPosition(xe.matrixWorld);const Be=L.distanceTo(z),Ce=ee.projectionMatrix.elements,$e=xe.projectionMatrix.elements,Ft=Ce[14]/(Ce[10]-1),Ke=Ce[14]/(Ce[10]+1),Et=(Ce[9]+1)/Ce[5],D=(Ce[9]-1)/Ce[5],Ze=(Ce[8]-1)/Ce[0],et=($e[8]+1)/$e[0],gt=Ft*Ze,Ne=Ft*et,Ct=Be/(-Ze+et),Re=Ct*-Ze;if(ee.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Re),J.translateZ(Ct),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),Ce[10]===-1)J.projectionMatrix.copy(ee.projectionMatrix),J.projectionMatrixInverse.copy(ee.projectionMatrixInverse);else{const He=Ft+Ct,P=Ke+Ct,A=gt-Re,V=Ne+(Be-Re),Z=Et*Ke/P*He,re=D*Ke/P*He;J.projectionMatrix.makePerspective(A,V,Z,re,He,P),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function ne(J,ee){ee===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(ee.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(s===null)return;let ee=J.near,xe=J.far;v.texture!==null&&(v.depthNear>0&&(ee=v.depthNear),v.depthFar>0&&(xe=v.depthFar)),k.near=N.near=C.near=ee,k.far=N.far=C.far=xe,(U!==k.near||G!==k.far)&&(s.updateRenderState({depthNear:k.near,depthFar:k.far}),U=k.near,G=k.far),k.layers.mask=J.layers.mask|6,C.layers.mask=k.layers.mask&3,N.layers.mask=k.layers.mask&5;const Be=J.parent,Ce=k.cameras;ne(k,Be);for(let $e=0;$e<Ce.length;$e++)ne(Ce[$e],Be);Ce.length===2?W(k,C,N):k.projectionMatrix.copy(C.projectionMatrix),le(J,k,Be)};function le(J,ee,xe){xe===null?J.matrix.copy(ee.matrixWorld):(J.matrix.copy(xe.matrixWorld),J.matrix.invert(),J.matrix.multiply(ee.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(ee.projectionMatrix),J.projectionMatrixInverse.copy(ee.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=$g*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(f===null&&p===null))return c},this.setFoveation=function(J){c=J,f!==null&&(f.fixedFoveation=J),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=J)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(k)},this.getCameraTexture=function(J){return m[J]};let Ee=null;function We(J,ee){if(d=ee.getViewerPose(u||a),x=ee,d!==null){const xe=d.views;p!==null&&(e.setRenderTargetFramebuffer(w,p.framebuffer),e.setRenderTarget(w));let Be=!1;xe.length!==k.cameras.length&&(k.cameras.length=0,Be=!0);for(let Ke=0;Ke<xe.length;Ke++){const Et=xe[Ke];let D=null;if(p!==null)D=p.getViewport(Et);else{const et=h.getViewSubImage(f,Et);D=et.viewport,Ke===0&&(e.setRenderTargetTextures(w,et.colorTexture,et.depthStencilTexture),e.setRenderTarget(w))}let Ze=j[Ke];Ze===void 0&&(Ze=new xr,Ze.layers.enable(Ke),Ze.viewport=new Gt,j[Ke]=Ze),Ze.matrix.fromArray(Et.transform.matrix),Ze.matrix.decompose(Ze.position,Ze.quaternion,Ze.scale),Ze.projectionMatrix.fromArray(Et.projectionMatrix),Ze.projectionMatrixInverse.copy(Ze.projectionMatrix).invert(),Ze.viewport.set(D.x,D.y,D.width,D.height),Ke===0&&(k.matrix.copy(Ze.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),Be===!0&&k.cameras.push(Ze)}const Ce=s.enabledFeatures;if(Ce&&Ce.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&g){h=r.getBinding();const Ke=h.getDepthInformation(xe[0]);Ke&&Ke.isValid&&Ke.texture&&v.init(Ke,s.renderState)}if(Ce&&Ce.includes("camera-access")&&g){e.state.unbindTexture(),h=r.getBinding();for(let Ke=0;Ke<xe.length;Ke++){const Et=xe[Ke].camera;if(Et){let D=m[Et];D||(D=new sM,m[Et]=D);const Ze=h.getCameraImage(Et);D.sourceTexture=Ze}}}}for(let xe=0;xe<S.length;xe++){const Be=E[xe],Ce=S[xe];Be!==null&&Ce!==void 0&&Ce.update(Be,ee,u||a)}Ee&&Ee(J,ee),ee.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ee}),x=null}const rt=new iM;rt.setAnimationLoop(We),this.setAnimationLoop=function(J){Ee=J},this.dispose=function(){}}}const Xi=new Is,LW=new Yt;function IW(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function r(v,m){m.color.getRGB(v.fogColor.value,QT(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function s(v,m,y,b,w){m.isMeshBasicMaterial||m.isMeshLambertMaterial?i(v,m):m.isMeshToonMaterial?(i(v,m),h(v,m)):m.isMeshPhongMaterial?(i(v,m),d(v,m)):m.isMeshStandardMaterial?(i(v,m),f(v,m),m.isMeshPhysicalMaterial&&p(v,m,w)):m.isMeshMatcapMaterial?(i(v,m),x(v,m)):m.isMeshDepthMaterial?i(v,m):m.isMeshDistanceMaterial?(i(v,m),g(v,m)):m.isMeshNormalMaterial?i(v,m):m.isLineBasicMaterial?(a(v,m),m.isLineDashedMaterial&&l(v,m)):m.isPointsMaterial?c(v,m,y,b):m.isSpriteMaterial?u(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function i(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===Hn&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===Hn&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const y=e.get(m),b=y.envMap,w=y.envMapRotation;b&&(v.envMap.value=b,Xi.copy(w),Xi.x*=-1,Xi.y*=-1,Xi.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Xi.y*=-1,Xi.z*=-1),v.envMapRotation.value.setFromMatrix4(LW.makeRotationFromEuler(Xi)),v.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap&&(v.lightMap.value=m.lightMap,v.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,v.lightMapTransform)),m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function a(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function l(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function c(v,m,y,b){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*y,v.scale.value=b*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function d(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function h(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function f(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),m.envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function p(v,m,y){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Hn&&v.clearcoatNormalScale.value.negate())),m.dispersion>0&&(v.dispersion.value=m.dispersion),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function x(v,m){m.matcap&&(v.matcap.value=m.matcap)}function g(v,m){const y=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(y.matrixWorld),v.nearDistance.value=y.shadow.camera.near,v.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:s}}function OW(t,e,n,r){let s={},i={},a=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(y,b){const w=b.program;r.uniformBlockBinding(y,w)}function u(y,b){let w=s[y.id];w===void 0&&(x(y),w=d(y),s[y.id]=w,y.addEventListener("dispose",v));const S=b.program;r.updateUBOMapping(y,S);const E=e.render.frame;i[y.id]!==E&&(f(y),i[y.id]=E)}function d(y){const b=h();y.__bindingPointIndex=b;const w=t.createBuffer(),S=y.__size,E=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,S,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,w),w}function h(){for(let y=0;y<l;y++)if(a.indexOf(y)===-1)return a.push(y),y;return Ht("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=s[y.id],w=y.uniforms,S=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let E=0,T=w.length;E<T;E++){const M=Array.isArray(w[E])?w[E]:[w[E]];for(let C=0,N=M.length;C<N;C++){const j=M[C];if(p(j,E,C,S)===!0){const k=j.__offset,U=Array.isArray(j.value)?j.value:[j.value];let G=0;for(let O=0;O<U.length;O++){const H=U[O],$=g(H);typeof H=="number"||typeof H=="boolean"?(j.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,k+G,j.__data)):H.isMatrix3?(j.__data[0]=H.elements[0],j.__data[1]=H.elements[1],j.__data[2]=H.elements[2],j.__data[3]=0,j.__data[4]=H.elements[3],j.__data[5]=H.elements[4],j.__data[6]=H.elements[5],j.__data[7]=0,j.__data[8]=H.elements[6],j.__data[9]=H.elements[7],j.__data[10]=H.elements[8],j.__data[11]=0):(H.toArray(j.__data,G),G+=$.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,j.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(y,b,w,S){const E=y.value,T=b+"_"+w;if(S[T]===void 0)return typeof E=="number"||typeof E=="boolean"?S[T]=E:S[T]=E.clone(),!0;{const M=S[T];if(typeof E=="number"||typeof E=="boolean"){if(M!==E)return S[T]=E,!0}else if(M.equals(E)===!1)return M.copy(E),!0}return!1}function x(y){const b=y.uniforms;let w=0;const S=16;for(let T=0,M=b.length;T<M;T++){const C=Array.isArray(b[T])?b[T]:[b[T]];for(let N=0,j=C.length;N<j;N++){const k=C[N],U=Array.isArray(k.value)?k.value:[k.value];for(let G=0,O=U.length;G<O;G++){const H=U[G],$=g(H),L=w%S,z=L%$.boundary,W=L+z;w+=z,W!==0&&S-W<$.storage&&(w+=S-W),k.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=w,w+=$.storage}}}const E=w%S;return E>0&&(w+=S-E),y.__size=w,y.__cache={},this}function g(y){const b={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?Ge("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ge("WebGLRenderer: Unsupported uniform value type.",y),b}function v(y){const b=y.target;b.removeEventListener("dispose",v);const w=a.indexOf(b.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(s[b.id]),delete s[b.id],delete i[b.id]}function m(){for(const y in s)t.deleteBuffer(s[y]);a=[],s={},i={}}return{bind:c,update:u,dispose:m}}const UW=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let fs=null;function FW(){return fs===null&&(fs=new W7(UW,32,32,sy,pl),fs.minFilter=br,fs.magFilter=br,fs.wrapS=_s,fs.wrapT=_s,fs.generateMipmaps=!1,fs.needsUpdate=!0),fs}class BW{constructor(e={}){const{canvas:n=x7(),context:r=null,depth:s=!0,stencil:i=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=a;const x=new Set([ay,iy,ry]),g=new Set([Ls,Ea,Bc,zc,ty,ny]),v=new Uint32Array(4),m=new Int32Array(4);let y=null,b=null;const w=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=_i,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const E=this;let T=!1;this._outputColorSpace=pr;let M=0,C=0,N=null,j=-1,k=null;const U=new Gt,G=new Gt;let O=null;const H=new lt(0);let $=0,L=n.width,z=n.height,W=1,ne=null,le=null;const Ee=new Gt(0,0,L,z),We=new Gt(0,0,L,z);let rt=!1;const J=new tM;let ee=!1,xe=!1;const Be=new Yt,Ce=new K,$e=new Gt,Ft={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ke=!1;function Et(){return N===null?W:1}let D=r;function Ze(R,F){return n.getContext(R,F)}try{const R={alpha:!0,depth:s,stencil:i,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Zv}`),n.addEventListener("webglcontextlost",ae,!1),n.addEventListener("webglcontextrestored",te,!1),n.addEventListener("webglcontextcreationerror",we,!1),D===null){const F="webgl2";if(D=Ze(F,R),D===null)throw Ze(F)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(R){throw R("WebGLRenderer: "+R.message),R}let et,gt,Ne,Ct,Re,He,P,A,V,Z,re,Y,Ae,fe,Pe,Me,se,ce,Ue,De,ge,ze,I,pe;function ue(){et=new XH(D),et.init(),ze=new jW(D,et),gt=new FH(D,et,e,ze),Ne=new MW(D,et),gt.reversedDepthBuffer&&f&&Ne.buffers.depth.setReversed(!0),Ct=new JH(D),Re=new mW,He=new AW(D,et,Ne,Re,gt,ze,Ct),P=new zH(E),A=new qH(E),V=new tz(D),I=new OH(D,V),Z=new KH(D,V,Ct,I),re=new ZH(D,Z,V,Ct),Ue=new QH(D,gt,He),Me=new BH(Re),Y=new pW(E,P,A,et,gt,I,Me),Ae=new IW(E,Re),fe=new xW,Pe=new SW(et),ce=new IH(E,P,A,Ne,re,p,c),se=new CW(E,re,gt),pe=new OW(D,Ct,gt,Ne),De=new UH(D,et,Ct),ge=new YH(D,et,Ct),Ct.programs=Y.programs,E.capabilities=gt,E.extensions=et,E.properties=Re,E.renderLists=fe,E.shadowMap=se,E.state=Ne,E.info=Ct}ue();const de=new DW(E,D);this.xr=de,this.getContext=function(){return D},this.getContextAttributes=function(){return D.getContextAttributes()},this.forceContextLoss=function(){const R=et.get("WEBGL_lose_context");R&&R.loseContext()},this.forceContextRestore=function(){const R=et.get("WEBGL_lose_context");R&&R.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(R){R!==void 0&&(W=R,this.setSize(L,z,!1))},this.getSize=function(R){return R.set(L,z)},this.setSize=function(R,F,q=!0){if(de.isPresenting){Ge("WebGLRenderer: Can't change size while VR device is presenting.");return}L=R,z=F,n.width=Math.floor(R*W),n.height=Math.floor(F*W),q===!0&&(n.style.width=R+"px",n.style.height=F+"px"),this.setViewport(0,0,R,F)},this.getDrawingBufferSize=function(R){return R.set(L*W,z*W).floor()},this.setDrawingBufferSize=function(R,F,q){L=R,z=F,W=q,n.width=Math.floor(R*q),n.height=Math.floor(F*q),this.setViewport(0,0,R,F)},this.getCurrentViewport=function(R){return R.copy(U)},this.getViewport=function(R){return R.copy(Ee)},this.setViewport=function(R,F,q,X){R.isVector4?Ee.set(R.x,R.y,R.z,R.w):Ee.set(R,F,q,X),Ne.viewport(U.copy(Ee).multiplyScalar(W).round())},this.getScissor=function(R){return R.copy(We)},this.setScissor=function(R,F,q,X){R.isVector4?We.set(R.x,R.y,R.z,R.w):We.set(R,F,q,X),Ne.scissor(G.copy(We).multiplyScalar(W).round())},this.getScissorTest=function(){return rt},this.setScissorTest=function(R){Ne.setScissorTest(rt=R)},this.setOpaqueSort=function(R){ne=R},this.setTransparentSort=function(R){le=R},this.getClearColor=function(R){return R.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor(...arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha(...arguments)},this.clear=function(R=!0,F=!0,q=!0){let X=0;if(R){let B=!1;if(N!==null){const oe=N.texture.format;B=x.has(oe)}if(B){const oe=N.texture.type,me=g.has(oe),Se=ce.getClearColor(),ye=ce.getClearAlpha(),Oe=Se.r,Fe=Se.g,je=Se.b;me?(v[0]=Oe,v[1]=Fe,v[2]=je,v[3]=ye,D.clearBufferuiv(D.COLOR,0,v)):(m[0]=Oe,m[1]=Fe,m[2]=je,m[3]=ye,D.clearBufferiv(D.COLOR,0,m))}else X|=D.COLOR_BUFFER_BIT}F&&(X|=D.DEPTH_BUFFER_BIT),q&&(X|=D.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),D.clear(X)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ae,!1),n.removeEventListener("webglcontextrestored",te,!1),n.removeEventListener("webglcontextcreationerror",we,!1),ce.dispose(),fe.dispose(),Pe.dispose(),Re.dispose(),P.dispose(),A.dispose(),re.dispose(),I.dispose(),pe.dispose(),Y.dispose(),de.dispose(),de.removeEventListener("sessionstart",cy),de.removeEventListener("sessionend",uy),Oi.stop()};function ae(R){R.preventDefault(),_1("WebGLRenderer: Context Lost."),T=!0}function te(){_1("WebGLRenderer: Context Restored."),T=!1;const R=Ct.autoReset,F=se.enabled,q=se.autoUpdate,X=se.needsUpdate,B=se.type;ue(),Ct.autoReset=R,se.enabled=F,se.autoUpdate=q,se.needsUpdate=X,se.type=B}function we(R){Ht("WebGLRenderer: A WebGL context could not be created. Reason: ",R.statusMessage)}function Ve(R){const F=R.target;F.removeEventListener("dispose",Ve),yt(F)}function yt(R){ut(R),Re.remove(R)}function ut(R){const F=Re.get(R).programs;F!==void 0&&(F.forEach(function(q){Y.releaseProgram(q)}),R.isShaderMaterial&&Y.releaseShaderCache(R))}this.renderBufferDirect=function(R,F,q,X,B,oe){F===null&&(F=Ft);const me=B.isMesh&&B.matrixWorld.determinant()<0,Se=dM(R,F,q,X,B);Ne.setMaterial(X,me);let ye=q.index,Oe=1;if(X.wireframe===!0){if(ye=Z.getWireframeAttribute(q),ye===void 0)return;Oe=2}const Fe=q.drawRange,je=q.attributes.position;let tt=Fe.start*Oe,dt=(Fe.start+Fe.count)*Oe;oe!==null&&(tt=Math.max(tt,oe.start*Oe),dt=Math.min(dt,(oe.start+oe.count)*Oe)),ye!==null?(tt=Math.max(tt,0),dt=Math.min(dt,ye.count)):je!=null&&(tt=Math.max(tt,0),dt=Math.min(dt,je.count));const Lt=dt-tt;if(Lt<0||Lt===1/0)return;I.setup(B,X,Se,q,ye);let It,mt=De;if(ye!==null&&(It=V.get(ye),mt=ge,mt.setIndex(It)),B.isMesh)X.wireframe===!0?(Ne.setLineWidth(X.wireframeLinewidth*Et()),mt.setMode(D.LINES)):mt.setMode(D.TRIANGLES);else if(B.isLine){let ke=X.linewidth;ke===void 0&&(ke=1),Ne.setLineWidth(ke*Et()),B.isLineSegments?mt.setMode(D.LINES):B.isLineLoop?mt.setMode(D.LINE_LOOP):mt.setMode(D.LINE_STRIP)}else B.isPoints?mt.setMode(D.POINTS):B.isSprite&&mt.setMode(D.TRIANGLES);if(B.isBatchedMesh)if(B._multiDrawInstances!==null)Gc("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),mt.renderMultiDrawInstances(B._multiDrawStarts,B._multiDrawCounts,B._multiDrawCount,B._multiDrawInstances);else if(et.get("WEBGL_multi_draw"))mt.renderMultiDraw(B._multiDrawStarts,B._multiDrawCounts,B._multiDrawCount);else{const ke=B._multiDrawStarts,Tt=B._multiDrawCounts,it=B._multiDrawCount,$n=ye?V.get(ye).bytesPerElement:1,ka=Re.get(X).currentProgram.getUniforms();for(let qn=0;qn<it;qn++)ka.setValue(D,"_gl_DrawID",qn),mt.render(ke[qn]/$n,Tt[qn])}else if(B.isInstancedMesh)mt.renderInstances(tt,Lt,B.count);else if(q.isInstancedBufferGeometry){const ke=q._maxInstanceCount!==void 0?q._maxInstanceCount:1/0,Tt=Math.min(q.instanceCount,ke);mt.renderInstances(tt,Lt,Tt)}else mt.render(tt,Lt)};function Gr(R,F,q){R.transparent===!0&&R.side===vs&&R.forceSinglePass===!1?(R.side=Hn,R.needsUpdate=!0,uu(R,F,q),R.side=Ni,R.needsUpdate=!0,uu(R,F,q),R.side=vs):uu(R,F,q)}this.compile=function(R,F,q=null){q===null&&(q=R),b=Pe.get(q),b.init(F),S.push(b),q.traverseVisible(function(B){B.isLight&&B.layers.test(F.layers)&&(b.pushLight(B),B.castShadow&&b.pushShadow(B))}),R!==q&&R.traverseVisible(function(B){B.isLight&&B.layers.test(F.layers)&&(b.pushLight(B),B.castShadow&&b.pushShadow(B))}),b.setupLights();const X=new Set;return R.traverse(function(B){if(!(B.isMesh||B.isPoints||B.isLine||B.isSprite))return;const oe=B.material;if(oe)if(Array.isArray(oe))for(let me=0;me<oe.length;me++){const Se=oe[me];Gr(Se,q,B),X.add(Se)}else Gr(oe,q,B),X.add(oe)}),b=S.pop(),X},this.compileAsync=function(R,F,q=null){const X=this.compile(R,F,q);return new Promise(B=>{function oe(){if(X.forEach(function(me){Re.get(me).currentProgram.isReady()&&X.delete(me)}),X.size===0){B(R);return}setTimeout(oe,10)}et.get("KHR_parallel_shader_compile")!==null?oe():setTimeout(oe,10)})};let Er=null;function uM(R){Er&&Er(R)}function cy(){Oi.stop()}function uy(){Oi.start()}const Oi=new iM;Oi.setAnimationLoop(uM),typeof self<"u"&&Oi.setContext(self),this.setAnimationLoop=function(R){Er=R,de.setAnimationLoop(R),R===null?Oi.stop():Oi.start()},de.addEventListener("sessionstart",cy),de.addEventListener("sessionend",uy),this.render=function(R,F){if(F!==void 0&&F.isCamera!==!0){Ht("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(R.matrixWorldAutoUpdate===!0&&R.updateMatrixWorld(),F.parent===null&&F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),de.enabled===!0&&de.isPresenting===!0&&(de.cameraAutoUpdate===!0&&de.updateCamera(F),F=de.getCamera()),R.isScene===!0&&R.onBeforeRender(E,R,F,N),b=Pe.get(R,S.length),b.init(F),S.push(b),Be.multiplyMatrices(F.projectionMatrix,F.matrixWorldInverse),J.setFromProjectionMatrix(Be,Yr,F.reversedDepth),xe=this.localClippingEnabled,ee=Me.init(this.clippingPlanes,xe),y=fe.get(R,w.length),y.init(),w.push(y),de.enabled===!0&&de.isPresenting===!0){const oe=E.xr.getDepthSensingMesh();oe!==null&&Af(oe,F,-1/0,E.sortObjects)}Af(R,F,0,E.sortObjects),y.finish(),E.sortObjects===!0&&y.sort(ne,le),Ke=de.enabled===!1||de.isPresenting===!1||de.hasDepthSensing()===!1,Ke&&ce.addToRenderList(y,R),this.info.render.frame++,ee===!0&&Me.beginShadows();const q=b.state.shadowsArray;se.render(q,R,F),ee===!0&&Me.endShadows(),this.info.autoReset===!0&&this.info.reset();const X=y.opaque,B=y.transmissive;if(b.setupLights(),F.isArrayCamera){const oe=F.cameras;if(B.length>0)for(let me=0,Se=oe.length;me<Se;me++){const ye=oe[me];hy(X,B,R,ye)}Ke&&ce.render(R);for(let me=0,Se=oe.length;me<Se;me++){const ye=oe[me];dy(y,R,ye,ye.viewport)}}else B.length>0&&hy(X,B,R,F),Ke&&ce.render(R),dy(y,R,F);N!==null&&C===0&&(He.updateMultisampleRenderTarget(N),He.updateRenderTargetMipmap(N)),R.isScene===!0&&R.onAfterRender(E,R,F),I.resetDefaultState(),j=-1,k=null,S.pop(),S.length>0?(b=S[S.length-1],ee===!0&&Me.setGlobalState(E.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?y=w[w.length-1]:y=null};function Af(R,F,q,X){if(R.visible===!1)return;if(R.layers.test(F.layers)){if(R.isGroup)q=R.renderOrder;else if(R.isLOD)R.autoUpdate===!0&&R.update(F);else if(R.isLight)b.pushLight(R),R.castShadow&&b.pushShadow(R);else if(R.isSprite){if(!R.frustumCulled||J.intersectsSprite(R)){X&&$e.setFromMatrixPosition(R.matrixWorld).applyMatrix4(Be);const me=re.update(R),Se=R.material;Se.visible&&y.push(R,me,Se,q,$e.z,null)}}else if((R.isMesh||R.isLine||R.isPoints)&&(!R.frustumCulled||J.intersectsObject(R))){const me=re.update(R),Se=R.material;if(X&&(R.boundingSphere!==void 0?(R.boundingSphere===null&&R.computeBoundingSphere(),$e.copy(R.boundingSphere.center)):(me.boundingSphere===null&&me.computeBoundingSphere(),$e.copy(me.boundingSphere.center)),$e.applyMatrix4(R.matrixWorld).applyMatrix4(Be)),Array.isArray(Se)){const ye=me.groups;for(let Oe=0,Fe=ye.length;Oe<Fe;Oe++){const je=ye[Oe],tt=Se[je.materialIndex];tt&&tt.visible&&y.push(R,me,tt,q,$e.z,je)}}else Se.visible&&y.push(R,me,Se,q,$e.z,null)}}const oe=R.children;for(let me=0,Se=oe.length;me<Se;me++)Af(oe[me],F,q,X)}function dy(R,F,q,X){const{opaque:B,transmissive:oe,transparent:me}=R;b.setupLightsView(q),ee===!0&&Me.setGlobalState(E.clippingPlanes,q),X&&Ne.viewport(U.copy(X)),B.length>0&&cu(B,F,q),oe.length>0&&cu(oe,F,q),me.length>0&&cu(me,F,q),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function hy(R,F,q,X){if((q.isScene===!0?q.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[X.id]===void 0&&(b.state.transmissionRenderTarget[X.id]=new Na(1,1,{generateMipmaps:!0,type:et.has("EXT_color_buffer_half_float")||et.has("EXT_color_buffer_float")?pl:Ls,minFilter:ha,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:at.workingColorSpace}));const oe=b.state.transmissionRenderTarget[X.id],me=X.viewport||U;oe.setSize(me.z*E.transmissionResolutionScale,me.w*E.transmissionResolutionScale);const Se=E.getRenderTarget(),ye=E.getActiveCubeFace(),Oe=E.getActiveMipmapLevel();E.setRenderTarget(oe),E.getClearColor(H),$=E.getClearAlpha(),$<1&&E.setClearColor(16777215,.5),E.clear(),Ke&&ce.render(q);const Fe=E.toneMapping;E.toneMapping=_i;const je=X.viewport;if(X.viewport!==void 0&&(X.viewport=void 0),b.setupLightsView(X),ee===!0&&Me.setGlobalState(E.clippingPlanes,X),cu(R,q,X),He.updateMultisampleRenderTarget(oe),He.updateRenderTargetMipmap(oe),et.has("WEBGL_multisampled_render_to_texture")===!1){let tt=!1;for(let dt=0,Lt=F.length;dt<Lt;dt++){const It=F[dt],{object:mt,geometry:ke,material:Tt,group:it}=It;if(Tt.side===vs&&mt.layers.test(X.layers)){const $n=Tt.side;Tt.side=Hn,Tt.needsUpdate=!0,fy(mt,q,X,ke,Tt,it),Tt.side=$n,Tt.needsUpdate=!0,tt=!0}}tt===!0&&(He.updateMultisampleRenderTarget(oe),He.updateRenderTargetMipmap(oe))}E.setRenderTarget(Se,ye,Oe),E.setClearColor(H,$),je!==void 0&&(X.viewport=je),E.toneMapping=Fe}function cu(R,F,q){const X=F.isScene===!0?F.overrideMaterial:null;for(let B=0,oe=R.length;B<oe;B++){const me=R[B],{object:Se,geometry:ye,group:Oe}=me;let Fe=me.material;Fe.allowOverride===!0&&X!==null&&(Fe=X),Se.layers.test(q.layers)&&fy(Se,F,q,ye,Fe,Oe)}}function fy(R,F,q,X,B,oe){R.onBeforeRender(E,F,q,X,B,oe),R.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,R.matrixWorld),R.normalMatrix.getNormalMatrix(R.modelViewMatrix),B.onBeforeRender(E,F,q,X,R,oe),B.transparent===!0&&B.side===vs&&B.forceSinglePass===!1?(B.side=Hn,B.needsUpdate=!0,E.renderBufferDirect(q,F,X,B,R,oe),B.side=Ni,B.needsUpdate=!0,E.renderBufferDirect(q,F,X,B,R,oe),B.side=vs):E.renderBufferDirect(q,F,X,B,R,oe),R.onAfterRender(E,F,q,X,B,oe)}function uu(R,F,q){F.isScene!==!0&&(F=Ft);const X=Re.get(R),B=b.state.lights,oe=b.state.shadowsArray,me=B.state.version,Se=Y.getParameters(R,B.state,oe,F,q),ye=Y.getProgramCacheKey(Se);let Oe=X.programs;X.environment=R.isMeshStandardMaterial?F.environment:null,X.fog=F.fog,X.envMap=(R.isMeshStandardMaterial?A:P).get(R.envMap||X.environment),X.envMapRotation=X.environment!==null&&R.envMap===null?F.environmentRotation:R.envMapRotation,Oe===void 0&&(R.addEventListener("dispose",Ve),Oe=new Map,X.programs=Oe);let Fe=Oe.get(ye);if(Fe!==void 0){if(X.currentProgram===Fe&&X.lightsStateVersion===me)return my(R,Se),Fe}else Se.uniforms=Y.getUniforms(R),R.onBeforeCompile(Se,E),Fe=Y.acquireProgram(Se,ye),Oe.set(ye,Fe),X.uniforms=Se.uniforms;const je=X.uniforms;return(!R.isShaderMaterial&&!R.isRawShaderMaterial||R.clipping===!0)&&(je.clippingPlanes=Me.uniform),my(R,Se),X.needsLights=fM(R),X.lightsStateVersion=me,X.needsLights&&(je.ambientLightColor.value=B.state.ambient,je.lightProbe.value=B.state.probe,je.directionalLights.value=B.state.directional,je.directionalLightShadows.value=B.state.directionalShadow,je.spotLights.value=B.state.spot,je.spotLightShadows.value=B.state.spotShadow,je.rectAreaLights.value=B.state.rectArea,je.ltc_1.value=B.state.rectAreaLTC1,je.ltc_2.value=B.state.rectAreaLTC2,je.pointLights.value=B.state.point,je.pointLightShadows.value=B.state.pointShadow,je.hemisphereLights.value=B.state.hemi,je.directionalShadowMap.value=B.state.directionalShadowMap,je.directionalShadowMatrix.value=B.state.directionalShadowMatrix,je.spotShadowMap.value=B.state.spotShadowMap,je.spotLightMatrix.value=B.state.spotLightMatrix,je.spotLightMap.value=B.state.spotLightMap,je.pointShadowMap.value=B.state.pointShadowMap,je.pointShadowMatrix.value=B.state.pointShadowMatrix),X.currentProgram=Fe,X.uniformsList=null,Fe}function py(R){if(R.uniformsList===null){const F=R.currentProgram.getUniforms();R.uniformsList=Gd.seqWithValue(F.seq,R.uniforms)}return R.uniformsList}function my(R,F){const q=Re.get(R);q.outputColorSpace=F.outputColorSpace,q.batching=F.batching,q.batchingColor=F.batchingColor,q.instancing=F.instancing,q.instancingColor=F.instancingColor,q.instancingMorph=F.instancingMorph,q.skinning=F.skinning,q.morphTargets=F.morphTargets,q.morphNormals=F.morphNormals,q.morphColors=F.morphColors,q.morphTargetsCount=F.morphTargetsCount,q.numClippingPlanes=F.numClippingPlanes,q.numIntersection=F.numClipIntersection,q.vertexAlphas=F.vertexAlphas,q.vertexTangents=F.vertexTangents,q.toneMapping=F.toneMapping}function dM(R,F,q,X,B){F.isScene!==!0&&(F=Ft),He.resetTextureUnits();const oe=F.fog,me=X.isMeshStandardMaterial?F.environment:null,Se=N===null?E.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Zo,ye=(X.isMeshStandardMaterial?A:P).get(X.envMap||me),Oe=X.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,Fe=!!q.attributes.tangent&&(!!X.normalMap||X.anisotropy>0),je=!!q.morphAttributes.position,tt=!!q.morphAttributes.normal,dt=!!q.morphAttributes.color;let Lt=_i;X.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(Lt=E.toneMapping);const It=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,mt=It!==void 0?It.length:0,ke=Re.get(X),Tt=b.state.lights;if(ee===!0&&(xe===!0||R!==k)){const wn=R===k&&X.id===j;Me.setState(X,R,wn)}let it=!1;X.version===ke.__version?(ke.needsLights&&ke.lightsStateVersion!==Tt.state.version||ke.outputColorSpace!==Se||B.isBatchedMesh&&ke.batching===!1||!B.isBatchedMesh&&ke.batching===!0||B.isBatchedMesh&&ke.batchingColor===!0&&B.colorTexture===null||B.isBatchedMesh&&ke.batchingColor===!1&&B.colorTexture!==null||B.isInstancedMesh&&ke.instancing===!1||!B.isInstancedMesh&&ke.instancing===!0||B.isSkinnedMesh&&ke.skinning===!1||!B.isSkinnedMesh&&ke.skinning===!0||B.isInstancedMesh&&ke.instancingColor===!0&&B.instanceColor===null||B.isInstancedMesh&&ke.instancingColor===!1&&B.instanceColor!==null||B.isInstancedMesh&&ke.instancingMorph===!0&&B.morphTexture===null||B.isInstancedMesh&&ke.instancingMorph===!1&&B.morphTexture!==null||ke.envMap!==ye||X.fog===!0&&ke.fog!==oe||ke.numClippingPlanes!==void 0&&(ke.numClippingPlanes!==Me.numPlanes||ke.numIntersection!==Me.numIntersection)||ke.vertexAlphas!==Oe||ke.vertexTangents!==Fe||ke.morphTargets!==je||ke.morphNormals!==tt||ke.morphColors!==dt||ke.toneMapping!==Lt||ke.morphTargetsCount!==mt)&&(it=!0):(it=!0,ke.__version=X.version);let $n=ke.currentProgram;it===!0&&($n=uu(X,F,B));let ka=!1,qn=!1,xl=!1;const Mt=$n.getUniforms(),kn=ke.uniforms;if(Ne.useProgram($n.program)&&(ka=!0,qn=!0,xl=!0),X.id!==j&&(j=X.id,qn=!0),ka||k!==R){Ne.buffers.depth.getReversed()&&R.reversedDepth!==!0&&(R._reversedDepth=!0,R.updateProjectionMatrix()),Mt.setValue(D,"projectionMatrix",R.projectionMatrix),Mt.setValue(D,"viewMatrix",R.matrixWorldInverse);const Dn=Mt.map.cameraPosition;Dn!==void 0&&Dn.setValue(D,Ce.setFromMatrixPosition(R.matrixWorld)),gt.logarithmicDepthBuffer&&Mt.setValue(D,"logDepthBufFC",2/(Math.log(R.far+1)/Math.LN2)),(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial)&&Mt.setValue(D,"isOrthographic",R.isOrthographicCamera===!0),k!==R&&(k=R,qn=!0,xl=!0)}if(B.isSkinnedMesh){Mt.setOptional(D,B,"bindMatrix"),Mt.setOptional(D,B,"bindMatrixInverse");const wn=B.skeleton;wn&&(wn.boneTexture===null&&wn.computeBoneTexture(),Mt.setValue(D,"boneTexture",wn.boneTexture,He))}B.isBatchedMesh&&(Mt.setOptional(D,B,"batchingTexture"),Mt.setValue(D,"batchingTexture",B._matricesTexture,He),Mt.setOptional(D,B,"batchingIdTexture"),Mt.setValue(D,"batchingIdTexture",B._indirectTexture,He),Mt.setOptional(D,B,"batchingColorTexture"),B._colorsTexture!==null&&Mt.setValue(D,"batchingColorTexture",B._colorsTexture,He));const ur=q.morphAttributes;if((ur.position!==void 0||ur.normal!==void 0||ur.color!==void 0)&&Ue.update(B,q,$n),(qn||ke.receiveShadow!==B.receiveShadow)&&(ke.receiveShadow=B.receiveShadow,Mt.setValue(D,"receiveShadow",B.receiveShadow)),X.isMeshGouraudMaterial&&X.envMap!==null&&(kn.envMap.value=ye,kn.flipEnvMap.value=ye.isCubeTexture&&ye.isRenderTargetTexture===!1?-1:1),X.isMeshStandardMaterial&&X.envMap===null&&F.environment!==null&&(kn.envMapIntensity.value=F.environmentIntensity),kn.dfgLUT!==void 0&&(kn.dfgLUT.value=FW()),qn&&(Mt.setValue(D,"toneMappingExposure",E.toneMappingExposure),ke.needsLights&&hM(kn,xl),oe&&X.fog===!0&&Ae.refreshFogUniforms(kn,oe),Ae.refreshMaterialUniforms(kn,X,W,z,b.state.transmissionRenderTarget[R.id]),Gd.upload(D,py(ke),kn,He)),X.isShaderMaterial&&X.uniformsNeedUpdate===!0&&(Gd.upload(D,py(ke),kn,He),X.uniformsNeedUpdate=!1),X.isSpriteMaterial&&Mt.setValue(D,"center",B.center),Mt.setValue(D,"modelViewMatrix",B.modelViewMatrix),Mt.setValue(D,"normalMatrix",B.normalMatrix),Mt.setValue(D,"modelMatrix",B.matrixWorld),X.isShaderMaterial||X.isRawShaderMaterial){const wn=X.uniformsGroups;for(let Dn=0,jf=wn.length;Dn<jf;Dn++){const Ui=wn[Dn];pe.update(Ui,$n),pe.bind(Ui,$n)}}return $n}function hM(R,F){R.ambientLightColor.needsUpdate=F,R.lightProbe.needsUpdate=F,R.directionalLights.needsUpdate=F,R.directionalLightShadows.needsUpdate=F,R.pointLights.needsUpdate=F,R.pointLightShadows.needsUpdate=F,R.spotLights.needsUpdate=F,R.spotLightShadows.needsUpdate=F,R.rectAreaLights.needsUpdate=F,R.hemisphereLights.needsUpdate=F}function fM(R){return R.isMeshLambertMaterial||R.isMeshToonMaterial||R.isMeshPhongMaterial||R.isMeshStandardMaterial||R.isShadowMaterial||R.isShaderMaterial&&R.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(R,F,q){const X=Re.get(R);X.__autoAllocateDepthBuffer=R.resolveDepthBuffer===!1,X.__autoAllocateDepthBuffer===!1&&(X.__useRenderToTexture=!1),Re.get(R.texture).__webglTexture=F,Re.get(R.depthTexture).__webglTexture=X.__autoAllocateDepthBuffer?void 0:q,X.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(R,F){const q=Re.get(R);q.__webglFramebuffer=F,q.__useDefaultFramebuffer=F===void 0};const pM=D.createFramebuffer();this.setRenderTarget=function(R,F=0,q=0){N=R,M=F,C=q;let X=!0,B=null,oe=!1,me=!1;if(R){const ye=Re.get(R);if(ye.__useDefaultFramebuffer!==void 0)Ne.bindFramebuffer(D.FRAMEBUFFER,null),X=!1;else if(ye.__webglFramebuffer===void 0)He.setupRenderTarget(R);else if(ye.__hasExternalTextures)He.rebindTextures(R,Re.get(R.texture).__webglTexture,Re.get(R.depthTexture).__webglTexture);else if(R.depthBuffer){const je=R.depthTexture;if(ye.__boundDepthTexture!==je){if(je!==null&&Re.has(je)&&(R.width!==je.image.width||R.height!==je.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");He.setupDepthRenderbuffer(R)}}const Oe=R.texture;(Oe.isData3DTexture||Oe.isDataArrayTexture||Oe.isCompressedArrayTexture)&&(me=!0);const Fe=Re.get(R).__webglFramebuffer;R.isWebGLCubeRenderTarget?(Array.isArray(Fe[F])?B=Fe[F][q]:B=Fe[F],oe=!0):R.samples>0&&He.useMultisampledRTT(R)===!1?B=Re.get(R).__webglMultisampledFramebuffer:Array.isArray(Fe)?B=Fe[q]:B=Fe,U.copy(R.viewport),G.copy(R.scissor),O=R.scissorTest}else U.copy(Ee).multiplyScalar(W).floor(),G.copy(We).multiplyScalar(W).floor(),O=rt;if(q!==0&&(B=pM),Ne.bindFramebuffer(D.FRAMEBUFFER,B)&&X&&Ne.drawBuffers(R,B),Ne.viewport(U),Ne.scissor(G),Ne.setScissorTest(O),oe){const ye=Re.get(R.texture);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+F,ye.__webglTexture,q)}else if(me){const ye=F;for(let Oe=0;Oe<R.textures.length;Oe++){const Fe=Re.get(R.textures[Oe]);D.framebufferTextureLayer(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0+Oe,Fe.__webglTexture,q,ye)}}else if(R!==null&&q!==0){const ye=Re.get(R.texture);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,ye.__webglTexture,q)}j=-1},this.readRenderTargetPixels=function(R,F,q,X,B,oe,me,Se=0){if(!(R&&R.isWebGLRenderTarget)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ye=Re.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&me!==void 0&&(ye=ye[me]),ye){Ne.bindFramebuffer(D.FRAMEBUFFER,ye);try{const Oe=R.textures[Se],Fe=Oe.format,je=Oe.type;if(!gt.textureFormatReadable(Fe)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!gt.textureTypeReadable(je)){Ht("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}F>=0&&F<=R.width-X&&q>=0&&q<=R.height-B&&(R.textures.length>1&&D.readBuffer(D.COLOR_ATTACHMENT0+Se),D.readPixels(F,q,X,B,ze.convert(Fe),ze.convert(je),oe))}finally{const Oe=N!==null?Re.get(N).__webglFramebuffer:null;Ne.bindFramebuffer(D.FRAMEBUFFER,Oe)}}},this.readRenderTargetPixelsAsync=async function(R,F,q,X,B,oe,me,Se=0){if(!(R&&R.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ye=Re.get(R).__webglFramebuffer;if(R.isWebGLCubeRenderTarget&&me!==void 0&&(ye=ye[me]),ye)if(F>=0&&F<=R.width-X&&q>=0&&q<=R.height-B){Ne.bindFramebuffer(D.FRAMEBUFFER,ye);const Oe=R.textures[Se],Fe=Oe.format,je=Oe.type;if(!gt.textureFormatReadable(Fe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!gt.textureTypeReadable(je))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const tt=D.createBuffer();D.bindBuffer(D.PIXEL_PACK_BUFFER,tt),D.bufferData(D.PIXEL_PACK_BUFFER,oe.byteLength,D.STREAM_READ),R.textures.length>1&&D.readBuffer(D.COLOR_ATTACHMENT0+Se),D.readPixels(F,q,X,B,ze.convert(Fe),ze.convert(je),0);const dt=N!==null?Re.get(N).__webglFramebuffer:null;Ne.bindFramebuffer(D.FRAMEBUFFER,dt);const Lt=D.fenceSync(D.SYNC_GPU_COMMANDS_COMPLETE,0);return D.flush(),await v7(D,Lt,4),D.bindBuffer(D.PIXEL_PACK_BUFFER,tt),D.getBufferSubData(D.PIXEL_PACK_BUFFER,0,oe),D.deleteBuffer(tt),D.deleteSync(Lt),oe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(R,F=null,q=0){const X=Math.pow(2,-q),B=Math.floor(R.image.width*X),oe=Math.floor(R.image.height*X),me=F!==null?F.x:0,Se=F!==null?F.y:0;He.setTexture2D(R,0),D.copyTexSubImage2D(D.TEXTURE_2D,q,0,0,me,Se,B,oe),Ne.unbindTexture()};const mM=D.createFramebuffer(),gM=D.createFramebuffer();this.copyTextureToTexture=function(R,F,q=null,X=null,B=0,oe=null){oe===null&&(B!==0?(Gc("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),oe=B,B=0):oe=0);let me,Se,ye,Oe,Fe,je,tt,dt,Lt;const It=R.isCompressedTexture?R.mipmaps[oe]:R.image;if(q!==null)me=q.max.x-q.min.x,Se=q.max.y-q.min.y,ye=q.isBox3?q.max.z-q.min.z:1,Oe=q.min.x,Fe=q.min.y,je=q.isBox3?q.min.z:0;else{const ur=Math.pow(2,-B);me=Math.floor(It.width*ur),Se=Math.floor(It.height*ur),R.isDataArrayTexture?ye=It.depth:R.isData3DTexture?ye=Math.floor(It.depth*ur):ye=1,Oe=0,Fe=0,je=0}X!==null?(tt=X.x,dt=X.y,Lt=X.z):(tt=0,dt=0,Lt=0);const mt=ze.convert(F.format),ke=ze.convert(F.type);let Tt;F.isData3DTexture?(He.setTexture3D(F,0),Tt=D.TEXTURE_3D):F.isDataArrayTexture||F.isCompressedArrayTexture?(He.setTexture2DArray(F,0),Tt=D.TEXTURE_2D_ARRAY):(He.setTexture2D(F,0),Tt=D.TEXTURE_2D),D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,F.flipY),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),D.pixelStorei(D.UNPACK_ALIGNMENT,F.unpackAlignment);const it=D.getParameter(D.UNPACK_ROW_LENGTH),$n=D.getParameter(D.UNPACK_IMAGE_HEIGHT),ka=D.getParameter(D.UNPACK_SKIP_PIXELS),qn=D.getParameter(D.UNPACK_SKIP_ROWS),xl=D.getParameter(D.UNPACK_SKIP_IMAGES);D.pixelStorei(D.UNPACK_ROW_LENGTH,It.width),D.pixelStorei(D.UNPACK_IMAGE_HEIGHT,It.height),D.pixelStorei(D.UNPACK_SKIP_PIXELS,Oe),D.pixelStorei(D.UNPACK_SKIP_ROWS,Fe),D.pixelStorei(D.UNPACK_SKIP_IMAGES,je);const Mt=R.isDataArrayTexture||R.isData3DTexture,kn=F.isDataArrayTexture||F.isData3DTexture;if(R.isDepthTexture){const ur=Re.get(R),wn=Re.get(F),Dn=Re.get(ur.__renderTarget),jf=Re.get(wn.__renderTarget);Ne.bindFramebuffer(D.READ_FRAMEBUFFER,Dn.__webglFramebuffer),Ne.bindFramebuffer(D.DRAW_FRAMEBUFFER,jf.__webglFramebuffer);for(let Ui=0;Ui<ye;Ui++)Mt&&(D.framebufferTextureLayer(D.READ_FRAMEBUFFER,D.COLOR_ATTACHMENT0,Re.get(R).__webglTexture,B,je+Ui),D.framebufferTextureLayer(D.DRAW_FRAMEBUFFER,D.COLOR_ATTACHMENT0,Re.get(F).__webglTexture,oe,Lt+Ui)),D.blitFramebuffer(Oe,Fe,me,Se,tt,dt,me,Se,D.DEPTH_BUFFER_BIT,D.NEAREST);Ne.bindFramebuffer(D.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(D.DRAW_FRAMEBUFFER,null)}else if(B!==0||R.isRenderTargetTexture||Re.has(R)){const ur=Re.get(R),wn=Re.get(F);Ne.bindFramebuffer(D.READ_FRAMEBUFFER,mM),Ne.bindFramebuffer(D.DRAW_FRAMEBUFFER,gM);for(let Dn=0;Dn<ye;Dn++)Mt?D.framebufferTextureLayer(D.READ_FRAMEBUFFER,D.COLOR_ATTACHMENT0,ur.__webglTexture,B,je+Dn):D.framebufferTexture2D(D.READ_FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,ur.__webglTexture,B),kn?D.framebufferTextureLayer(D.DRAW_FRAMEBUFFER,D.COLOR_ATTACHMENT0,wn.__webglTexture,oe,Lt+Dn):D.framebufferTexture2D(D.DRAW_FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,wn.__webglTexture,oe),B!==0?D.blitFramebuffer(Oe,Fe,me,Se,tt,dt,me,Se,D.COLOR_BUFFER_BIT,D.NEAREST):kn?D.copyTexSubImage3D(Tt,oe,tt,dt,Lt+Dn,Oe,Fe,me,Se):D.copyTexSubImage2D(Tt,oe,tt,dt,Oe,Fe,me,Se);Ne.bindFramebuffer(D.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(D.DRAW_FRAMEBUFFER,null)}else kn?R.isDataTexture||R.isData3DTexture?D.texSubImage3D(Tt,oe,tt,dt,Lt,me,Se,ye,mt,ke,It.data):F.isCompressedArrayTexture?D.compressedTexSubImage3D(Tt,oe,tt,dt,Lt,me,Se,ye,mt,It.data):D.texSubImage3D(Tt,oe,tt,dt,Lt,me,Se,ye,mt,ke,It):R.isDataTexture?D.texSubImage2D(D.TEXTURE_2D,oe,tt,dt,me,Se,mt,ke,It.data):R.isCompressedTexture?D.compressedTexSubImage2D(D.TEXTURE_2D,oe,tt,dt,It.width,It.height,mt,It.data):D.texSubImage2D(D.TEXTURE_2D,oe,tt,dt,me,Se,mt,ke,It);D.pixelStorei(D.UNPACK_ROW_LENGTH,it),D.pixelStorei(D.UNPACK_IMAGE_HEIGHT,$n),D.pixelStorei(D.UNPACK_SKIP_PIXELS,ka),D.pixelStorei(D.UNPACK_SKIP_ROWS,qn),D.pixelStorei(D.UNPACK_SKIP_IMAGES,xl),oe===0&&F.generateMipmaps&&D.generateMipmap(Tt),Ne.unbindTexture()},this.initRenderTarget=function(R){Re.get(R).__webglFramebuffer===void 0&&He.setupRenderTarget(R)},this.initTexture=function(R){R.isCubeTexture?He.setTextureCube(R,0):R.isData3DTexture?He.setTexture3D(R,0):R.isDataArrayTexture||R.isCompressedArrayTexture?He.setTexture2DArray(R,0):He.setTexture2D(R,0),Ne.unbindTexture()},this.resetState=function(){M=0,C=0,N=null,Ne.reset(),I.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Yr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=at._getDrawingBufferColorSpace(e),n.unpackColorSpace=at._getUnpackColorSpace()}}function zW({className:t,...e}){const n=_.useRef(null),r=_.useRef(null);return _.useEffect(()=>{if(!n.current)return;const s=150,i=40,a=60,l=new G7,c=16776176;l.fog=new ly(c,2e3,1e4);const u=new xr(60,window.innerWidth/window.innerHeight,1,1e4);u.position.set(0,355,1220);const d=new BW({alpha:!0,antialias:!0});d.setPixelRatio(window.devicePixelRatio),d.setSize(window.innerWidth,window.innerHeight),d.setClearColor(l.fog.color,1),n.current.appendChild(d.domElement);const h=[],f=[],p=new as;for(let T=0;T<i;T++)for(let M=0;M<a;M++){const C=T*s-i*s/2,N=0,j=M*s-a*s/2;h.push(C,N,j),f.push(0,0,0)}p.setAttribute("position",new Ms(h,3)),p.setAttribute("color",new Ms(f,3));const x=document.createElement("canvas");x.width=32,x.height=32;const g=x.getContext("2d");g&&(g.beginPath(),g.arc(16,16,16,0,2*Math.PI),g.fillStyle="white",g.fill());const v=new K7(x),m=new nM({size:12,map:v,vertexColors:!0,transparent:!1,opacity:1,sizeAttenuation:!0}),y=new F1(p,m);l.add(y);let b=0,w=0;const S=()=>{w=requestAnimationFrame(S);const T=p.attributes.position,M=T.array;let C=0;for(let N=0;N<i;N++)for(let j=0;j<a;j++){const k=C*3;M[k+1]=Math.sin((N+b)*.3)*50+Math.sin((j+b)*.5)*50,C++}T.needsUpdate=!0,d.render(l,u),b+=.05},E=()=>{u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",E),S(),r.current={scene:l,camera:u,renderer:d,particles:[y],animationId:w,count:b},()=>{window.removeEventListener("resize",E),r.current&&(cancelAnimationFrame(r.current.animationId),r.current.scene.traverse(T=>{T instanceof F1&&(T.geometry.dispose(),Array.isArray(T.material)?T.material.forEach(M=>M.dispose()):T.material.dispose())}),r.current.renderer.dispose(),n.current&&r.current.renderer.domElement&&n.current.removeChild(r.current.renderer.domElement))}},[]),o.jsx("div",{ref:n,className:en("pointer-events-none fixed inset-0 -z-10 bg-[#FFFBF0]",t),...e})}function VW(){_.useEffect(()=>{const t=n=>{const r="!@#$%^&*()_+-=[]{}|;:,.<>?/~`";return n.split("").map(()=>r[Math.floor(Math.random()*r.length)]).join("")},e=n=>{n.preventDefault();const r=window.getSelection();if(r){const s=r.toString(),i=t(s);n.clipboardData&&n.clipboardData.setData("text/plain",i)}};return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}},[])}function dS(){const t=Fs();return t.pathname.startsWith("/admin")?o.jsxs(Rb,{location:t,children:[o.jsx(At,{path:"/admin",element:o.jsx(c9,{})}),o.jsx(At,{path:"/admin/dashboard",element:o.jsx(pB,{})}),o.jsx(At,{path:"/admin/event/:eventId",element:o.jsx(NB,{})}),o.jsx(At,{path:"/admin/event/:eventId/scanner",element:o.jsx(TB,{})}),o.jsx(At,{path:"/admin/attendance-scanner",element:o.jsx(yB,{})}),o.jsx(At,{path:"/admin/qr-scanner",element:o.jsx(SB,{})}),o.jsx(At,{path:"/admin/nfc-attendance",element:o.jsx(_B,{})}),o.jsx(At,{path:"/admin/nfc-links",element:o.jsx(MB,{})})]}):o.jsx(Aa,{mode:"wait",children:o.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.22,1,.36,1]},children:o.jsxs(Rb,{location:t,children:[o.jsx(At,{path:"/",element:o.jsx(hU,{})}),o.jsx(At,{path:"/about",element:o.jsx(NU,{})}),o.jsx(At,{path:"/why-join",element:o.jsx(LU,{})}),o.jsx(At,{path:"/team",element:o.jsx(kU,{})}),o.jsx(At,{path:"/team/:id",element:o.jsx(IU,{})}),o.jsx(At,{path:"/team/alumni",element:o.jsx(FU,{})}),o.jsx(At,{path:"/events",element:o.jsx(G8,{})}),o.jsx(At,{path:"/blog",element:o.jsx(X8,{})}),o.jsx(At,{path:"/blog/:id",element:o.jsx(K8,{})}),o.jsx(At,{path:"/gallery",element:o.jsx(e9,{})}),o.jsx(At,{path:"/contact",element:o.jsx(o9,{})}),o.jsx(At,{path:"/nfc/:id",element:o.jsx(l9,{})}),o.jsx(At,{path:"/event-register/:formId",element:o.jsx(mB,{})}),o.jsx(At,{path:"/unsubscribe",element:o.jsx(xB,{})})]})},t.pathname)})}function HW(){return VW(),Fs().pathname.startsWith("/admin")?o.jsx(dS,{}):o.jsxs(o.Fragment,{children:[o.jsx(RL,{}),o.jsx(WO,{}),o.jsx(qO,{}),o.jsx(jL,{}),o.jsxs("div",{className:"min-h-screen text-gray-900 relative",children:[o.jsx(zW,{}),o.jsx(ML,{}),o.jsx(NL,{}),o.jsx(dS,{}),o.jsx(TL,{})]})]})}Sm.createRoot(document.getElementById("root")).render(o.jsx(Lo.StrictMode,{children:o.jsx(VR,{children:o.jsx(HW,{})})}));
